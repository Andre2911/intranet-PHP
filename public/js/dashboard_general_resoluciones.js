/*! For license information please see dashboard_general_resoluciones.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[452],{9742:(t,e)=>{"use strict";e.byteLength=function(t){var e=l(t),i=e[0],n=e[1];return 3*(i+n)/4-n},e.toByteArray=function(t){var e,i,o=l(t),s=o[0],a=o[1],h=new r(function(t,e,i){return 3*(e+i)/4-i}(0,s,a)),u=0,c=a>0?s-4:s;for(i=0;i<c;i+=4)e=n[t.charCodeAt(i)]<<18|n[t.charCodeAt(i+1)]<<12|n[t.charCodeAt(i+2)]<<6|n[t.charCodeAt(i+3)],h[u++]=e>>16&255,h[u++]=e>>8&255,h[u++]=255&e;2===a&&(e=n[t.charCodeAt(i)]<<2|n[t.charCodeAt(i+1)]>>4,h[u++]=255&e);1===a&&(e=n[t.charCodeAt(i)]<<10|n[t.charCodeAt(i+1)]<<4|n[t.charCodeAt(i+2)]>>2,h[u++]=e>>8&255,h[u++]=255&e);return h},e.fromByteArray=function(t){for(var e,n=t.length,r=n%3,o=[],s=16383,a=0,l=n-r;a<l;a+=s)o.push(h(t,a,a+s>l?l:a+s));1===r?(e=t[n-1],o.push(i[e>>2]+i[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],o.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"="));return o.join("")};for(var i=[],n=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)i[s]=o[s],n[o.charCodeAt(s)]=s;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=e),[i,i===e?0:4-i%4]}function h(t,e,n){for(var r,o,s=[],a=e;a<n;a+=3)r=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(i[(o=r)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},8764:(t,e,i)=>{"use strict";var n=i(9742),r=i(645),o=i(5826);function s(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=l.prototype:(null===t&&(t=new l(e)),t.length=e),t}function l(t,e,i){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(t,e,i);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return h(this,t,e,i)}function h(t,e,i,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,i,n){if(e.byteLength,i<0||e.byteLength<i)throw new RangeError("'offset' is out of bounds");if(e.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===i&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,i):new Uint8Array(e,i,n);l.TYPED_ARRAY_SUPPORT?(t=e).__proto__=l.prototype:t=d(t,e);return t}(t,e,i,n):"string"==typeof e?function(t,e,i){"string"==typeof i&&""!==i||(i="utf8");if(!l.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(e,i),r=(t=a(t,n)).write(e,i);r!==n&&(t=t.slice(0,r));return t}(t,e,i):function(t,e){if(l.isBuffer(e)){var i=0|f(e.length);return 0===(t=a(t,i)).length||e.copy(t,0,0,i),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?a(t,0):d(t,e);if("Buffer"===e.type&&o(e.data))return d(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function c(t,e){if(u(e),t=a(t,e<0?0:0|f(e)),!l.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function d(t,e){var i=e.length<0?0:0|f(e.length);t=a(t,i);for(var n=0;n<i;n+=1)t[n]=255&e[n];return t}function f(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function p(t,e){if(l.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return H(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return V(t).length;default:if(n)return H(t).length;e=(""+e).toLowerCase(),n=!0}}function g(t,e,i){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return A(this,e,i);case"utf8":case"utf-8":return E(this,e,i);case"ascii":return T(this,e,i);case"latin1":case"binary":return P(this,e,i);case"base64":return S(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,i);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function _(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function m(t,e,i,n,r){if(0===t.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=r?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(r)return-1;i=t.length-1}else if(i<0){if(!r)return-1;i=0}if("string"==typeof e&&(e=l.from(e,n)),l.isBuffer(e))return 0===e.length?-1:w(t,e,i,n,r);if("number"==typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):w(t,[e],i,n,r);throw new TypeError("val must be string, number or Buffer")}function w(t,e,i,n,r){var o,s=1,a=t.length,l=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,l/=2,i/=2}function h(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(r){var u=-1;for(o=i;o<a;o++)if(h(t,o)===h(e,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*s}else-1!==u&&(o-=o-u),u=-1}else for(i+l>a&&(i=a-l),o=i;o>=0;o--){for(var c=!0,d=0;d<l;d++)if(h(t,o+d)!==h(e,d)){c=!1;break}if(c)return o}return-1}function b(t,e,i,n){i=Number(i)||0;var r=t.length-i;n?(n=Number(n))>r&&(n=r):n=r;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[i+s]=a}return s}function v(t,e,i,n){return U(H(e,t.length-i),t,i,n)}function y(t,e,i,n){return U(function(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,i,n)}function x(t,e,i,n){return y(t,e,i,n)}function C(t,e,i,n){return U(V(e),t,i,n)}function j(t,e,i,n){return U(function(t,e){for(var i,n,r,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=(i=t.charCodeAt(s))>>8,r=i%256,o.push(r),o.push(n);return o}(e,t.length-i),t,i,n)}function S(t,e,i){return 0===e&&i===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,i))}function E(t,e,i){i=Math.min(t.length,i);for(var n=[],r=e;r<i;){var o,s,a,l,h=t[r],u=null,c=h>239?4:h>223?3:h>191?2:1;if(r+c<=i)switch(c){case 1:h<128&&(u=h);break;case 2:128==(192&(o=t[r+1]))&&(l=(31&h)<<6|63&o)>127&&(u=l);break;case 3:o=t[r+1],s=t[r+2],128==(192&o)&&128==(192&s)&&(l=(15&h)<<12|(63&o)<<6|63&s)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=t[r+1],s=t[r+2],a=t[r+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(l=(15&h)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(u=l)}null===u?(u=65533,c=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),r+=c}return function(t){var e=t.length;if(e<=k)return String.fromCharCode.apply(String,t);var i="",n=0;for(;n<e;)i+=String.fromCharCode.apply(String,t.slice(n,n+=k));return i}(n)}e.lW=l,e.h2=50,l.TYPED_ARRAY_SUPPORT=void 0!==i.g.TYPED_ARRAY_SUPPORT?i.g.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),s(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,e,i){return h(null,t,e,i)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,e,i){return function(t,e,i,n){return u(e),e<=0?a(t,e):void 0!==i?"string"==typeof n?a(t,e).fill(i,n):a(t,e).fill(i):a(t,e)}(null,t,e,i)},l.allocUnsafe=function(t){return c(null,t)},l.allocUnsafeSlow=function(t){return c(null,t)},l.isBuffer=function(t){return!(null==t||!t._isBuffer)},l.compare=function(t,e){if(!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var i=t.length,n=e.length,r=0,o=Math.min(i,n);r<o;++r)if(t[r]!==e[r]){i=t[r],n=e[r];break}return i<n?-1:n<i?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var n=l.allocUnsafe(e),r=0;for(i=0;i<t.length;++i){var s=t[i];if(!l.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,r),r+=s.length}return n},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)_(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)_(this,e,e+3),_(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)_(this,e,e+7),_(this,e+1,e+6),_(this,e+2,e+5),_(this,e+3,e+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?E(this,0,t):g.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",i=e.h2;return this.length>0&&(t=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,e,i,n,r){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),e<0||i>t.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&e>=i)return 0;if(n>=r)return-1;if(e>=i)return 1;if(this===t)return 0;for(var o=(r>>>=0)-(n>>>=0),s=(i>>>=0)-(e>>>=0),a=Math.min(o,s),h=this.slice(n,r),u=t.slice(e,i),c=0;c<a;++c)if(h[c]!==u[c]){o=h[c],s=u[c];break}return o<s?-1:s<o?1:0},l.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},l.prototype.indexOf=function(t,e,i){return m(this,t,e,i,!0)},l.prototype.lastIndexOf=function(t,e,i){return m(this,t,e,i,!1)},l.prototype.write=function(t,e,i,n){if(void 0===e)n="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)n=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var r=this.length-e;if((void 0===i||i>r)&&(i=r),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return b(this,t,e,i);case"utf8":case"utf-8":return v(this,t,e,i);case"ascii":return y(this,t,e,i);case"latin1":case"binary":return x(this,t,e,i);case"base64":return C(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,e,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function T(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(127&t[r]);return n}function P(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(t[r]);return n}function A(t,e,i){var n=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>n)&&(i=n);for(var r="",o=e;o<i;++o)r+=B(t[o]);return r}function R(t,e,i){for(var n=t.slice(e,i),r="",o=0;o<n.length;o+=2)r+=String.fromCharCode(n[o]+256*n[o+1]);return r}function O(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function D(t,e,i,n,r,o){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(i+n>t.length)throw new RangeError("Index out of range")}function I(t,e,i,n){e<0&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-i,2);r<o;++r)t[i+r]=(e&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}function M(t,e,i,n){e<0&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-i,4);r<o;++r)t[i+r]=e>>>8*(n?r:3-r)&255}function F(t,e,i,n,r,o){if(i+n>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function L(t,e,i,n,o){return o||F(t,0,i,4),r.write(t,e,i,n,23,4),i+4}function N(t,e,i,n,o){return o||F(t,0,i,8),r.write(t,e,i,n,52,8),i+8}l.prototype.slice=function(t,e){var i,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),l.TYPED_ARRAY_SUPPORT)(i=this.subarray(t,e)).__proto__=l.prototype;else{var r=e-t;i=new l(r,void 0);for(var o=0;o<r;++o)i[o]=this[o+t]}return i},l.prototype.readUIntLE=function(t,e,i){t|=0,e|=0,i||O(t,e,this.length);for(var n=this[t],r=1,o=0;++o<e&&(r*=256);)n+=this[t+o]*r;return n},l.prototype.readUIntBE=function(t,e,i){t|=0,e|=0,i||O(t,e,this.length);for(var n=this[t+--e],r=1;e>0&&(r*=256);)n+=this[t+--e]*r;return n},l.prototype.readUInt8=function(t,e){return e||O(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return e||O(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return e||O(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return e||O(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return e||O(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,i){t|=0,e|=0,i||O(t,e,this.length);for(var n=this[t],r=1,o=0;++o<e&&(r*=256);)n+=this[t+o]*r;return n>=(r*=128)&&(n-=Math.pow(2,8*e)),n},l.prototype.readIntBE=function(t,e,i){t|=0,e|=0,i||O(t,e,this.length);for(var n=e,r=1,o=this[t+--n];n>0&&(r*=256);)o+=this[t+--n]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*e)),o},l.prototype.readInt8=function(t,e){return e||O(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){e||O(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt16BE=function(t,e){e||O(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt32LE=function(t,e){return e||O(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return e||O(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return e||O(t,4,this.length),r.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||O(t,4,this.length),r.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||O(t,8,this.length),r.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return e||O(t,8,this.length),r.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,i,n){(t=+t,e|=0,i|=0,n)||D(this,t,e,i,Math.pow(2,8*i)-1,0);var r=1,o=0;for(this[e]=255&t;++o<i&&(r*=256);)this[e+o]=t/r&255;return e+i},l.prototype.writeUIntBE=function(t,e,i,n){(t=+t,e|=0,i|=0,n)||D(this,t,e,i,Math.pow(2,8*i)-1,0);var r=i-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+i},l.prototype.writeUInt8=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},l.prototype.writeUInt16BE=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):M(this,t,e,!0),e+4},l.prototype.writeUInt32BE=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},l.prototype.writeIntLE=function(t,e,i,n){if(t=+t,e|=0,!n){var r=Math.pow(2,8*i-1);D(this,t,e,i,r-1,-r)}var o=0,s=1,a=0;for(this[e]=255&t;++o<i&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+i},l.prototype.writeIntBE=function(t,e,i,n){if(t=+t,e|=0,!n){var r=Math.pow(2,8*i-1);D(this,t,e,i,r-1,-r)}var o=i-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+i},l.prototype.writeInt8=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},l.prototype.writeInt16BE=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},l.prototype.writeInt32LE=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):M(this,t,e,!0),e+4},l.prototype.writeInt32BE=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},l.prototype.writeFloatLE=function(t,e,i){return L(this,t,e,!0,i)},l.prototype.writeFloatBE=function(t,e,i){return L(this,t,e,!1,i)},l.prototype.writeDoubleLE=function(t,e,i){return N(this,t,e,!0,i)},l.prototype.writeDoubleBE=function(t,e,i){return N(this,t,e,!1,i)},l.prototype.copy=function(t,e,i,n){if(i||(i=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-i&&(n=t.length-e+i);var r,o=n-i;if(this===t&&i<e&&e<n)for(r=o-1;r>=0;--r)t[r+e]=this[r+i];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)t[r+e]=this[r+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+o),e);return o},l.prototype.fill=function(t,e,i,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;var o;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(o=e;o<i;++o)this[o]=t;else{var s=l.isBuffer(t)?t:H(new l(t,n).toString()),a=s.length;for(o=0;o<i-e;++o)this[o+e]=s[o%a]}return this};var z=/[^+\/0-9A-Za-z-_]/g;function B(t){return t<16?"0"+t.toString(16):t.toString(16)}function H(t,e){var i;e=e||1/0;for(var n=t.length,r=null,o=[],s=0;s<n;++s){if((i=t.charCodeAt(s))>55295&&i<57344){if(!r){if(i>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}r=i;continue}if(i<56320){(e-=3)>-1&&o.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,i<128){if((e-=1)<0)break;o.push(i)}else if(i<2048){if((e-=2)<0)break;o.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;o.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return o}function V(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(z,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function U(t,e,i,n){for(var r=0;r<n&&!(r+i>=e.length||r>=t.length);++r)e[r+i]=t[r];return r}},62:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});var n=i(3645),r=i.n(n)()((function(t){return t[1]}));r.push([t.id,'/*!\n    *\n    * Wijmo Library 5.20221.842\n    * http://wijmo.com/\n    *\n    * Copyright(c) GrapeCity, Inc.  All rights reserved.\n    *\n    * Licensed under the GrapeCity Commercial License.\n    * sales@wijmo.com\n    * wijmo.com/products/wijmo-5/license/\n    *\n    */.wj-glyph,.wj-glyph-asterisk,.wj-glyph-calendar,.wj-glyph-check,.wj-glyph-circle,.wj-glyph-clipboard,.wj-glyph-clock,.wj-glyph-diamond,.wj-glyph-dimension,.wj-glyph-down,.wj-glyph-down-left,.wj-glyph-down-right,.wj-glyph-drag,.wj-glyph-file,.wj-glyph-filter,.wj-glyph-left,.wj-glyph-measure,.wj-glyph-minus,.wj-glyph-pencil,.wj-glyph-pin,.wj-glyph-plus,.wj-glyph-right,.wj-glyph-square,.wj-glyph-step-backward,.wj-glyph-step-forward,.wj-glyph-up,.wj-glyph-up-left,.wj-glyph-up-right{box-sizing:border-box;cursor:pointer;display:inline-block;opacity:.75;position:relative;text-align:center;white-space:normal}.wj-glyph-asterisk:after{content:"\\2731\\fe0e"}.wj-glyph-calendar{border:.1em solid;border-top:.3em solid;height:1em;top:.15em;width:1em}.wj-glyph-calendar:after{border-right:.1em solid;border-top:.07em solid;content:" ";height:.4em;left:.3em;opacity:.7;position:absolute;top:.1em;width:.2em}.wj-glyph-check:after{content:"\\2714\\fe0e";font-weight:700}.wj-glyph-circle{border:.3em solid;border-radius:50%;top:-.1em}.wj-glyph-clipboard:after{content:"\\1f4cb\\fe0e"}.wj-glyph-clock{border:.1em solid;border-radius:50%;height:1em;top:.15em;width:1em}.wj-glyph-clock:after{border-bottom:.1em solid;border-left:.1em solid;content:" ";height:.3em;left:.35em;position:absolute;top:.2em;width:.25em}.wj-glyph-diamond:after{content:"\\25c6\\fe0e"}.wj-glyph-dimension:after{content:"\\27c0\\fe0e"}.wj-glyph-down{border-left:.4em solid transparent;border-right:.4em solid transparent;border-top:.5em solid}.wj-glyph-down-left{border-left:.65em solid;border-top:.65em solid transparent}.wj-glyph-down-right{border-bottom:.65em solid;border-left:.65em solid transparent;top:-2px}.wj-glyph-drag{height:1em;width:1em}.wj-glyph-drag:after{background:radial-gradient(#000 1px,transparent 2px);background-size:.33em .33em;content:" ";height:1em;left:.1em;position:absolute;top:.15em;width:1em}.wj-glyph-file{border-left:.7em solid;height:.85em}.wj-glyph-file:after{border-left:.3em solid #fff;border-top:.3em solid transparent;content:" ";position:absolute;transform:translateX(-100%)}.wj-glyph-left{border-bottom:.4em solid transparent;border-right:.5em solid;border-top:.4em solid transparent;top:1px}.wj-glyph-measure:after{content:"\\1f4ca\\fe0e"}.wj-glyph-pin{border-top:.6em solid;left:.1em;top:-.1em;width:.4em}.wj-glyph-pin:before{border-left:.7em solid;content:" ";height:.1em;left:-.15em;position:absolute;top:-.1em}.wj-glyph-pin:after{border-left:.15em solid;content:" ";height:.5em;left:.15em;position:absolute;top:-.1em}.wj-glyph-minus,.wj-glyph-plus{border-top:.25em solid;top:-.3em;width:.9em}.wj-glyph-plus:after{border-left:.25em solid;box-sizing:border-box;content:" ";height:.95em;left:.33em;position:absolute;top:-.6em;width:.25em}.wj-glyph-pencil:after{content:"\\270e\\fe0e"}.wj-glyph-right{border-bottom:.4em solid transparent;border-left:.5em solid;border-top:.4em solid transparent;top:1px}.wj-glyph-square{border:.25em solid}.wj-glyph-step-backward{border-bottom:.4em solid transparent;border-right:.5em solid;border-top:.4em solid transparent;top:.12em}.wj-glyph-step-backward:after{border-left:.2em solid;content:" ";height:.75em;position:absolute;transform:translate(-100%,-50%)}[dir=rtl] .wj-glyph-step-backward:after{transform:translateY(-50%)}.wj-glyph-step-forward{border-bottom:.4em solid transparent;border-left:.5em solid;border-top:.4em solid transparent}.wj-glyph-step-forward:after{border-left:.2em solid;content:" ";height:.75em;position:absolute;transform:translateY(-50%)}[dir=rtl] .wj-glyph-step-forward:after{transform:translate(100%,-50%)}.wj-glyph-up{border-bottom:.5em solid;border-left:.4em solid transparent;border-right:.4em solid transparent}.wj-glyph-up-left{border-bottom:.65em solid transparent;border-left:.65em solid}.wj-glyph-up-right{border-left:.65em solid transparent;border-top:.65em solid}.wj-glyph-filter{border-left:.4em solid transparent;border-right:.4em solid transparent;border-top:.5em solid;top:-.1em;width:.5em}.wj-glyph-filter:after{border-left:.25em solid;content:" ";height:.4em;left:-.125em;position:absolute;top:-.2em}.wj-control{background:#fff;box-sizing:border-box;color:#000;display:block;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.wj-control *{box-sizing:inherit}.wj-control [contenteditable]{user-select:text;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text}.wj-control :focus,.wj-control a:focus,.wj-control:focus{outline:0}.wj-control input::-ms-clear{display:none}.wj-control input:-ms-input-placeholder{opacity:.7}.wj-control input[type=number]::-webkit-inner-spin-button,.wj-control input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.wj-control input:invalid{box-shadow:none;outline:0}.wj-control .wj-btn,.wj-viewer .wj-control .wj-applybutton{background:#eee;border-style:none;color:#000;cursor:pointer;display:inline-block;min-width:30px;padding:0 10px;text-align:center;white-space:nowrap}.wj-control .wj-btn:focus,.wj-control .wj-btn:hover,.wj-viewer .wj-control .wj-applybutton:focus,.wj-viewer .wj-control .wj-applybutton:hover{background:#e1e1e1;transition-duration:.4s}.wj-control .wj-btn.wj-state-active,.wj-viewer .wj-control .wj-state-active.wj-applybutton{background:#d5d5d5}.wj-control .wj-btn[disabled],.wj-viewer .wj-control .wj-applybutton[disabled]{cursor:default;opacity:.6;pointer-events:none}.wj-control a.wj-btn,.wj-control button.wj-btn:not(.wj-btn-default),.wj-viewer .wj-control a.wj-applybutton,.wj-viewer .wj-control button.wj-applybutton:not(.wj-btn-default){border-radius:4px;font-size:12px;font-weight:700;padding:6px 15px;text-decoration:none}.wj-header{background:#eee;color:#444;font-weight:700}.wj-state-multi-selected{background:#80adbf;color:#fff}.wj-state-last-selected,.wj-state-selected{background:#0085c7;color:#fff}.wj-state-disabled:not(.wj-popup){cursor:default;opacity:.6;pointer-events:none}.wj-content{display:inline-block;overflow:hidden}.wj-content,.wj-tooltip{border:1px solid rgba(0,0,0,.2);border-radius:4px}.wj-tooltip{background:#fff;box-shadow:0 6px 13px rgba(0,0,0,.2);box-sizing:border-box;color:#000;max-width:400px;padding:4px 6px 3px;pointer-events:none;position:absolute;word-break:break-word;-ms-word-break:break-all}.wj-tooltip.wj-error-tip{background:red;color:#fff;font-weight:700;white-space:pre-line}.wj-dropdown-panel{box-shadow:0 6px 13px rgba(0,0,0,.2);pointer-events:auto}.wj-content.wj-calendar-outer,.wj-content.wj-dropdown,.wj-content.wj-inputmask,.wj-content.wj-inputnumber,.wj-content.wj-pager{border-collapse:separate;display:inline-table;vertical-align:middle}.wj-control.wj-inputmask{display:inline-flex}.wj-control.wj-inputmask .wj-input{width:100%}.wj-control.wj-inputmask .wj-input-group{display:flex}.wj-dropdown-panel{background:#fff;color:#000;display:block}.wj-dropdown-panel .wj-control{background:0 0;color:inherit}.wj-dropdown-panel.wj-content>.wj-content{border:0}.wj-control .wj-template{display:table-cell;position:relative}.wj-control .wj-input,.wj-control .wj-template{height:100%}.wj-control .wj-input-group{border-collapse:separate;display:table;height:100%;width:100%}.wj-control .wj-input-group .wj-input-group-btn{display:table-cell;height:100%;min-width:26px;vertical-align:top;white-space:nowrap;width:1%}.wj-control .wj-input-group .wj-input-group-btn:last-child:not(:first-child)>.wj-btn,.wj-viewer .wj-control .wj-input-group .wj-input-group-btn:last-child:not(:first-child)>.wj-applybutton{border-left:1px solid rgba(0,0,0,.2)}.wj-control .wj-input-group .wj-input-group-btn:first-child:not(:last-child)>.wj-btn,.wj-viewer .wj-control .wj-input-group .wj-input-group-btn:first-child:not(:last-child)>.wj-applybutton{border-right:1px solid rgba(0,0,0,.2)}.wj-control .wj-input-group .wj-form-control{background:0 0;border:0;color:inherit;display:table-cell;height:100%;min-height:2em;padding:4px 8px;width:100%}.wj-control .wj-input-group button,.wj-control .wj-input-group input{margin:0}.wj-control .wj-btn-group{border:1px solid rgba(0,0,0,.2);border-radius:4px;display:inline-block;overflow:hidden}.wj-control .wj-btn-group>:not(:first-child){border-left:1px solid rgba(0,0,0,.2)}.wj-control .wj-btn-group>.wj-form-control{border:0;padding:4px 6px 3px}.wj-control .wj-btn-group>.wj-form-control:not(:first-child){border-left:1px solid rgba(0,0,0,.2)}.wj-control .wj-btn-group>.wj-btn,.wj-control .wj-input-group-btn>.wj-btn,.wj-viewer .wj-control .wj-btn-group>.wj-applybutton,.wj-viewer .wj-control .wj-input-group-btn>.wj-applybutton{background:#eee;height:100%;min-height:2em}.wj-control .wj-btn-group>.wj-btn:focus,.wj-control .wj-btn-group>.wj-btn:hover,.wj-control .wj-input-group-btn>.wj-btn:focus,.wj-control .wj-input-group-btn>.wj-btn:hover,.wj-viewer .wj-control .wj-btn-group>.wj-applybutton:focus,.wj-viewer .wj-control .wj-btn-group>.wj-applybutton:hover,.wj-viewer .wj-control .wj-input-group-btn>.wj-applybutton:focus,.wj-viewer .wj-control .wj-input-group-btn>.wj-applybutton:hover{background:#e1e1e1;transition-duration:.4s}.wj-control .wj-btn-group>.wj-btn.wj-btn-default,.wj-control .wj-input-group-btn>.wj-btn.wj-btn-default,.wj-viewer .wj-control .wj-btn-group>.wj-btn-default.wj-applybutton,.wj-viewer .wj-control .wj-input-group-btn>.wj-btn-default.wj-applybutton{color:#000}.wj-control .wj-btn-group>.wj-btn.wj-btn-default:enabled,.wj-control .wj-input-group-btn>.wj-btn.wj-btn-default:enabled,.wj-viewer .wj-control .wj-btn-group>.wj-btn-default.wj-applybutton:enabled,.wj-viewer .wj-control .wj-input-group-btn>.wj-btn-default.wj-applybutton:enabled{background:0 0}.wj-control .wj-btn-group>.wj-btn.wj-btn-default:focus,.wj-control .wj-btn-group>.wj-btn.wj-btn-default:hover,.wj-control .wj-input-group-btn>.wj-btn.wj-btn-default:focus,.wj-control .wj-input-group-btn>.wj-btn.wj-btn-default:hover,.wj-viewer .wj-control .wj-btn-group>.wj-btn-default.wj-applybutton:focus,.wj-viewer .wj-control .wj-btn-group>.wj-btn-default.wj-applybutton:hover,.wj-viewer .wj-control .wj-input-group-btn>.wj-btn-default.wj-applybutton:focus,.wj-viewer .wj-control .wj-input-group-btn>.wj-btn-default.wj-applybutton:hover{background:#e1e1e1;transition-duration:.4s}.wj-control.wj-rtl .wj-input-group-btn:last-child:not(:first-child)>.wj-btn,.wj-viewer .wj-control.wj-rtl .wj-input-group-btn:last-child:not(:first-child)>.wj-applybutton{border-left:none;border-right:1px solid rgba(0,0,0,.2)}.wj-control.wj-rtl .wj-input-group-btn:first-child:not(:last-child)>.wj-btn,.wj-viewer .wj-control.wj-rtl .wj-input-group-btn:first-child:not(:last-child)>.wj-applybutton{border-left:1px solid rgba(0,0,0,.2);border-right:none}.wj-control.wj-rtl .wj-btn-group>.wj-form-control:not(:first-child),.wj-control.wj-rtl .wj-btn-group>:not(:first-child){border-left:none;border-right:1px solid rgba(0,0,0,.2)}.wj-inputnumber input.wj-form-control{text-align:right}.wj-listbox{cursor:default;overflow:auto}.wj-listbox .wj-listbox-item{padding:4px 6px 3px}.wj-listbox .wj-listbox-item.wj-separator{background:rgba(0,0,0,.1);height:1px;margin:3px 0;padding:0}.wj-listbox .wj-listbox-item.wj-header{opacity:1;position:-webkit-sticky;position:sticky;top:0}.wj-listbox .wj-listbox-item:not(.wj-state-selected):not(.wj-state-disabled):not(.wj-separator):hover{background:rgba(0,0,0,.05);transition-duration:.4s}.wj-listbox .wj-listbox-item>label{align-content:flex-start;align-items:baseline;display:flex;font-weight:400;margin:0}.wj-listbox .wj-listbox-item>label>input[type=checkbox]{margin:4px}.wj-multiselectlistbox .wj-template{display:flex;flex-direction:column;height:auto;max-height:inherit;min-height:inherit}.wj-multiselectlistbox .wj-content{border:0;border-radius:0;display:block}.wj-multiselectlistbox .wj-form-control{border:0;color:inherit;padding:5px 8px;width:100%}.wj-dropdown-panel>.wj-multiselectlistbox{display:block}.wj-calendar{max-width:100vw;overflow:auto}.wj-calendar .wj-header{font-size:90%}.wj-calendar .wj-day-today{font-weight:700}.wj-calendar .wj-day-othermonth{opacity:.65}.wj-calendar .wj-calendar-outer{cursor:default;display:block;padding:10px}.wj-calendar .wj-calendar-header{align-items:center;display:flex;flex-grow:0;flex-shrink:0;justify-content:space-between;margin-bottom:7px;min-width:19em}.wj-calendar .wj-calendar-header .wj-month-select{cursor:pointer;display:inline-block;font-weight:700;margin:6px}.wj-calendar .wj-calendar-header .wj-month-select .wj-glyph-down{opacity:.5}.wj-calendar .wj-calendar-header .wj-btn-group .wj-btn,.wj-calendar .wj-calendar-header .wj-btn-group .wj-viewer .wj-control .wj-applybutton,.wj-viewer .wj-control .wj-calendar .wj-calendar-header .wj-btn-group .wj-applybutton{padding:2px 8px 0}.wj-calendar .wj-calendar-header .wj-btn-group span{pointer-events:none}.wj-calendar .wj-calendar-month{border-collapse:collapse;font:inherit;width:100%}.wj-calendar .wj-calendar-month td{width:14.29%}.wj-calendar .wj-calendar-year{border-collapse:collapse;font:inherit;width:100%}.wj-calendar .wj-calendar-year td{width:25%}.wj-calendar .wj-calendar-year tr:not(.wj-header) td{height:3em}.wj-calendar td{border:0;padding:4px 6px 3px;text-align:center}.wj-calendar td.wj-state-invalid{opacity:.65}.wj-calendar.wj-calendar-multimonth{border:1px solid rgba(0,0,0,.2);border-radius:4px;display:inline-flex;flex-wrap:wrap}.wj-calendar.wj-calendar-multimonth .wj-content{border-color:rgba(0,0,0,.05);border-radius:0}.wj-calendar.wj-calendar-multimonth .wj-calendar{display:flex}.wj-calendar.wj-btns-outside{position:relative}.wj-calendar.wj-btns-outside .wj-calendar-header .wj-btn-group{border:0}.wj-calendar.wj-btns-outside .wj-calendar-header .wj-btn-group button{border:0;display:none;min-width:1em;opacity:.5;padding:0;position:absolute;top:0;z-index:1}.wj-calendar.wj-btns-outside .wj-calendar-header .wj-btn-group button[wj-part=btn-prev]{display:block;left:0}.wj-calendar.wj-btns-outside .wj-calendar-header .wj-btn-group button[wj-part=btn-next]{display:block;right:0}.wj-calendar.wj-rtl .wj-calendar-header .wj-btn-group{float:left}.wj-calendar.wj-rtl .wj-calendar-header .wj-btn-group .wj-btn .wj-glyph-left,.wj-calendar.wj-rtl .wj-calendar-header .wj-btn-group .wj-btn .wj-glyph-right,.wj-calendar.wj-rtl .wj-calendar-header .wj-btn-group .wj-viewer .wj-control .wj-applybutton .wj-glyph-left,.wj-calendar.wj-rtl .wj-calendar-header .wj-btn-group .wj-viewer .wj-control .wj-applybutton .wj-glyph-right,.wj-viewer .wj-control .wj-calendar.wj-rtl .wj-calendar-header .wj-btn-group .wj-applybutton .wj-glyph-left,.wj-viewer .wj-control .wj-calendar.wj-rtl .wj-calendar-header .wj-btn-group .wj-applybutton .wj-glyph-right{transform:scaleX(-1)}.wj-dropdown-panel .wj-calendar-outer{background:0 0}.wj-dropdown-panel .wj-calendar-outer>.wj-content{display:block}.wj-yearpicker{align-items:center;display:grid;grid-template-columns:repeat(4,1fr);justify-items:center;max-height:12em;min-width:18em;text-align:center;width:4em}.wj-yearpicker .wj-listbox-item{display:inline-block;text-align:center;width:4em}.wj-calendar.wj-calendar-multimonth .wj-calendar-outer,.wj-inputdate-dropdown .wj-calendar-outer,.wj-outer-flex{display:flex;flex-direction:column;flex-shrink:0;min-width:21em}.wj-inputdate-dropdown{background:#fff;display:flex}.wj-inputdate-dropdown>.wj-calendar{border:0;flex-grow:1}.wj-inputdate-dropdown>.wj-listbox{flex-grow:1;margin:10px;max-height:16em;min-width:8em}.wj-inputdate-dropdown>.wj-listbox .wj-listbox-item{white-space:nowrap}.wj-colorpicker{height:200px;padding:4px;width:420px}.wj-colorpicker .wj-colorbox{box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);cursor:pointer;height:100%;position:relative;width:100%}.wj-inputcolor .wj-input-group input.wj-form-control{padding-left:24px}.wj-inputcolor .wj-inputcolorbox{border:1px solid #000;bottom:6px;left:6px;position:absolute;top:6px;width:12px}.wj-inputcolor.wj-rtl .wj-input-group input.wj-form-control{padding-left:4px;padding-right:24px}.wj-inputcolor.wj-rtl .wj-inputcolorbox{left:auto;right:6px}.wj-listbox.wj-dropdown-panel .wj-state-match{font-weight:700}.wj-multi-autocomplete{padding:5px;width:100%}.wj-multi-autocomplete .wj-input{float:left}.wj-multi-autocomplete .wj-input-group .wj-form-control{height:auto;margin-top:5px}.wj-multi-autocomplete .wj-token{background:#eee;border:1px solid rgba(0,0,0,.2);border-radius:4px;color:#000;cursor:default;float:left;margin:5px;vertical-align:middle}.wj-multi-autocomplete .wj-token.wj-token-active,.wj-multi-autocomplete .wj-token:focus,.wj-multi-autocomplete .wj-token:hover{background:#e1e1e1;transition-duration:.4s}.wj-multi-autocomplete .wj-token .wj-token-label{display:inline-block;max-width:500px;overflow:hidden;padding:4px 6px 3px;text-overflow:ellipsis;vertical-align:middle}.wj-multi-autocomplete .wj-token .wj-token-close{color:#000;cursor:pointer;padding:4px 6px 3px;text-decoration:none;vertical-align:middle}.wj-multi-autocomplete .wj-token .wj-token-close:focus,.wj-multi-autocomplete .wj-token .wj-token-close:hover{opacity:.5;transition-duration:.4s}.wj-multi-autocomplete .wj-token-helper{left:-10000px;position:absolute}.wj-popup{background:#fff;box-shadow:0 6px 13px rgba(0,0,0,.2)}.wj-popup .wj-dialog-header{background:#eee;color:#444;font-size:120%;font-weight:700;padding:1em;width:100%}.wj-popup .wj-dialog-body{padding:1em}.wj-popup .wj-dialog-footer{margin-top:1em;padding:1em;text-align:right}.wj-popup-backdrop{background:rgba(0,0,0,.5);bottom:0;left:0;position:fixed;right:0;top:0}.wj-listbox.wj-menu-items .wj-listbox-item:not(.wj-state-disabled):not(.wj-separator),.wj-menu .wj-form-control{cursor:pointer}.wj-listbox.wj-menu-items .wj-listbox-item.wj-subitems{position:relative}.wj-listbox.wj-menu-items .wj-listbox-item.wj-subitems:after{border-bottom:.4em solid transparent;border-left:.5em solid;border-top:.4em solid transparent;content:"";opacity:.75;position:absolute;top:50%;transform:translateY(-50%)}.wj-listbox.wj-menu-items:not(.wj-rtl) .wj-listbox-item.wj-subitems{padding-right:1.8em}.wj-listbox.wj-menu-items:not(.wj-rtl) .wj-listbox-item.wj-subitems:after{right:.55em}.wj-listbox.wj-menu-items.wj-rtl .wj-listbox-item.wj-subitems{padding-left:1.8em}.wj-listbox.wj-menu-items.wj-rtl .wj-listbox-item.wj-subitems:after{left:.55em;transform:translateY(-50%) scaleX(-1)}.wj-pager .wj-input-group .wj-input-group-btn>.wj-btn,.wj-pager .wj-input-group .wj-viewer .wj-control .wj-input-group-btn>.wj-applybutton,.wj-viewer .wj-control .wj-pager .wj-input-group .wj-input-group-btn>.wj-applybutton{min-width:40px}.wj-pager .wj-input-group .wj-form-control{border-left:1px solid rgba(0,0,0,.2);border-right:1px solid rgba(0,0,0,.2);text-align:center}.wj-labeled-input{display:inline-block;margin:0 20px;max-width:100%;padding:20px 0;position:relative;width:12em}.wj-labeled-input,.wj-labeled-input *,.wj-labeled-input :after,.wj-labeled-input :before{box-sizing:border-box}.wj-labeled-input.wide{width:20em}.wj-labeled-input .accesskey{font-size:unset;text-decoration:underline}.wj-labeled-input .wj-control.wj-content{background-color:transparent;border:0;border-bottom:1px solid rgba(0,0,0,.1);margin:0;width:100%}.wj-labeled-input .wj-control.wj-content button{border-color:rgba(0,0,0,.1);opacity:.75}.wj-labeled-input .wj-inputnumber.wj-state-empty:not(.wj-state-focused) .wj-btn,.wj-labeled-input .wj-inputnumber.wj-state-empty:not(.wj-state-focused) .wj-viewer .wj-control .wj-applybutton,.wj-viewer .wj-control .wj-labeled-input .wj-inputnumber.wj-state-empty:not(.wj-state-focused) .wj-applybutton{display:none}.wj-labeled-input label{bottom:0;color:rgba(0,0,0,.259);display:block;font-size:16px;margin:0;overflow:hidden;pointer-events:none;text-align:left;top:24px;white-space:nowrap;width:100%}.wj-labeled-input label,.wj-labeled-input label:after{position:absolute;transition-duration:.2s;transition-timing-function:cubic-bezier(.4,0,.2,1)}.wj-labeled-input label:after{background-color:#0085c7;bottom:20px;content:"";height:2px;left:45%;visibility:hidden;width:10px}.wj-labeled-input .wj-state-focused+label:after{left:0;visibility:visible;width:100%}.wj-labeled-input .wj-error{color:red;display:block;font-size:12px;margin-top:3px;position:absolute;visibility:hidden}.wj-labeled-input .wj-control.wj-state-invalid~.wj-error{visibility:visible}.wj-labeled-input .wj-state-invalid+label{color:red}.wj-labeled-input .wj-state-invalid+label:after{background-color:red}.wj-labeled-input input[type=checkbox],.wj-labeled-input input[type=radio]{display:none}.wj-labeled-input input[type=checkbox]+label,.wj-labeled-input input[type=radio]+label{font-size:unset;overflow:visible;padding:.25em 0 0 1.8em;pointer-events:all;position:relative;top:0}.wj-labeled-input input[type=checkbox]+label:after,.wj-labeled-input input[type=radio]+label:after{background:#ddd;color:#fff;content:"";display:block;height:1.3em;left:0;position:absolute;text-align:center;top:.25em;transition:all .3s;visibility:visible;width:1.3em}.wj-labeled-input input[type=checkbox]+label:hover:after,.wj-labeled-input input[type=radio]+label:hover:after{box-shadow:0 3px 3px rgba(0,0,0,.4)}.wj-labeled-input input[type=checkbox]:checked+label:after,.wj-labeled-input input[type=radio]:checked+label:after{background:#0085c7;content:"\\2714"}.wj-labeled-input input[type=radio]+label:after{border-radius:1em;transform:scale(1.1)}.wj-labeled-input input[type=radio]:checked+label:after{background:#fff;border:.45em solid #0085c7;content:""}.wj-labeled-input.switch input[type=checkbox]+label{padding-left:3.1em}.wj-labeled-input.switch input[type=checkbox]+label:before{background:#ddd;border-radius:1em;content:"";display:block;height:1em;left:0;position:absolute;top:.5em;transition:all .3s;visibility:visible;width:2.5em}.wj-labeled-input.switch input[type=checkbox]+label:after{background:#fff;border:1px solid #bbb;border-radius:1em;content:"";height:1.5em;left:0;top:.25em;transition:all .3s;width:1.5em}.wj-labeled-input.switch input[type=checkbox]:checked+label:before{background:#0085c7;opacity:.4}.wj-labeled-input.switch input[type=checkbox]:checked+label:after{background:#0085c7;border:1px solid #0085c7;margin-left:1.25em}.wj-labeled-input .wj-state-focused+label,.wj-labeled-input :not(.wj-state-empty)+label,.wj-static-labels .wj-labeled-input :not(.wj-state-focused)+label{color:#0085c7;font-size:12px;top:4px;visibility:visible}.wj-tabpanel{display:block}.wj-tabpanel>div>.wj-tabpanes{border-top:1px solid #ddd;overflow:auto;user-select:text;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text}.wj-tabpanel>div>.wj-tabpanes>.wj-tabpane:not(.wj-state-active){display:none}.wj-tabpanel>div>.wj-tabheaders>.wj-tabheader{color:inherit;cursor:pointer;display:inline-block;font-weight:700;padding:8px 12px;position:relative;text-align:center;text-decoration:none;text-transform:uppercase}.wj-tabpanel>div>.wj-tabheaders>.wj-tabheader.wj-state-active{background:#fff;color:#0085c7}.wj-tabpanel>div>.wj-tabheaders>.wj-tabheader:not(.wj-state-active):not(.wj-state-disabled):focus{background:rgba(0,0,0,.1)}.wj-tabpanel>div>.wj-tabheaders>.wj-tabheader:after{background:#0085c7;bottom:0;content:"";height:2.5px;left:45%;position:absolute;visibility:hidden;width:10%}.wj-tabpanel>div>.wj-tabheaders>.wj-tabheader.wj-state-active:after{left:0;visibility:visible;width:100%}.wj-tabpanel.wj-animated>div>.wj-tabheaders>.wj-tabheader.wj-state-active:after{transition-duration:.2s}.wj-accordion{overflow:auto}.wj-accordion>.wj-content{border:0;display:none;overflow:hidden}.wj-accordion>.wj-header.wj-state-active+.wj-content{display:block}.wj-accordion>.wj-header{cursor:pointer;display:block;font-size:120%;padding:12px;text-decoration:none}.wj-accordion>.wj-header.wj-state-active{background:#0085c7;color:#fff}.wj-accordion>.wj-header:focus{outline:2px solid #0085c7;outline-offset:-2px}.wj-accordion.wj-show-icons>.wj-header:before{border-bottom:.4em solid transparent;border-left:.5em solid;border-top:.4em solid transparent;content:"";float:left;margin:.4em .5em .4em 0;opacity:.5;white-space:normal}.wj-accordion.wj-show-icons>.wj-header.wj-state-active:before{border-left:.4em solid transparent;border-right:.4em solid transparent;border-top:.5em solid}.wj-accordion.wj-rtl.wj-show-icons>.wj-header:before{float:right;margin:.4em 0 .4em .5em;transform:scaleX(-1)}.wj-treeview{border:0;overflow:auto;width:100%}.wj-treeview .wj-nodelist{display:block;position:relative}.wj-treeview .wj-nodelist .wj-nodelist{padding-left:1em}.wj-treeview .wj-node{cursor:pointer;padding:4px 6px 3px;white-space:nowrap}.wj-treeview .wj-node:before{border-left:.45em solid transparent;border-right:.45em solid transparent;border-top:.5em solid;content:"";display:inline-block;margin-right:4px;opacity:.75;position:relative;top:-1px}.wj-treeview .wj-node.wj-state-selected{background:rgba(0,0,0,.05);color:inherit}.wj-treeview .wj-node.wj-state-collapsed:before,.wj-treeview .wj-node.wj-state-collapsing:before{transform:rotate(-90deg)}.wj-treeview .wj-node.wj-state-collapsed.wj-state-loading:before{-webkit-animation-direction:alternate;animation-direction:alternate;-webkit-animation-duration:.6s;animation-duration:.6s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-name:wjLazyNodeLoading;animation-name:wjLazyNodeLoading}.wj-treeview .wj-node.wj-state-empty:before{visibility:hidden}.wj-treeview .wj-node.wj-state-collapsed+.wj-nodelist{display:none}.wj-treeview .wj-node img{padding-right:4px}.wj-treeview .wj-node .wj-node-check{margin-right:4px}.wj-treeview .wj-node .wj-node-text{display:inline-block}.wj-treeview .wj-marker{background:#0085c7;opacity:.5;pointer-events:none;position:absolute}.wj-treeview.wj-state-loading *{cursor:wait}.wj-treeview.wj-animated .wj-node.wj-state-collapsed:before,.wj-treeview.wj-animated .wj-node.wj-state-collapsing:before,.wj-treeview.wj-animated .wj-node:before{transition:all .3s cubic-bezier(.4,0,.2,1)}.wj-treeview.wj-rtl .wj-nodelist .wj-nodelist{padding-left:unset;padding-right:1em}.wj-treeview.wj-rtl .wj-nodelist .wj-node:before{margin-left:4px;margin-right:unset}.wj-treeview.wj-rtl .wj-nodelist .wj-node.wj-state-collapsed:before,.wj-treeview.wj-rtl .wj-nodelist .wj-node.wj-state-collapsing:before{transform:rotate(90deg)}.wj-treeview.wj-rtl .wj-node img{padding-left:4px;padding-right:unset}.wj-treeview.wj-rtl .wj-node .wj-node-check{margin-left:4px;margin-right:unset}@-webkit-keyframes wjLazyNodeLoading{0%{opacity:1;transform:scale(1.1)}to{opacity:.5;transform:scale(.5)}}@keyframes wjLazyNodeLoading{0%{opacity:1;transform:scale(1.1)}to{opacity:.5;transform:scale(.5)}}.wj-flexgrid{cursor:default;overflow:hidden;width:100%}.wj-flexgrid .wj-row{position:absolute;top:0}.wj-flexgrid .wj-colheaders .wj-header .wj-btn.wj-btn-glyph.wj-elem-pin,.wj-flexgrid .wj-colheaders .wj-header .wj-viewer .wj-control .wj-btn-glyph.wj-elem-pin.wj-applybutton,.wj-viewer .wj-control .wj-flexgrid .wj-colheaders .wj-header .wj-btn-glyph.wj-elem-pin.wj-applybutton{opacity:.9}.wj-flexgrid .wj-colheaders .wj-header .wj-btn.wj-btn-glyph.wj-elem-pin:not(.wj-state-pinned),.wj-flexgrid .wj-colheaders .wj-header .wj-viewer .wj-control .wj-btn-glyph.wj-elem-pin.wj-applybutton:not(.wj-state-pinned),.wj-viewer .wj-control .wj-flexgrid .wj-colheaders .wj-header .wj-btn-glyph.wj-elem-pin.wj-applybutton:not(.wj-state-pinned){opacity:.4}.wj-flexgrid .wj-colheaders .wj-header .wj-btn.wj-btn-glyph.wj-elem-pin:not(.wj-state-pinned) .wj-glyph-pin,.wj-flexgrid .wj-colheaders .wj-header .wj-viewer .wj-control .wj-btn-glyph.wj-elem-pin.wj-applybutton:not(.wj-state-pinned) .wj-glyph-pin,.wj-viewer .wj-control .wj-flexgrid .wj-colheaders .wj-header .wj-btn-glyph.wj-elem-pin.wj-applybutton:not(.wj-state-pinned) .wj-glyph-pin{transform:rotate(-45deg)}.wj-flexgrid .wj-colheaders .wj-header.wj-state-multi-selected{border-bottom:2px solid #0085c7}.wj-flexgrid .wj-colheaders .wj-header.wj-colgroup{align-items:center;display:flex}.wj-flexgrid .wj-colheaders .wj-header.wj-colgroup.wj-align-right{justify-content:flex-end}.wj-flexgrid .wj-colheaders .wj-header.wj-colgroup.wj-align-center{justify-content:center}.wj-flexgrid .wj-colheaders .wj-header.wj-big-header:after{border-right:1px solid rgba(0,0,0,.2);bottom:0;content:"";position:absolute;right:2px;top:0}.wj-flexgrid .wj-rowheaders .wj-header.wj-state-multi-selected{border-right:2px solid #0085c7}.wj-flexgrid .wj-rowheaders .wj-header.wj-big-header:after{border-bottom:1px solid rgba(0,0,0,.2);bottom:2px;content:"";left:0;position:absolute;right:0}.wj-flexgrid .wj-topleft .wj-header.wj-big-header:after{border-right:1px solid rgba(0,0,0,.2);bottom:0;content:"";position:absolute;right:2px;top:0}.wj-flexgrid .wj-frozen-clone .wj-cell{pointer-events:auto}.wj-flexgrid .wj-frozen-clone .wj-cell a{display:inline-block}.wj-flexgrid .wj-marquee{box-shadow:0 0 0 1px #0085c7,inset 0 0 0 1px #0085c7;pointer-events:none;position:absolute}.wj-flexgrid .wj-marker{background:#0085c7;opacity:.5;pointer-events:none;position:absolute;z-index:1000}.wj-flexgrid .wj-state-sticky .wj-header{opacity:.75}.wj-flexgrid .wj-grid-editor{background:inherit;border:0;color:inherit;height:100%;margin:0;overflow:hidden;padding:0;resize:none;width:100%}.wj-flexgrid .wj-cell .wj-btn.wj-btn-glyph,.wj-flexgrid .wj-cell .wj-viewer .wj-control .wj-btn-glyph.wj-applybutton,.wj-viewer .wj-control .wj-flexgrid .wj-cell .wj-btn-glyph.wj-applybutton{background:0 0;color:inherit;min-width:1.5em;opacity:.4;padding:0 4px}.wj-flexgrid .wj-cell .wj-btn.wj-btn-glyph:focus,.wj-flexgrid .wj-cell .wj-btn.wj-btn-glyph:hover,.wj-flexgrid .wj-cell .wj-viewer .wj-control .wj-btn-glyph.wj-applybutton:focus,.wj-flexgrid .wj-cell .wj-viewer .wj-control .wj-btn-glyph.wj-applybutton:hover,.wj-viewer .wj-control .wj-flexgrid .wj-cell .wj-btn-glyph.wj-applybutton:focus,.wj-viewer .wj-control .wj-flexgrid .wj-cell .wj-btn-glyph.wj-applybutton:hover{opacity:1;transition-duration:.4s}.wj-flexgrid .wj-cell .wj-btn.wj-btn-glyph.wj-right,.wj-flexgrid .wj-cell .wj-viewer .wj-control .wj-btn-glyph.wj-right.wj-applybutton,.wj-viewer .wj-control .wj-flexgrid .wj-cell .wj-btn-glyph.wj-right.wj-applybutton{float:right;order:2}.wj-flexgrid .wj-cell .wj-btn.wj-btn-glyph.wj-right:first-child,.wj-flexgrid .wj-cell .wj-viewer .wj-control .wj-btn-glyph.wj-right.wj-applybutton:first-child,.wj-viewer .wj-control .wj-flexgrid .wj-cell .wj-btn-glyph.wj-right.wj-applybutton:first-child{order:5}.wj-flexgrid .wj-cell .wj-btn.wj-btn-glyph.wj-right:nth-child(2),.wj-flexgrid .wj-cell .wj-viewer .wj-control .wj-btn-glyph.wj-right.wj-applybutton:nth-child(2),.wj-viewer .wj-control .wj-flexgrid .wj-cell .wj-btn-glyph.wj-right.wj-applybutton:nth-child(2){order:4}.wj-flexgrid .wj-cell .wj-btn.wj-btn-glyph.wj-right:nth-child(3),.wj-flexgrid .wj-cell .wj-viewer .wj-control .wj-btn-glyph.wj-right.wj-applybutton:nth-child(3),.wj-viewer .wj-control .wj-flexgrid .wj-cell .wj-btn-glyph.wj-right.wj-applybutton:nth-child(3){order:3}.wj-flexgrid .wj-cell .wj-btn.wj-btn-glyph.wj-elem-detail,.wj-flexgrid .wj-cell .wj-viewer .wj-control .wj-btn-glyph.wj-elem-detail.wj-applybutton,.wj-viewer .wj-control .wj-flexgrid .wj-cell .wj-btn-glyph.wj-elem-detail.wj-applybutton{min-width:1em;padding:0}.wj-flexgrid .wj-cell .wj-btn.wj-btn-glyph>span,.wj-flexgrid .wj-cell .wj-viewer .wj-control .wj-btn-glyph.wj-applybutton>span,.wj-viewer .wj-control .wj-flexgrid .wj-cell .wj-btn-glyph.wj-applybutton>span{opacity:1}.wj-flexgrid .wj-cell.wj-hasdropdown{display:flex}.wj-flexgrid .wj-cell.wj-hasdropdown .wj-btn.wj-btn-glyph.wj-right,.wj-flexgrid .wj-cell.wj-hasdropdown .wj-viewer .wj-control .wj-btn-glyph.wj-right.wj-applybutton,.wj-viewer .wj-control .wj-flexgrid .wj-cell.wj-hasdropdown .wj-btn-glyph.wj-right.wj-applybutton{height:100%}.wj-flexgrid .wj-cell.wj-radio-map label{display:inline-block;font-weight:inherit;margin:0 1em 0 0}.wj-flexgrid .wj-cell.wj-radio-map label input[type=radio]{margin:0 4px 0 0;outline:0}.wj-flexgrid .wj-cell.wj-radio-map label input[type=radio]:not(:checked){opacity:.4}.wj-flexgrid .wj-cell.wj-detail .wj-content.wj-flexgrid{vertical-align:top}.wj-flexgrid .wj-cell label{display:inline-block;font-weight:inherit;line-height:1em;margin:0;max-width:100%}.wj-flexgrid .wj-cell label input[type=checkbox]{margin:0 6px 0 0}.wj-flexgrid.wj-rtl .wj-cell{border-left:1px solid rgba(0,0,0,.2);border-right:none}.wj-flexgrid.wj-rtl .wj-cell .wj-btn.wj-btn-glyph.wj-right,.wj-flexgrid.wj-rtl .wj-cell .wj-viewer .wj-control .wj-btn-glyph.wj-right.wj-applybutton,.wj-viewer .wj-control .wj-flexgrid.wj-rtl .wj-cell .wj-btn-glyph.wj-right.wj-applybutton{float:left}.wj-flexgrid.wj-rtl .wj-frozen-col{border-left:1px solid #a2a2a2;border-right:none}.wj-flexgrid.wj-rtl .wj-colheaders .wj-header.wj-filter-off,.wj-flexgrid.wj-rtl .wj-colheaders .wj-header.wj-filter-on{white-space:normal;word-break:break-all}.wj-flexgrid.wj-rtl .wj-colheaders .wj-header.wj-big-header:after{left:2px;right:unset}.wj-flexgrid.wj-rtl .wj-colheaders .wj-header .wj-sort-index{padding:0 .2em 0 0}.wj-flexgrid.wj-rtl .wj-rowheaders .wj-header.wj-state-multi-selected{border-left:2px solid #0085c7;border-right:none}.wj-flexgrid.wj-rtl .wj-topleft .wj-header.wj-big-header:after{left:2px;right:unset}.wj-flexgrid.wj-whitespace-pre .wj-cell{white-space:pre}.wj-flexgrid.wj-whitespace-pre .wj-cell.wj-multiline,.wj-flexgrid.wj-whitespace-pre .wj-cell.wj-wrap{white-space:pre-wrap}.wj-flexgrid [wj-state-measuring].wj-cell .wj-btn.wj-btn-glyph.wj-right,.wj-flexgrid [wj-state-measuring].wj-cell .wj-viewer .wj-control .wj-btn-glyph.wj-right.wj-applybutton,.wj-viewer .wj-control .wj-flexgrid [wj-state-measuring].wj-cell .wj-btn-glyph.wj-right.wj-applybutton{float:none}.wj-cell{background:#fff;border-bottom:1px solid rgba(0,0,0,.2);border-right:1px solid rgba(0,0,0,.2);outline:0;overflow:hidden;padding:4px 6px 3px;position:absolute;white-space:nowrap}.wj-cell:not(.wj-hasdropdown){text-overflow:ellipsis}.wj-cell.wj-alt{background:#f7f7f7}.wj-cell.wj-header{background:#eee;color:#444;font-weight:700}.wj-cell.wj-header.wj-state-multi-selected{background:#e1e1e1;color:#444;font-weight:700}.wj-cell.wj-header .wj-sort-index{color:#0085c7;display:inline-block;font-size:80%;font-weight:400;opacity:1;padding:0 0 0 .2em;vertical-align:top}.wj-cell.wj-frozen-row{border-bottom:1px solid #a2a2a2}.wj-cell.wj-frozen-col{border-right:1px solid #a2a2a2}.wj-cell.wj-group{background:#e1e1e1;color:#444}.wj-cell.wj-state-invalid{border:1.2px solid red}.wj-cell.wj-state-invalid.wj-header{background:#ffb4b4}.wj-cell.wj-state-invalid:not(.wj-header):after{border:6px solid transparent;border-right-color:red;content:"";position:absolute;right:0;top:-6px;width:0}.wj-cell.wj-header.wj-state-dragsrc{opacity:.5}.wj-cell.wj-wrap{white-space:normal}.wj-cell.wj-multiline,.wj-cell.wj-wrap{word-wrap:break-word;text-overflow:clip}.wj-cell.wj-multiline{white-space:pre}.wj-cell.wj-wrap.wj-multiline{text-overflow:clip;white-space:pre-wrap}.wj-cell.wj-align-left{text-align:left}.wj-cell.wj-align-right{text-align:right}.wj-cell.wj-align-center{text-align:center}.wj-cell.wj-align-justify{text-align:justify}.wj-cell.wj-align-justify-all{text-align:justify;-moz-text-align-last:justify;text-align-last:justify;text-justify:distribute}.wj-cells .wj-cell.wj-state-selected{background:#0085c7;color:#fff}.wj-cells .wj-cell.wj-state-multi-selected{background:#80adbf;color:#fff}.wj-flexgrid .wj-cell.wj-filter-on .wj-elem-filter{opacity:.9}.wj-flexgrid .wj-cell.wj-filter-off .wj-elem-filter{opacity:.5}.wj-columnfiltereditor{max-width:400px;min-width:240px;padding:10px}.wj-columnfiltereditor .wj-filtertype{font-size:12px;margin:14px 0;text-align:right}.wj-columnfiltereditor .wj-control{margin-bottom:6px;width:100%}.wj-columnfiltereditor .wj-conditionfilter-editor,.wj-columnfiltereditor .wj-valuefilter-editor{margin-top:1em}.wj-columnfiltereditor .wj-listbox{height:150px}.wj-columnfiltereditor .wj-listbox:not(.wj-state-focused) .wj-listbox-item.wj-state-selected{background:0 0;color:inherit}.wj-columnfiltereditor .wj-listbox:not(.wj-state-focused) .wj-listbox-item.wj-state-selected:hover{background:rgba(0,0,0,.05);transition-duration:.4s}.wj-columnfiltereditor label{display:inline-block;width:auto}.wj-columnfiltereditor a{color:inherit;font-size:inherit;font-weight:700}.wj-columnfiltereditor a.wj-state-disabled{text-decoration:none}.wj-columnfiltereditor .wj-sort-buttons .wj-btn,.wj-columnfiltereditor .wj-sort-buttons .wj-viewer .wj-control .wj-applybutton,.wj-viewer .wj-control .wj-columnfiltereditor .wj-sort-buttons .wj-applybutton{min-width:95px}.wj-grouppanel{background:#e1e1e1;display:block;min-height:1em;padding:15px}.wj-grouppanel .wj-groupmarker{border:1px solid rgba(0,0,0,.2);cursor:pointer;margin-right:10px;padding:6px 16px}.wj-grouppanel .wj-groupmarker:hover{background:#e1e1e1}.wj-grouppanel .wj-groupmarker .wj-glyph-drag{margin:0 10px 0 0}.wj-grouppanel .wj-groupmarker .wj-filter{cursor:pointer;margin:0 0 0 10px;opacity:.5}.wj-grouppanel .wj-groupmarker .wj-filter.wj-filter-on,.wj-grouppanel .wj-groupmarker .wj-filter:hover{opacity:1}.wj-grouppanel .wj-groupmarker .wj-remove{cursor:pointer;opacity:.5;padding:12px 0 12px 12px}.wj-grouppanel .wj-groupmarker .wj-remove:hover{opacity:1}.wj-grouppanel .wj-groupmarker span{opacity:.5}.wj-grouppanel .wj-groupmarker span:hover{opacity:1}.wj-grouppanel.wj-rtl .wj-groupmarker .wj-glyph-drag{margin:0 0 0 10px}.wj-grouppanel.wj-rtl .wj-groupmarker .wj-filter{margin:0 10px 0 0}.wj-grouppanel.wj-rtl .wj-groupmarker .wj-remove{padding:12px 12px 12px 0}.wj-content.wj-flexgridsearch{border-collapse:separate;display:inline-table;vertical-align:middle}.wj-flexgrid .wj-cell span.wj-state-match{background:#ff0;color:#000;font-weight:700}.wj-flexgrid .wj-cell input.wj-column-selector{margin:4px;outline:0;vertical-align:bottom}.wj-flexgrid .wj-cell input.wj-column-selector.wj-column-selector-group{margin-right:6px;transform:scale(1.25)}.wj-flexgrid .wj-cell .wj-cell-maker{height:100%;width:100%}.wj-flexgrid .wj-cell:not([wj-state-measuring]) button.wj-cell-maker{color:#000;left:0;position:absolute;top:0}.wj-flexgrid .wj-cell.wj-state-multi-selected a.wj-cell-maker,.wj-flexgrid .wj-cell.wj-state-selected a.wj-cell-maker{color:inherit}.wj-flexgrid .wj-cell img.wj-cell-maker{width:unset}.wj-flexgrid .wj-cell .wj-cell-maker svg{stroke:#376092;fill:#376092;height:100%;overflow:visible;width:100%}.wj-flexgrid .wj-cell .wj-cell-maker svg circle,.wj-flexgrid .wj-cell .wj-cell-maker svg rect{stroke-width:0}.wj-flexgrid .wj-cell .wj-cell-maker svg line{stroke-width:2px}.wj-flexgrid .wj-cell .wj-cell-maker svg line.x-axis{stroke-width:.5px;stroke-opacity:.5}.wj-flexgrid .wj-cell .wj-cell-maker svg .wj-marker{fill:#d00000;opacity:1}.wj-flexgrid .wj-cell.wj-cell-maker.wj-radio-map label{color:orange;margin:0 1em 0 0;position:relative;transform:scale(.1);width:1em}.wj-flexgrid .wj-cell.wj-cell-maker.wj-radio-map label input,.wj-flexgrid .wj-cell.wj-cell-maker.wj-radio-map label input:not(:checked){opacity:0}.wj-flexgrid .wj-cell.wj-cell-maker.wj-radio-map label:after{content:"\\2605";cursor:pointer;height:100%;position:absolute;transform:scale(20)}.wj-flexgrid .wj-cell.wj-cell-maker.wj-radio-map label:hover{color:#ff4500;opacity:1;transition:color .6s}.wj-flexgrid .wj-cell.wj-cell-maker.wj-radio-map label.wj-chk-hidden{margin:0 0 0 -1em;opacity:0}.wj-flexgrid .wj-cell.wj-cell-maker.wj-radio-map label.wj-chk-off:not(:hover):not(.wj-chk-hidden){opacity:.15}.wj-flexgrid .wj-cell.wj-cell-maker.wj-radio-map[aria-readonly=true] label{pointer-events:none}.wj-flexchart{background:#fff;background:0 0;border:1px solid #e4e4e4;display:block;height:400px;margin-bottom:12px;padding:15px 10px}.wj-flexchart .wj-header .wj-title{fill:#666;font-size:16pt;font-weight:400}.wj-flexchart .wj-footer .wj-title{fill:#666;font-weight:400}.wj-flexchart .wj-data-label,.wj-flexchart .wj-label{fill:#666}.wj-flexchart .wj-data-label-border{stroke:hsla(0,0%,50%,.5)}.wj-flexchart .wj-data-label-line{stroke:gray}.wj-flexchart .wj-axis-x .wj-title,.wj-flexchart .wj-axis-y .wj-title,.wj-flexchart .wj-legend .wj-title{font-style:italic}.wj-flexchart .wj-axis-x .wj-line{stroke:#aaa;stroke-width:1px}.wj-flexchart .wj-gridline,.wj-flexchart .wj-gridline-minor{stroke:#666;stroke-width:1px;opacity:.75}.wj-flexchart .wj-gridline-minor{opacity:.25}.wj-flexchart .wj-tick,.wj-flexchart .wj-tick-minor{stroke:#aaa;stroke-width:1px}.wj-flexchart .wj-state-selected{stroke-width:3px;stroke-dasharray:6;stroke-linecap:square}.wj-flexchart.wj-flexchart-touch-disabled{touch-action:none;-ms-touch-action:none}.wj-flexchart .wj-chart-linemarker{background:hsla(0,0%,50%,.3);padding:2px;position:absolute}.wj-flexchart .wj-chart-linemarker .wj-chart-linemarker-hline{background:gray;height:2px;position:absolute;touch-action:none;-ms-touch-action:none}.wj-flexchart .wj-chart-linemarker .wj-chart-linemarker-vline{background:gray;position:absolute;touch-action:none;-ms-touch-action:none;width:2px}.wj-flexchart .wj-chart-linemarker-container{position:relative}.wj-flexchart .wj-chart-linemarker .wj-chart-linemarker-draggable,.wj-flexchart.wj-chart-linemarker-draggable{cursor:move}@media (max-width:1025px){.wj-flexchart .wj-state-selected{stroke-width:2px;stroke-dasharray:4}}@media (max-width:767px){wj-flexchart .wj-state-selected{stroke-width:1px;stroke-dasharray:3}}.wj-treemap .wj-data-label{fill:#fff}.wj-flexchart .wj-chart-rangeslider{position:absolute;touch-action:none;-ms-touch-action:none}.wj-flexchart .wj-chart-rangeslider button{border-radius:2px;line-height:16px;padding:0;position:absolute;text-align:center;vertical-align:middle}.wj-flexchart .wj-chart-rangeslider .wj-rangeslider-content{background:#eaeaea;height:100%;position:relative}.wj-flexchart .wj-chart-rangeslider .wj-rangeslider-rangehandle{background:#bdbdbd;height:100%;position:absolute;text-align:center;vertical-align:middle;width:100%}.wj-flexchart .wj-chart-rangeslider .wj-rangeslider-maxhandle,.wj-flexchart .wj-chart-rangeslider .wj-rangeslider-minhandle{border:1px solid gray;border-radius:4px;display:block;position:absolute}.wj-flexchart .wj-chart-rangeslider .wj-rangeslider-handle-active{z-index:2}.wj-flexchart .wj-chart-rangeslider .wj-glyph-left{border-bottom:4px solid transparent;border-right:4px solid;border-top:5px solid transparent;margin-right:2px}.wj-flexchart .wj-chart-rangeslider .wj-glyph-right{border-bottom:5px solid transparent;border-left:4px solid;border-top:4px solid transparent;margin-left:2px}.wj-flexchart .wj-chart-rangeslider .wj-glyph-down{border-left:4px solid transparent;border-right:4px solid transparent;border-top:5px solid;margin-bottom:3px}.wj-flexchart .wj-chart-rangeslider .wj-glyph-up{border-bottom:5px solid;border-left:4px solid transparent;border-right:4px solid transparent;margin-bottom:4px}.wj-flexchart .wj-chart-hrangeslider .wj-rangeslider-maxhandle,.wj-flexchart .wj-chart-hrangeslider .wj-rangeslider-minhandle{background:#bdbdbd;cursor:ew-resize;height:22px;margin-top:-2px;width:14px}.wj-flexchart .wj-chart-hrangeslider .wj-rangeslider-decbtn{left:0}.wj-flexchart .wj-chart-hrangeslider .wj-rangeslider-incbtn{right:0}.wj-flexchart .wj-chart-hrangeslider button{height:100%;width:16px}.wj-flexchart .wj-chart-vrangeslider .wj-rangeslider-maxhandle,.wj-flexchart .wj-chart-vrangeslider .wj-rangeslider-minhandle{background:#bdbdbd;cursor:ns-resize;height:14px;margin-left:-2px;width:22px}.wj-flexchart .wj-chart-vrangeslider .wj-rangeslider-decbtn{bottom:0}.wj-flexchart .wj-chart-vrangeslider .wj-rangeslider-incbtn{top:0}.wj-flexchart .wj-chart-vrangeslider button{height:16px;width:100%}.wj-flexchart .wj-chart-rangeselector-container{position:relative}.wj-flexchart .wj-chart-rangeselector-container .wj-chart-rangeslider,.wj-flexchart .wj-chart-rangeselector-container .wj-rangeslider-content{background:0 0;border-color:transparent}.wj-flexchart .wj-chart-rangeselector-container .wj-rangeslider-rangehandle{opacity:.3}.wj-flexchart .wj-chart-rangeselector-container .wj-rangeslider-maxhandle,.wj-flexchart .wj-chart-rangeselector-container .wj-rangeslider-minhandle{background:0 0;border:2px solid gray;border-radius:.5em;opacity:.6}.wj-flexchart .wj-chart-rangeselector-container .wj-chart-hrangeslider .wj-rangeslider-maxhandle,.wj-flexchart .wj-chart-rangeselector-container .wj-chart-hrangeslider .wj-rangeslider-minhandle{background:#d3d3d3;border:1px solid hsla(0,0%,50%,.75);border-radius:50%;bottom:0;color:gray;height:20px;margin:auto;opacity:1;top:0;width:20px}.wj-flexchart .wj-chart-rangeselector-container .wj-chart-hrangeslider .wj-rangeslider-maxhandle:after,.wj-flexchart .wj-chart-rangeselector-container .wj-chart-hrangeslider .wj-rangeslider-minhandle:after{content:"\\2551";display:inline-block;font-size:10px;margin:0;opacity:.75;position:absolute;text-align:center;top:50%;transform:translateY(-55%);width:100%}.wj-flexchart .wj-chart-rangeselector-container .wj-chart-vrangeslider .wj-rangeslider-maxhandle,.wj-flexchart .wj-chart-rangeselector-container .wj-chart-vrangeslider .wj-rangeslider-minhandle{background:#d3d3d3;border:1px solid hsla(0,0%,50%,.75);border-radius:50%;bottom:0;color:gray;height:20px;left:50%;opacity:1;top:0;width:20px}.wj-flexchart .wj-chart-rangeselector-container .wj-chart-vrangeslider .wj-rangeslider-maxhandle:after,.wj-flexchart .wj-chart-rangeselector-container .wj-chart-vrangeslider .wj-rangeslider-minhandle:after{content:"\\2550";display:inline-block;font-size:12px;height:100%;left:50%;margin:0;opacity:.75;position:absolute;text-align:center;transform:translate(-50%,15%)}.wj-flexchart .wj-chart-rangeselector-container .wj-chart-rangeslider .wj-rangeslider-maxhandle.wj-rangeslider-handle-active,.wj-flexchart .wj-chart-rangeselector-container .wj-chart-rangeslider .wj-rangeslider-minhandle.wj-rangeslider-handle-active{background:rgba(136,189,230,.7)}.wj-flexchart .wj-rangeselector .wj-scroller-center{background:hsla(0,0%,50%,.1);display:block;position:absolute;touch-action:none;-ms-touch-action:none}.wj-flexchart.wj-panable{cursor:pointer}.wj-flexchart .wj-zoom{position:relative;visibility:hidden}.wj-flexchart .wj-zoom-overlay{background:hsla(0,0%,50%,.2);display:block;position:absolute;touch-action:none;-ms-touch-action:none}.wj-flexchart .wj-block-other-interaction{display:none}.wj-flexmap .wj-btn,.wj-flexmap .wj-viewer .wj-control .wj-applybutton,.wj-viewer .wj-control .wj-flexmap .wj-applybutton{border:.5px solid gray;opacity:.9;padding:10px 10px 6px!important}.wj-gauge{background:0 0}.wj-gauge:not(.wj-state-readonly){touch-action:none}.wj-gauge .wj-face path{fill:#f5f5f5;stroke:#cbcbcb;stroke-width:1px;stroke-linejoin:round}.wj-gauge .wj-needle,.wj-gauge .wj-pointer{fill:#0085c7}.wj-gauge .wj-ticks{stroke-width:2px;stroke:#fff}.wj-gauge .wj-max,.wj-gauge .wj-min,.wj-gauge .wj-tick-text text{font-size:60%;opacity:.5}.wj-gauge text{fill:currentColor}.wj-gauge svg:not(:root){overflow:visible}.wj-gauge g{cursor:inherit}.wj-radialgauge .wj-value{font-size:150%}.wj-lineargauge{height:1.2em}.wj-lineargauge .wj-value{fill:#fff}.wj-barcode{display:inline-block;height:60px}.wj-barcode.wj-state-invalid{border:1.2px solid red}.wj-barcode-qrcode{height:100px;width:100px}.wj-barcode-ean8{width:85px}.wj-barcode-ean13{width:140px}.wj-barcode-upca{width:115px}.wj-barcode-upce0,.wj-barcode-upce1{width:70px}.wj-barcode-gs1databar-omnidirectional,.wj-barcode-gs1databar-truncated{width:100px}.wj-barcode-gs1databar-stacked,.wj-barcode-gs1databar-stacked-omnidirectional{width:60px}.wj-barcode-gs1databar-limited{width:85px}.wj-barcode-micropdf417{width:105px}.wj-barcode-datamatrix{height:85px;width:85px}.wj-barcode-code49{width:85px}.wj-barcode-itf14{width:170px}.wj-barcode-japanese-postal{height:40px;width:140px}.wj-flexsheet{background:#a9a9a9;height:100%;width:100%}.wj-flexsheet .wj-content{border-color:#ccc;border-radius:0;outline:0}.wj-flexsheet .wj-header-row{background:#96abb4!important;color:#fff!important}.wj-flexsheet .wj-cell.wj-state-multi-selected{background:#e6e6e6;border-bottom:1px solid #bbb;border-right:1px solid #bbb;color:#222}.wj-flexsheet .wj-state-selected .wj-flexsheet-formula-description{color:#fff}.wj-flexsheet .wj-tabholder{background:#b8b8b8;min-width:100px;width:100%}.wj-flexsheet .wj-tabholder span.wj-sheet-icon{margin:0 14px}.wj-flexsheet .wj-tabholder div.wj-sheet-page.wj-btn-group{border:0}.wj-flexsheet .wj-tabholder div.wj-sheet-page.wj-btn-group>button{background:#e4e5e8;border:0;color:#727275;min-height:0;padding:1px 0 0}.wj-flexsheet .wj-tabholder div.wj-sheet-page.wj-btn-group>button:hover{background:#d2d3d8}.wj-flexsheet .wj-tabholder .wj-sheet-tab ul{display:inline-block;float:left;margin:0;padding:0}.wj-flexsheet .wj-tabholder .wj-sheet-tab ul li{background:#d2d3d8;border-left:1px solid #b8b8b8;color:#727275;cursor:pointer;display:block;float:left;font-size:11px;margin-top:1px;min-height:20px;padding-left:20px;padding-right:20px;padding-top:2px;text-align:center}.wj-flexsheet .wj-tabholder .wj-sheet-tab ul li.active{background:#fff;border-left:1px solid #b8b8b8;border-top-color:transparent;cursor:default;font-weight:700;height:100%;margin-top:1px}.wj-flexsheet .wj-tabholder .wj-sheet-tab ul li.hidden{display:none}.wj-flexsheet .wj-tabholder .wj-sheet-tab ul li:not(.active):hover{background:#aabcd6;color:#fff;cursor:pointer}.wj-flexsheet .wj-tabholder .wj-sheet-tab ul li .wj-new-sheet:hover{background:#0085c7}.wj-flexsheet .wj-tabholder .wj-sheet-tab ul li .wj-sheet-name-editor{background:inherit;border:0;color:inherit;height:100%;margin:0;overflow:hidden;padding:0;resize:none}.wj-flexsheet .wj-tabholder .wj-new-sheet{background:#668eb9;color:#fff;font-size:11px;height:20px;padding:0;text-align:center;width:32px}.wj-flexsheet .wj-tabholder .wj-new-sheet .wj-sheet-icon{color:#727275;margin-top:5px}.wj-flexsheet .wj-tabholder .wj-sheet>div{display:block;float:left}.wj-flexsheet .wj-flexchart{background:#fff;border:1px solid rgba(0,0,0,.2)}.wj-flexsheet.wj-rtl div.wj-sheet>div{float:right}.wj-flexsheet-formula-list{background:#fff;border:1px solid rgba(0,0,0,.2);box-shadow:0 2px 4px rgba(0,0,0,.2);font-family:arial,sans-serif;font-size:12px;line-height:22px;margin:0;padding:0;position:absolute;width:300px;z-index:2001}.wj-flexsheet-formula-list .wj-flexsheet-formula-name{color:#222;font-family:inconsolata,monospace,arial,sans,sans-serif;font-size:13px;margin:-2px 0}.wj-flexsheet-formula-list .wj-flexsheet-formula-description{color:#666;display:block;font-size:11px;margin:-2px 0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.wj-flexsheet-formula-list .wj-listbox-item.wj-state-selected>*{color:#fff}.wj-flexsheet-context-menu{background:#fff;border:thin solid gray;cursor:default;padding:3px 0}.wj-flexsheet-context-menu .wj-context-menu-item{padding:3px 10px}.wj-flexsheet-context-menu .wj-context-menu-item:not(.wj-context-menu-item-selected):hover{background:rgba(0,0,0,.1)}.wj-flexsheet-context-menu .wj-context-menu-item-selected{background:#0085c7;color:#fff}.wj-flexsheet-smart-tag{background:#fff;border:1px solid #ababab;height:18px;margin:0;outline:0;padding:0;position:absolute}.wj-multirow .wj-cell.wj-record-end:not(.wj-header){border-bottom-color:#787878}.wj-multirow .wj-cell.wj-group-end{border-right-color:#787878}.wj-multirow .wj-cell.wj-center-vert{display:table;padding-bottom:0;padding-top:0;table-layout:fixed}.wj-multirow .wj-cell.wj-center-vert div{display:table-cell;overflow:inherit;text-overflow:inherit;vertical-align:middle;width:100%}.wj-multirow .wj-cell.wj-center-vert .wj-viewer .wj-control div.wj-btn-glyph.wj-elem-detail.wj-applybutton,.wj-multirow .wj-cell.wj-center-vert div.wj-btn.wj-btn-glyph.wj-elem-detail,.wj-viewer .wj-control .wj-multirow .wj-cell.wj-center-vert div.wj-btn-glyph.wj-elem-detail.wj-applybutton{padding-top:4px;vertical-align:top}.wj-multirow .wj-hdr-collapse{color:#0085c7;opacity:.5;padding:6px;position:absolute;right:0;top:0}.wj-multirow .wj-hdr-collapse:hover{opacity:1}.wj-transposed-multirow .wj-cell.wj-record-end:not(.wj-header){border-right-color:#787878}.wj-transposed-multirow .wj-cell.wj-group-end{border-bottom-color:#787878}.wj-pivotpanel{min-height:25em;overflow:auto;padding:3px 6px;position:relative;width:100%}.wj-pivotpanel table{table-layout:fixed;width:100%}.wj-pivotpanel div{width:100%}.wj-pivotpanel td,.wj-pivotpanel tr{border:1px #e0e0e0;padding:3px}.wj-pivotpanel label{display:block;font-weight:700;margin:0}.wj-pivotpanel .wj-marker{background:#0085c7;opacity:.5;pointer-events:none;position:absolute}.wj-pivotpanel .wj-flexgrid{background:inherit;border:0;border-radius:0;margin-left:6px;max-height:20em;min-height:8em}.wj-pivotpanel .wj-flexgrid .wj-cell{background:inherit;border:0;color:inherit}.wj-pivotpanel .wj-flexgrid .wj-cell.wj-group{background:inherit;color:inherit}.wj-pivotpanel .wj-flexgrid .wj-cell.wj-group:not(.wj-header):hover{background:rgba(0,0,0,.05);border-radius:4px}.wj-pivotpanel .wj-flexgrid .wj-cell label{font-weight:400;margin:0}.wj-pivotpanel .wj-flexgrid .wj-cell label input[type=checkbox]{margin:0}.wj-pivotpanel .wj-flexgrid .wj-glyph-filter{cursor:default;opacity:.5}.wj-pivotpanel .wj-flexgrid .wj-glyph-dimension,.wj-pivotpanel .wj-flexgrid .wj-glyph-measure{cursor:default}.wj-pivotpanel .wj-flexgrid .wj-aggregate{font-size:80%;opacity:.5}.wj-pivotpanel table .wj-flexgrid{height:5em;min-height:5em;width:95%}.wj-pivotfieldeditor{min-width:400px}.wj-pivotfieldeditor tr.wj-separator{border-top:10px solid transparent}.wj-pivotfieldeditor td:first-child{padding-right:.5em;text-align:right}.wj-pivotfiltereditor{min-width:230px;padding:10px}.wj-pivotfiltereditor .wj-control{margin-bottom:6px;width:100%}.wj-pivotfiltereditor .wj-listbox{max-height:150px}.wj-pivotfiltereditor .wj-listbox .wj-listbox-item label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.wj-olap-context-menu{font-size:90%;padding:6px}.wj-olap-context-menu .menu-icon{display:inline-block;margin-right:6px;opacity:.75;text-align:center;width:1em}.wj-olap-context-menu .menu-icon.menu-icon-remove{color:maroon;font-weight:700}.wj-detaildialog{height:55vh;min-height:20em;min-width:15em;width:60vw}.wj-detaildialog>div{display:flex;flex-direction:column;height:100%}.wj-detaildialog>div .wj-dialog-footer,.wj-detaildialog>div .wj-dialog-header{flex-basis:auto;flex-grow:0;flex-shrink:0}.wj-detaildialog>div .wj-dialog-body{display:flex;flex-basis:auto;flex-direction:column;flex-grow:1;flex-shrink:1}.wj-detaildialog>div .wj-dialog-body .wj-summary{flex-basis:auto;flex-grow:0;flex-shrink:0}.wj-detaildialog>div .wj-dialog-body .wj-flexgrid{flex-basis:0;flex-grow:1;flex-shrink:1}.wj-pivotgrid .wj-cell.wj-aggregate{font-weight:700}.wj-pivotgrid .wj-cell.wj-aggregate:not(.wj-header):not(.wj-group):not(.wj-state-selected):not(.wj-state-multi-selected){background:#d9edf7}.wj-pivotgrid .wj-cell.wj-align-vcenter{align-items:center;align-items:safe center;display:flex;padding-bottom:0;padding-top:0}.wj-pivotgrid .wj-cell.wj-align-vcenter.wj-align-right{justify-content:flex-end}.wj-pivotgrid .wj-cell.wj-align-vcenter.wj-align-center{justify-content:center}.wj-pivotgrid .wj-topleft .wj-cell.wj-col-field-hdr{justify-content:flex-end;text-align:right}.wj-pivotgrid .wj-colheaders .wj-cell.wj-header{justify-content:center;text-align:center}.wj-pivotgrid .wj-pivot-collapse{cursor:pointer;display:inline;margin-right:4px}.wj-pivotchart{position:relative}.wj-pivotchart .wj-dropdown{margin-right:15px;position:absolute;z-index:999}.wj-pivotchart .wj-flexchart{padding:35px 15px 10px}.wj-slicer>div{display:flex;flex-direction:column;height:100%;max-height:inherit}.wj-slicer .wj-header{align-items:center;display:flex;flex-shrink:0}.wj-slicer .wj-header div:first-child{flex-grow:1;padding:6px}.wj-slicer .wj-header .wj-btn.wj-state-active,.wj-slicer .wj-header .wj-viewer .wj-control .wj-state-active.wj-applybutton,.wj-viewer .wj-control .wj-slicer .wj-header .wj-state-active.wj-applybutton{background:rgba(0,0,0,.2)}.wj-slicer .wj-listbox{border:0;border-radius:0}.wj-slicer .wj-listbox .wj-listbox-item label{width:100%}.wj-slicer.wj-nocheck .wj-listbox .wj-listbox-item{border:2px solid transparent;border-radius:4px;margin:4px;padding:6px}.wj-slicer.wj-nocheck .wj-listbox .wj-listbox-item.wj-state-checked:not(:hover){background-color:#0085c7;color:#fff}.wj-slicer.wj-nocheck .wj-listbox .wj-listbox-item.wj-state-selected{border-color:#80adbf}.wj-slicer.wj-nocheck .wj-listbox .wj-listbox-item.wj-state-selected:not(.wj-state-checked){background-color:transparent;color:#000}.wj-slicer.wj-nocheck .wj-listbox .wj-listbox-item input{display:none}.wj-viewer{height:750px}.wj-viewer .wj-viewer-outer{display:block;height:100%;padding-top:50px;position:relative;width:100%}.wj-viewer .wj-viewer-outer input{background:#fff;color:#000}.wj-viewer .wj-viewer-container{height:100%;width:100%}.wj-viewer .wj-viewer-leftpanel{float:left;height:100%}.wj-viewer .wj-viewer-splitter{cursor:pointer;float:left;height:100%;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.wj-viewer .wj-viewer-splitter button{background:#fafafa;border:1px solid #c8c8c8;border-bottom:none;border-top:none;height:100%;min-width:12px;padding:0 2px}.wj-viewer .wj-viewer-splitter button:hover{background:#dadada}.wj-viewer .wj-viewer-splitter span{text-align:center}.wj-viewer .wj-viewpanel-container{height:100%;overflow:hidden;position:relative;width:100%}.wj-viewer .wj-viewpanel-container.move .wj-view-page{cursor:move;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.wj-viewer .wj-viewpanel-container.magnifier-actived .wj-view-page,.wj-viewer .wj-viewpanel-container.rubberband-actived .wj-view-page{cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.wj-viewer .wj-viewpanel-container.magnifier-actived .wj-view-page svg,.wj-viewer .wj-viewpanel-container.rubberband-actived .wj-view-page svg{pointer-events:none}.wj-viewer .wj-viewpanel-container.magnifier-actived .wj-magnifier.show,.wj-viewer .wj-viewpanel-container.rubberband-actived .wj-rubberband.show{display:block}.wj-viewer .wj-pageview{-webkit-overflow-scrolling:touch;background:#e5e5e5;height:100%;outline:0;position:relative;text-align:center;width:100%}.wj-viewer .wj-pageview.hidden{display:none;visibility:hidden}.wj-viewer .wj-pageview-continuous{overflow:auto}.wj-viewer .wj-pageview-single:not(.virtual) .wj-pageview-pagescontainer{overflow-y:auto}.wj-viewer .wj-pageview-single:not(.virtual) .wj-pageview-vscroller{visibility:hidden}.wj-viewer .wj-pageview-pagescontainer{display:inline-block;height:100%;outline:0;overflow-x:auto;overflow-y:scroll;position:relative;text-align:center;width:100%}.wj-viewer.wj-state-disabled .wj-pageview,.wj-viewer.wj-state-disabled .wj-pageview .wj-pageview-pagescontainer{overflow-y:hidden}.wj-viewer .wj-pages-wrapper{display:inline-block;margin:30px}.wj-viewer .wj-view-page{background:#fff;border:1px solid rgba(0,0,0,.3);box-shadow:0 2px 8px rgba(0,0,0,.15);height:1px;margin:0 auto 30px;width:1px}.wj-viewer .wj-view-page .wj-loading{background:hsla(0,0%,80%,.8);height:100%;white-space:nowrap;width:100%;word-break:keep-all}.wj-viewer .wj-view-page .highlight{fill:#0085c7;fill-opacity:.5}.wj-viewer .wj-view-page rect{pointer-events:none}.wj-viewer .wj-view-page a rect,.wj-viewer .wj-view-page rect[arsvg\\:data-action-type]{pointer-events:inherit}.wj-viewer .wj-view-page:last-child{margin-bottom:0}.wj-viewer .wj-pageview-vscroller{display:inline-block;float:right;height:100%;outline:0;overflow-x:hidden;overflow-y:scroll;position:absolute;right:0;top:0;width:18px}.wj-viewer .wj-vscroller-wrapper{width:1px}.wj-viewer .wj-toolbar{border-bottom:1px solid #c8c8c8;height:50px;margin-top:-50px;position:absolute;width:100%}.wj-viewer .wj-toolbar:hover .wj-toolbar-move.enabled{opacity:1}.wj-viewer .wj-toolbar a:focus,.wj-viewer .wj-toolbar a:hover{background:#eee;outline:0}.wj-viewer .wj-toolbar a:focus.checked,.wj-viewer .wj-toolbar a:focus.disabled,.wj-viewer .wj-toolbar a:hover.checked,.wj-viewer .wj-toolbar a:hover.disabled{background:0 0;cursor:default}.wj-viewer .wj-toolbar .wj-tabcontent,.wj-viewer .wj-toolbar>.wj-control,.wj-viewer .wj-viewer-leftpanel .wj-tabcontent,.wj-viewer .wj-viewer-leftpanel>.wj-control{background:inherit;color:inherit}.wj-viewer .wj-content:not(.mobile) .wj-toolbar.mobile{display:none}.wj-viewer .wj-toolbar-move{cursor:pointer;height:100%;opacity:.2;visibility:hidden;width:12px}.wj-viewer .wj-toolbar-move.left{float:left}.wj-viewer .wj-toolbar-move.right{float:right}.wj-viewer .wj-toolbar-move .wj-glyph-left,.wj-viewer .wj-toolbar-move .wj-glyph-right{margin-left:2px;margin-top:20px}.wj-viewer .wj-toolbarcontainer{float:left;height:100%;overflow:hidden}.wj-viewer .wj-toolbarwrapper{border:0;border-radius:0;height:100%;padding-top:5px;position:relative}.wj-viewer .wj-toolbarwrapper.wj-btn-group>:not(.wj-control){border-left:none;float:left;padding-left:0;padding-right:0;position:relative}.wj-viewer .wj-toolbarwrapper.wj-btn-group>.wj-separator{border-right:2px solid #000;float:left;height:33px;margin:3px 10px 0 0;opacity:.25;width:10px}.wj-viewer .wj-toolbarwrapper .wj-pagenumber{float:left;height:30px;margin:4px 10px;width:80px}.wj-viewer .wj-toolbarwrapper .wj-pagecount{float:left;height:30px;line-height:30px;margin:5px 10px}.wj-viewer .wj-toolbarwrapper .wj-input-zoom{float:left;height:30px;margin:4px 10px;width:100px}.wj-viewer .wj-toolbarwrapper .slash{float:left;height:40px;line-height:40px;width:10px}.wj-viewer .wj-toolbarwrapper .hidden{display:none}.wj-viewer .wj-mini-toolbar{background:#303030;border:0;bottom:2em;opacity:.8;padding:0 24px;position:absolute;vertical-align:bottom;visibility:hidden;width:auto}.wj-viewer .wj-control .wj-mini-toolbar .wj-btn-group>.wj-applybutton:focus,.wj-viewer .wj-mini-toolbar .wj-btn-group>.wj-btn:focus,.wj-viewer .wj-mini-toolbar .wj-control .wj-btn-group>.wj-applybutton:focus{background:0 0}.wj-viewer .wj-control .wj-mini-toolbar .wj-btn-group>.wj-applybutton:hover,.wj-viewer .wj-mini-toolbar .wj-btn-group>.wj-btn:hover,.wj-viewer .wj-mini-toolbar .wj-control .wj-btn-group>.wj-applybutton:hover{background:#555}.wj-viewer .wj-mini-toolbar .slash,.wj-viewer .wj-mini-toolbar .wj-pagecount{color:#e0e0e0}.wj-viewer .wj-mini-toolbar .wj-pagenumber{background:#202020;color:#e0e0e0}.wj-viewer .wj-mini-toolbar .wj-pagenumber input{background:0 0;color:inherit}.wj-viewer .wj-mini-toolbar .wj-toolbar-move{display:none;visibility:hidden}.wj-viewer .wj-control .wj-mini-toolbar .wj-applybutton:hover,.wj-viewer .wj-mini-toolbar .wj-btn:hover,.wj-viewer .wj-mini-toolbar .wj-control .wj-applybutton:hover{background:#606060}.wj-viewer .wj-control .wj-mini-toolbar .wj-btn-group .wj-applybutton svg.wj-svg-btn,.wj-viewer .wj-mini-toolbar .wj-btn-group .wj-btn svg.wj-svg-btn,.wj-viewer .wj-mini-toolbar .wj-btn-group .wj-control .wj-applybutton svg.wj-svg-btn{fill:#fff;opacity:1}.wj-viewer .wj-nav{border-bottom:0;float:left;list-style:none;margin-bottom:-1px;padding-left:0}.wj-viewer .wj-nav>li,.wj-viewer .wj-nav>li:not(:first-child){border:0}.wj-viewer .wj-nav>li.hidden{display:none}.wj-viewer .wj-nav>li>a{height:48px;width:48px}.wj-viewer .wj-nav>li>a:focus,.wj-viewer .wj-nav>li>a:hover{background:#eee;text-decoration:none}.wj-viewer .wj-arrow{display:none}.wj-viewer .wj-arrow .wj-insidearrow{border:7px solid transparent;border-right-color:#fafafa;height:0;position:absolute;right:-1px;top:17px;width:0;z-index:1000}.wj-viewer .wj-arrow .wj-outsidearrow{border:8px solid transparent;border-right-color:#c8c8c8;height:0;position:absolute;right:-1px;top:16px;width:0}.wj-viewer .wj-viewer-tabsleft{height:100%;position:relative}.wj-viewer .wj-viewer-tabsleft.collapsed .wj-tabcontent{visibility:collapse;width:0}.wj-viewer .wj-tabcontent{float:right;height:100%;width:auto}.wj-viewer .wj-tabcontent h3{color:inherit;font-family:-apple-system-font,Segoe UI Light,Segoe UI,Roboto,sans-serif;font-size:24px;line-height:1.1;margin-bottom:10px;margin-top:0}.wj-viewer .wj-tabcontent legend{color:inherit}.wj-viewer .wj-tabcontent .active{border-left:1px solid #c8c8c8;display:block;height:100%;left:0;width:300px}.wj-viewer .wj-tabcontent .wj-tabpane .wj-tabcontent-inner{border-top:1px solid #c8c8c8;height:100%;overflow:auto}.wj-viewer .wj-tabpane{background:#fafafa;display:none}.wj-viewer .wj-tabtitle-wrapper{padding:10px;position:absolute;width:299px}.wj-viewer .wj-tabtitle-wrapper .wj-close{cursor:pointer;font-size:30pt;font-weight:700;line-height:.9em;opacity:.5;position:absolute;right:.3em;top:.2em}.wj-viewer .wj-tabtitle-wrapper .wj-close:hover{opacity:.75}.wj-viewer .wj-tabtitle-wrapper .wj-exportcontainer label{margin-right:8px}.wj-viewer .wj-tabcontent-wrapper{height:100%;padding-top:48px}.wj-viewer .wj-tabcontent-wrapper.search-wrapper{padding-top:202px}.wj-viewer .wj-tabcontent-wrapper.wj-exportformats-wrapper{padding-top:120px}.wj-viewer .wj-tabcontent-wrapper.wj-exportformats-wrapper .wj-export-editor{width:100%}.wj-viewer .wj-tabcontent-wrapper.wj-exportformats-wrapper .wj-export-editor td{font-size:8pt}.wj-viewer .wj-tabcontent-wrapper.wj-exportformats-wrapper .wj-export-editor td:first-child{width:200px}.wj-viewer .wj-tabcontent-wrapper.wj-exportformats-wrapper .wj-export-editor td:last-child{width:150px}.wj-viewer .wj-tabcontent-wrapper.wj-exportformats-wrapper .wj-export-editor .wj-exportformats-group{margin:8px}.wj-viewer .wj-tabcontent-wrapper.wj-exportformats-wrapper .wj-exportformats-footer{padding:8px}.wj-viewer .wj-outlines-tree{background:#fafafa;border:0;border-radius:0;display:block;padding-left:4px;padding-top:20px;width:100%}.wj-viewer .wj-cell{background:#fafafa;border:0;color:#000;cursor:pointer}.wj-viewer .wj-cell span{margin-right:5px}.wj-viewer .wj-cell a:hover,.wj-viewer .wj-cell a:link,.wj-viewer .wj-cell a:visited{color:#000;text-decoration:none}.wj-viewer .wj-cell.wj-state-selected{background:#eee;color:#000}.wj-viewer .wj-cell.wj-state-multi-selected{background:#fafafa;color:#000}.wj-viewer .wj-cell.wj-header{background:#000;border:0;color:#fff;font-weight:700}.wj-viewer .wj-cell.wj-alt:not(.wj-state-selected):not(.wj-state-multi-selected),.wj-viewer .wj-cell.wj-group:not(.wj-state-selected):not(.wj-state-multi-selected){background:#fafafa;color:#000}.wj-viewer .wj-thumbnaillist{background:inherit;border:0;border-radius:0;color:inherit;display:block;width:100%}.wj-viewer .wj-thumbnail-item{height:auto;padding-top:35px;text-align:center}.wj-viewer .wj-thumbnail-item .wj-pagethumbnail{background:#fff;border:1px solid #c8c8c8;cursor:pointer;margin:0 auto 10px;outline:0}.wj-viewer .wj-thumbnail-item.wj-state-selected{background:0 0;color:inherit}.wj-viewer .wj-thumbnail-item.wj-state-selected .wj-pagethumbnail{border-color:#0085c7}.wj-viewer .wj-thumbnail-item:not(.wj-state-selected):not(.wj-state-disabled):not(.wj-separator):hover{background:0 0;color:inherit}.wj-viewer .wj-parameterscontainer{float:left;padding-left:10px;padding-right:10px;width:100%}.wj-viewer .wj-parameterscontainer.wj-parametererrors-hidden .wj-parametercontainer .error{display:none}.wj-viewer .wj-parametercontainer{float:left;margin-top:20px}.wj-viewer .wj-parametercontainer .wj-parametercontrol{width:100%}.wj-viewer .wj-parametercontainer .error{color:red;float:right}.wj-viewer .wj-parametercontainer textarea{float:right;height:100px;resize:none;width:140px}.wj-viewer .wj-searchoption{float:left;margin-top:10px;width:100%}.wj-viewer .wj-searchoption input{float:left;height:16px;margin:2px 0 0;width:16px}.wj-viewer .wj-searchoption label{float:left;font-weight:400;margin-top:2px}.wj-viewer .wj-searchresult{float:left;padding-top:15px}.wj-viewer .wj-searchresultlist{background:0 0;border:0;border-radius:0;color:#444;float:left;padding:10px;width:100%}.wj-viewer .wj-searchresultlist .wj-search-item{cursor:pointer}.wj-viewer .wj-searchresultlist .wj-search-item .wj-search-text{font-size:125%}.wj-viewer .wj-searchresultlist .wj-search-item:not(.wj-state-selected):not(:hover) .wj-search-text{color:#1e1e1e}.wj-viewer .wj-control .wj-applybutton{border-radius:4px;float:right;margin-top:20px;padding:4px 1em}.wj-viewer .wj-searchbar{border-top:1px solid #c8c8c8;height:50px;margin:0 auto;position:relative;width:100%}.wj-viewer .wj-searchbar.hidden{display:none;visibility:hidden}.wj-viewer .wj-searchbox{border:1px solid rgba(0,0,0,.2);border-radius:4px;border-right:4.75em solid #eee;padding:4px 6px 3px;width:100%}.wj-viewer .mobile .wj-searchbox{border-right-width:1px}.wj-viewer .mobile .wj-searchcontainer .wj-btn-group>.wj-btn-search{padding-top:4px}.wj-viewer .wj-searchcontainer{padding-top:4px;position:relative}.wj-viewer .wj-searchcontainer .wj-btn-group{position:absolute;right:.1em}.wj-viewer .wj-searchcontainer .wj-btn-group>.wj-btn-search{padding-top:4px}.wj-viewer .wj-searchcontainer .wj-btn-group button{background:0 0;border:0;height:30px;padding:1px;width:30px}.wj-viewer .wj-toolbarcontainer,.wj-viewer .wj-toolbarwrapper{width:100%}.wj-viewer .wj-control .wj-toolbarwrapper>.wj-applybutton,.wj-viewer .wj-toolbarwrapper>.wj-btn{display:inline-block}.wj-viewer .wj-control .wj-toolbarwrapper>.hidden.wj-applybutton,.wj-viewer .wj-toolbarwrapper>.wj-btn.hidden{display:none}.wj-viewer .wj-toolbarwrapper .wj-searchbtn-groups{float:right;padding-top:0;width:auto}.wj-viewer .wj-magnifier,.wj-viewer .wj-rubberband{border:solid;border-color:#0085c7;border-width:2px;display:none;position:absolute;z-index:1}.wj-viewer .wj-magnifier{cursor:default;height:150px;overflow:hidden;pointer-events:none;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;width:242px}.wj-viewer .wj-magnifier .wj-view-page{position:absolute}.wj-viewer .wj-viewer-footer{border-top:1px solid #c8c8c8;display:none;height:50px;position:relative;width:100%}.wj-viewer .wj-viewer-footer .wj-toolbar{left:0;margin:0 auto;right:0}.wj-viewer .wj-viewer-footer .wj-close{color:#000;cursor:pointer;float:right;font-size:30pt;font-weight:700;line-height:20px;margin-top:12px;opacity:.2}.wj-viewer .wj-btn-group{border:0}.wj-viewer .wj-btn-group>.wj-btn,.wj-viewer .wj-control .wj-btn-group>.wj-applybutton{background:0 0;height:36px;margin:0;padding:8px;width:34px}.wj-viewer .wj-btn-group>li>a.wj-btn,.wj-viewer .wj-control .wj-btn-group>li>a.wj-applybutton{background:0 0;padding:12px 10px}.wj-viewer .wj-btn-group>li>a.wj-btn:focus,.wj-viewer .wj-btn-group>li>a.wj-btn:hover,.wj-viewer .wj-control .wj-btn-group>li>a.wj-applybutton:focus,.wj-viewer .wj-control .wj-btn-group>li>a.wj-applybutton:hover{background:#e1e1e1}.wj-viewer .wj-viewer-loading{background:hsla(0,0%,80%,.8);font-size:20pt;height:100%;left:0;position:absolute;text-align:center;top:0;width:100%}.wj-viewer .wj-viewer-loading .verticalalign{display:inline-block;height:100%;margin-left:-1px;vertical-align:middle;width:1px}.wj-viewer .wj-viewer-loading .textspan{display:inline-block;padding:20px;vertical-align:middle}.wj-viewer .wj-viewer-loading.errormessage{font-size:inherit}.wj-viewer .mobile.with-footer,.wj-viewer .mobile.with-searchbar{padding-bottom:50px}.wj-viewer .mobile.with-footer.with-searchbar{padding-bottom:100px}.wj-viewer .mobile .wj-viewer-leftpanel{width:0}.wj-viewer .mobile .wj-toolbar,.wj-viewer .mobile .wj-viewer-splitter{display:none;visibility:hidden}.wj-viewer .mobile .wj-toolbar .wj-pagenumber{width:50px}.wj-viewer .mobile .wj-toolbar .wj-pagecount{margin:5px 7px}.wj-viewer .mobile .wj-toolbar .wj-toolbar-move{display:none;visibility:hidden}.wj-viewer .mobile .wj-toolbar.mobile{display:block}.wj-viewer .mobile .wj-toolbar.mobile.hidden{display:none}.wj-viewer .mobile .wj-nav{display:none;visibility:hidden}.wj-viewer .mobile .wj-viewer-tabsleft{position:absolute;top:0;width:100%;z-index:1000}.wj-viewer .mobile .wj-viewer-tabsleft.collapsed{width:0}.wj-viewer .mobile .wj-tabcontent,.wj-viewer .mobile .wj-tabcontent .wj-tabpane .wj-pagesetupcontainer{width:100%}.wj-viewer .mobile .wj-tabcontent .wj-tabpane .wj-tabtitle-wrapper{padding:10px 20px 20px;position:absolute;width:100%}.wj-viewer .mobile .wj-tabcontent .active{border:1px solid #c8c8c8;display:block;height:100%;left:0;width:100%}.wj-viewer .mobile .wj-viewer-footer{display:block}.wj-viewer .mobile .wj-viewer-footer.hidden{display:none}.wj-viewer .mobile .wj-btn-group>.wj-btn,.wj-viewer .mobile .wj-control .wj-btn-group>.wj-applybutton,.wj-viewer .wj-control .mobile .wj-btn-group>.wj-applybutton{padding-top:9px}.wj-viewer .mobile .mobile{visibility:visible}.wj-viewer.full-screen{display:block;height:100%;left:0;position:fixed;top:0;width:100%;z-index:1200}.wj-viewer.full-screen .wj-viewer-outer{display:block;height:100%;padding-top:0;position:absolute;width:100%}.wj-viewer.full-screen .wj-viewer-outer.mobile{padding-top:50px}.wj-viewer.full-screen .wj-viewer-outer.mobile .wj-toolbar{display:block}.wj-viewer.full-screen .wj-viewer-outer.mobile .wj-mini-toolbar{display:none;visibility:hidden}.wj-viewer.full-screen .wj-viewer-outer.mobile .wj-viewer-leftpanel{display:block}.wj-viewer.full-screen .wj-toolbar,.wj-viewer.full-screen .wj-viewer-leftpanel,.wj-viewer.full-screen .wj-viewer-outer.mobile .wj-searchbar.hidden,.wj-viewer.full-screen .wj-viewer-splitter{display:none}.wj-viewer.full-screen .wj-mini-toolbar{display:inline-block;visibility:visible}.wj-viewer.narrow .wj-viewer-leftpanel,.wj-viewer.narrow .wj-viewer-splitter{display:none;visibility:hidden}.wj-viewer.wj-control{user-select:inherit;-webkit-user-select:inherit;-moz-user-select:inherit;-ms-user-select:inherit}.wj-viewer .wj-btn-group .wj-btn svg.wj-svg-btn,.wj-viewer .wj-btn-group .wj-control .wj-applybutton svg.wj-svg-btn,.wj-viewer .wj-control .wj-btn-group .wj-applybutton svg.wj-svg-btn{fill:#444;stroke:#444}.wj-viewer .wj-btn-group .wj-btn.wj-state-active svg.wj-svg-btn,.wj-viewer .wj-btn-group .wj-control .wj-state-active.wj-applybutton svg.wj-svg-btn,.wj-viewer .wj-control .wj-btn-group .wj-state-active.wj-applybutton svg.wj-svg-btn{fill:#3986c7;stroke:#3986c7;opacity:1}.wj-viewer .wj-btn-group .wj-btn:hover svg.wj-svg-btn,.wj-viewer .wj-btn-group .wj-control .wj-applybutton:hover svg.wj-svg-btn,.wj-viewer .wj-control .wj-btn-group .wj-applybutton:hover svg.wj-svg-btn{opacity:1}.wj-viewer .wj-control .wj-viewer-menu.wj-btn-group-vertical .wj-listbox-item.wj-state-active .wj-applybutton .wj-svg-btn,.wj-viewer-menu.wj-btn-group-vertical .wj-listbox-item.wj-state-active .wj-btn .wj-svg-btn,.wj-viewer-menu.wj-btn-group-vertical .wj-listbox-item.wj-state-active .wj-viewer .wj-control .wj-applybutton .wj-svg-btn{fill:#3986c7;opacity:1}.wj-viewer .wj-control .wj-viewer-menu.wj-btn-group-vertical .wj-listbox-item.wj-state-active .wj-applybutton .wj-svg-btn .wj-hollow-svg,.wj-viewer-menu.wj-btn-group-vertical .wj-listbox-item.wj-state-active .wj-btn .wj-svg-btn .wj-hollow-svg,.wj-viewer-menu.wj-btn-group-vertical .wj-listbox-item.wj-state-active .wj-viewer .wj-control .wj-applybutton .wj-svg-btn .wj-hollow-svg{fill:none;stroke:#3986c7}.wj-viewer-menu>.wj-listbox-item{padding:0 10px 10px;white-space:nowrap}.wj-viewer .wj-control .wj-viewer-menu>.wj-listbox-item a.wj-applybutton,.wj-viewer-menu>.wj-listbox-item .wj-viewer .wj-control a.wj-applybutton,.wj-viewer-menu>.wj-listbox-item a.wj-btn{background:0 0;transform:translateY(.4em)}.wj-viewer-menu>.wj-listbox-item .checkIcon{margin-right:5px;visibility:hidden;width:20px}.wj-viewer-menu>.wj-listbox-item.checked .checkIcon{visibility:visible}.wj-viewer-menu>.wj-listbox-item.hidden{display:none;visibility:hidden}.wj-viewer svg.wj-svg-btn,.wj-viewer-menu svg.wj-svg-btn{stroke-width:0;height:22px;opacity:.75;width:22px}body.full-screen{overflow:hidden}@media print{.wj-viewer .wj-toolbar-move{display:none;visibility:hidden}.wj-viewer .wj-viewpanel-container{display:inline-block;float:none}}.wj-flexchart .fibonacci-arcs path.wj-state-selected{stroke-dasharray:5 10;stroke-linecap:butt}',""]);const o=r},645:(t,e)=>{e.read=function(t,e,i,n,r){var o,s,a=8*r-n-1,l=(1<<a)-1,h=l>>1,u=-7,c=i?r-1:0,d=i?-1:1,f=t[e+c];for(c+=d,o=f&(1<<-u)-1,f>>=-u,u+=a;u>0;o=256*o+t[e+c],c+=d,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=n;u>0;s=256*s+t[e+c],c+=d,u-=8);if(0===o)o=1-h;else{if(o===l)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,n),o-=h}return(f?-1:1)*s*Math.pow(2,o-n)},e.write=function(t,e,i,n,r,o){var s,a,l,h=8*o-r-1,u=(1<<h)-1,c=u>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:o-1,p=n?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),(e+=s+c>=1?d/l:d*Math.pow(2,1-c))*l>=2&&(s++,l/=2),s+c>=u?(a=0,s=u):s+c>=1?(a=(e*l-1)*Math.pow(2,r),s+=c):(a=e*Math.pow(2,c-1)*Math.pow(2,r),s=0));r>=8;t[i+f]=255&a,f+=p,a/=256,r-=8);for(s=s<<r|a,h+=r;h>0;t[i+f]=255&s,f+=p,s/=256,h-=8);t[i+f-p]|=128*g}},5826:t=>{var e={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==e.call(t)}},5733:(t,e,i)=>{var n=i(8764).lW,r=i(4155);t.exports=function t(e,i,n){function r(s,a){if(!i[s]){if(!e[s]){if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var h=i[s]={exports:{}};e[s][0].call(h.exports,(function(t){return r(e[s][1][t]||t)}),h,h.exports,t,e,i,n)}return i[s].exports}for(var o=void 0,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(t,e,i){"use strict";var n=t("./utils"),r=t("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(t){for(var e,i,r,s,a,l,h,u=[],c=0,d=t.length,f=d,p="string"!==n.getTypeOf(t);c<t.length;)f=d-c,r=p?(e=t[c++],i=c<d?t[c++]:0,c<d?t[c++]:0):(e=t.charCodeAt(c++),i=c<d?t.charCodeAt(c++):0,c<d?t.charCodeAt(c++):0),s=e>>2,a=(3&e)<<4|i>>4,l=1<f?(15&i)<<2|r>>6:64,h=2<f?63&r:64,u.push(o.charAt(s)+o.charAt(a)+o.charAt(l)+o.charAt(h));return u.join("")},i.decode=function(t){var e,i,n,s,a,l,h=0,u=0,c="data:";if(t.substr(0,c.length)===c)throw new Error("Invalid base64 input, it looks like a data url.");var d,f=3*(t=t.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(t.charAt(t.length-1)===o.charAt(64)&&f--,t.charAt(t.length-2)===o.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(d=r.uint8array?new Uint8Array(0|f):new Array(0|f);h<t.length;)e=o.indexOf(t.charAt(h++))<<2|(s=o.indexOf(t.charAt(h++)))>>4,i=(15&s)<<4|(a=o.indexOf(t.charAt(h++)))>>2,n=(3&a)<<6|(l=o.indexOf(t.charAt(h++))),d[u++]=e,64!==a&&(d[u++]=i),64!==l&&(d[u++]=n);return d}},{"./support":30,"./utils":32}],2:[function(t,e,i){"use strict";var n=t("./external"),r=t("./stream/DataWorker"),o=t("./stream/Crc32Probe"),s=t("./stream/DataLengthProbe");function a(t,e,i,n,r){this.compressedSize=t,this.uncompressedSize=e,this.crc32=i,this.compression=n,this.compressedContent=r}a.prototype={getContentWorker:function(){var t=new r(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),e=this;return t.on("end",(function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),t},getCompressedWorker:function(){return new r(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},a.createWorkerFrom=function(t,e,i){return t.pipe(new o).pipe(new s("uncompressedSize")).pipe(e.compressWorker(i)).pipe(new s("compressedSize")).withStreamInfo("compression",e)},e.exports=a},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,e,i){"use strict";var n=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,e,i){"use strict";var n=t("./utils"),r=function(){for(var t,e=[],i=0;i<256;i++){t=i;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e}();e.exports=function(t,e){return void 0!==t&&t.length?"string"!==n.getTypeOf(t)?function(t,e,i,n){var o=r,s=n+i;t^=-1;for(var a=n;a<s;a++)t=t>>>8^o[255&(t^e[a])];return-1^t}(0|e,t,t.length,0):function(t,e,i,n){var o=r,s=n+i;t^=-1;for(var a=n;a<s;a++)t=t>>>8^o[255&(t^e.charCodeAt(a))];return-1^t}(0|e,t,t.length,0):0}},{"./utils":32}],5:[function(t,e,i){"use strict";i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,e,i){"use strict";var n=null;n="undefined"!=typeof Promise?Promise:t("lie"),e.exports={Promise:n}},{lie:37}],7:[function(t,e,i){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,r=t("pako"),o=t("./utils"),s=t("./stream/GenericWorker"),a=n?"uint8array":"array";function l(t,e){s.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}i.magic="\b\0",o.inherits(l,s),l.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(a,t.data),!1)},l.prototype.flush=function(){s.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},i.compressWorker=function(t){return new l("Deflate",t)},i.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,e,i){"use strict";function n(t,e){var i,n="";for(i=0;i<e;i++)n+=String.fromCharCode(255&t),t>>>=8;return n}function r(t,e,i,r,s,u){var c,d,f=t.file,p=t.compression,g=u!==a.utf8encode,_=o.transformTo("string",u(f.name)),m=o.transformTo("string",a.utf8encode(f.name)),w=f.comment,b=o.transformTo("string",u(w)),v=o.transformTo("string",a.utf8encode(w)),y=m.length!==f.name.length,x=v.length!==w.length,C="",j="",S="",E=f.dir,k=f.date,T={crc32:0,compressedSize:0,uncompressedSize:0};e&&!i||(T.crc32=t.crc32,T.compressedSize=t.compressedSize,T.uncompressedSize=t.uncompressedSize);var P=0;e&&(P|=8),g||!y&&!x||(P|=2048);var A=0,R=0;E&&(A|=16),"UNIX"===s?(R=798,A|=function(t,e){var i=t;return t||(i=e?16893:33204),(65535&i)<<16}(f.unixPermissions,E)):(R=20,A|=function(t){return 63&(t||0)}(f.dosPermissions)),c=k.getUTCHours(),c<<=6,c|=k.getUTCMinutes(),c<<=5,c|=k.getUTCSeconds()/2,d=k.getUTCFullYear()-1980,d<<=4,d|=k.getUTCMonth()+1,d<<=5,d|=k.getUTCDate(),y&&(j=n(1,1)+n(l(_),4)+m,C+="up"+n(j.length,2)+j),x&&(S=n(1,1)+n(l(b),4)+v,C+="uc"+n(S.length,2)+S);var O="";return O+="\n\0",O+=n(P,2),O+=p.magic,O+=n(c,2),O+=n(d,2),O+=n(T.crc32,4),O+=n(T.compressedSize,4),O+=n(T.uncompressedSize,4),O+=n(_.length,2),O+=n(C.length,2),{fileRecord:h.LOCAL_FILE_HEADER+O+_+C,dirRecord:h.CENTRAL_FILE_HEADER+n(R,2)+O+n(b.length,2)+"\0\0\0\0"+n(A,4)+n(r,4)+_+C+b}}var o=t("../utils"),s=t("../stream/GenericWorker"),a=t("../utf8"),l=t("../crc32"),h=t("../signature");function u(t,e,i,n){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=i,this.encodeFileName=n,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(u,s),u.prototype.push=function(t){var e=t.meta.percent||0,i=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,s.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:i?(e+100*(i-n-1))/i:100}}))},u.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var i=r(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:i.fileRecord,meta:{percent:0}})}else this.accumulate=!0},u.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,i=r(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(i.dirRecord),e)this.push({data:function(t){return h.DATA_DESCRIPTOR+n(t.crc32,4)+n(t.compressedSize,4)+n(t.uncompressedSize,4)}(t),meta:{percent:100}});else for(this.push({data:i.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},u.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var i=this.bytesWritten-t,r=function(t,e,i,r,s){var a=o.transformTo("string",s(r));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(t,2)+n(t,2)+n(e,4)+n(i,4)+n(a.length,2)+a}(this.dirRecords.length,i,t,this.zipComment,this.encodeFileName);this.push({data:r,meta:{percent:100}})},u.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},u.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()})),t.on("error",(function(t){e.error(t)})),this},u.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},u.prototype.error=function(t){var e=this._sources;if(!s.prototype.error.call(this,t))return!1;for(var i=0;i<e.length;i++)try{e[i].error(t)}catch(t){}return!0},u.prototype.lock=function(){s.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},e.exports=u},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,e,i){"use strict";var n=t("../compressions"),r=t("./ZipFileWorker");i.generateWorker=function(t,e,i){var o=new r(e.streamFiles,i,e.platform,e.encodeFileName),s=0;try{t.forEach((function(t,i){s++;var r=function(t,e){var i=t||e,r=n[i];if(!r)throw new Error(i+" is not a valid compression method !");return r}(i.options.compression,e.compression),a=i.options.compressionOptions||e.compressionOptions||{},l=i.dir,h=i.date;i._compressWorker(r,a).withStreamInfo("file",{name:t,dir:l,date:h,comment:i.comment||"",unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions}).pipe(o)})),o.entriesCount=s}catch(t){o.error(t)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,e,i){"use strict";function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var t=new n;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}(n.prototype=t("./object")).loadAsync=t("./load"),n.support=t("./support"),n.defaults=t("./defaults"),n.version="3.10.1",n.loadAsync=function(t,e){return(new n).loadAsync(t,e)},n.external=t("./external"),e.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,e,i){"use strict";var n=t("./utils"),r=t("./external"),o=t("./utf8"),s=t("./zipEntries"),a=t("./stream/Crc32Probe"),l=t("./nodejsUtils");function h(t){return new r.Promise((function(e,i){var n=t.decompressed.getContentWorker().pipe(new a);n.on("error",(function(t){i(t)})).on("end",(function(){n.streamInfo.crc32!==t.decompressed.crc32?i(new Error("Corrupted zip : CRC32 mismatch")):e()})).resume()}))}e.exports=function(t,e){var i=this;return e=n.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),l.isNode&&l.isStream(t)?r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then((function(t){var i=new s(e);return i.load(t),i})).then((function(t){var i=[r.Promise.resolve(t)],n=t.files;if(e.checkCRC32)for(var o=0;o<n.length;o++)i.push(h(n[o]));return r.Promise.all(i)})).then((function(t){for(var r=t.shift(),o=r.files,s=0;s<o.length;s++){var a=o[s],l=a.fileNameStr,h=n.resolve(a.fileNameStr);i.file(h,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:e.createFolders}),a.dir||(i.file(h).unsafeOriginalName=l)}return r.zipComment.length&&(i.comment=r.zipComment),i}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,e,i){"use strict";var n=t("../utils"),r=t("../stream/GenericWorker");function o(t,e){r.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}n.inherits(o,r),o.prototype._bindStream=function(t){var e=this;(this._stream=t).pause(),t.on("data",(function(t){e.push({data:t,meta:{percent:0}})})).on("error",(function(t){e.isPaused?this.generatedError=t:e.error(t)})).on("end",(function(){e.isPaused?e._upstreamEnded=!0:e.end()}))},o.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,e,i){"use strict";var n=t("readable-stream").Readable;function r(t,e,i){n.call(this,e),this._helper=t;var r=this;t.on("data",(function(t,e){r.push(t)||r._helper.pause(),i&&i(e)})).on("error",(function(t){r.emit("error",t)})).on("end",(function(){r.push(null)}))}t("../utils").inherits(r,n),r.prototype._read=function(){this._helper.resume()},e.exports=r},{"../utils":32,"readable-stream":16}],14:[function(t,e,i){"use strict";e.exports={isNode:void 0!==n,newBufferFrom:function(t,e){if(n.from&&n.from!==Uint8Array.from)return n.from(t,e);if("number"==typeof t)throw new Error('The "data" argument must not be a number');return new n(t,e)},allocBuffer:function(t){if(n.alloc)return n.alloc(t);var e=new n(t);return e.fill(0),e},isBuffer:function(t){return n.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}},{}],15:[function(t,e,i){"use strict";function n(t,e,i){var n,r=o.getTypeOf(e),a=o.extend(i||{},l);a.date=a.date||new Date,null!==a.compression&&(a.compression=a.compression.toUpperCase()),"string"==typeof a.unixPermissions&&(a.unixPermissions=parseInt(a.unixPermissions,8)),a.unixPermissions&&16384&a.unixPermissions&&(a.dir=!0),a.dosPermissions&&16&a.dosPermissions&&(a.dir=!0),a.dir&&(t=g(t)),a.createFolders&&(n=p(t))&&_.call(this,n,!0);var c="string"===r&&!1===a.binary&&!1===a.base64;i&&void 0!==i.binary||(a.binary=!c),(e instanceof h&&0===e.uncompressedSize||a.dir||!e||0===e.length)&&(a.base64=!1,a.binary=!0,e="",a.compression="STORE",r="string");var m=null;m=e instanceof h||e instanceof s?e:d.isNode&&d.isStream(e)?new f(t,e):o.prepareContent(t,e,a.binary,a.optimizedBinaryString,a.base64);var w=new u(t,m,a);this.files[t]=w}var r=t("./utf8"),o=t("./utils"),s=t("./stream/GenericWorker"),a=t("./stream/StreamHelper"),l=t("./defaults"),h=t("./compressedObject"),u=t("./zipObject"),c=t("./generate"),d=t("./nodejsUtils"),f=t("./nodejs/NodejsStreamInputAdapter"),p=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return 0<e?t.substring(0,e):""},g=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},_=function(t,e){return e=void 0!==e?e:l.createFolders,t=g(t),this.files[t]||n.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]};function m(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var w={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,i,n;for(e in this.files)n=this.files[e],(i=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(i,n)},filter:function(t){var e=[];return this.forEach((function(i,n){t(i,n)&&e.push(n)})),e},file:function(t,e,i){if(1!==arguments.length)return t=this.root+t,n.call(this,t,e,i),this;if(m(t)){var r=t;return this.filter((function(t,e){return!e.dir&&r.test(t)}))}var o=this.files[this.root+t];return o&&!o.dir?o:null},folder:function(t){if(!t)return this;if(m(t))return this.filter((function(e,i){return i.dir&&t.test(e)}));var e=this.root+t,i=_.call(this,e),n=this.clone();return n.root=i.name,n},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var i=this.filter((function(e,i){return i.name.slice(0,t.length)===t})),n=0;n<i.length;n++)delete this.files[i[n].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,i={};try{if((i=o.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:r.utf8encode})).type=i.type.toLowerCase(),i.compression=i.compression.toUpperCase(),"binarystring"===i.type&&(i.type="string"),!i.type)throw new Error("No output type specified.");o.checkSupport(i.type),"darwin"!==i.platform&&"freebsd"!==i.platform&&"linux"!==i.platform&&"sunos"!==i.platform||(i.platform="UNIX"),"win32"===i.platform&&(i.platform="DOS");var n=i.comment||this.comment||"";e=c.generateWorker(this,i,n)}catch(t){(e=new s("error")).error(t)}return new a(e,i.type||"string",i.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};e.exports=w},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,e,i){"use strict";e.exports=t("stream")},{stream:void 0}],17:[function(t,e,i){"use strict";var n=t("./DataReader");function r(t){n.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}t("../utils").inherits(r,n),r.prototype.byteAt=function(t){return this.data[this.zero+t]},r.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),i=t.charCodeAt(1),n=t.charCodeAt(2),r=t.charCodeAt(3),o=this.length-4;0<=o;--o)if(this.data[o]===e&&this.data[o+1]===i&&this.data[o+2]===n&&this.data[o+3]===r)return o-this.zero;return-1},r.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),i=t.charCodeAt(1),n=t.charCodeAt(2),r=t.charCodeAt(3),o=this.readData(4);return e===o[0]&&i===o[1]&&n===o[2]&&r===o[3]},r.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=r},{"../utils":32,"./DataReader":18}],18:[function(t,e,i){"use strict";var n=t("../utils");function r(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}r.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(){},readInt:function(t){var e,i=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)i=(i<<8)+this.byteAt(e);return this.index+=t,i},readString:function(t){return n.transformTo("string",this.readData(t))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},e.exports=r},{"../utils":32}],19:[function(t,e,i){"use strict";var n=t("./Uint8ArrayReader");function r(t){n.call(this,t)}t("../utils").inherits(r,n),r.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=r},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,e,i){"use strict";var n=t("./DataReader");function r(t){n.call(this,t)}t("../utils").inherits(r,n),r.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},r.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},r.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},r.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=r},{"../utils":32,"./DataReader":18}],21:[function(t,e,i){"use strict";var n=t("./ArrayReader");function r(t){n.call(this,t)}t("../utils").inherits(r,n),r.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=r},{"../utils":32,"./ArrayReader":17}],22:[function(t,e,i){"use strict";var n=t("../utils"),r=t("../support"),o=t("./ArrayReader"),s=t("./StringReader"),a=t("./NodeBufferReader"),l=t("./Uint8ArrayReader");e.exports=function(t){var e=n.getTypeOf(t);return n.checkSupport(e),"string"!==e||r.uint8array?"nodebuffer"===e?new a(t):r.uint8array?new l(n.transformTo("uint8array",t)):new o(n.transformTo("array",t)):new s(t)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,e,i){"use strict";i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\b"},{}],24:[function(t,e,i){"use strict";var n=t("./GenericWorker"),r=t("../utils");function o(t){n.call(this,"ConvertWorker to "+t),this.destType=t}r.inherits(o,n),o.prototype.processChunk=function(t){this.push({data:r.transformTo(this.destType,t.data),meta:t.meta})},e.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(t,e,i){"use strict";var n=t("./GenericWorker"),r=t("../crc32");function o(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(o,n),o.prototype.processChunk=function(t){this.streamInfo.crc32=r(t.data,this.streamInfo.crc32||0),this.push(t)},e.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,e,i){"use strict";var n=t("../utils"),r=t("./GenericWorker");function o(t){r.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}n.inherits(o,r),o.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}r.prototype.processChunk.call(this,t)},e.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(t,e,i){"use strict";var n=t("../utils"),r=t("./GenericWorker");function o(t){r.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then((function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=n.getTypeOf(t),e.isPaused||e._tickAndRepeat()}),(function(t){e.error(t)}))}n.inherits(o,r),o.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":case"nodebuffer":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(t,e,i){"use strict";function n(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var i=0;i<this._listeners[t].length;i++)this._listeners[t][i].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.end()})),t.on("error",(function(t){e.error(t)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var t=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},e.exports=n},{}],29:[function(t,e,i){"use strict";var r=t("../utils"),o=t("./ConvertWorker"),s=t("./GenericWorker"),a=t("../base64"),l=t("../support"),h=t("../external"),u=null;if(l.nodestream)try{u=t("../nodejs/NodejsStreamOutputAdapter")}catch(t){}function c(t,e){return new h.Promise((function(i,o){var s=[],l=t._internalType,h=t._outputType,u=t._mimeType;t.on("data",(function(t,i){s.push(t),e&&e(i)})).on("error",(function(t){s=[],o(t)})).on("end",(function(){try{var t=function(t,e,i){switch(t){case"blob":return r.newBlob(r.transformTo("arraybuffer",e),i);case"base64":return a.encode(e);default:return r.transformTo(t,e)}}(h,function(t,e){var i,r=0,o=null,s=0;for(i=0;i<e.length;i++)s+=e[i].length;switch(t){case"string":return e.join("");case"array":return Array.prototype.concat.apply([],e);case"uint8array":for(o=new Uint8Array(s),i=0;i<e.length;i++)o.set(e[i],r),r+=e[i].length;return o;case"nodebuffer":return n.concat(e);default:throw new Error("concat : unsupported type '"+t+"'")}}(l,s),u);i(t)}catch(t){o(t)}s=[]})).resume()}))}function d(t,e,i){var n=e;switch(e){case"blob":case"arraybuffer":n="uint8array";break;case"base64":n="string"}try{this._internalType=n,this._outputType=e,this._mimeType=i,r.checkSupport(n),this._worker=t.pipe(new o(n)),t.lock()}catch(t){this._worker=new s("error"),this._worker.error(t)}}d.prototype={accumulate:function(t){return c(this,t)},on:function(t,e){var i=this;return"data"===t?this._worker.on(t,(function(t){e.call(i,t.data,t.meta)})):this._worker.on(t,(function(){r.delay(e,arguments,i)})),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(r.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:"nodebuffer"!==this._outputType},t)}},e.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,e,i){"use strict";if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,i.nodebuffer=void 0!==n,i.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)i.blob=!1;else{var r=new ArrayBuffer(0);try{i.blob=0===new Blob([r],{type:"application/zip"}).size}catch(t){try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(r),i.blob=0===o.getBlob("application/zip").size}catch(t){i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch(t){i.nodestream=!1}},{"readable-stream":16}],31:[function(t,e,i){"use strict";for(var n=t("./utils"),r=t("./support"),o=t("./nodejsUtils"),s=t("./stream/GenericWorker"),a=new Array(256),l=0;l<256;l++)a[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function h(){s.call(this,"utf-8 decode"),this.leftOver=null}function u(){s.call(this,"utf-8 encode")}a[254]=a[254]=1,i.utf8encode=function(t){return r.nodebuffer?o.newBufferFrom(t,"utf-8"):function(t){var e,i,n,o,s,a=t.length,l=0;for(o=0;o<a;o++)55296==(64512&(i=t.charCodeAt(o)))&&o+1<a&&56320==(64512&(n=t.charCodeAt(o+1)))&&(i=65536+(i-55296<<10)+(n-56320),o++),l+=i<128?1:i<2048?2:i<65536?3:4;for(e=r.uint8array?new Uint8Array(l):new Array(l),o=s=0;s<l;o++)55296==(64512&(i=t.charCodeAt(o)))&&o+1<a&&56320==(64512&(n=t.charCodeAt(o+1)))&&(i=65536+(i-55296<<10)+(n-56320),o++),i<128?e[s++]=i:(i<2048?e[s++]=192|i>>>6:(i<65536?e[s++]=224|i>>>12:(e[s++]=240|i>>>18,e[s++]=128|i>>>12&63),e[s++]=128|i>>>6&63),e[s++]=128|63&i);return e}(t)},i.utf8decode=function(t){return r.nodebuffer?n.transformTo("nodebuffer",t).toString("utf-8"):function(t){var e,i,r,o,s=t.length,l=new Array(2*s);for(e=i=0;e<s;)if((r=t[e++])<128)l[i++]=r;else if(4<(o=a[r]))l[i++]=65533,e+=o-1;else{for(r&=2===o?31:3===o?15:7;1<o&&e<s;)r=r<<6|63&t[e++],o--;1<o?l[i++]=65533:r<65536?l[i++]=r:(r-=65536,l[i++]=55296|r>>10&1023,l[i++]=56320|1023&r)}return l.length!==i&&(l.subarray?l=l.subarray(0,i):l.length=i),n.applyFromCharCode(l)}(t=n.transformTo(r.uint8array?"uint8array":"array",t))},n.inherits(h,s),h.prototype.processChunk=function(t){var e=n.transformTo(r.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(r.uint8array){var o=e;(e=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),e.set(o,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var s=function(t,e){var i;for((e=e||t.length)>t.length&&(e=t.length),i=e-1;0<=i&&128==(192&t[i]);)i--;return i<0||0===i?e:i+a[t[i]]>e?i:e}(e),l=e;s!==e.length&&(r.uint8array?(l=e.subarray(0,s),this.leftOver=e.subarray(s,e.length)):(l=e.slice(0,s),this.leftOver=e.slice(s,e.length))),this.push({data:i.utf8decode(l),meta:t.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=h,n.inherits(u,s),u.prototype.processChunk=function(t){this.push({data:i.utf8encode(t.data),meta:t.meta})},i.Utf8EncodeWorker=u},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,e,i){"use strict";var n=t("./support"),r=t("./base64"),o=t("./nodejsUtils"),s=t("./external");function a(t){return t}function l(t,e){for(var i=0;i<t.length;++i)e[i]=255&t.charCodeAt(i);return e}t("setimmediate"),i.newBlob=function(t,e){i.checkSupport("blob");try{return new Blob([t],{type:e})}catch(i){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return n.append(t),n.getBlob(e)}catch(t){throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(t,e,i){var n=[],r=0,o=t.length;if(o<=i)return String.fromCharCode.apply(null,t);for(;r<o;)"array"===e||"nodebuffer"===e?n.push(String.fromCharCode.apply(null,t.slice(r,Math.min(r+i,o)))):n.push(String.fromCharCode.apply(null,t.subarray(r,Math.min(r+i,o)))),r+=i;return n.join("")},stringifyByChar:function(t){for(var e="",i=0;i<t.length;i++)e+=String.fromCharCode(t[i]);return e},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(t){return!1}}()}};function u(t){var e=65536,n=i.getTypeOf(t),r=!0;if("uint8array"===n?r=h.applyCanBeUsed.uint8array:"nodebuffer"===n&&(r=h.applyCanBeUsed.nodebuffer),r)for(;1<e;)try{return h.stringifyByChunk(t,n,e)}catch(t){e=Math.floor(e/2)}return h.stringifyByChar(t)}function c(t,e){for(var i=0;i<t.length;i++)e[i]=t[i];return e}i.applyFromCharCode=u;var d={};d.string={string:a,array:function(t){return l(t,new Array(t.length))},arraybuffer:function(t){return d.string.uint8array(t).buffer},uint8array:function(t){return l(t,new Uint8Array(t.length))},nodebuffer:function(t){return l(t,o.allocBuffer(t.length))}},d.array={string:u,array:a,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return o.newBufferFrom(t)}},d.arraybuffer={string:function(t){return u(new Uint8Array(t))},array:function(t){return c(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:a,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return o.newBufferFrom(new Uint8Array(t))}},d.uint8array={string:u,array:function(t){return c(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:a,nodebuffer:function(t){return o.newBufferFrom(t)}},d.nodebuffer={string:u,array:function(t){return c(t,new Array(t.length))},arraybuffer:function(t){return d.nodebuffer.uint8array(t).buffer},uint8array:function(t){return c(t,new Uint8Array(t.length))},nodebuffer:a},i.transformTo=function(t,e){if(e=e||"",!t)return e;i.checkSupport(t);var n=i.getTypeOf(e);return d[n][t](e)},i.resolve=function(t){for(var e=t.split("/"),i=[],n=0;n<e.length;n++){var r=e[n];"."===r||""===r&&0!==n&&n!==e.length-1||(".."===r?i.pop():i.push(r))}return i.join("/")},i.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":n.nodebuffer&&o.isBuffer(t)?"nodebuffer":n.uint8array&&t instanceof Uint8Array?"uint8array":n.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(t){if(!n[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(t){var e,i,n="";for(i=0;i<(t||"").length;i++)n+="\\x"+((e=t.charCodeAt(i))<16?"0":"")+e.toString(16).toUpperCase();return n},i.delay=function(t,e,i){setImmediate((function(){t.apply(i||null,e||[])}))},i.inherits=function(t,e){function i(){}i.prototype=e.prototype,t.prototype=new i},i.extend=function(){var t,e,i={};for(t=0;t<arguments.length;t++)for(e in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],e)&&void 0===i[e]&&(i[e]=arguments[t][e]);return i},i.prepareContent=function(t,e,o,a,h){return s.Promise.resolve(e).then((function(t){return n.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)))&&"undefined"!=typeof FileReader?new s.Promise((function(e,i){var n=new FileReader;n.onload=function(t){e(t.target.result)},n.onerror=function(t){i(t.target.error)},n.readAsArrayBuffer(t)})):t})).then((function(e){var u=i.getTypeOf(e);return u?("arraybuffer"===u?e=i.transformTo("uint8array",e):"string"===u&&(h?e=r.decode(e):o&&!0!==a&&(e=function(t){return l(t,n.uint8array?new Uint8Array(t.length):new Array(t.length))}(e))),e):s.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,e,i){"use strict";var n=t("./reader/readerFor"),r=t("./utils"),o=t("./signature"),s=t("./zipEntry"),a=t("./support");function l(t){this.files=[],this.loadOptions=t}l.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(e)+", expected "+r.pretty(t)+")")}},isSignature:function(t,e){var i=this.reader.index;this.reader.setIndex(t);var n=this.reader.readString(4)===e;return this.reader.setIndex(i),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=a.uint8array?"uint8array":"array",i=r.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(i)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,i,n=this.zip64EndOfCentralSize-44;0<n;)t=this.reader.readInt(2),e=this.reader.readInt(4),i=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:i}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(t=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(t<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(t);var e=t;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var n=e-i;if(0<n)this.isSignature(e,o.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw new Error("Corrupted zip: missing "+Math.abs(n)+" bytes.")},prepareReader:function(t){this.reader=n(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,e,i){"use strict";var n=t("./reader/readerFor"),r=t("./utils"),o=t("./compressedObject"),s=t("./crc32"),a=t("./utf8"),l=t("./compressions"),h=t("./support");function u(t,e){this.options=t,this.loadOptions=e}u.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,i;if(t.skip(22),this.fileNameLength=t.readInt(2),i=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(i),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in l)if(Object.prototype.hasOwnProperty.call(l,e)&&l[e].magic===t)return l[e];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==t&&(this.dosPermissions=63&this.externalFileAttributes),3==t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var t=n(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(t){var e,i,n,r=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index+4<r;)e=t.readInt(2),i=t.readInt(2),n=t.readData(i),this.extraFields[e]={id:e,length:i,value:n};t.setIndex(r)},handleUTF8:function(){var t=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var i=r.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(i)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var o=r.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=n(t.value);return 1!==e.readInt(1)||s(this.fileName)!==e.readInt(4)?null:a.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=n(t.value);return 1!==e.readInt(1)||s(this.fileComment)!==e.readInt(4)?null:a.utf8decode(e.readData(t.length-5))}return null}},e.exports=u},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,e,i){"use strict";function n(t,e,i){this.name=t,this.dir=i.dir,this.date=i.date,this.comment=i.comment,this.unixPermissions=i.unixPermissions,this.dosPermissions=i.dosPermissions,this._data=e,this._dataBinary=i.binary,this.options={compression:i.compression,compressionOptions:i.compressionOptions}}var r=t("./stream/StreamHelper"),o=t("./stream/DataWorker"),s=t("./utf8"),a=t("./compressedObject"),l=t("./stream/GenericWorker");n.prototype={internalStream:function(t){var e=null,i="string";try{if(!t)throw new Error("No output type specified.");var n="string"===(i=t.toLowerCase())||"text"===i;"binarystring"!==i&&"text"!==i||(i="string"),e=this._decompressWorker();var o=!this._dataBinary;o&&!n&&(e=e.pipe(new s.Utf8EncodeWorker)),!o&&n&&(e=e.pipe(new s.Utf8DecodeWorker))}catch(t){(e=new l("error")).error(t)}return new r(e,i,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof a&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var i=this._decompressWorker();return this._dataBinary||(i=i.pipe(new s.Utf8EncodeWorker)),a.createWorkerFrom(i,t,e)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof l?this._data:new o(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},c=0;c<h.length;c++)n.prototype[h[c]]=u;e.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,e,n){(function(t){"use strict";var i,n,r=t.MutationObserver||t.WebKitMutationObserver;if(r){var o=0,s=new r(u),a=t.document.createTextNode("");s.observe(a,{characterData:!0}),i=function(){a.data=o=++o%2}}else if(t.setImmediate||void 0===t.MessageChannel)i="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){u(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(u,0)};else{var l=new t.MessageChannel;l.port1.onmessage=u,i=function(){l.port2.postMessage(0)}}var h=[];function u(){var t,e;n=!0;for(var i=h.length;i;){for(e=h,h=[],t=-1;++t<i;)e[t]();i=h.length}n=!1}e.exports=function(t){1!==h.push(t)||n||i()}}).call(this,void 0!==i.g?i.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(t,e,i){"use strict";var n=t("immediate");function r(){}var o={},s=["REJECTED"],a=["FULFILLED"],l=["PENDING"];function h(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,t!==r&&f(this,t)}function u(t,e,i){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof i&&(this.onRejected=i,this.callRejected=this.otherCallRejected)}function c(t,e,i){n((function(){var n;try{n=e(i)}catch(n){return o.reject(t,n)}n===t?o.reject(t,new TypeError("Cannot resolve promise with itself")):o.resolve(t,n)}))}function d(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function f(t,e){var i=!1;function n(e){i||(i=!0,o.reject(t,e))}function r(e){i||(i=!0,o.resolve(t,e))}var s=p((function(){e(r,n)}));"error"===s.status&&n(s.value)}function p(t,e){var i={};try{i.value=t(e),i.status="success"}catch(t){i.status="error",i.value=t}return i}(e.exports=h).prototype.finally=function(t){if("function"!=typeof t)return this;var e=this.constructor;return this.then((function(i){return e.resolve(t()).then((function(){return i}))}),(function(i){return e.resolve(t()).then((function(){throw i}))}))},h.prototype.catch=function(t){return this.then(null,t)},h.prototype.then=function(t,e){if("function"!=typeof t&&this.state===a||"function"!=typeof e&&this.state===s)return this;var i=new this.constructor(r);return this.state!==l?c(i,this.state===a?t:e,this.outcome):this.queue.push(new u(i,t,e)),i},u.prototype.callFulfilled=function(t){o.resolve(this.promise,t)},u.prototype.otherCallFulfilled=function(t){c(this.promise,this.onFulfilled,t)},u.prototype.callRejected=function(t){o.reject(this.promise,t)},u.prototype.otherCallRejected=function(t){c(this.promise,this.onRejected,t)},o.resolve=function(t,e){var i=p(d,e);if("error"===i.status)return o.reject(t,i.value);var n=i.value;if(n)f(t,n);else{t.state=a,t.outcome=e;for(var r=-1,s=t.queue.length;++r<s;)t.queue[r].callFulfilled(e)}return t},o.reject=function(t,e){t.state=s,t.outcome=e;for(var i=-1,n=t.queue.length;++i<n;)t.queue[i].callRejected(e);return t},h.resolve=function(t){return t instanceof this?t:o.resolve(new this(r),t)},h.reject=function(t){var e=new this(r);return o.reject(e,t)},h.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var i=t.length,n=!1;if(!i)return this.resolve([]);for(var s=new Array(i),a=0,l=-1,h=new this(r);++l<i;)u(t[l],l);return h;function u(t,r){e.resolve(t).then((function(t){s[r]=t,++a!==i||n||(n=!0,o.resolve(h,s))}),(function(t){n||(n=!0,o.reject(h,t))}))}},h.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var i=t.length,n=!1;if(!i)return this.resolve([]);for(var s,a=-1,l=new this(r);++a<i;)s=t[a],e.resolve(s).then((function(t){n||(n=!0,o.resolve(l,t))}),(function(t){n||(n=!0,o.reject(l,t))}));return l}},{immediate:36}],38:[function(t,e,i){"use strict";var n={};(0,t("./lib/utils/common").assign)(n,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,e,i){"use strict";var n=t("./zlib/deflate"),r=t("./utils/common"),o=t("./utils/strings"),s=t("./zlib/messages"),a=t("./zlib/zstream"),l=Object.prototype.toString,h=0,u=-1,c=0,d=8;function f(t){if(!(this instanceof f))return new f(t);this.options=r.assign({level:u,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:c,to:""},t||{});var e=this.options;e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var i=n.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(i!==h)throw new Error(s[i]);if(e.header&&n.deflateSetHeader(this.strm,e.header),e.dictionary){var p;if(p="string"==typeof e.dictionary?o.string2buf(e.dictionary):"[object ArrayBuffer]"===l.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(i=n.deflateSetDictionary(this.strm,p))!==h)throw new Error(s[i]);this._dict_set=!0}}function p(t,e){var i=new f(e);if(i.push(t,!0),i.err)throw i.msg||s[i.err];return i.result}f.prototype.push=function(t,e){var i,s,a=this.strm,u=this.options.chunkSize;if(this.ended)return!1;s=e===~~e?e:!0===e?4:0,"string"==typeof t?a.input=o.string2buf(t):"[object ArrayBuffer]"===l.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new r.Buf8(u),a.next_out=0,a.avail_out=u),1!==(i=n.deflate(a,s))&&i!==h)return this.onEnd(i),!(this.ended=!0);0!==a.avail_out&&(0!==a.avail_in||4!==s&&2!==s)||("string"===this.options.to?this.onData(o.buf2binstring(r.shrinkBuf(a.output,a.next_out))):this.onData(r.shrinkBuf(a.output,a.next_out)))}while((0<a.avail_in||0===a.avail_out)&&1!==i);return 4===s?(i=n.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===h):2!==s||(this.onEnd(h),!(a.avail_out=0))},f.prototype.onData=function(t){this.chunks.push(t)},f.prototype.onEnd=function(t){t===h&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},i.Deflate=f,i.deflate=p,i.deflateRaw=function(t,e){return(e=e||{}).raw=!0,p(t,e)},i.gzip=function(t,e){return(e=e||{}).gzip=!0,p(t,e)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,e,i){"use strict";var n=t("./zlib/inflate"),r=t("./utils/common"),o=t("./utils/strings"),s=t("./zlib/constants"),a=t("./zlib/messages"),l=t("./zlib/zstream"),h=t("./zlib/gzheader"),u=Object.prototype.toString;function c(t){if(!(this instanceof c))return new c(t);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&0<=e.windowBits&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(0<=e.windowBits&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var i=n.inflateInit2(this.strm,e.windowBits);if(i!==s.Z_OK)throw new Error(a[i]);this.header=new h,n.inflateGetHeader(this.strm,this.header)}function d(t,e){var i=new c(e);if(i.push(t,!0),i.err)throw i.msg||a[i.err];return i.result}c.prototype.push=function(t,e){var i,a,l,h,c,d,f=this.strm,p=this.options.chunkSize,g=this.options.dictionary,_=!1;if(this.ended)return!1;a=e===~~e?e:!0===e?s.Z_FINISH:s.Z_NO_FLUSH,"string"==typeof t?f.input=o.binstring2buf(t):"[object ArrayBuffer]"===u.call(t)?f.input=new Uint8Array(t):f.input=t,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new r.Buf8(p),f.next_out=0,f.avail_out=p),(i=n.inflate(f,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&g&&(d="string"==typeof g?o.string2buf(g):"[object ArrayBuffer]"===u.call(g)?new Uint8Array(g):g,i=n.inflateSetDictionary(this.strm,d)),i===s.Z_BUF_ERROR&&!0===_&&(i=s.Z_OK,_=!1),i!==s.Z_STREAM_END&&i!==s.Z_OK)return this.onEnd(i),!(this.ended=!0);f.next_out&&(0!==f.avail_out&&i!==s.Z_STREAM_END&&(0!==f.avail_in||a!==s.Z_FINISH&&a!==s.Z_SYNC_FLUSH)||("string"===this.options.to?(l=o.utf8border(f.output,f.next_out),h=f.next_out-l,c=o.buf2string(f.output,l),f.next_out=h,f.avail_out=p-h,h&&r.arraySet(f.output,f.output,l,h,0),this.onData(c)):this.onData(r.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(_=!0)}while((0<f.avail_in||0===f.avail_out)&&i!==s.Z_STREAM_END);return i===s.Z_STREAM_END&&(a=s.Z_FINISH),a===s.Z_FINISH?(i=n.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===s.Z_OK):a!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),!(f.avail_out=0))},c.prototype.onData=function(t){this.chunks.push(t)},c.prototype.onEnd=function(t){t===s.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},i.Inflate=c,i.inflate=d,i.inflateRaw=function(t,e){return(e=e||{}).raw=!0,d(t,e)},i.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,e,i){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;i.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var i=e.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])}}return t},i.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var r={arraySet:function(t,e,i,n,r){if(e.subarray&&t.subarray)t.set(e.subarray(i,i+n),r);else for(var o=0;o<n;o++)t[r+o]=e[i+o]},flattenChunks:function(t){var e,i,n,r,o,s;for(e=n=0,i=t.length;e<i;e++)n+=t[e].length;for(s=new Uint8Array(n),e=r=0,i=t.length;e<i;e++)o=t[e],s.set(o,r),r+=o.length;return s}},o={arraySet:function(t,e,i,n,r){for(var o=0;o<n;o++)t[r+o]=e[i+o]},flattenChunks:function(t){return[].concat.apply([],t)}};i.setTyped=function(t){t?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,r)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(n)},{}],42:[function(t,e,i){"use strict";var n=t("./common"),r=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(t){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){o=!1}for(var s=new n.Buf8(256),a=0;a<256;a++)s[a]=252<=a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?2:1;function l(t,e){if(e<65537&&(t.subarray&&o||!t.subarray&&r))return String.fromCharCode.apply(null,n.shrinkBuf(t,e));for(var i="",s=0;s<e;s++)i+=String.fromCharCode(t[s]);return i}s[254]=s[254]=1,i.string2buf=function(t){var e,i,r,o,s,a=t.length,l=0;for(o=0;o<a;o++)55296==(64512&(i=t.charCodeAt(o)))&&o+1<a&&56320==(64512&(r=t.charCodeAt(o+1)))&&(i=65536+(i-55296<<10)+(r-56320),o++),l+=i<128?1:i<2048?2:i<65536?3:4;for(e=new n.Buf8(l),o=s=0;s<l;o++)55296==(64512&(i=t.charCodeAt(o)))&&o+1<a&&56320==(64512&(r=t.charCodeAt(o+1)))&&(i=65536+(i-55296<<10)+(r-56320),o++),i<128?e[s++]=i:(i<2048?e[s++]=192|i>>>6:(i<65536?e[s++]=224|i>>>12:(e[s++]=240|i>>>18,e[s++]=128|i>>>12&63),e[s++]=128|i>>>6&63),e[s++]=128|63&i);return e},i.buf2binstring=function(t){return l(t,t.length)},i.binstring2buf=function(t){for(var e=new n.Buf8(t.length),i=0,r=e.length;i<r;i++)e[i]=t.charCodeAt(i);return e},i.buf2string=function(t,e){var i,n,r,o,a=e||t.length,h=new Array(2*a);for(i=n=0;i<a;)if((r=t[i++])<128)h[n++]=r;else if(4<(o=s[r]))h[n++]=65533,i+=o-1;else{for(r&=2===o?31:3===o?15:7;1<o&&i<a;)r=r<<6|63&t[i++],o--;1<o?h[n++]=65533:r<65536?h[n++]=r:(r-=65536,h[n++]=55296|r>>10&1023,h[n++]=56320|1023&r)}return l(h,n)},i.utf8border=function(t,e){var i;for((e=e||t.length)>t.length&&(e=t.length),i=e-1;0<=i&&128==(192&t[i]);)i--;return i<0||0===i?e:i+s[t[i]]>e?i:e}},{"./common":41}],43:[function(t,e,i){"use strict";e.exports=function(t,e,i,n){for(var r=65535&t|0,o=t>>>16&65535|0,s=0;0!==i;){for(i-=s=2e3<i?2e3:i;o=o+(r=r+e[n++]|0)|0,--s;);r%=65521,o%=65521}return r|o<<16|0}},{}],44:[function(t,e,i){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,e,i){"use strict";var n=function(){for(var t,e=[],i=0;i<256;i++){t=i;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e}();e.exports=function(t,e,i,r){var o=n,s=r+i;t^=-1;for(var a=r;a<s;a++)t=t>>>8^o[255&(t^e[a])];return-1^t}},{}],46:[function(t,e,i){"use strict";var n,r=t("../utils/common"),o=t("./trees"),s=t("./adler32"),a=t("./crc32"),l=t("./messages"),h=0,u=4,c=0,d=-2,f=-1,p=4,g=2,_=8,m=9,w=286,b=30,v=19,y=2*w+1,x=15,C=3,j=258,S=j+C+1,E=42,k=113,T=1,P=2,A=3,R=4;function O(t,e){return t.msg=l[e],e}function D(t){return(t<<1)-(4<t?9:0)}function I(t){for(var e=t.length;0<=--e;)t[e]=0}function M(t){var e=t.state,i=e.pending;i>t.avail_out&&(i=t.avail_out),0!==i&&(r.arraySet(t.output,e.pending_buf,e.pending_out,i,t.next_out),t.next_out+=i,e.pending_out+=i,t.total_out+=i,t.avail_out-=i,e.pending-=i,0===e.pending&&(e.pending_out=0))}function F(t,e){o._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,M(t.strm)}function L(t,e){t.pending_buf[t.pending++]=e}function N(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function z(t,e){var i,n,r=t.max_chain_length,o=t.strstart,s=t.prev_length,a=t.nice_match,l=t.strstart>t.w_size-S?t.strstart-(t.w_size-S):0,h=t.window,u=t.w_mask,c=t.prev,d=t.strstart+j,f=h[o+s-1],p=h[o+s];t.prev_length>=t.good_match&&(r>>=2),a>t.lookahead&&(a=t.lookahead);do{if(h[(i=e)+s]===p&&h[i+s-1]===f&&h[i]===h[o]&&h[++i]===h[o+1]){o+=2,i++;do{}while(h[++o]===h[++i]&&h[++o]===h[++i]&&h[++o]===h[++i]&&h[++o]===h[++i]&&h[++o]===h[++i]&&h[++o]===h[++i]&&h[++o]===h[++i]&&h[++o]===h[++i]&&o<d);if(n=j-(d-o),o=d-j,s<n){if(t.match_start=e,a<=(s=n))break;f=h[o+s-1],p=h[o+s]}}}while((e=c[e&u])>l&&0!=--r);return s<=t.lookahead?s:t.lookahead}function B(t){var e,i,n,o,l,h,u,c,d,f,p=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=p+(p-S)){for(r.arraySet(t.window,t.window,p,p,0),t.match_start-=p,t.strstart-=p,t.block_start-=p,e=i=t.hash_size;n=t.head[--e],t.head[e]=p<=n?n-p:0,--i;);for(e=i=p;n=t.prev[--e],t.prev[e]=p<=n?n-p:0,--i;);o+=p}if(0===t.strm.avail_in)break;if(h=t.strm,u=t.window,c=t.strstart+t.lookahead,f=void 0,(d=o)<(f=h.avail_in)&&(f=d),i=0===f?0:(h.avail_in-=f,r.arraySet(u,h.input,h.next_in,f,c),1===h.state.wrap?h.adler=s(h.adler,u,f,c):2===h.state.wrap&&(h.adler=a(h.adler,u,f,c)),h.next_in+=f,h.total_in+=f,f),t.lookahead+=i,t.lookahead+t.insert>=C)for(l=t.strstart-t.insert,t.ins_h=t.window[l],t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+C-1])&t.hash_mask,t.prev[l&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=l,l++,t.insert--,!(t.lookahead+t.insert<C)););}while(t.lookahead<S&&0!==t.strm.avail_in)}function H(t,e){for(var i,n;;){if(t.lookahead<S){if(B(t),t.lookahead<S&&e===h)return T;if(0===t.lookahead)break}if(i=0,t.lookahead>=C&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+C-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==i&&t.strstart-i<=t.w_size-S&&(t.match_length=z(t,i)),t.match_length>=C)if(n=o._tr_tally(t,t.strstart-t.match_start,t.match_length-C),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=C){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+C-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(F(t,!1),0===t.strm.avail_out))return T}return t.insert=t.strstart<C-1?t.strstart:C-1,e===u?(F(t,!0),0===t.strm.avail_out?A:R):t.last_lit&&(F(t,!1),0===t.strm.avail_out)?T:P}function V(t,e){for(var i,n,r;;){if(t.lookahead<S){if(B(t),t.lookahead<S&&e===h)return T;if(0===t.lookahead)break}if(i=0,t.lookahead>=C&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+C-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=C-1,0!==i&&t.prev_length<t.max_lazy_match&&t.strstart-i<=t.w_size-S&&(t.match_length=z(t,i),t.match_length<=5&&(1===t.strategy||t.match_length===C&&4096<t.strstart-t.match_start)&&(t.match_length=C-1)),t.prev_length>=C&&t.match_length<=t.prev_length){for(r=t.strstart+t.lookahead-C,n=o._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-C),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=r&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+C-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=C-1,t.strstart++,n&&(F(t,!1),0===t.strm.avail_out))return T}else if(t.match_available){if((n=o._tr_tally(t,0,t.window[t.strstart-1]))&&F(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return T}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=o._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<C-1?t.strstart:C-1,e===u?(F(t,!0),0===t.strm.avail_out?A:R):t.last_lit&&(F(t,!1),0===t.strm.avail_out)?T:P}function U(t,e,i,n,r){this.good_length=t,this.max_lazy=e,this.nice_length=i,this.max_chain=n,this.func=r}function G(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(2*y),this.dyn_dtree=new r.Buf16(2*(2*b+1)),this.bl_tree=new r.Buf16(2*(2*v+1)),I(this.dyn_ltree),I(this.dyn_dtree),I(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(x+1),this.heap=new r.Buf16(2*w+1),I(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*w+1),I(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function W(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=g,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?E:k,t.adler=2===e.wrap?0:1,e.last_flush=h,o._tr_init(e),c):O(t,d)}function Y(t){var e=W(t);return e===c&&function(t){t.window_size=2*t.w_size,I(t.head),t.max_lazy_match=n[t.level].max_lazy,t.good_match=n[t.level].good_length,t.nice_match=n[t.level].nice_length,t.max_chain_length=n[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=C-1,t.match_available=0,t.ins_h=0}(t.state),e}function q(t,e,i,n,o,s){if(!t)return d;var a=1;if(e===f&&(e=6),n<0?(a=0,n=-n):15<n&&(a=2,n-=16),o<1||m<o||i!==_||n<8||15<n||e<0||9<e||s<0||p<s)return O(t,d);8===n&&(n=9);var l=new G;return(t.state=l).strm=t,l.wrap=a,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+C-1)/C),l.window=new r.Buf8(2*l.w_size),l.head=new r.Buf16(l.hash_size),l.prev=new r.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new r.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=s,l.method=i,Y(t)}n=[new U(0,0,0,0,(function(t,e){var i=65535;for(i>t.pending_buf_size-5&&(i=t.pending_buf_size-5);;){if(t.lookahead<=1){if(B(t),0===t.lookahead&&e===h)return T;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+i;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,F(t,!1),0===t.strm.avail_out))return T;if(t.strstart-t.block_start>=t.w_size-S&&(F(t,!1),0===t.strm.avail_out))return T}return t.insert=0,e===u?(F(t,!0),0===t.strm.avail_out?A:R):(t.strstart>t.block_start&&(F(t,!1),t.strm.avail_out),T)})),new U(4,4,8,4,H),new U(4,5,16,8,H),new U(4,6,32,32,H),new U(4,4,16,16,V),new U(8,16,32,32,V),new U(8,16,128,128,V),new U(8,32,128,256,V),new U(32,128,258,1024,V),new U(32,258,258,4096,V)],i.deflateInit=function(t,e){return q(t,e,_,15,8,0)},i.deflateInit2=q,i.deflateReset=Y,i.deflateResetKeep=W,i.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?d:(t.state.gzhead=e,c):d},i.deflate=function(t,e){var i,r,s,l;if(!t||!t.state||5<e||e<0)return t?O(t,d):d;if(r=t.state,!t.output||!t.input&&0!==t.avail_in||666===r.status&&e!==u)return O(t,0===t.avail_out?-5:d);if(r.strm=t,i=r.last_flush,r.last_flush=e,r.status===E)if(2===r.wrap)t.adler=0,L(r,31),L(r,139),L(r,8),r.gzhead?(L(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),L(r,255&r.gzhead.time),L(r,r.gzhead.time>>8&255),L(r,r.gzhead.time>>16&255),L(r,r.gzhead.time>>24&255),L(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),L(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(L(r,255&r.gzhead.extra.length),L(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=a(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(L(r,0),L(r,0),L(r,0),L(r,0),L(r,0),L(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),L(r,3),r.status=k);else{var f=_+(r.w_bits-8<<4)<<8;f|=(2<=r.strategy||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(f|=32),f+=31-f%31,r.status=k,N(r,f),0!==r.strstart&&(N(r,t.adler>>>16),N(r,65535&t.adler)),t.adler=1}if(69===r.status)if(r.gzhead.extra){for(s=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>s&&(t.adler=a(t.adler,r.pending_buf,r.pending-s,s)),M(t),s=r.pending,r.pending!==r.pending_buf_size));)L(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>s&&(t.adler=a(t.adler,r.pending_buf,r.pending-s,s)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){s=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>s&&(t.adler=a(t.adler,r.pending_buf,r.pending-s,s)),M(t),s=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,L(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>s&&(t.adler=a(t.adler,r.pending_buf,r.pending-s,s)),0===l&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){s=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>s&&(t.adler=a(t.adler,r.pending_buf,r.pending-s,s)),M(t),s=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,L(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>s&&(t.adler=a(t.adler,r.pending_buf,r.pending-s,s)),0===l&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&M(t),r.pending+2<=r.pending_buf_size&&(L(r,255&t.adler),L(r,t.adler>>8&255),t.adler=0,r.status=k)):r.status=k),0!==r.pending){if(M(t),0===t.avail_out)return r.last_flush=-1,c}else if(0===t.avail_in&&D(e)<=D(i)&&e!==u)return O(t,-5);if(666===r.status&&0!==t.avail_in)return O(t,-5);if(0!==t.avail_in||0!==r.lookahead||e!==h&&666!==r.status){var p=2===r.strategy?function(t,e){for(var i;;){if(0===t.lookahead&&(B(t),0===t.lookahead)){if(e===h)return T;break}if(t.match_length=0,i=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,i&&(F(t,!1),0===t.strm.avail_out))return T}return t.insert=0,e===u?(F(t,!0),0===t.strm.avail_out?A:R):t.last_lit&&(F(t,!1),0===t.strm.avail_out)?T:P}(r,e):3===r.strategy?function(t,e){for(var i,n,r,s,a=t.window;;){if(t.lookahead<=j){if(B(t),t.lookahead<=j&&e===h)return T;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=C&&0<t.strstart&&(n=a[r=t.strstart-1])===a[++r]&&n===a[++r]&&n===a[++r]){s=t.strstart+j;do{}while(n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&r<s);t.match_length=j-(s-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=C?(i=o._tr_tally(t,1,t.match_length-C),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(i=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),i&&(F(t,!1),0===t.strm.avail_out))return T}return t.insert=0,e===u?(F(t,!0),0===t.strm.avail_out?A:R):t.last_lit&&(F(t,!1),0===t.strm.avail_out)?T:P}(r,e):n[r.level].func(r,e);if(p!==A&&p!==R||(r.status=666),p===T||p===A)return 0===t.avail_out&&(r.last_flush=-1),c;if(p===P&&(1===e?o._tr_align(r):5!==e&&(o._tr_stored_block(r,0,0,!1),3===e&&(I(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),M(t),0===t.avail_out))return r.last_flush=-1,c}return e!==u?c:r.wrap<=0?1:(2===r.wrap?(L(r,255&t.adler),L(r,t.adler>>8&255),L(r,t.adler>>16&255),L(r,t.adler>>24&255),L(r,255&t.total_in),L(r,t.total_in>>8&255),L(r,t.total_in>>16&255),L(r,t.total_in>>24&255)):(N(r,t.adler>>>16),N(r,65535&t.adler)),M(t),0<r.wrap&&(r.wrap=-r.wrap),0!==r.pending?c:1)},i.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==E&&69!==e&&73!==e&&91!==e&&103!==e&&e!==k&&666!==e?O(t,d):(t.state=null,e===k?O(t,-3):c):d},i.deflateSetDictionary=function(t,e){var i,n,o,a,l,h,u,f,p=e.length;if(!t||!t.state)return d;if(2===(a=(i=t.state).wrap)||1===a&&i.status!==E||i.lookahead)return d;for(1===a&&(t.adler=s(t.adler,e,p,0)),i.wrap=0,p>=i.w_size&&(0===a&&(I(i.head),i.strstart=0,i.block_start=0,i.insert=0),f=new r.Buf8(i.w_size),r.arraySet(f,e,p-i.w_size,i.w_size,0),e=f,p=i.w_size),l=t.avail_in,h=t.next_in,u=t.input,t.avail_in=p,t.next_in=0,t.input=e,B(i);i.lookahead>=C;){for(n=i.strstart,o=i.lookahead-(C-1);i.ins_h=(i.ins_h<<i.hash_shift^i.window[n+C-1])&i.hash_mask,i.prev[n&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=n,n++,--o;);i.strstart=n,i.lookahead=C-1,B(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=C-1,i.match_available=0,t.next_in=h,t.input=u,t.avail_in=l,i.wrap=a,c},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,e,i){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,e,i){"use strict";e.exports=function(t,e){var i,n,r,o,s,a,l,h,u,c,d,f,p,g,_,m,w,b,v,y,x,C,j,S,E;i=t.state,n=t.next_in,S=t.input,r=n+(t.avail_in-5),o=t.next_out,E=t.output,s=o-(e-t.avail_out),a=o+(t.avail_out-257),l=i.dmax,h=i.wsize,u=i.whave,c=i.wnext,d=i.window,f=i.hold,p=i.bits,g=i.lencode,_=i.distcode,m=(1<<i.lenbits)-1,w=(1<<i.distbits)-1;t:do{p<15&&(f+=S[n++]<<p,p+=8,f+=S[n++]<<p,p+=8),b=g[f&m];e:for(;;){if(f>>>=v=b>>>24,p-=v,0==(v=b>>>16&255))E[o++]=65535&b;else{if(!(16&v)){if(0==(64&v)){b=g[(65535&b)+(f&(1<<v)-1)];continue e}if(32&v){i.mode=12;break t}t.msg="invalid literal/length code",i.mode=30;break t}y=65535&b,(v&=15)&&(p<v&&(f+=S[n++]<<p,p+=8),y+=f&(1<<v)-1,f>>>=v,p-=v),p<15&&(f+=S[n++]<<p,p+=8,f+=S[n++]<<p,p+=8),b=_[f&w];i:for(;;){if(f>>>=v=b>>>24,p-=v,!(16&(v=b>>>16&255))){if(0==(64&v)){b=_[(65535&b)+(f&(1<<v)-1)];continue i}t.msg="invalid distance code",i.mode=30;break t}if(x=65535&b,p<(v&=15)&&(f+=S[n++]<<p,(p+=8)<v&&(f+=S[n++]<<p,p+=8)),l<(x+=f&(1<<v)-1)){t.msg="invalid distance too far back",i.mode=30;break t}if(f>>>=v,p-=v,(v=o-s)<x){if(u<(v=x-v)&&i.sane){t.msg="invalid distance too far back",i.mode=30;break t}if(j=d,(C=0)===c){if(C+=h-v,v<y){for(y-=v;E[o++]=d[C++],--v;);C=o-x,j=E}}else if(c<v){if(C+=h+c-v,(v-=c)<y){for(y-=v;E[o++]=d[C++],--v;);if(C=0,c<y){for(y-=v=c;E[o++]=d[C++],--v;);C=o-x,j=E}}}else if(C+=c-v,v<y){for(y-=v;E[o++]=d[C++],--v;);C=o-x,j=E}for(;2<y;)E[o++]=j[C++],E[o++]=j[C++],E[o++]=j[C++],y-=3;y&&(E[o++]=j[C++],1<y&&(E[o++]=j[C++]))}else{for(C=o-x;E[o++]=E[C++],E[o++]=E[C++],E[o++]=E[C++],2<(y-=3););y&&(E[o++]=E[C++],1<y&&(E[o++]=E[C++]))}break}}break}}while(n<r&&o<a);n-=y=p>>3,f&=(1<<(p-=y<<3))-1,t.next_in=n,t.next_out=o,t.avail_in=n<r?r-n+5:5-(n-r),t.avail_out=o<a?a-o+257:257-(o-a),i.hold=f,i.bits=p}},{}],49:[function(t,e,i){"use strict";var n=t("../utils/common"),r=t("./adler32"),o=t("./crc32"),s=t("./inffast"),a=t("./inftrees"),l=1,h=2,u=0,c=-2,d=1,f=852,p=592;function g(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function _(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function m(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=d,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new n.Buf32(f),e.distcode=e.distdyn=new n.Buf32(p),e.sane=1,e.back=-1,u):c}function w(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,m(t)):c}function b(t,e){var i,n;return t&&t.state?(n=t.state,e<0?(i=0,e=-e):(i=1+(e>>4),e<48&&(e&=15)),e&&(e<8||15<e)?c:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=i,n.wbits=e,w(t))):c}function v(t,e){var i,n;return t?(n=new _,(t.state=n).window=null,(i=b(t,e))!==u&&(t.state=null),i):c}var y,x,C=!0;function j(t){if(C){var e;for(y=new n.Buf32(512),x=new n.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(a(l,t.lens,0,288,y,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;a(h,t.lens,0,32,x,0,t.work,{bits:5}),C=!1}t.lencode=y,t.lenbits=9,t.distcode=x,t.distbits=5}function S(t,e,i,r){var o,s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new n.Buf8(s.wsize)),r>=s.wsize?(n.arraySet(s.window,e,i-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(r<(o=s.wsize-s.wnext)&&(o=r),n.arraySet(s.window,e,i-r,o,s.wnext),(r-=o)?(n.arraySet(s.window,e,i-r,r,0),s.wnext=r,s.whave=s.wsize):(s.wnext+=o,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=o))),0}i.inflateReset=w,i.inflateReset2=b,i.inflateResetKeep=m,i.inflateInit=function(t){return v(t,15)},i.inflateInit2=v,i.inflate=function(t,e){var i,f,p,_,m,w,b,v,y,x,C,E,k,T,P,A,R,O,D,I,M,F,L,N,z=0,B=new n.Buf8(4),H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return c;12===(i=t.state).mode&&(i.mode=13),m=t.next_out,p=t.output,b=t.avail_out,_=t.next_in,f=t.input,w=t.avail_in,v=i.hold,y=i.bits,x=w,C=b,F=u;t:for(;;)switch(i.mode){case d:if(0===i.wrap){i.mode=13;break}for(;y<16;){if(0===w)break t;w--,v+=f[_++]<<y,y+=8}if(2&i.wrap&&35615===v){B[i.check=0]=255&v,B[1]=v>>>8&255,i.check=o(i.check,B,2,0),y=v=0,i.mode=2;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&v)<<8)+(v>>8))%31){t.msg="incorrect header check",i.mode=30;break}if(8!=(15&v)){t.msg="unknown compression method",i.mode=30;break}if(y-=4,M=8+(15&(v>>>=4)),0===i.wbits)i.wbits=M;else if(M>i.wbits){t.msg="invalid window size",i.mode=30;break}i.dmax=1<<M,t.adler=i.check=1,i.mode=512&v?10:12,y=v=0;break;case 2:for(;y<16;){if(0===w)break t;w--,v+=f[_++]<<y,y+=8}if(i.flags=v,8!=(255&i.flags)){t.msg="unknown compression method",i.mode=30;break}if(57344&i.flags){t.msg="unknown header flags set",i.mode=30;break}i.head&&(i.head.text=v>>8&1),512&i.flags&&(B[0]=255&v,B[1]=v>>>8&255,i.check=o(i.check,B,2,0)),y=v=0,i.mode=3;case 3:for(;y<32;){if(0===w)break t;w--,v+=f[_++]<<y,y+=8}i.head&&(i.head.time=v),512&i.flags&&(B[0]=255&v,B[1]=v>>>8&255,B[2]=v>>>16&255,B[3]=v>>>24&255,i.check=o(i.check,B,4,0)),y=v=0,i.mode=4;case 4:for(;y<16;){if(0===w)break t;w--,v+=f[_++]<<y,y+=8}i.head&&(i.head.xflags=255&v,i.head.os=v>>8),512&i.flags&&(B[0]=255&v,B[1]=v>>>8&255,i.check=o(i.check,B,2,0)),y=v=0,i.mode=5;case 5:if(1024&i.flags){for(;y<16;){if(0===w)break t;w--,v+=f[_++]<<y,y+=8}i.length=v,i.head&&(i.head.extra_len=v),512&i.flags&&(B[0]=255&v,B[1]=v>>>8&255,i.check=o(i.check,B,2,0)),y=v=0}else i.head&&(i.head.extra=null);i.mode=6;case 6:if(1024&i.flags&&(w<(E=i.length)&&(E=w),E&&(i.head&&(M=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),n.arraySet(i.head.extra,f,_,E,M)),512&i.flags&&(i.check=o(i.check,f,E,_)),w-=E,_+=E,i.length-=E),i.length))break t;i.length=0,i.mode=7;case 7:if(2048&i.flags){if(0===w)break t;for(E=0;M=f[_+E++],i.head&&M&&i.length<65536&&(i.head.name+=String.fromCharCode(M)),M&&E<w;);if(512&i.flags&&(i.check=o(i.check,f,E,_)),w-=E,_+=E,M)break t}else i.head&&(i.head.name=null);i.length=0,i.mode=8;case 8:if(4096&i.flags){if(0===w)break t;for(E=0;M=f[_+E++],i.head&&M&&i.length<65536&&(i.head.comment+=String.fromCharCode(M)),M&&E<w;);if(512&i.flags&&(i.check=o(i.check,f,E,_)),w-=E,_+=E,M)break t}else i.head&&(i.head.comment=null);i.mode=9;case 9:if(512&i.flags){for(;y<16;){if(0===w)break t;w--,v+=f[_++]<<y,y+=8}if(v!==(65535&i.check)){t.msg="header crc mismatch",i.mode=30;break}y=v=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),t.adler=i.check=0,i.mode=12;break;case 10:for(;y<32;){if(0===w)break t;w--,v+=f[_++]<<y,y+=8}t.adler=i.check=g(v),y=v=0,i.mode=11;case 11:if(0===i.havedict)return t.next_out=m,t.avail_out=b,t.next_in=_,t.avail_in=w,i.hold=v,i.bits=y,2;t.adler=i.check=1,i.mode=12;case 12:if(5===e||6===e)break t;case 13:if(i.last){v>>>=7&y,y-=7&y,i.mode=27;break}for(;y<3;){if(0===w)break t;w--,v+=f[_++]<<y,y+=8}switch(i.last=1&v,y-=1,3&(v>>>=1)){case 0:i.mode=14;break;case 1:if(j(i),i.mode=20,6!==e)break;v>>>=2,y-=2;break t;case 2:i.mode=17;break;case 3:t.msg="invalid block type",i.mode=30}v>>>=2,y-=2;break;case 14:for(v>>>=7&y,y-=7&y;y<32;){if(0===w)break t;w--,v+=f[_++]<<y,y+=8}if((65535&v)!=(v>>>16^65535)){t.msg="invalid stored block lengths",i.mode=30;break}if(i.length=65535&v,y=v=0,i.mode=15,6===e)break t;case 15:i.mode=16;case 16:if(E=i.length){if(w<E&&(E=w),b<E&&(E=b),0===E)break t;n.arraySet(p,f,_,E,m),w-=E,_+=E,b-=E,m+=E,i.length-=E;break}i.mode=12;break;case 17:for(;y<14;){if(0===w)break t;w--,v+=f[_++]<<y,y+=8}if(i.nlen=257+(31&v),v>>>=5,y-=5,i.ndist=1+(31&v),v>>>=5,y-=5,i.ncode=4+(15&v),v>>>=4,y-=4,286<i.nlen||30<i.ndist){t.msg="too many length or distance symbols",i.mode=30;break}i.have=0,i.mode=18;case 18:for(;i.have<i.ncode;){for(;y<3;){if(0===w)break t;w--,v+=f[_++]<<y,y+=8}i.lens[H[i.have++]]=7&v,v>>>=3,y-=3}for(;i.have<19;)i.lens[H[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,L={bits:i.lenbits},F=a(0,i.lens,0,19,i.lencode,0,i.work,L),i.lenbits=L.bits,F){t.msg="invalid code lengths set",i.mode=30;break}i.have=0,i.mode=19;case 19:for(;i.have<i.nlen+i.ndist;){for(;A=(z=i.lencode[v&(1<<i.lenbits)-1])>>>16&255,R=65535&z,!((P=z>>>24)<=y);){if(0===w)break t;w--,v+=f[_++]<<y,y+=8}if(R<16)v>>>=P,y-=P,i.lens[i.have++]=R;else{if(16===R){for(N=P+2;y<N;){if(0===w)break t;w--,v+=f[_++]<<y,y+=8}if(v>>>=P,y-=P,0===i.have){t.msg="invalid bit length repeat",i.mode=30;break}M=i.lens[i.have-1],E=3+(3&v),v>>>=2,y-=2}else if(17===R){for(N=P+3;y<N;){if(0===w)break t;w--,v+=f[_++]<<y,y+=8}y-=P,M=0,E=3+(7&(v>>>=P)),v>>>=3,y-=3}else{for(N=P+7;y<N;){if(0===w)break t;w--,v+=f[_++]<<y,y+=8}y-=P,M=0,E=11+(127&(v>>>=P)),v>>>=7,y-=7}if(i.have+E>i.nlen+i.ndist){t.msg="invalid bit length repeat",i.mode=30;break}for(;E--;)i.lens[i.have++]=M}}if(30===i.mode)break;if(0===i.lens[256]){t.msg="invalid code -- missing end-of-block",i.mode=30;break}if(i.lenbits=9,L={bits:i.lenbits},F=a(l,i.lens,0,i.nlen,i.lencode,0,i.work,L),i.lenbits=L.bits,F){t.msg="invalid literal/lengths set",i.mode=30;break}if(i.distbits=6,i.distcode=i.distdyn,L={bits:i.distbits},F=a(h,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,L),i.distbits=L.bits,F){t.msg="invalid distances set",i.mode=30;break}if(i.mode=20,6===e)break t;case 20:i.mode=21;case 21:if(6<=w&&258<=b){t.next_out=m,t.avail_out=b,t.next_in=_,t.avail_in=w,i.hold=v,i.bits=y,s(t,C),m=t.next_out,p=t.output,b=t.avail_out,_=t.next_in,f=t.input,w=t.avail_in,v=i.hold,y=i.bits,12===i.mode&&(i.back=-1);break}for(i.back=0;A=(z=i.lencode[v&(1<<i.lenbits)-1])>>>16&255,R=65535&z,!((P=z>>>24)<=y);){if(0===w)break t;w--,v+=f[_++]<<y,y+=8}if(A&&0==(240&A)){for(O=P,D=A,I=R;A=(z=i.lencode[I+((v&(1<<O+D)-1)>>O)])>>>16&255,R=65535&z,!(O+(P=z>>>24)<=y);){if(0===w)break t;w--,v+=f[_++]<<y,y+=8}v>>>=O,y-=O,i.back+=O}if(v>>>=P,y-=P,i.back+=P,i.length=R,0===A){i.mode=26;break}if(32&A){i.back=-1,i.mode=12;break}if(64&A){t.msg="invalid literal/length code",i.mode=30;break}i.extra=15&A,i.mode=22;case 22:if(i.extra){for(N=i.extra;y<N;){if(0===w)break t;w--,v+=f[_++]<<y,y+=8}i.length+=v&(1<<i.extra)-1,v>>>=i.extra,y-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=23;case 23:for(;A=(z=i.distcode[v&(1<<i.distbits)-1])>>>16&255,R=65535&z,!((P=z>>>24)<=y);){if(0===w)break t;w--,v+=f[_++]<<y,y+=8}if(0==(240&A)){for(O=P,D=A,I=R;A=(z=i.distcode[I+((v&(1<<O+D)-1)>>O)])>>>16&255,R=65535&z,!(O+(P=z>>>24)<=y);){if(0===w)break t;w--,v+=f[_++]<<y,y+=8}v>>>=O,y-=O,i.back+=O}if(v>>>=P,y-=P,i.back+=P,64&A){t.msg="invalid distance code",i.mode=30;break}i.offset=R,i.extra=15&A,i.mode=24;case 24:if(i.extra){for(N=i.extra;y<N;){if(0===w)break t;w--,v+=f[_++]<<y,y+=8}i.offset+=v&(1<<i.extra)-1,v>>>=i.extra,y-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){t.msg="invalid distance too far back",i.mode=30;break}i.mode=25;case 25:if(0===b)break t;if(E=C-b,i.offset>E){if((E=i.offset-E)>i.whave&&i.sane){t.msg="invalid distance too far back",i.mode=30;break}k=E>i.wnext?(E-=i.wnext,i.wsize-E):i.wnext-E,E>i.length&&(E=i.length),T=i.window}else T=p,k=m-i.offset,E=i.length;for(b<E&&(E=b),b-=E,i.length-=E;p[m++]=T[k++],--E;);0===i.length&&(i.mode=21);break;case 26:if(0===b)break t;p[m++]=i.length,b--,i.mode=21;break;case 27:if(i.wrap){for(;y<32;){if(0===w)break t;w--,v|=f[_++]<<y,y+=8}if(C-=b,t.total_out+=C,i.total+=C,C&&(t.adler=i.check=i.flags?o(i.check,p,C,m-C):r(i.check,p,C,m-C)),C=b,(i.flags?v:g(v))!==i.check){t.msg="incorrect data check",i.mode=30;break}y=v=0}i.mode=28;case 28:if(i.wrap&&i.flags){for(;y<32;){if(0===w)break t;w--,v+=f[_++]<<y,y+=8}if(v!==(4294967295&i.total)){t.msg="incorrect length check",i.mode=30;break}y=v=0}i.mode=29;case 29:F=1;break t;case 30:F=-3;break t;case 31:return-4;default:return c}return t.next_out=m,t.avail_out=b,t.next_in=_,t.avail_in=w,i.hold=v,i.bits=y,(i.wsize||C!==t.avail_out&&i.mode<30&&(i.mode<27||4!==e))&&S(t,t.output,t.next_out,C-t.avail_out)?(i.mode=31,-4):(x-=t.avail_in,C-=t.avail_out,t.total_in+=x,t.total_out+=C,i.total+=C,i.wrap&&C&&(t.adler=i.check=i.flags?o(i.check,p,C,t.next_out-C):r(i.check,p,C,t.next_out-C)),t.data_type=i.bits+(i.last?64:0)+(12===i.mode?128:0)+(20===i.mode||15===i.mode?256:0),(0==x&&0===C||4===e)&&F===u&&(F=-5),F)},i.inflateEnd=function(t){if(!t||!t.state)return c;var e=t.state;return e.window&&(e.window=null),t.state=null,u},i.inflateGetHeader=function(t,e){var i;return t&&t.state?0==(2&(i=t.state).wrap)?c:((i.head=e).done=!1,u):c},i.inflateSetDictionary=function(t,e){var i,n=e.length;return t&&t.state?0!==(i=t.state).wrap&&11!==i.mode?c:11===i.mode&&r(1,e,n,0)!==i.check?-3:S(t,e,n,n)?(i.mode=31,-4):(i.havedict=1,u):c},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,e,i){"use strict";var n=t("../utils/common"),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,i,l,h,u,c,d){var f,p,g,_,m,w,b,v,y,x=d.bits,C=0,j=0,S=0,E=0,k=0,T=0,P=0,A=0,R=0,O=0,D=null,I=0,M=new n.Buf16(16),F=new n.Buf16(16),L=null,N=0;for(C=0;C<=15;C++)M[C]=0;for(j=0;j<l;j++)M[e[i+j]]++;for(k=x,E=15;1<=E&&0===M[E];E--);if(E<k&&(k=E),0===E)return h[u++]=20971520,h[u++]=20971520,d.bits=1,0;for(S=1;S<E&&0===M[S];S++);for(k<S&&(k=S),C=A=1;C<=15;C++)if(A<<=1,(A-=M[C])<0)return-1;if(0<A&&(0===t||1!==E))return-1;for(F[1]=0,C=1;C<15;C++)F[C+1]=F[C]+M[C];for(j=0;j<l;j++)0!==e[i+j]&&(c[F[e[i+j]]++]=j);if(w=0===t?(D=L=c,19):1===t?(D=r,I-=257,L=o,N-=257,256):(D=s,L=a,-1),C=S,m=u,P=j=O=0,g=-1,_=(R=1<<(T=k))-1,1===t&&852<R||2===t&&592<R)return 1;for(;;){for(b=C-P,y=c[j]<w?(v=0,c[j]):c[j]>w?(v=L[N+c[j]],D[I+c[j]]):(v=96,0),f=1<<C-P,S=p=1<<T;h[m+(O>>P)+(p-=f)]=b<<24|v<<16|y|0,0!==p;);for(f=1<<C-1;O&f;)f>>=1;if(0!==f?(O&=f-1,O+=f):O=0,j++,0==--M[C]){if(C===E)break;C=e[i+c[j]]}if(k<C&&(O&_)!==g){for(0===P&&(P=k),m+=S,A=1<<(T=C-P);T+P<E&&!((A-=M[T+P])<=0);)T++,A<<=1;if(R+=1<<T,1===t&&852<R||2===t&&592<R)return 1;h[g=O&_]=k<<24|T<<16|m-u|0}}return 0!==O&&(h[m+O]=C-P<<24|64<<16|0),d.bits=k,0}},{"../utils/common":41}],51:[function(t,e,i){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,e,i){"use strict";var n=t("../utils/common"),r=0,o=1;function s(t){for(var e=t.length;0<=--e;)t[e]=0}var a=0,l=29,h=256,u=h+1+l,c=30,d=19,f=2*u+1,p=15,g=16,_=7,m=256,w=16,b=17,v=18,y=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],x=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S=new Array(2*(u+2));s(S);var E=new Array(2*c);s(E);var k=new Array(512);s(k);var T=new Array(256);s(T);var P=new Array(l);s(P);var A,R,O,D=new Array(c);function I(t,e,i,n,r){this.static_tree=t,this.extra_bits=e,this.extra_base=i,this.elems=n,this.max_length=r,this.has_stree=t&&t.length}function M(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function F(t){return t<256?k[t]:k[256+(t>>>7)]}function L(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function N(t,e,i){t.bi_valid>g-i?(t.bi_buf|=e<<t.bi_valid&65535,L(t,t.bi_buf),t.bi_buf=e>>g-t.bi_valid,t.bi_valid+=i-g):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=i)}function z(t,e,i){N(t,i[2*e],i[2*e+1])}function B(t,e){for(var i=0;i|=1&t,t>>>=1,i<<=1,0<--e;);return i>>>1}function H(t,e,i){var n,r,o=new Array(p+1),s=0;for(n=1;n<=p;n++)o[n]=s=s+i[n-1]<<1;for(r=0;r<=e;r++){var a=t[2*r+1];0!==a&&(t[2*r]=B(o[a]++,a))}}function V(t){var e;for(e=0;e<u;e++)t.dyn_ltree[2*e]=0;for(e=0;e<c;e++)t.dyn_dtree[2*e]=0;for(e=0;e<d;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*m]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function U(t){8<t.bi_valid?L(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function G(t,e,i,n){var r=2*e,o=2*i;return t[r]<t[o]||t[r]===t[o]&&n[e]<=n[i]}function W(t,e,i){for(var n=t.heap[i],r=i<<1;r<=t.heap_len&&(r<t.heap_len&&G(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!G(e,n,t.heap[r],t.depth));)t.heap[i]=t.heap[r],i=r,r<<=1;t.heap[i]=n}function Y(t,e,i){var n,r,o,s,a=0;if(0!==t.last_lit)for(;n=t.pending_buf[t.d_buf+2*a]<<8|t.pending_buf[t.d_buf+2*a+1],r=t.pending_buf[t.l_buf+a],a++,0===n?z(t,r,e):(z(t,(o=T[r])+h+1,e),0!==(s=y[o])&&N(t,r-=P[o],s),z(t,o=F(--n),i),0!==(s=x[o])&&N(t,n-=D[o],s)),a<t.last_lit;);z(t,m,e)}function q(t,e){var i,n,r,o=e.dyn_tree,s=e.stat_desc.static_tree,a=e.stat_desc.has_stree,l=e.stat_desc.elems,h=-1;for(t.heap_len=0,t.heap_max=f,i=0;i<l;i++)0!==o[2*i]?(t.heap[++t.heap_len]=h=i,t.depth[i]=0):o[2*i+1]=0;for(;t.heap_len<2;)o[2*(r=t.heap[++t.heap_len]=h<2?++h:0)]=1,t.depth[r]=0,t.opt_len--,a&&(t.static_len-=s[2*r+1]);for(e.max_code=h,i=t.heap_len>>1;1<=i;i--)W(t,o,i);for(r=l;i=t.heap[1],t.heap[1]=t.heap[t.heap_len--],W(t,o,1),n=t.heap[1],t.heap[--t.heap_max]=i,t.heap[--t.heap_max]=n,o[2*r]=o[2*i]+o[2*n],t.depth[r]=(t.depth[i]>=t.depth[n]?t.depth[i]:t.depth[n])+1,o[2*i+1]=o[2*n+1]=r,t.heap[1]=r++,W(t,o,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t,e){var i,n,r,o,s,a,l=e.dyn_tree,h=e.max_code,u=e.stat_desc.static_tree,c=e.stat_desc.has_stree,d=e.stat_desc.extra_bits,g=e.stat_desc.extra_base,_=e.stat_desc.max_length,m=0;for(o=0;o<=p;o++)t.bl_count[o]=0;for(l[2*t.heap[t.heap_max]+1]=0,i=t.heap_max+1;i<f;i++)_<(o=l[2*l[2*(n=t.heap[i])+1]+1]+1)&&(o=_,m++),l[2*n+1]=o,h<n||(t.bl_count[o]++,s=0,g<=n&&(s=d[n-g]),a=l[2*n],t.opt_len+=a*(o+s),c&&(t.static_len+=a*(u[2*n+1]+s)));if(0!==m){do{for(o=_-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[_]--,m-=2}while(0<m);for(o=_;0!==o;o--)for(n=t.bl_count[o];0!==n;)h<(r=t.heap[--i])||(l[2*r+1]!==o&&(t.opt_len+=(o-l[2*r+1])*l[2*r],l[2*r+1]=o),n--)}}(t,e),H(o,h,t.bl_count)}function X(t,e,i){var n,r,o=-1,s=e[1],a=0,l=7,h=4;for(0===s&&(l=138,h=3),e[2*(i+1)+1]=65535,n=0;n<=i;n++)r=s,s=e[2*(n+1)+1],++a<l&&r===s||(a<h?t.bl_tree[2*r]+=a:0!==r?(r!==o&&t.bl_tree[2*r]++,t.bl_tree[2*w]++):a<=10?t.bl_tree[2*b]++:t.bl_tree[2*v]++,o=r,h=(a=0)===s?(l=138,3):r===s?(l=6,3):(l=7,4))}function K(t,e,i){var n,r,o=-1,s=e[1],a=0,l=7,h=4;for(0===s&&(l=138,h=3),n=0;n<=i;n++)if(r=s,s=e[2*(n+1)+1],!(++a<l&&r===s)){if(a<h)for(;z(t,r,t.bl_tree),0!=--a;);else 0!==r?(r!==o&&(z(t,r,t.bl_tree),a--),z(t,w,t.bl_tree),N(t,a-3,2)):a<=10?(z(t,b,t.bl_tree),N(t,a-3,3)):(z(t,v,t.bl_tree),N(t,a-11,7));o=r,h=(a=0)===s?(l=138,3):r===s?(l=6,3):(l=7,4)}}s(D);var Z=!1;function J(t,e,i,r){N(t,(a<<1)+(r?1:0),3),function(t,e,i,r){U(t),r&&(L(t,i),L(t,~i)),n.arraySet(t.pending_buf,t.window,e,i,t.pending),t.pending+=i}(t,e,i,!0)}i._tr_init=function(t){Z||(function(){var t,e,i,n,r,o=new Array(p+1);for(n=i=0;n<l-1;n++)for(P[n]=i,t=0;t<1<<y[n];t++)T[i++]=n;for(T[i-1]=n,n=r=0;n<16;n++)for(D[n]=r,t=0;t<1<<x[n];t++)k[r++]=n;for(r>>=7;n<c;n++)for(D[n]=r<<7,t=0;t<1<<x[n]-7;t++)k[256+r++]=n;for(e=0;e<=p;e++)o[e]=0;for(t=0;t<=143;)S[2*t+1]=8,t++,o[8]++;for(;t<=255;)S[2*t+1]=9,t++,o[9]++;for(;t<=279;)S[2*t+1]=7,t++,o[7]++;for(;t<=287;)S[2*t+1]=8,t++,o[8]++;for(H(S,u+1,o),t=0;t<c;t++)E[2*t+1]=5,E[2*t]=B(t,5);A=new I(S,y,h+1,u,p),R=new I(E,x,0,c,p),O=new I(new Array(0),C,0,d,_)}(),Z=!0),t.l_desc=new M(t.dyn_ltree,A),t.d_desc=new M(t.dyn_dtree,R),t.bl_desc=new M(t.bl_tree,O),t.bi_buf=0,t.bi_valid=0,V(t)},i._tr_stored_block=J,i._tr_flush_block=function(t,e,i,n){var s,a,l=0;0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,i=4093624447;for(e=0;e<=31;e++,i>>>=1)if(1&i&&0!==t.dyn_ltree[2*e])return r;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return o;for(e=32;e<h;e++)if(0!==t.dyn_ltree[2*e])return o;return r}(t)),q(t,t.l_desc),q(t,t.d_desc),l=function(t){var e;for(X(t,t.dyn_ltree,t.l_desc.max_code),X(t,t.dyn_dtree,t.d_desc.max_code),q(t,t.bl_desc),e=d-1;3<=e&&0===t.bl_tree[2*j[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),s=t.opt_len+3+7>>>3,(a=t.static_len+3+7>>>3)<=s&&(s=a)):s=a=i+5,i+4<=s&&-1!==e?J(t,e,i,n):4===t.strategy||a===s?(N(t,2+(n?1:0),3),Y(t,S,E)):(N(t,4+(n?1:0),3),function(t,e,i,n){var r;for(N(t,e-257,5),N(t,i-1,5),N(t,n-4,4),r=0;r<n;r++)N(t,t.bl_tree[2*j[r]+1],3);K(t,t.dyn_ltree,e-1),K(t,t.dyn_dtree,i-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,l+1),Y(t,t.dyn_ltree,t.dyn_dtree)),V(t),n&&U(t)},i._tr_tally=function(t,e,i){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&i,t.last_lit++,0===e?t.dyn_ltree[2*i]++:(t.matches++,e--,t.dyn_ltree[2*(T[i]+h+1)]++,t.dyn_dtree[2*F(e)]++),t.last_lit===t.lit_bufsize-1},i._tr_align=function(t){N(t,2,3),z(t,m,S),function(t){16===t.bi_valid?(L(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},{"../utils/common":41}],53:[function(t,e,i){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,e,n){(function(t){!function(t,e){"use strict";if(!t.setImmediate){var i,n,o,s,a=1,l={},h=!1,u=t.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(t);c=c&&c.setTimeout?c:t,i="[object process]"==={}.toString.call(t.process)?function(t){r.nextTick((function(){f(t)}))}:function(){if(t.postMessage&&!t.importScripts){var e=!0,i=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=i,e}}()?(s="setImmediate$"+Math.random()+"$",t.addEventListener?t.addEventListener("message",p,!1):t.attachEvent("onmessage",p),function(e){t.postMessage(s+e,"*")}):t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){f(t.data)},function(t){o.port2.postMessage(t)}):u&&"onreadystatechange"in u.createElement("script")?(n=u.documentElement,function(t){var e=u.createElement("script");e.onreadystatechange=function(){f(t),e.onreadystatechange=null,n.removeChild(e),e=null},n.appendChild(e)}):function(t){setTimeout(f,0,t)},c.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return l[a]=r,i(a),a++},c.clearImmediate=d}function d(t){delete l[t]}function f(t){if(h)setTimeout(f,0,t);else{var i=l[t];if(i){h=!0;try{!function(t){var i=t.callback,n=t.args;switch(n.length){case 0:i();break;case 1:i(n[0]);break;case 2:i(n[0],n[1]);break;case 3:i(n[0],n[1],n[2]);break;default:i.apply(e,n)}}(i)}finally{d(t),h=!1}}}}function p(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(s)&&f(+e.data.slice(s.length))}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,void 0!==i.g?i.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)},7142:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>oc});var n={};i.r(n),i.d(n,{Aggregate:()=>Ye,ArrayBase:()=>Ze,Binding:()=>tt,CancelEventArgs:()=>rt,Clipboard:()=>pi,CollectionView:()=>ei,CollectionViewGroup:()=>ii,Color:()=>He,Control:()=>li,ControlBase:()=>ai,DataType:()=>lt,DateTime:()=>Ie,Event:()=>it,EventArgs:()=>nt,Globalize:()=>Ue,GroupDescription:()=>dt,Key:()=>at,NotifyCollectionChangedAction:()=>Q,NotifyCollectionChangedEventArgs:()=>ht,ObservableArray:()=>ti,PageChangingEventArgs:()=>ct,Point:()=>Re,PopupPosition:()=>di,PrintDocument:()=>fi,PropertyChangedEventArgs:()=>ot,PropertyGroupDescription:()=>ft,Rect:()=>De,RequestErrorEventArgs:()=>st,Size:()=>Oe,SortDescription:()=>ut,SortNulls:()=>$e,Tooltip:()=>yi,TooltipEventArgs:()=>xi,_ClickRepeater:()=>gi,_Map:()=>ze,_MaskElement:()=>Xe,_MaskProvider:()=>qe,_addCultureInfo:()=>We,_deprecated:()=>Vt,_focusSrv:()=>Z,_getActiveElement:()=>me,_getCalculatedArray:()=>X,_getModule:()=>Ne,_getTargetObject:()=>K,_registerModule:()=>Le,_startDrag:()=>V,_updateCulture:()=>Ge,_updateWme:()=>ji,addClass:()=>ae,animate:()=>Ae,asArray:()=>Kt,asBoolean:()=>Yt,asCollectionView:()=>Qt,asDate:()=>qt,asEnum:()=>Jt,asFunction:()=>Xt,asInt:()=>Wt,asNumber:()=>Gt,asString:()=>Ut,asType:()=>Zt,assert:()=>Ht,changeType:()=>Dt,clamp:()=>zt,closest:()=>Se,closestClass:()=>Ee,contains:()=>je,controlBaseClass:()=>ni,copy:()=>Bt,createElement:()=>xe,culture:()=>Ve,disableAutoComplete:()=>pe,enable:()=>ke,escapeHtml:()=>ee,escapeRegExp:()=>re,evalTemplate:()=>Lt,format:()=>Mt,getActiveElement:()=>_e,getAggregate:()=>Ke,getElement:()=>ye,getElementRect:()=>Te,getEventOptions:()=>z,getType:()=>Rt,getTypes:()=>Ot,getUniqueId:()=>Pt,getVersion:()=>pt,glbz:()=>Ft,hasClass:()=>se,hasItems:()=>$t,hidePopup:()=>mi,httpRequest:()=>Me,isArray:()=>Et,isBoolean:()=>xt,isDate:()=>St,isEdge:()=>R,isEmpty:()=>Tt,isFirefox:()=>k,isFunction:()=>Ct,isIE:()=>D,isIE10:()=>L,isIE9:()=>M,isInt:()=>yt,isMobile:()=>C,isNullOrWhiteSpace:()=>bt,isNumber:()=>vt,isObject:()=>kt,isPrimitive:()=>mt,isSafari:()=>P,isString:()=>wt,isUndefined:()=>jt,isiOS:()=>S,mouseToPage:()=>At,moveFocus:()=>we,removeChild:()=>ge,removeClass:()=>le,saveFile:()=>ve,setAriaLabel:()=>de,setAttribute:()=>ue,setChecked:()=>ce,setCss:()=>Pe,setLicenseKey:()=>gt,setSelectionRange:()=>fe,setText:()=>Ce,showPopup:()=>_i,supportsFocusOptions:()=>H,toFixed:()=>It,toHeaderCase:()=>te,toPlainText:()=>oe,toggleClass:()=>he,tryCast:()=>_t});var r={};i.r(r),i.d(r,{DataTransfer:()=>Ii,DragDropTouch:()=>Mi});var o={};i.r(o),i.d(o,{AutoComplete:()=>_n,Calendar:()=>en,ClickAction:()=>tn,CollectionViewNavigator:()=>Xi,ColorPicker:()=>qi,ComboBox:()=>cn,DateSelectionMode:()=>Ji,DropDown:()=>on,FormatItemEventArgs:()=>Zi,InputColor:()=>un,InputDate:()=>ln,InputDateRange:()=>hn,InputDateTime:()=>gn,InputMask:()=>Yi,InputNumber:()=>Wi,InputTime:()=>pn,ListBox:()=>Ki,Menu:()=>fn,MultiAutoComplete:()=>mn,MultiSelect:()=>dn,MultiSelectListBox:()=>$i,Popup:()=>sn,PopupBoundsChangingEventArgs:()=>an,PopupTrigger:()=>rn,ShowMonthPicker:()=>Qi});var s={};i.r(s),i.d(s,{AllowDragging:()=>br,AllowMerging:()=>Qn,AllowPinning:()=>zn,AllowResizing:()=>mr,AllowSorting:()=>Nn,AutoSizeMode:()=>wr,CellEditEndingEventArgs:()=>Mn,CellFactory:()=>sr,CellRange:()=>Tn,CellRangeEventArgs:()=>Dn,CellType:()=>En,ClipStringOptions:()=>Hn,Column:()=>Un,ColumnCollection:()=>qn,ColumnGroup:()=>Zn,ColumnGroupCollection:()=>Jn,DataMap:()=>kn,DataMapEditor:()=>bn,FlexGrid:()=>$n,FormatItemEventArgs:()=>In,GridPanel:()=>On,GroupRow:()=>Wn,HeadersVisibility:()=>Bn,HitTestInfo:()=>rr,KeyAction:()=>pr,MergeManager:()=>nr,Row:()=>Gn,RowCol:()=>Vn,RowColCollection:()=>Yn,RowColFlags:()=>Fn,RowCollection:()=>Xn,SelMove:()=>Rn,SelectedState:()=>An,SelectionMode:()=>Pn,_AddNewHandler:()=>er,_ColumnGroupHandler:()=>Kn,_CustomEditor:()=>_r,_EditHandler:()=>gr,_ImeHandler:()=>tr,_KeyboardHandler:()=>vr,_MouseHandler:()=>Cr,_NewRowTemplate:()=>ir,_SelectionHandler:()=>Ln,_getSafariVer:()=>xn,softInput:()=>or});var a={};i.r(a),i.d(a,{ColumnFilter:()=>Dr,ColumnFilterEditor:()=>Ir,ConditionFilter:()=>Tr,ConditionFilterEditor:()=>Pr,FilterCondition:()=>Ar,FilterType:()=>jr,FlexGridFilter:()=>kr,Operator:()=>Er,ValueFilter:()=>Rr,ValueFilterEditor:()=>Or});var l={};i.r(l),i.d(l,{Axis:()=>_o,AxisCollection:()=>mo,AxisType:()=>ao,ChartElement:()=>xo,ChartTooltip:()=>so,ChartType:()=>Ro,DataArray:()=>Do,DataLabel:()=>fo,DataLabelBase:()=>co,DataLabelRenderEventArgs:()=>uo,DataPoint:()=>Qr,FlexChart:()=>Xo,FlexChartBase:()=>no,FlexChartCore:()=>Wo,FlexPie:()=>Lo,HitTestInfo:()=>Ao,ImageFormat:()=>Ur,LabelPosition:()=>eo,Legend:()=>Jr,LineMarker:()=>is,LineMarkerAlignment:()=>Go,LineMarkerInteraction:()=>Uo,LineMarkerLines:()=>Vo,Marker:()=>Po,Orientation:()=>Yr,OverlappingLabels:()=>lo,Palettes:()=>Br,PieDataLabel:()=>po,PieLabelPosition:()=>io,PlotArea:()=>Hr,PlotAreaCollection:()=>Vr,Position:()=>Wr,RenderEventArgs:()=>$r,SelectionMode:()=>Gr,Series:()=>Fo,SeriesBase:()=>Mo,SeriesEventArgs:()=>Io,SeriesRenderingEventArgs:()=>to,SeriesVisibility:()=>To,Stacking:()=>Oo,SvgRenderEngine:()=>Zr,TickMark:()=>ho,_AreaPlotter:()=>Ko,_BarPlotter:()=>Zo,_BasePlotter:()=>Ho,_BubblePlotter:()=>rs,_CircleArea:()=>jo,_DataInfo:()=>qo,_DataPoint:()=>yo,_DonutSegment:()=>Bo,_FinancePlotter:()=>$o,_FunnelPlotter:()=>Jo,_FunnelSegment:()=>Qo,_HitResult:()=>Eo,_HitTester:()=>ko,_KeyWords:()=>ro,_LinePlotter:()=>ns,_LinesArea:()=>So,_MeasureOption:()=>wo,_PieSegment:()=>zo,_RectArea:()=>Co,_Spline:()=>zr,_SvgRenderEngine:()=>Xr,_VolumeHelper:()=>Nr});var h={};i.r(h),i.d(h,{CubePivotField:()=>fs,DetailDialog:()=>Ps,DimensionType:()=>os,LegendVisibility:()=>Cs,PivotChart:()=>Rs,PivotChartType:()=>xs,PivotCollectionView:()=>cs,PivotEngine:()=>js,PivotField:()=>ds,PivotFieldBinding:()=>Js,PivotFieldCollection:()=>ws,PivotFieldEditor:()=>Zs,PivotFilter:()=>Xs,PivotFilterEditor:()=>Ks,PivotGrid:()=>Ts,PivotPanel:()=>ks,ProgressEventArgs:()=>Ss,ShowAs:()=>gs,ShowTotals:()=>ps,Slicer:()=>_s,_GridContextMenu:()=>ms,_ListContextMenu:()=>Es,_MdxQueryBuilder:()=>Os,_PivotKey:()=>hs,_PivotMergeManager:()=>As,_PivotNode:()=>bs,_ServerConnection:()=>vs,_SqlServerConnection:()=>Ds,_Tally:()=>ls,_TextBuilder:()=>as});var u={};i.r(u),i.d(u,{BorderStyle:()=>aa,DefinedName:()=>ja,HAlign:()=>na,TextDirection:()=>oa,TextOrientation:()=>sa,VAlign:()=>ra,WorkSheet:()=>da,Workbook:()=>ca,WorkbookBorder:()=>xa,WorkbookBorderSetting:()=>Ca,WorkbookCell:()=>_a,WorkbookColumn:()=>fa,WorkbookFill:()=>ya,WorkbookFont:()=>va,WorkbookFrozenPane:()=>wa,WorkbookNote:()=>ma,WorkbookRow:()=>ga,WorkbookStyle:()=>ba,WorkbookTable:()=>Sa,WorkbookTableBandedStyle:()=>Pa,WorkbookTableBorder:()=>Aa,WorkbookTableColumn:()=>Ea,WorkbookTableCommonStyle:()=>Ta,WorkbookTableStyle:()=>ka,WorkbookTextRun:()=>Ra,_SyncPromise:()=>za,_WorkbookExtraColumn:()=>pa,_map:()=>Ha,_xlsx:()=>Fa,useJSZip:()=>Ma});var c={};i.r(c),i.d(c,{FlexGridXlsxConverter:()=>Za,HtmlEntityConversion:()=>Qa,XlsxFormatItemEventArgs:()=>Ja,_StyleCache:()=>$a,_blobToBuffer:()=>tl,softDetail:()=>Wa,softMultiRow:()=>Ya,softTransposed:()=>qa,softTransposedMultiRow:()=>Xa});var d={};i.r(d),i.d(d,{PdfArtifactType:()=>_l,PdfBrush:()=>jl,PdfDashPattern:()=>yl,PdfDocument:()=>Ql,PdfDocumentEndedEventArgs:()=>xl,PdfFillRule:()=>sl,PdfFont:()=>El,PdfGradientBrush:()=>Zl,PdfGradientStop:()=>Kl,PdfImageHorizontalAlign:()=>ll,PdfImageVerticalAlign:()=>hl,PdfLineCapStyle:()=>rl,PdfLineJoinStyle:()=>ol,PdfLinearGradientBrush:()=>sh,PdfPageArea:()=>Wl,PdfPageEdge:()=>ml,PdfPageOrientation:()=>al,PdfPageSize:()=>dl,PdfPaths:()=>$l,PdfPen:()=>Sl,PdfPrintPermission:()=>fl,PdfRadialGradientBrush:()=>Jl,PdfRunningTitle:()=>Xl,PdfRunningTitleDeclarativeContent:()=>ql,PdfSolidBrush:()=>Yl,PdfTagType:()=>gl,PdfTextBaseline:()=>cl,PdfTextHorizontalAlign:()=>ul,PdfVersion:()=>pl,_Errors:()=>Cl,_IE:()=>Pl,_PdfFontRegistrar:()=>Tl,_PdfImageHelper:()=>Gl,_PdfSvgPathHelper:()=>wl,_SafeColor:()=>vl,_SvgAttr:()=>Fh,_SvgAttrType:()=>hh,_SvgCircleElementImpl:()=>ph,_SvgClipPathElementImpl:()=>yh,_SvgClippableElementBase:()=>ch,_SvgColorAttr:()=>zh,_SvgCssHelper:()=>rh,_SvgCssRule:()=>nh,_SvgDashArrayAttr:()=>Bh,_SvgDefsElementImpl:()=>xh,_SvgElementBase:()=>uh,_SvgEllipseElementImpl:()=>gh,_SvgFillAttributes:()=>Jh,_SvgFillRuleAttr:()=>Hh,_SvgFontAttributes:()=>Qh,_SvgGElementImpl:()=>Ch,_SvgHRefAttr:()=>Vh,_SvgIdRefAttr:()=>Uh,_SvgImageElementImpl:()=>Eh,_SvgLengthContext:()=>lh,_SvgLineElementImpl:()=>_h,_SvgLinearGradientElementImpl:()=>jh,_SvgNumAttr:()=>Lh,_SvgNumConversion:()=>ah,_SvgPathElementImpl:()=>mh,_SvgPointsArrayAttr:()=>Gh,_SvgPolygonElementImpl:()=>bh,_SvgPolylineElementImpl:()=>wh,_SvgPreserveAspectRatioAttr:()=>Xh,_SvgRectElementImpl:()=>vh,_SvgRenderMode:()=>ih,_SvgRenderer:()=>oh,_SvgScaleAttributes:()=>Kh,_SvgShapeElementBase:()=>fh,_SvgStopElementImpl:()=>Sh,_SvgStrAttr:()=>Nh,_SvgStrokeAttributes:()=>Zh,_SvgStyleAttributes:()=>$h,_SvgStyleElementImpl:()=>kh,_SvgSvgElementImpl:()=>Th,_SvgSymbolElementImpl:()=>Ph,_SvgTextDecorationAttr:()=>Yh,_SvgTextElementImpl:()=>Rh,_SvgTransformAttr:()=>Wh,_SvgTransformableElementBase:()=>dh,_SvgTspanElementImpl:()=>Oh,_SvgUseElementImpl:()=>Ah,_SvgViewboxAttr:()=>qh,_XhrHelper:()=>Ul,_asColor:()=>Il,_asPdfBrush:()=>Fl,_asPdfFont:()=>Ll,_asPdfPen:()=>Ml,_asPt:()=>Nl,_compare:()=>Bl,_compressSpaces:()=>th,_formatMacros:()=>zl,_resolveUrlIfRelative:()=>eh,_toTitleCase:()=>Hl,ptToPx:()=>Ol,pxToPt:()=>Dl,saveBlob:()=>Rl,softPdfSecurity:()=>nl});var f={};i.r(f),i.d(f,{ExportMode:()=>Ih,FlexGridPdfConverter:()=>ku,PdfFormatItemEventArgs:()=>du,PdfWebWorker:()=>zu,PdfWebWorkerClient:()=>Nu,PdfWebWorkerExportDoneEventArgs:()=>Lu,ScaleMode:()=>Dh,_CellRange:()=>vu,_CellRangeExt:()=>yu,_CellRenderer:()=>wu,_CellType:()=>Mh,_FlexGridPdfCoreConverter:()=>fu,_cloneStyle:()=>uu,_combineColumns:()=>hu,_merge:()=>lu,_removeFakeCell:()=>Su,softDetail:()=>iu,softGrid:()=>eu,softMultiRow:()=>nu,softOlap:()=>ou,softSheet:()=>ru,softTransposed:()=>su,softTransposedMultiRow:()=>au});var p=i(5130),g=i(3379),_=i.n(g),m=i(62),w={insert:"head",singleton:!1};_()(m.Z,w);m.Z.locals;var b,v=(b=function(t,e){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}b(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),y="undefined"!=typeof navigator?navigator.userAgent:"",x=null!=y.match(/iPad|iPhone|iPod|Android|webOS|BlackBerry|Windows Phone/i);function C(){return x}var j=null!=y.match(/iPad|iPhone|iPod/i);function S(){return j}var E=null!=y.match(/Firefox\//);function k(){return E}var T=null!=y.match(/^((?!Chrome|Android).)*safari/i);function P(){return T}var A=null!=y.match(/Edge\//);function R(){return A}var O=null!=y.match(/MSIE |Trident\/|Edge\//);function D(){return O}var I=!1;function M(){return I}var F=!1;function L(){return F}var N=!1;function z(t,e){return N?{capture:t,passive:e}:t}"undefined"!=typeof document&&document.addEventListener("test",(function(t){}),{get passive(){return N=!0,!0}});var B=!1;function H(){return B}function V(t,e){t.effectAllowed=e,k()&&t.setData("text","")}if("undefined"!=typeof document&&document.createElement("div").focus({get preventScroll(){return B=!0,!0}}),"undefined"!=typeof document&&document.doctype&&(navigator.appVersion.indexOf("MSIE 10")>-1&&(F=!0),navigator.appVersion.indexOf("MSIE 9")>-1&&(I=!0,document.addEventListener("mousemove",(function(t){if(1==t.which){var e=Se(t.target,".wj-control");if(e&&!e.style.cursor)for(var i=t.target;i;i=i.parentElement)if(i.attributes&&i.attributes.draggable)return i.dragDrop(),!1}})))),"undefined"!=typeof window){var U="requestAnimationFrame";if(!window[U]){var G=0;window[U]=function(t){var e=Date.now(),i=16-(e-G),n=i>0?i:0;return G=e+n,setTimeout((function(){t(G)}),n)},window.cancelAnimationFrame=clearTimeout}if(!window.atob){var W="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Y=new RegExp("[^"+W+"]");window.atob=function(t){var e,i,n,r,o=[],s=0,a=t.length;if(Y.test(t)||/=/.test(t)&&(/=[^=]/.test(t)||/={3}/.test(t)))throw new Error("Invalid base64 data");for(a%4>0&&(a=(t+=Array(4-a%4+1).join("=")).length);s<a;){for(i=[],r=s;s<r+4;)i.push(W.indexOf(t.charAt(s++)));for(n=[((e=(i[0]<<18)+(i[1]<<12)+((63&i[2])<<6)+(63&i[3]))&255<<16)>>16,64===i[2]?-1:(65280&e)>>8,64===i[3]?-1:255&e],r=0;r<3;++r)(n[r]>=0||0===r)&&o.push(String.fromCharCode(n[r]))}return o.join("")},window.btoa=function(t){for(var e,i,n=[],r=0,o=t.length;r<o;)e=((i=[t.charCodeAt(r++),t.charCodeAt(r++),t.charCodeAt(r++)])[0]<<16)+((i[1]||0)<<8)+(i[2]||0),n.push(W.charAt((e&63<<18)>>18),W.charAt((258048&e)>>12),W.charAt(isNaN(i[1])?64:(4032&e)>>6),W.charAt(isNaN(i[2])?64:63&e));return n.join("")}}}var q="undefined"!=typeof window&&window.Symbol?Symbol("_getProxyTarget"):"\t_get\tProxy\tTarget\t";function X(t,e,i){var n=new WeakMap;if(!i){var r={};if(t.length){var o=t[0];for(var s in o){var a=typeof o[s];r[s]="string"==a?"":"number"==a?0:null}i=r}}return new Proxy(t,{get:function(t,r){if(r===q)return t;if("string"==typeof r||"number"==typeof r){if("indexOf"==r)return function(e,i){var n=t.indexOf(e,i);return n<0&&e&&(e=e[q])&&(n=t.indexOf(e,i)),n};var o=parseInt(r);if(!isNaN(o)){var s=t[o];if(s&&!s[q]){var a=n.get(s);a||(a=function(t,e,i){if(!t[q]){if(D())for(var n in e)t[n]=null;var r={get:function(t,n,r){if(n===q)return t;if("constructor"===n)return function(){return Object.assign({},i||{})};var o=e[n];if(o)switch(typeof o){case"function":return o(r);case"string":return function(t,e){var i=[e];return(new(Function.bind.apply(Function,[void 0].concat(["$"],["return "+t])))).apply(void 0,i)}(o,r)}return t[n]}};D()||(r.ownKeys=function(t){return Object.keys(t).concat(Object.keys(e))},r.getOwnPropertyDescriptor=function(t,i){return i in e?{enumerable:!0,configurable:!0,writable:!1}:Reflect.getOwnPropertyDescriptor(t,i)}),t=new Proxy(t,r)}return t}(s,e,i),n.set(s,a)),s=a}return s}}return Reflect.get(t,r)}})}function K(t){return(t?t[q]:null)||t}var Z,J=function(){function t(){this._hasDoc="undefined"!=typeof Document,this._ae=this._nativeAe();var t=window,e=this._onBlur.bind(this),i=this._onFocus.bind(this);t.addEventListener("focusout",e,!0),t.addEventListener("focusin",i,!0),D()||(t.addEventListener("blur",e,!0),t.addEventListener("focus",i,!0))}return Object.defineProperty(t.prototype,"activeElement",{get:function(){var e=this._ae,i=this._nativeAe();return e===t._noAe?e=this._ae=i:e!=i&&(this._isSpecialRoot(e)||document.body.contains(e)||(e=this._ae=i)),e!==t._noAe?e:null},enumerable:!0,configurable:!0}),t.prototype._onBlur=function(t){if(t.isTrusted){var e=t.relatedTarget;this._ae=this._isSpecialRoot(e)?this._nativeAe():e}},t.prototype._onFocus=function(t){t.isTrusted&&(this._ae=this._nativeAe())},t.prototype._isSpecialRoot=function(t){return null==t||t===document.body||this._hasDoc&&t instanceof Document},t.prototype._nativeAe=function(){var e;try{e="unknown"!=typeof document.activeElement?document.activeElement:t._noAe}catch(i){e=t._noAe}return e},t._noAe={},t}();"undefined"!=typeof window&&(Z=new J);var Q,$,tt=function(){function t(t){this.path=t}return Object.defineProperty(t.prototype,"path",{get:function(){return this._path},set:function(t){this._path=t,this._parts=t?t.split("."):[];for(var e=0;e<this._parts.length;e++){var i=this._parts[e],n=i.indexOf("[");n>-1&&(this._parts[e]=i.substr(0,n),this._parts.splice(++e,0,parseInt(i.substr(n+1))))}this._key=1==this._parts.length?this._parts[0]:null},enumerable:!0,configurable:!0}),t.prototype.getValue=function(t){if(t){if(this._key)return t[this._key];if(this._path&&this._path in t)return t[this._path];for(var e=0;e<this._parts.length&&t;e++)t=t[this._parts[e]]}return t},t.prototype.setValue=function(t,e){if(t)try{var i=this._path;if(i in t)return t[i]=e,t[i]==e;for(var n=0;n<this._parts.length-1;n++)if(null==(t=t[this._parts[n]]))return!1;return t[i=this._parts[this._parts.length-1]]=e,t[i]==e}catch(t){return!1}return!1},t}(),et=function(t,e){this.handler=t,this.self=e},it=function(){function t(t){this._handlers=[],this._handlersChanged=t}return t.prototype.addHandler=function(t,e){t=Xt(t),this._handlers.push(new et(t,e)),Ct(this._handlersChanged)&&this._handlersChanged()},t.prototype.removeHandler=function(t,e){var i=!1;t=Xt(t);for(var n=0;n<this._handlers.length;n++){var r=this._handlers[n];if(!(r.handler!=t&&null!=t||r.self!=e&&null!=e)&&(this._handlers.splice(n--,1),i=!0,t&&e))break}i&&Ct(this._handlersChanged)&&this._handlersChanged()},t.prototype.removeAllHandlers=function(){var t=this._handlers.length>0;this._handlers.length=0,t&&Ct(this._handlersChanged)&&this._handlersChanged()},t.prototype.raise=function(t,e){void 0===e&&(e=nt.empty);for(var i=this._handlers,n=0;n<i.length;n++){var r=i[n];r.handler.call(r.self,t,e),i[n]!==r&&n--}},Object.defineProperty(t.prototype,"hasHandlers",{get:function(){return this._handlers.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"handlerCount",{get:function(){return this._handlers.length},enumerable:!0,configurable:!0}),t}(),nt=function(){function t(){}return t.empty=new t,t}(),rt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cancel=!1,e}return v(e,t),e}(nt),ot=function(t){function e(e,i,n){var r=t.call(this)||this;return r._name=e,r._oldVal=i,r._newVal=n,r}return v(e,t),Object.defineProperty(e.prototype,"propertyName",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"oldValue",{get:function(){return this._oldVal},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"newValue",{get:function(){return this._newVal},enumerable:!0,configurable:!0}),e}(nt),st=function(t){function e(e,i){var n=t.call(this)||this;return n._xhr=e,n._msg=i,n}return v(e,t),Object.defineProperty(e.prototype,"request",{get:function(){return this._xhr},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this._msg},set:function(t){this._msg=t},enumerable:!0,configurable:!0}),e}(rt);($=Q||(Q={}))[$.Add=0]="Add",$[$.Remove=1]="Remove",$[$.Change=2]="Change",$[$.Reset=3]="Reset";var at,lt,ht=function(t){function e(e,i,n){void 0===e&&(e=Q.Reset),void 0===i&&(i=null),void 0===n&&(n=-1);var r=t.call(this)||this;return r.action=e,r.item=i,r.index=n,r}return v(e,t),e.reset=new e(Q.Reset),e}(nt),ut=function(){function t(t,e){this._bnd=new tt(t),this._asc=e}return Object.defineProperty(t.prototype,"property",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ascending",{get:function(){return this._asc},enumerable:!0,configurable:!0}),t}(),ct=function(t){function e(e){var i=t.call(this)||this;return i.newPageIndex=e,i}return v(e,t),e}(rt),dt=function(){function t(){}return t.prototype.groupNameFromItem=function(t,e){return""},t.prototype.namesMatch=function(t,e){return t===e},t}(),ft=function(t){function e(e,i){var n=t.call(this)||this;return n._bnd=new tt(e),n._converter=i,n}return v(e,t),Object.defineProperty(e.prototype,"propertyName",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),e.prototype.groupNameFromItem=function(t,e){return this._converter?this._converter(t,this.propertyName):this._bnd.getValue(t)},e.prototype.namesMatch=function(t,e){return t===e},e}(dt);function pt(){return"5.20221.842"}function gt(t){li._licKey=t}function _t(t,e){return null==t?null:wt(e)?Ct(t.implementsInterface)&&t.implementsInterface(e)?t:null:t instanceof e?t:null}function mt(t){return wt(t)||vt(t)||xt(t)||St(t)}function wt(t){return"string"==typeof t}function bt(t){return!t||!/\S/.test(t)}function vt(t){return"number"==typeof t}function yt(t){return vt(t)&&t==Math.round(t)}function xt(t){return"boolean"==typeof t}function Ct(t){return"function"==typeof t}function jt(t){return void 0===t}function St(t){return(t instanceof Date||"[object Date]"===Object.prototype.toString.call(t))&&!isNaN(t.getTime())}function Et(t){return t instanceof Array||Array.isArray(t)||"[object Array]"===Object.prototype.toString.call(t)}function kt(t){return null!=t&&"object"==typeof t&&!St(t)&&!Et(t)}function Tt(t){for(var e in t)return!1;return!0}function Pt(t){for(var e=t,i=0;null!=document.getElementById(e);i++)e=t+i;return e}function At(t){if(t instanceof Re)return t;if(t&&t.touches&&t.touches.length>0&&(t=t.touches[0]),vt(t.clientX)&&vt(t.clientY))return new Re(t.clientX+pageXOffset,t.clientY+pageYOffset);throw"Mouse or touch event expected."}function Rt(t){return vt(t)?lt.Number:xt(t)?lt.Boolean:St(t)?lt.Date:wt(t)?lt.String:Et(t)?lt.Array:lt.Object}function Ot(t,e){if(void 0===e&&(e=1e3),!t)return[];var i=t.length;(e<=0||i<e)&&(e=i);var n=[];if(e){for(var r=Object.keys(t[0]),o={},s=r.slice(),a=0;a<e;a++){for(var l=t[a],h=s.length-1;h>=0;h--){var u=s[h],c=l[u];if(mt(c)){var d=Object.getOwnPropertyDescriptor(t[a],u);o[u]={binding:u,dataType:Rt(c),isReadOnly:d&&!d.writable&&!d.set},s.splice(h,1)}}if(!s.length)break}for(a=0;a<r.length;a++){var f=o[r[a]];f&&n.push(f)}}return n}function Dt(t,e,i,n){if(null!=t){var r=lt;if(wt(t))switch(e){case r.Number:var o=Ue.parseFloat(t,i);return isNaN(o)?t:o;case r.Date:var s=Ue.parseDate(t,i,St(n)?n:null);return s||i||!t||(s=new Date(t)),s&&isFinite(s.getTime())?s:t;case r.Boolean:switch(t.toLowerCase()){case"true":return!0;case"false":return!1}return t;case r.Array:try{var a=t.split(",").map((function(t){return(t=t.trim()).match(/^(\+|\-)?\d+\.?\d*$/)?t:'"'+t+'"'}));return JSON.parse("["+a.join(",")+"]")}catch(t){}}if(e==lt.String)return Ue.format(t,i)}return t}function It(t,e,i){if(i){var n=(a=t.toString()).indexOf("e"),r=a.indexOf(".");if(n>-1){if("-"===a[n+1]){var o=parseFloat(a.substr(n+2)),s=a.substr(0,n);r>-1&&(s=s.substr(0,r)+s.substr(r+1)),a="0."+(Array(o).join("0")+s).substr(0,e),t=parseFloat(a)}}else r>-1&&(a=a.substr(0,r+1+e),t=parseFloat(a))}else{var a=t.toFixed(e);t=parseFloat(a)}return t}function Mt(t,e,i){if((t=Ut(t)).match(/\{.*"count".*:.*"when".*:.*\}/))try{var n=JSON.parse(t);if(wt(n.count)){var r=e[n.count],o=n.when;if(vt(r)&&kt(o)){var s=o[r]||o.other;wt(s)&&(t=s)}}}catch(t){}return t.replace(/\{(.*?)(:(.*?))?\}/g,(function(t,n,r,o){var s=t;return n&&"{"!=n[0]&&e&&(s=new tt(n).getValue(e),o&&(s=Ue.format(s,o)),i&&(s=i(e,n,o,s))),null==s?"":s}))}function Ft(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=[],n=-1;return t[0].forEach((function(e,r){if(r>0&&r!=n){var o=t[r],s=e.match(/^:([a-z][0-9]*\b)/i)||e.match(/^:'(.+?)'/)||e.match(/^:"(.+?)"/);s?(o=Ue.format(o,s[1]),e=e.substr(s[0].length)):":"==e&&r<t.length-1&&(vt(o)||St(o))&&(o=Ue.format(o,t[r+1]),e="",n=r+1),i.push(o)}e&&i.push(e)})),i.join("")}function Lt(t,e){return D()?(t=t.replace(/:\${([^}]*)}/g,(function(t,i){return":"+Nt(i,e)}))).replace(/\${([^}]*)}(:(([A-Za-z]\d*)|"([^"]+)"|'([^']+)'))?/g,(function(t,i,n,r,o,s,a){var l=Nt(i,e);return r?Ue.format(l,o||s||a):l})):Nt(t,e)}function Nt(t,e){(e=e||{}).glbz=Ft;var i=Object.keys(e),n=i.map((function(t){return e[t]}));return(D()?new(Function.bind.apply(Function,[void 0].concat(i,["return "+t]))):new(Function.bind.apply(Function,[void 0].concat(i,["return glbz`"+t+"`"])))).apply(void 0,n)}function zt(t,e,i){return null!=t&&(null!=i&&t>i&&(t=i),null!=e&&t<e&&(t=e)),t}function Bt(t,e){if(e)for(var i in e)if("_"!=i[0]){Ht(i in t,'Unknown property "'+i+'".');var n=e[i];t._copy&&t._copy(i,n)||(t[i]instanceof it?Ct(n)&&t[i].addHandler(n):!kt(n)||"undefined"!=typeof Element&&n instanceof Element||!t[i]||"itemsSource"==i?t[i]=n:Bt(t[i],n))}return t}function Ht(t,e){if(!t){e="** Assertion failed in Wijmo: "+e;var i=new Error;throw wt(i.stack)&&(e+=" "+i.stack),e}}function Vt(t,e){console.error('** WARNING: "'+t+'" has been deprecated; please use "'+e+'" instead.')}function Ut(t,e){return void 0===e&&(e=!0),jt(t)&&(t=null),Ht(e&&null==t||wt(t),"String expected."),t}function Gt(t,e,i){if(void 0===e&&(e=!1),void 0===i&&(i=!1),Ht(e&&null==t||vt(t),"Number expected."),i&&t&&t<0)throw"Positive number expected.";return t}function Wt(t,e,i){if(void 0===e&&(e=!1),void 0===i&&(i=!1),Ht(e&&null==t||yt(t),"Integer expected."),i&&t&&t<0)throw"Positive integer expected.";return t}function Yt(t,e){return void 0===e&&(e=!1),Ht(e&&null==t||xt(t),"Boolean expected."),t}function qt(t,e){if(void 0===e&&(e=!1),wt(t)){var i=Dt(t,lt.Date,"r");St(i)&&(t=i)}return Ht(e&&null==t||St(t),"Date expected."),t}function Xt(t,e){return void 0===e&&(e=!0),Ht(e&&null==t||Ct(t),"Function expected."),t}function Kt(t,e){return void 0===e&&(e=!0),Ht(e&&null==t||Et(t),"Array expected."),t}function Zt(t,e,i){return void 0===i&&(i=!1),t=_t(t,e),Ht(i||null!=t,e+" expected."),t}function Jt(t,e,i){if(void 0===i&&(i=!1),null==t&&i)return null;var n=wt(t)?e[t]:t;return Ht(null!=n,'Invalid enum value: "'+t+'"'),vt(n)?n:t}function Qt(t,e){if(void 0===e&&(e=!0),null==t&&e)return null;var i=_t(t,"ICollectionView");return null!=i?i:(Et(t)||Ht(!1,"Array or ICollectionView expected."),new ei(t))}function $t(t){return null!=t&&null!=t.items&&t.items.length>0}function te(t){return t&&t.length?t[0].toUpperCase()+t.substr(1).replace(/([a-z])([A-Z])/g,"$1 $2"):""}function ee(t){return t&&wt(t)&&(t=t.replace(/[&<>"'\/]/g,(function(t){return ne[t]}))),null!=t?t.toString():""}!function(t){t[t.Back=8]="Back",t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.Left=37]="Left",t[t.Up=38]="Up",t[t.Right=39]="Right",t[t.Down=40]="Down",t[t.Delete=46]="Delete",t[t.F1=112]="F1",t[t.F2=113]="F2",t[t.F3=114]="F3",t[t.F4=115]="F4",t[t.F5=116]="F5",t[t.F6=117]="F6",t[t.F7=118]="F7",t[t.F8=119]="F8",t[t.F9=120]="F9",t[t.F10=121]="F10",t[t.F11=122]="F11",t[t.F12=123]="F12"}(at||(at={})),function(t){t[t.Object=0]="Object",t[t.String=1]="String",t[t.Number=2]="Number",t[t.Boolean=3]="Boolean",t[t.Date=4]="Date",t[t.Array=5]="Array"}(lt||(lt={}));var ie,ne={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function re(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function oe(t){var e=Ut(t);return wt(e)&&e.indexOf("<")>-1&&(ie||(ie=document.createElement("div")),ie.innerHTML=e,e=ie.textContent),e}function se(t,e){if(t&&e){if(t instanceof HTMLElement&&t.classList&&!M())return t.classList.contains(e);if(t.getAttribute){var i=new RegExp("(\\s|^)"+e+"(\\s|$)");return t&&i.test(t.getAttribute("class"))}}return!1}function ae(t,e){if(t&&e){if(t instanceof HTMLElement&&t.classList&&!M())return void(e.indexOf(" ")<0?t.classList.add(e):e.split(" ").forEach((function(e){t.classList.add(e)})));t.setAttribute&&e.split(" ").forEach((function(e){if(!se(t,e)){var i=t.getAttribute("class");t.setAttribute("class",i?i+" "+e:e)}}))}}function le(t,e){if(t&&e){if(t instanceof HTMLElement&&t.classList&&!M())return void(e.indexOf(" ")<0?t.classList.remove(e):e.split(" ").forEach((function(e){t.classList.remove(e)})));t.setAttribute&&e.split(" ").forEach((function(e){if(se(t,e)){var i=new RegExp("((\\s|^)"+e+"(\\s|$))","g"),n=t.getAttribute("class");(n=n.replace(i," ").replace(/ +/g," ").trim())?t.setAttribute("class",n):t.removeAttribute("class")}}))}}function he(t,e,i){null==i&&(i=!se(t,e)),i?ae(t,e):le(t,e)}function ue(t,e,i,n){t&&(null!=i?n&&t.getAttribute(e)||t.setAttribute(e,i.toString()):t.removeAttribute(e))}function ce(t,e){var i=null==e;t.checked=D()?e||i:e,t.indeterminate=i}function de(t,e){ue(t,"aria-label",e)}function fe(t,e,i){if(void 0===i&&(i=e),Ht(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement,"INPUT or TEXTAREA element expected"),je(document.body,t)&&!t.disabled&&t.offsetHeight){try{t.setSelectionRange(e,i,"backward")}catch(t){}try{return t.focus(),!0}catch(t){}}return!1}function pe(t){var e="autocomplete",i=t.getAttribute(e);i&&"on"!=i||t.setAttribute(e,"off"),"autocorrect,autocapitalize,spellcheck".split(",").forEach((function(e){t.setAttribute(e,"spellcheck"==e?"false":"off")}))}function ge(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function _e(){var t=document.activeElement;if(t){var e=t.shadowRoot;e&&e.activeElement&&(t=e.activeElement)}return t}function me(){var t=Z.activeElement;if(t){var e=t.shadowRoot;e&&e.activeElement&&(t=e.activeElement)}return t}function we(t,e){var i=be(t,e<0),n=0;if(e){var r=i.indexOf(_e());r>-1&&(n=(r+e+i.length)%i.length)}if(n<i.length){var o=i[n];return o.focus(),o instanceof HTMLInputElement&&o.select(),!0}return!1}function be(t,e){void 0===e&&(e=!1);var i=[],n=Array.prototype.slice.call(t.querySelectorAll("input,select,textarea,button,a,div")),r={},o=function(t){return t instanceof HTMLInputElement&&"radio"===t.type};n.forEach((function(t){o(t)&&t.checked&&(r[t.name||""]=!0)})),(n=n.filter((function(t){return!o(t)||t.checked||!r[t.name||""]}))).sort((function(t,e){return t.tabIndex-e.tabIndex}));for(var s=0;s<n.length;s++){var a=n[s];if(a.offsetHeight>0&&a.tabIndex>-1&&!a.disabled&&"hidden"!==window.getComputedStyle(a).visibility&&!Se(a,"[disabled],.wj-state-disabled")){if(a instanceof HTMLAnchorElement&&!a.hasAttribute("href"))continue;if(D()&&!a.hasAttribute("tabindex")){if(a instanceof HTMLDivElement)continue;var l=li.getControl(Se(a,".wj-flexgrid"));if(l&&0==l.keyActionTab)continue}if("radio"===a.type&&!a.checked&&i.length>0){var h=i[i.length-1];if("radio"===h.type&&h.name===a.name){e&&(i[i.length-1]=a);continue}}!li.getControl(a)&&be(a).length||i.push(a)}}return i}function ve(t,e,i){void 0===i&&(i="text/plain");var n=t instanceof Blob;n||!i.match(/\bcsv\b/i)&&!e.match(/\.csv$/i)||(t="\ufeff"+t);var r=n?t:new Blob([t],{type:i});if(Ct(navigator.msSaveOrOpenBlob))navigator.msSaveOrOpenBlob(r,e);else{var o=document.createElement("a"),s=function(t){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),t.dispatchEvent(e)};if("download"in o){var a=window.URL||window.webkitURL,l=a.createObjectURL(r);o.href=l,o.target="_blank",o.download=e,s(o),o=null,window.setTimeout((function(){a.revokeObjectURL(l)}),3e4)}else{var h=new FileReader;h.onloadend=function(){o.href=h.result,o.download=e,s(o),o=null},h.readAsDataURL(r)}}}function ye(t){if(t instanceof Element)return t;if(wt(t))try{return document.querySelector(t)}catch(t){}return t&&t.jquery?t[0]:null}function xe(t,e,i){t=t.replace(/\bstyle\s*=\s*"/g,'_wj-style="');var n=document.createElement("div");if(n.innerHTML=t,t.indexOf("_wj-style")>-1)for(var r=n.querySelectorAll("[_wj-style]"),o=function(t){var e=r[t];e.getAttribute("_wj-style").split(";").forEach((function(t){var i=t.split(":");2==i.length&&(e.style[i[0].trim()]=i[1].trim())})),e.removeAttribute("_wj-style")},s=0;s<r.length;s++)o(s);return 1==n.children.length&&(n=n.children[0]),i&&Pe(n,i),e&&(e=ye(e)).appendChild(n),n}function Ce(t,e){t.textContent=e||""}function je(t,e,i){for(var n=e;n&&t;){if(n===t)return!0;n=(i?n[li._OWNR_KEY]:null)||n.parentNode||n.host}return!1}function Se(t,e){if(t){if(Ct(t.closest))return t.closest(e);var i=t.matches||t.webkitMatchesSelector||t.msMatchesSelector||t.mozMatchesSelector;if(i)for(;t&&1===t.nodeType;t=t.parentElement||t.parentNode)if(i.call(t,e))return t}return null}function Ee(t,e){return Se(t,"."+e)}function ke(t,e){var i=!e,n="disabled";he(t,"wj-state-disabled",i),ue(t,n,i?n:null);for(var r=t.querySelectorAll("input,button"),o=0;o<r.length;o++)ue(r[o],n,i?n:null)}function Te(t){var e=t.getBoundingClientRect();return new De(e.left+pageXOffset,e.top+pageYOffset,e.width,e.height)}function Pe(t,e){if(Ht(kt(e),"css parameter should be an object"),t instanceof Array)for(var i=0;i<t.length;i++)Pe(t[i],e);else if(t&&t.style){var n=t.style;for(var r in e){var o=e[r];"number"==typeof o&&r.match(/width|height|left|top|right|bottom|size|padding|margin'/i)&&(o+="px"),n[r]!==o&&(n[r]=o)}}}function Ae(t,e,i){null==e&&(e=li._ANIM_DEF_DURATION),null==i&&(i=li._ANIM_DEF_STEP),t=Xt(t),e=Gt(e,!1,!0),i=Gt(i,!1,!0);var n,r=Date.now(),o=setInterval((function(){var i=Math.min(1,(Date.now()-r)/e);i=Math.sin(i*Math.PI/2),i*=i,n&&cancelAnimationFrame(n),n=requestAnimationFrame((function(){n=null,t(i)})),i>=1&&clearInterval(o)}),i);return o}var Re=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=Gt(t),this.y=Gt(e)}return t.prototype.equals=function(e){return e instanceof t&&this.x==e.x&&this.y==e.y},t.prototype.clone=function(){return new t(this.x,this.y)},t}(),Oe=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.width=Gt(t),this.height=Gt(e)}return t.prototype.equals=function(e){return e instanceof t&&this.width==e.width&&this.height==e.height},t.prototype.clone=function(){return new t(this.width,this.height)},t}(),De=function(){function t(t,e,i,n){this.left=Gt(t),this.top=Gt(e),this.width=Gt(i),this.height=Gt(n)}return Object.defineProperty(t.prototype,"right",{get:function(){return this.left+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.top+this.height},enumerable:!0,configurable:!0}),t.prototype.equals=function(e){return e instanceof t&&this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height},t.prototype.clone=function(){return new t(this.left,this.top,this.width,this.height)},t.fromBoundingRect=function(e){return null!=e.left?new t(e.left,e.top,e.width,e.height):null!=e.x?new t(e.x,e.y,e.width,e.height):void Ht(!1,"Invalid source rectangle.")},t.union=function(e,i){var n=Math.min(e.left,i.left),r=Math.min(e.top,i.top);return new t(n,r,Math.max(e.right,i.right)-n,Math.max(e.bottom,i.bottom)-r)},t.intersection=function(e,i){var n=Math.max(e.left,i.left),r=Math.max(e.top,i.top);return new t(n,r,Math.min(e.right,i.right)-n,Math.min(e.bottom,i.bottom)-r)},t.prototype.contains=function(e){if(e instanceof Re)return e.x>=this.left&&e.x<=this.right&&e.y>=this.top&&e.y<=this.bottom;if(e instanceof t){var i=e;return i.left>=this.left&&i.right<=this.right&&i.top>=this.top&&i.bottom<=this.bottom}Ht(!1,"Point or Rect expected.")},t.prototype.inflate=function(e,i){return new t(this.left-e,this.top-i,this.width+2*e,this.height+2*i)},t}(),Ie=function(){function t(){}return t.addDays=function(t,e){return(t=new Date(t.getTime())).setDate(t.getDate()+e),t},t.addMonths=function(t,e){var i=(t=new Date(t.getTime())).getDate();return t.setMonth(t.getMonth()+e),t.getDate()!=i&&t.setDate(0),t},t.addYears=function(t,e){return(t=new Date(t.getTime())).setFullYear(t.getFullYear()+e),t},t.addHours=function(t,e){return(t=new Date(t.getTime())).setHours(t.getHours()+e),t},t.addMinutes=function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t},t.addSeconds=function(t,e){return(t=new Date(t.getTime())).setSeconds(t.getSeconds()+e),t},t.weekFirst=function(e,i){return void 0===i&&(i=Ue.getFirstDayOfWeek()),t.addDays(e,-(e.getDay()-i))},t.weekLast=function(e,i){return void 0===i&&(i=Ue.getFirstDayOfWeek()),e=t.weekFirst(e,i),t.addDays(e,6)},t.monthFirst=function(e){return t.addDays(e,1-e.getDate())},t.monthLast=function(e){return e=t.monthFirst(e),e=t.addMonths(e,1),t.addDays(e,-1)},t.yearFirst=function(t){return new Date(t.getFullYear(),0,1)},t.yearLast=function(t){return new Date(t.getFullYear(),11,31)},t.sameDate=function(t,e){return St(t)&&St(e)&&t.getFullYear()==e.getFullYear()&&t.getMonth()==e.getMonth()&&t.getDate()==e.getDate()},t.sameTime=function(t,e){return St(t)&&St(e)&&t.getHours()==e.getHours()&&t.getMinutes()==e.getMinutes()&&t.getSeconds()==e.getSeconds()&&t.getMilliseconds()==e.getMilliseconds()},t.equals=function(t,e){return null==t&&null==e||St(t)&&St(e)&&t.getTime()==e.getTime()},t.fromDateTime=function(e,i){return e||i?(e||(e=i),i||(i=e),t.newDate(e.getFullYear(),e.getMonth(),e.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds())):null},t.toFiscal=function(e,i){var n=Ve.Globalize.calendar;return Et(n.fiscalYearOffsets)?t.addMonths(e,-n.fiscalYearOffsets[i?0:1]):e},t.fromFiscal=function(e,i){var n=Ve.Globalize.calendar;return Et(n.fiscalYearOffsets)?t.addMonths(e,+n.fiscalYearOffsets[i?0:1]):e},t.newDate=function(t,e,i,n,r,o,s){if(null==t||null==e||null==i){var a=new Date;null==t&&(t=a.getFullYear()),null==e&&(e=a.getMonth()),null==i&&(i=a.getDate())}null==n&&(n=0),null==r&&(r=0),null==o&&(o=0),null==s&&(s=0);var l=new Date(t,e,i,n,r,o,s),h=l.getFullYear();return t<100&&h>=1900&&l.setFullYear(l.getFullYear()-1900),l},t.clone=function(e){return t.fromDateTime(e,e)},t}();function Me(t,e){var i=e||{},n=i.method?Ut(i.method).toUpperCase():"GET",r=null==i.async||Yt(i.async),o=i.data;if(null!=o&&"GET"==n){var s=[];for(var a in o){var l=o[a];St(l)&&(l=l.toJSON()),s.push(a+"="+encodeURIComponent(l))}if(s.length){var h=t.indexOf("?")<0?"?":"&";t+=h+s.join("&")}o=null}var u=new XMLHttpRequest;u.URL_DEBUG=t;var c=!1;if(null==o||wt(o)||(c=kt(o),o=JSON.stringify(o)),u.onload=function(){4==u.readyState&&(u.status<300?i.success&&Xt(i.success)(u):i.error&&Xt(i.error)(u),i.complete&&Xt(i.complete)(u))},u.onerror=function(){if(!Ct(i.error))throw"HttpRequest Error: "+u.status+" "+u.statusText;i.error(u)},u.open(n,t,r,i.user,i.password),i.user&&i.password&&u.setRequestHeader("Authorization","Basic "+btoa(i.user+":"+i.password)),c&&function(){for(var t in i.requestHeaders)if("content-type"===t.toLowerCase())return!1;return!0}()&&u.setRequestHeader("Content-Type","application/json"),i.requestHeaders)for(var d in i.requestHeaders)u.setRequestHeader(d,i.requestHeaders[d]);return vt(i.timeout)&&(u.timeout=i.timeout),Ct(i.beforeSend)&&i.beforeSend(u),u.send(o),u}var Fe={};function Le(t,e){if(Fe[t]=e,"wijmo"===t){var i="undefined"!=typeof window?window:"undefined"!=typeof self?self:null;i&&(i.wijmo=e)}}function Ne(t){return Fe[t]}var ze=function(){function t(t){if(void 0===t&&(t=!0),t)this._h={};else{var e=function(){var t=null;return"undefined"!=typeof window?t=window:void 0!==i.g?t=i.g:"undefined"!=typeof self&&(t=self),t}(),n=e&&e.Map;this._m=n&&new Map||new Be}}return Object.defineProperty(t.prototype,"isPojoHash",{get:function(){return null!=this._h},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._h&&Object.keys(this._h).length||this._m.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this._h?this._h={}:this._m.clear()},t.prototype.delete=function(t){this._h?delete this._h[t]:this._m.delete(t)},t.prototype.get=function(t){return this._h?this._h[t]:this._m.get(t)},t.prototype.has=function(t){return this._h?t in this._h:this._m.has(t)},t.prototype.set=function(t,e){return this._h?this._h[t]=e:this._m.set(t,e),this},t}(),Be=function(){function t(){this._d=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this._d.length},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this._d=[]},t.prototype.delete=function(t){var e=this._kIdx(t);return e>-1&&(this._d.splice(e,1),!0)},t.prototype.get=function(t){var e=this._kIdx(t);return e>-1?this._d[e].v:void 0},t.prototype.has=function(t){return this._kIdx(t)>-1},t.prototype.set=function(t,e){var i=this._kIdx(t);return i>-1?this._d[i].v=e:this._d.push({k:t,v:e}),this},t.prototype._kIdx=function(t){var e=this._d,i=e.length;if(t==t){for(var n=0;n<i;n++)if(e[n].k===t)return n}else for(n=0;n<i;n++){var r=e[n].k;if(r!=r)return n}return-1},t}();var He=function(){function t(t){this._r=0,this._g=0,this._b=0,this._a=1,t&&this._parse(t)}return Object.defineProperty(t.prototype,"r",{get:function(){return this._r},set:function(t){this._r=zt(Gt(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"g",{get:function(){return this._g},set:function(t){this._g=zt(Gt(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"b",{get:function(){return this._b},set:function(t){this._b=zt(Gt(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"a",{get:function(){return this._a},set:function(t){this._a=zt(Gt(t),0,1)},enumerable:!0,configurable:!0}),t.prototype.equals=function(e){return e instanceof t&&this.r==e.r&&this.g==e.g&&this.b==e.b&&this.a==e.a},t.prototype.toString=function(){var t=Math.round(100*this.a);return t>99?"#"+((1<<24)+(this.r<<16)+(this.g<<8)+this.b).toString(16).slice(1):"rgba("+this.r+","+this.g+","+this.b+","+t/100+")"},t.fromRgba=function(e,i,n,r){void 0===r&&(r=1);var o=new t(null);return o.r=Math.round(zt(Gt(e),0,255)),o.g=Math.round(zt(Gt(i),0,255)),o.b=Math.round(zt(Gt(n),0,255)),o.a=zt(Gt(r),0,1),o},t.fromHsb=function(e,i,n,r){void 0===r&&(r=1);var o=t._hsbToRgb(zt(Gt(e),0,1),zt(Gt(i),0,1),zt(Gt(n),0,1));return t.fromRgba(o[0],o[1],o[2],r)},t.fromHsl=function(e,i,n,r){void 0===r&&(r=1);var o=t._hslToRgb(zt(Gt(e),0,1),zt(Gt(i),0,1),zt(Gt(n),0,1));return t.fromRgba(o[0],o[1],o[2],r)},t.fromString=function(e){var i=new t(null);return i._parse(Ut(e))?i:null},t.prototype.getHsb=function(){return t._rgbToHsb(this.r,this.g,this.b)},t.prototype.getHsl=function(){return t._rgbToHsl(this.r,this.g,this.b)},t.interpolate=function(e,i,n){n=zt(Gt(n),0,1);var r=t._rgbToHsl(e.r,e.g,e.b),o=t._rgbToHsl(i.r,i.g,i.b),s=1-n,a=e.a*s+i.a*n,l=[r[0]*s+o[0]*n,r[1]*s+o[1]*n,r[2]*s+o[2]*n],h=t._hslToRgb(l[0],l[1],l[2]);return t.fromRgba(h[0],h[1],h[2],a)},t.toOpaque=function(e,i){if(1==(e=wt(e)?t.fromString(e):Zt(e,t)).a)return e;i=null==i?t.fromRgba(255,255,255,1):wt(i)?t.fromString(i):Zt(i,t);var n=e.a,r=1-n;return t.fromRgba(e.r*n+i.r*r,e.g*n+i.g*r,e.b*n+i.b*r)},t.prototype._parse=function(e){if("transparent"==(e=e.toLowerCase()))return this._r=this._g=this._b=this._a=0,!0;if(e&&0!=e.indexOf("#")&&0!=e.indexOf("rgb")&&0!=e.indexOf("hsl")){var i=document.createElement("div");i.style.color=e;var n=i.style.color;n!=e||(n=window.getComputedStyle(i).color)||(document.body.appendChild(i),n=window.getComputedStyle(i).color,ge(i)),e=n.toLowerCase()}if(0==e.indexOf("#"))return 4==e.length?(this.r=parseInt(e[1]+e[1],16),this.g=parseInt(e[2]+e[2],16),this.b=parseInt(e[3]+e[3],16),this.a=1,!0):7==e.length&&(this.r=parseInt(e.substr(1,2),16),this.g=parseInt(e.substr(3,2),16),this.b=parseInt(e.substr(5,2),16),this.a=1,!0);if(0==e.indexOf("rgb")){var r=e.indexOf("("),o=e.indexOf(")");if(r>-1&&o>-1&&(s=e.substr(r+1,o-(r+1)).split(",")).length>2)return this.r=parseInt(s[0]),this.g=parseInt(s[1]),this.b=parseInt(s[2]),this.a=s.length>3?parseFloat(s[3]):1,!0}var s;if(0==e.indexOf("hsl")&&(r=e.indexOf("("),o=e.indexOf(")"),r>-1&&o>-1&&(s=e.substr(r+1,o-(r+1)).split(",")).length>2)){var a=parseInt(s[0])/360,l=parseInt(s[1]),h=parseInt(s[2]);s[1].indexOf("%")>-1&&(l/=100),s[2].indexOf("%")>-1&&(h/=100);var u=t._hslToRgb(a,l,h);return this.r=u[0],this.g=u[1],this.b=u[2],this.a=s.length>3?parseFloat(s[3]):1,!0}return!1},t._hslToRgb=function(e,i,n){var r,o,s;if(Ht(e>=0&&e<=1&&i>=0&&i<=1&&n>=0&&n<=1,"bad HSL values"),0==i)r=o=s=n;else{var a=n<.5?n*(1+i):n+i-n*i,l=2*n-a;r=t._hue2rgb(l,a,e+1/3),o=t._hue2rgb(l,a,e),s=t._hue2rgb(l,a,e-1/3)}return[Math.round(255*r),Math.round(255*o),Math.round(255*s)]},t._hue2rgb=function(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t},t._rgbToHsl=function(t,e,i){Ht(t>=0&&t<=255&&e>=0&&e<=255&&i>=0&&i<=255,"bad RGB values"),t/=255,e/=255,i/=255;var n,r,o=Math.max(t,e,i),s=Math.min(t,e,i),a=(o+s)/2;if(o==s)n=r=0;else{var l=o-s;switch(r=a>.5?l/(2-o-s):l/(o+s),o){case t:n=(e-i)/l+(e<i?6:0);break;case e:n=(i-t)/l+2;break;case i:n=(t-e)/l+4}n/=6}return[n,r,a]},t._rgbToHsb=function(e,i,n){Ht(e>=0&&e<=255&&i>=0&&i<=255&&n>=0&&n<=255,"bad RGB values");var r=t._rgbToHsl(e,i,n);return t._hslToHsb(r[0],r[1],r[2])},t._hsbToRgb=function(e,i,n){var r=t._hsbToHsl(e,i,n);return t._hslToRgb(r[0],r[1],r[2])},t._hsbToHsl=function(t,e,i){Ht(t>=0&&t<=1&&e>=0&&e<=1&&i>=0&&i<=1,"bad HSB values");var n=zt(i*(2-e)/2,0,1),r=1-Math.abs(2*n-1),o=zt(r>0?i*e/r:e,0,1);return Ht(!isNaN(n)&&!isNaN(o),"bad conversion to HSL"),[t,o,n]},t._hslToHsb=function(t,e,i){Ht(t>=0&&t<=1&&e>=0&&e<=1&&i>=0&&i<=1,"bad HSL values");var n=zt(1==i?1:(2*i+e*(1-Math.abs(2*i-1)))/2,0,1),r=zt(n>0?2*(n-i)/n:e,0,1);return Ht(!isNaN(n)&&!isNaN(r),"bad conversion to HSB"),[t,r,n]},t}(),Ve="undefined"!=typeof window&&window.wijmo&&window.wijmo.culture||{Globalize:{numberFormat:{".":".",",":",","-":"-","+":"+","%":"%",percent:{pattern:["-n%","n%"]},currency:{decimals:2,symbol:"$",pattern:["($n)","$n"]}},calendar:{"/":"/",":":":",firstDay:0,days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],am:["AM","A"],pm:["PM","P"],eras:["A.D.","B.C."],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",t:"h:mm tt",T:"h:mm:ss tt",M:"MMMM d",m:"MMMM d",Y:"MMMM, yyyy",y:"MMMM, yyyy",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",s:'yyyy"-"MM"-"dd"T"HH":"mm":"ss',o:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',O:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',U:"dddd, MMMM dd, yyyy h:mm:ss tt"},fiscalYearOffsets:[-3,-3]}}},Ue=function(){function t(){}return t.format=function(e,i,n,r,o){return wt(e)?e:vt(e)?(i=i||(e==Math.round(e)?"n0":"n2"),t.formatNumber(e,i,n,r,o)):St(e)?(i=i||"d",t.formatDate(e,i)):null!=e?e.toString():""},t.formatNumber=function(e,i,n,r,o){e=Gt(e),i=Ut(i);var s,a=Ve.Globalize.numberFormat,l=t._parseNumericFormat(i),h=l.spec,u=l.prec,c=a["."]||".",d=a[","]||",",f=a["-"]||"-",p=Math;if(null==u&&(u=null!=o?o:"c"==h?a.currency.decimals:"e"==h?6:"r"==h?15:e==p.round(e)?0:2),l.scale&&(e/=p.pow(10,l.scale)),"d"==h||"x"==h){for(s=(r?p.floor:p.round)(p.abs(e)).toString("d"==h?10:16);s.length<u;)s="0"+s;return e<0&&(s=f+s),"X"==l.specRaw?s.toUpperCase():s}switch("p"==h&&(e=It(e=t._shiftDecimal(e,2,14),u,r)),r&&"p"!=h&&"e"!=h&&(e=It(e,u,!0)),h){case"e":s=e.toExponential(u),"E"==l.specRaw&&(s=s.replace("e","E"));break;case"c":case"p":s=t._toFixedStr(p.abs(e),u);break;default:"-"!=(s=t._toFixedStr(e,u))[0]||s.match(/[1-9]/)||(s=s.substr(1))}if((n||"g"==h||"r"==h)&&s.indexOf(".")>-1&&(s=s.replace(/(\.\d*?)0+$/g,"$1").replace(/\.$/,"")),"."!=c&&(s=s.replace(".",c)),"-"!=f&&(s=s.replace("-",f)),d&&("n"==h||"c"==h||"p"==l.specRaw||"F"==l.specRaw||"G"==l.specRaw)){var g=s.indexOf(c),_=/\B(?=(\d\d\d)+(?!\d))/g;s=g>-1?s.substr(0,g).replace(_,d)+s.substr(g):s.replace(_,d)}if("c"==h){var m=e<0&&s.match(/[1-9]/)?0:1,w=a.currency.pattern[m],b=l.curr||a.currency.symbol;""==b&&(b=""),s=w.replace("n",s).replace("$",b)}if("p"==h){m=e<0&&s.match(/[1-9]/)?0:1,w=a.percent.pattern[m];var v=a["%"]||"%";s=w.replace("n",s),"%"!=v&&(s=s.replace("%",v)),"-"!=f&&0==m&&(s=s.replace("-",f))}return l.prefix||l.suffix?l.prefix+s+l.suffix:s},t.formatDate=function(e,i){switch(e=qt(e),i){case"r":case"R":return e.toUTCString();case"u":return e.toISOString().replace(/\.\d{3}/,"")}return i=t._expandFormat(i),t._parseDateFormat(i).map((function(n){return t._formatDatePart(e,i,n)})).join("")},t.parseInt=function(e,i){return Math.round(t.parseFloat(e,i))},t.parseFloat=function(e,i){var n=t._parseNumericFormat(i),r=n.prefix;r&&0==e.indexOf(r)&&(e=e.substring(r.length));var o=n.suffix;if(o){var s=e.lastIndexOf(o);s>-1&&s==e.length-o.length&&(e=e.substring(0,e.length-o.length))}var a=Ve.Globalize.numberFormat,l=a["."]||".",h=a[","]||",",u=a["-"]||"-",c=a["%"]||"%",d=n.curr||a.currency.symbol||"$",f=e.indexOf(c)>-1,p=e.indexOf("(")>-1&&e.indexOf(")")>-1,g=0;if("x"==n.spec)g=parseInt(e,16);else{[d,c,"(",")"].forEach((function(t){e=e.replace(t,"")})),/\s/.test(h)&&(e=e.replace(/\s+/g,""));var _=(e=e.replace(new RegExp("\\"+h,"g"),"").replace(new RegExp("\\"+u,"g"),"-").replace(/(\+|\-)\s+/g,"$1").replace(l,".").trim()).length;!p&&_&&"-"==e[_-1]&&(p=!0,e=e.substring(0,_-1)),g=/^\s*(\+|\-)?\d*(\.\d*)?(\s*E(\+|\-)?\d+)?\s*$/i.test(e)?parseFloat(e):Number.NaN}return isNaN(g)||(p=p||g<0,g=Math.abs(g),f&&(g=t._shiftDecimal(g,-2)),p&&(g=-g),n.scale&&(g*=Math.pow(10,n.scale))),g},t.parseDate=function(e,i,n){if(!(e=Ut(e)))return null;if("u"==i)return new Date(e);var r;if("R"==i||"r"==i){var o=e.match(/((\d+)\-(\d+)\-(\d+))?\s?((\d+):(\d+)(:(\d+))?)?/);return o[1]||o[5]?(r=o[1]?new Date(parseInt(o[2]),parseInt(o[3])-1,parseInt(o[4])):new Date,o[5]&&(r.setHours(parseInt(o[6])),r.setMinutes(parseInt(o[7])),r.setSeconds(o[8]?parseInt(o[9]):0))):r=new Date(e),isNaN(r.getTime())?null:r}i=t._expandFormat(i||"d");var s=Ve.Globalize.calendar,a=t._CJK,l=new RegExp("(\\"+s["/"]+")|(\\"+s[":"]+")|(\\d+)|(["+a+"\\.]{2,})|(["+a+"]+)","gi"),h=e.match(l),u=t._parseDateFormat(i),c=0;if(!(h&&h.length&&u&&u.length))return null;var d,f,p,g,_,m=-1,w=0,b=1,v=0,y=0,x=0,C=0,j=-1,S=null;(n=qt(n,!0))&&(w=n.getMonth(),b=n.getDate(),v=n.getHours(),y=n.getMinutes(),x=n.getSeconds(),C=n.getMilliseconds());for(var E=0;E<u.length&&h;E++){var k=E-c,T=k>-1&&k<h.length?h[k]:"",P=u[E].length;switch(u[E]){case"EEEE":case"EEE":case"EE":case"E":case"eeee":case"eee":case"ee":case"e":_=u[E];case"yyyy":case"yyy":case"yy":case"y":P>1&&T.length>P&&(h[k]=T.substr(P),T=T.substr(0,P),c++),m=parseInt(T),g=4==T.length;break;case"MMMM":case"MMM":p=!0,w=-1;for(var A=T.toLowerCase(),R="MMMM"==u[E]?s.months:s.monthsAbbr,O=0;O<12;O++)if(0==R[O].toLowerCase().indexOf(A)){w=O;break}if(w>-1)break;case"MM":case"M":p=!0,P>1&&T.length>P&&(h[k]=T.substr(P),T=T.substr(0,P),c++),w=parseInt(T)-1;break;case"dddd":case"ddd":d=!0;break;case"dd":case"d":P>1&&T.length>P&&(h[k]=T.substr(P),T=T.substr(0,P),c++),b=parseInt(T),f=!0;break;case"hh":case"h":P>1&&T.length>P&&(h[k]=T.substr(P),T=T.substr(0,P),c++),v=12==(v=parseInt(T))?0:v;break;case"HH":P>1&&T.length>P&&(h[k]=T.substr(P),T=T.substr(0,P),c++),v=parseInt(T);break;case"H":v=parseInt(T);break;case"mm":case"m":P>1&&T.length>P&&(h[k]=T.substr(P),T=T.substr(0,P),c++),y=parseInt(T);break;case"ss":case"s":P>1&&T.length>P&&(h[k]=T.substr(P),T=T.substr(0,P),c++),x=parseInt(T);break;case"fffffff":case"FFFFFFF":case"ffffff":case"FFFFFF":case"fffff":case"FFFFF":case"ffff":case"FFFF":case"fff":case"FFF":case"ff":case"FF":case"f":case"F":C=parseInt(T)/Math.pow(10,P-3);break;case"tt":case"t":T=T.toUpperCase(),v<12&&s.pm.indexOf(T)>-1&&(v+=12);break;case"q":case"Q":case"u":case"U":j=parseInt(T);break;case"ggg":case"gg":case"g":if(S=s.eras.length>1?t._getEra(T,s):null,s.eras.length>0&&!S)return null;break;case"/":case":":if(T&&T!=s[u[E]])return null;break;case s["/"]:case s[":"]:if(T&&T!=u[E])return null;break;case"K":break;default:t._unquote(u[E]).trim()!=T.trim()&&c++}}if(p&&f&&(isNaN(v)&&(v=0),isNaN(y)&&(y=0),isNaN(x)&&(x=0)),w<0||w>11||isNaN(w)||b<1||b>31||isNaN(b)||v<0||v>=24||isNaN(v)||y<0||y>=60||isNaN(y)||x<0||x>=60||isNaN(x))return null;if(h.length+c>u.length)return null;if(_){if(!p)return null;var D=Ve.Globalize.calendar;if(Et(D.fiscalYearOffsets)){var I="E"==_[0],M=w-D.fiscalYearOffsets[I?0:1];m+=M>11?-1:M<0?1:0}}if(d&&!f)return null;if(!p&&j>=1&&j<=4&&(w=3*(j-1)),isNaN(m)||m<0)m=n?n.getFullYear():(new Date).getFullYear();else if(S&&S.start)m=m+S.start.getFullYear()-1;else if(m<100&&!g){var F=vt(s.twoDigitYearMax)?s.twoDigitYearMax:2029;F>99&&(m+=m+2e3<=F?2e3:1900)}return(r=Ie.newDate(m,w,b,v,y+0,x,C)).getMonth()!=w||r.getDate()!=b||isNaN(r.getTime())?null:r},t.getFirstDayOfWeek=function(){return Ve.Globalize.calendar.firstDay||0},t.getNumberDecimalSeparator=function(){return Ve.Globalize.numberFormat["."]||"."},t._toFixedStr=function(t,e){var i=t.toString(),n=i.indexOf("."),r=e-(i.length-n)+1,o=i.indexOf("e")>-1;return!o&&n>-1&&r>=0?i+Array(r+1).join("0"):(n>-1&&!o&&"5"==i[i.length-1]&&(t=+(Math.round(+(Math.abs(t)+"e"+e))+"e"+-e)*(t<0?-1:1)),t.toFixed(e))},t._unquote=function(t){return t.length>1&&t[0]==t[t.length-1]&&("'"==t[0]||'"'==t[0])?t.substr(1,t.length-2):t},t._parseNumericFormat=function(e){var i=t._numFormatInfo[e];if(!i){var n=e&&e.match(/(\"(.*?)\"\s*)?([a-z]+)\s*(\d*)\s*(,*)(\s*\"(.*?)\"\s*)?(.*)/i)||[],r=n[3]?n[3]:"n";r.length>1&&(n=[],r="n"),i={prefix:n[2]||"",spec:r.toLowerCase(),specRaw:r,prec:n[4]?parseInt(n[4]):null,scale:n[5]?3*n[5].length:0,suffix:n[7]||"",curr:n[8]||null},t._numFormatInfo[e]=i}return i},t._parseDateFormat=function(e){var i=t._dateFormatParts[e];if(!i){if(i=[],e){var n=void 0,r=void 0;for(n=0;n>-1&&n<e.length;n++){var o=e[n];if(("'"==o||'"'==o)&&(r=e.indexOf(o,n+1))>-1)i.push(e.substring(n,r+1)),n=r;else if("\\"==o&&n<e.length-1)n++,i.push('"'+e[n]+'"');else{for(r=n+1;r<e.length&&e[r]==o;r++);i.push(e.substring(n,r)),n=r-1}}}t._dateFormatParts[e]=i}return i},t._formatDatePart=function(e,i,n){var r,o=Ve.Globalize.calendar,s=null,a=0,l=0,h=n.length;switch(n){case"yyyy":case"yyy":case"yy":case"y":case"EEEE":case"EEE":case"EE":case"E":case"eeee":case"eee":case"ee":case"e":a=(r="E"==n[0]?Ie.toFiscal(e,!0):"e"==n[0]?Ie.toFiscal(e,!1):e).getFullYear(),o.eras.length>1&&i.indexOf("g")>-1&&(s=t._getEra(e,o))&&(a=St(s.start)?a-s.start.getFullYear()+1:Math.abs(a));var u=n.length<3?a%100:3==n.length?a%1e3:a;return t._zeroPad(u,n.length);case"MMMMM":return o.monthsAbbr[e.getMonth()][0];case"MMMM":return o.months[e.getMonth()];case"MMM":return o.monthsAbbr[e.getMonth()];case"MM":case"M":return t._zeroPad(e.getMonth()+1,h);case"dddd":return o.days[e.getDay()];case"ddd":return o.daysAbbr[e.getDay()];case"dd":return t._zeroPad(e.getDate(),2);case"d":return e.getDate().toString();case"hh":case"h":return t._zeroPad(t._h12(e),h);case"HH":case"H":return t._zeroPad(e.getHours(),h);case"mm":case"m":return t._zeroPad(e.getMinutes(),h);case"ss":case"s":return t._zeroPad(e.getSeconds(),h);case"fffffff":case"FFFFFFF":case"ffffff":case"FFFFFF":case"fffff":case"FFFFF":case"ffff":case"FFFF":case"fff":case"FFF":case"ff":case"FF":case"f":case"F":return l=e.getMilliseconds()*Math.pow(10,h-3),"f"==n[0]?t._zeroPad(l,h):l.toFixed(0);case"tt":return e.getHours()<12?o.am[0]:o.pm[0];case"t":return e.getHours()<12?o.am[1]:o.pm[1];case"q":case"Q":return(Math.floor(e.getMonth()/3)+1).toString();case"u":case"U":return r=Ie.toFiscal(e,"U"==n),(Math.floor(r.getMonth()/3)+1).toString();case"ggg":case"gg":case"g":if(o.eras.length>1&&(s=t._getEra(e,o))){if(wt(s))return s;switch(n){case"gg":return s.name[0];case"g":return s.symbol;default:return s.name}}return o.eras[0];case":":case"/":return o[n];case"K":var c=e.toString().match(/(\+|\-)(\d{2})(\d{2})/);return c?c[1]+c[2]+c[3]:"";case"zzz":case"zz":case"z":var d=-e.getTimezoneOffset(),f=Math.abs(d),p=t.formatNumber,g=void 0;switch(n){case"zzz":g=p(f/60,"d2",!1,!0)+o[":"]+p(f%60,"d2",!1,!0);break;case"zz":g=p(f/60,"d2",!1,!0);break;case"z":g=p(f/60,"d1",!1,!0)}return(d>=0?"+":"-")+g}return h>1&&n[0]==n[h-1]&&('"'==n[0]||"'"==n[0])?n.substr(1,h-2):n},t._getEra=function(t,e){if(e.eras){var i=e.eras,n=e.eras.length;if(St(t)){if(wt(i[0]))return i[t.getFullYear()>=0?0:1];if(St(i[0].start)){for(var r=0;r<n;r++)if(t>=i[r].start)return i[r];return i[n-1]}}else if(wt(t)&&t.length>0)for(t=t.toLowerCase(),r=0;r<n;r++){var o=i[r];if(wt(o)){if(0==o.toLowerCase().indexOf(t))return o}else if(o.name&&0==o.name.toLowerCase().indexOf(t)||o.symbol&&0==o.symbol.toLowerCase().indexOf(t))return o}}return null},t._expandFormat=function(t){return Ve.Globalize.calendar.patterns[t]||t},t._zeroPad=function(t,e){var i=t.toFixed(0),n=e-i.length+1;return n>0?Array(n).join("0")+i:i},t._h12=function(t){var e=Ve.Globalize.calendar,i=t.getHours();return e.am&&e.am[0]&&0==(i%=12)&&(i=12),i},t._shiftDecimal=function(t,e,i){if(0==e||isNaN(t))return t;var n=t.toString();if(n.indexOf("e")>-1){var r=t*Math.pow(10,e);return null!=i&&(r=parseFloat(r.toFixed(i))),r}var o=Array(Math.abs(e)+1).join("0");e<0&&(n=o+n);var s=n.indexOf(".");return s<0&&(s=(n+=".").indexOf(".")),e>0&&(n+=o),s+=e,n=(n=n.replace(".","")).substr(0,s)+"."+n.substr(s),parseFloat(n)},t._CJK="a-z"+"u00c0-u017fu3000-u30ffu4e00-u9faf".replace(/u/g,"\\u")+"u1100-u11ffu3130-u318fua960-ua97fuac00-ud7afud7b0-ud7ff".replace(/u/g,"\\u"),t._numFormatInfo={},t._dateFormatParts={},t}();function Ge(t){Ve=t}function We(t,e){var i="undefined"!=typeof window?window.wijmo:null,n=i?i.culture:null,r=n?n[t]:null;Ve[t]=r||e}var Ye,qe=function(){function t(t,e,i){void 0===e&&(e=""),void 0===i&&(i="_"),this._promptChar="_",this._mskArr=[],this._overWrite=!1,this._full=!0,this._inputBnd=this._input.bind(this),this._keydownBnd=this._keydown.bind(this),this._keypressBnd=this._keypress.bind(this),this._cmpstartBnd=this._cmpstart.bind(this),this._cmpendBnd=this._cmpend.bind(this),this.mask=Ut(e),this.input=t,this.promptChar=Ut(i,!1),this._connect(!0),(this._evtInput=document.createEvent("HTMLEvents")).initEvent("input",!0,!1)}return Object.defineProperty(t.prototype,"input",{get:function(){return this._tbx},set:function(t){this._connect(!1),this._tbx=t,this._connect(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._msk},set:function(t){t!=this._msk&&(this._msk=Ut(t,!0),this._parseMask(),this._valueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"promptChar",{get:function(){return this._promptChar},set:function(t){if(t!=this._promptChar){Ht(1==(t=Ut(t,!1)).length,"promptChar must be a string with length 1.");for(var e=this._tbx,i=e.value,n="",r=this._mskArr,o=this._promptChar,s=0;s<i.length;s++){var a=r[s],l=i[s];a&&a.literal||l!==o||(l=t),n+=l}e.value=n,this._promptChar=t}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"overwriteMode",{get:function(){return this._overWrite},set:function(t){this._overWrite=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maskFull",{get:function(){return this._full},enumerable:!0,configurable:!0}),t.prototype.getMaskRange=function(){return this._mskArr.length?[this._firstPos,this._lastPos]:[0,this._tbx.value.length-1]},t.prototype.getRawValue=function(){var t=this._tbx?this._tbx.value:"";if(!this.mask)return t;for(var e="",i=0;i<this._mskArr.length&&i<t.length;i++)this._mskArr[i].literal||t[i]==this._promptChar||(e+=t[i]);return e},t.prototype.refresh=function(){this._parseMask(),this._valueChanged()},t.prototype._input=function(t){var e=this;this._msk&&!this._composing&&t!=this._evtInput&&(t.preventDefault(),t.stopImmediatePropagation(),setTimeout((function(){e._valueChanged(),e._tbx&&e._tbx.dispatchEvent(e._evtInput)})))},t.prototype._keydown=function(t){if(t.keyCode==at.Back){var e=this._tbx.selectionStart,i=this._tbx.selectionEnd;if(e<=this._firstPos&&i==e)return t.preventDefault(),void(this._backSpace=!1)}this._backSpace=t.keyCode==at.Back},t.prototype._keypress=function(t){t.ctrlKey||t.metaKey||t.altKey||this._composing||!this._preventKey(t.charCode)||t.preventDefault()},t.prototype._cmpstart=function(t){this._composing=!0},t.prototype._cmpend=function(t){var e=this;this._composing&&(this._composing=!1,setTimeout((function(){var t=e._tbx;t&&e._valueChanged()&&t.dispatchEvent(e._evtInput)})))},t.prototype._preventKey=function(t){if(t&&this._mskArr.length){var e=this._tbx,i=e.selectionStart,n=String.fromCharCode(t);if(i<this._firstPos&&fe(e,i=this._firstPos),i>=this._mskArr.length)return!0;var r=this._mskArr[i];if(r.literal)this._validatePosition(i);else if(r.wildCard!=n&&!this._isCharValid(r.wildCard,n))return!0}return!1},t.prototype._connect=function(t){var e=this._tbx;e&&(Ht(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement,"INPUT or TEXTAREA element expected."),t?(this._autoComplete=e.autocomplete,this._spellCheck=e.spellcheck,e.autocomplete="off",e.spellcheck=!1,e.addEventListener("input",this._inputBnd,!0),e.addEventListener("keydown",this._keydownBnd,!0),e.addEventListener("keypress",this._keypressBnd,!0),e.addEventListener("compositionstart",this._cmpstartBnd,!0),e.addEventListener("compositionend",this._cmpendBnd,!0),e.addEventListener("blur",this._cmpendBnd,!0),this._valueChanged()):(e.autocomplete=this._autoComplete,e.spellcheck=this._spellCheck,e.removeEventListener("input",this._inputBnd,!0),e.removeEventListener("keydown",this._keydownBnd,!0),e.removeEventListener("keypress",this._keypressBnd,!0),e.removeEventListener("compositionstart",this._cmpstartBnd,!0),e.removeEventListener("compositionend",this._cmpendBnd,!0),e.removeEventListener("blur",this._cmpendBnd,!0)))},t.prototype._valueChanged=function(){if(!this._tbx||!this._msk)return!1;var t=this._tbx,e=t.selectionStart,i=e>0?t.value[e-1]:"",n=t.value;t.value=this._applyMask(),""==n&&(e=this._firstPos+1);var r=e>0?t.value[e-1]:"";return e>0&&r==this._promptChar&&i!=this.promptChar&&e--,e==n.length&&(e=this._matchEnd),this._validatePosition(e),n!=t.value},t.prototype._applyMask=function(){var t=this._tbx,e=t.value;if(this._full=!0,this._matchEnd=0,!this._msk)return e;if(!e&&!t.required)return e;if(this._overWrite&&e.length==this.mask.length+1){var i=t.selectionStart;t==document.activeElement&&t.selectionEnd==i&&(e=e.substr(0,i)+e.substr(i+1))}e=this._handleVagueLiterals(e);for(var n="",r=0,o=this._promptChar,s=0;s<this._mskArr.length;s++){var a=this._mskArr[s],l=a.literal;if(l&&l==e[r]&&r++,a.wildCard){if(l=o,e){for(var h=r;h<e.length;h++)if(this._isCharValid(a.wildCard,e[h])){switch(l=e[h],a.charCase){case">":l=l.toUpperCase();break;case"<":l=l.toLowerCase()}l!=o&&(this._matchEnd=n.length+1);break}r=h+1}l==o&&(this._full=!1)}n+=l}return n},t.prototype._handleVagueLiterals=function(t){if(t.length>this._mskArr.length+1)return t;var e=t.length-this._mskArr.length;if(0!=e&&t.length>1){for(var i=-1,n=this._tbx,r=n==_e()?n.selectionStart:n.value.length,o=Math.max(0,r-e);o<this._mskArr.length;o++)if(this._mskArr[o].vague){i=o;break}if(i>-1)if(e<0){var s=Array(1-e).join(this._promptChar),a=i+e;a>-1&&(t=t.substr(0,a)+s+t.substr(a))}else{for(;i>0&&this._mskArr[i-1].literal;)i--;t=t.substr(0,i)+t.substr(i+e)}}return t},t.prototype._isCharValid=function(e,i){if(i==this._promptChar)return!0;switch(e){case"0":return this._isDigit(i);case"9":return this._isDigit(i)||" "==i;case"#":return this._isDigit(i)||" "==i||"+"==i||"-"==i;case"L":return this._isLetter(i);case"l":return this._isLetter(i)||" "==i;case"A":return this._isDigit(i)||this._isLetter(i);case"a":return this._isDigit(i)||this._isLetter(i)||" "==i;case"":return i>=""&&i<="";case"":case"":return!(""==e&&t._X_DBCS_BIG_HIRA.indexOf(i)>-1)&&i>=""&&i<="";case"":case"":return!(""==e&&t._X_DBCS_BIG_KATA.indexOf(i)>-1)&&i>=""&&i<="";case"":return!(i>=""&&i<="")&&(i<="!"||i>="");case"H":return i>="!"&&i<=""||i>=""&&i<="";case"K":case"N":return!("N"==e&&t._X_SBCS_BIG_KATA.indexOf(i)>-1)&&i>=""&&i<=""}return!1},t.prototype._isDigit=function(t){return t>="0"&&t<="9"},t.prototype._isLetter=function(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"},t.prototype._validatePosition=function(t){var e=this._mskArr;if(this._backSpace)for(;t>0&&t<e.length&&e[t-1].literal;)t--;if(0==t||!this._backSpace)for(;t<e.length&&e[t].literal;)t++;_e()==this._tbx&&fe(this._tbx,t),this._backSpace=!1},t.prototype._parseMask=function(){this._mskArr=[],this._firstPos=-1,this._lastPos=-1;for(var t,e=this._msk,i="|",n=0;e&&n<e.length;n++)switch(e[n]){case"0":case"9":case"#":case"A":case"a":case"L":case"l":case"":case"":case"":case"":case"":case"":case"K":case"N":case"H":this._firstPos<0&&(this._firstPos=this._mskArr.length),this._lastPos=this._mskArr.length,this._mskArr.push(new Xe(e[n],i));break;case".":case",":case":":case"/":case"$":switch(e[n]){case".":case",":t=Ve.Globalize.numberFormat[e[n]];break;case":":case"/":t=Ve.Globalize.calendar[e[n]];break;case"$":t=Ve.Globalize.numberFormat.currency.symbol}for(var r=0;r<t.length;r++)this._mskArr.push(new Xe(t[r]));break;case"<":case">":case"|":i=e[n];break;case"\\":n<e.length-1&&n++,this._mskArr.push(new Xe(e[n]));break;default:this._mskArr.push(new Xe(e[n]))}for(n=0;n<this._mskArr.length;n++){var o=this._mskArr[n];if(o.literal)for(r=0;r<n;r++){var s=this._mskArr[r];if(s.wildCard&&this._isCharValid(s.wildCard,o.literal)){o.vague=!0;break}}}},t._X_DBCS_BIG_HIRA="",t._X_DBCS_BIG_KATA="",t._X_SBCS_BIG_KATA="",t}(),Xe=function(t,e){e?(this.wildCard=t,this.charCase=e):this.literal=t};function Ke(t,e,i){var n=0,r=0,o=0,s=0,a=null,l=null,h=null,u=i?new tt(i):null;if((t=Jt(t,Ye))==Ye.CntAll)return e.length;for(var c=0;c<e.length;c++){var d=e[c];if(u&&(d=u.getValue(d)),null!=d){if(t==Ye.First)return d;n++,(null==a||d<a)&&(a=d),(null==l||d>l)&&(l=d),h=d,vt(d)&&!isNaN(d)?(r++,o+=d,s+=d*d):xt(d)&&(r++,1==d&&(o++,s++))}}var f=0==r?0:o/r;switch(t){case Ye.Avg:return f;case Ye.Cnt:return n;case Ye.Max:return l;case Ye.Min:return a;case Ye.Rng:return l-a;case Ye.Sum:return o;case Ye.VarPop:return r<=1?0:s/r-f*f;case Ye.StdPop:return r<=1?0:Math.sqrt(s/r-f*f);case Ye.Var:return r<=1?0:(s/r-f*f)*r/(r-1);case Ye.Std:return r<=1?0:Math.sqrt((s/r-f*f)*r/(r-1));case Ye.Last:return h}throw"Invalid aggregate type."}!function(t){t[t.None=0]="None",t[t.Sum=1]="Sum",t[t.Cnt=2]="Cnt",t[t.Avg=3]="Avg",t[t.Max=4]="Max",t[t.Min=5]="Min",t[t.Rng=6]="Rng",t[t.Std=7]="Std",t[t.Var=8]="Var",t[t.StdPop=9]="StdPop",t[t.VarPop=10]="VarPop",t[t.CntAll=11]="CntAll",t[t.First=12]="First",t[t.Last=13]="Last"}(Ye||(Ye={}));var Ze=function(t){function e(){var e=this;return Je?e.length=0:e=t.call(this)||this,e}return v(e,t),e}(Array),Je=!0;try{Ze.prototype=Array.prototype,Je=Ze.prototype===Array.prototype}catch($){Je=!1}var Qe="undefined"!=typeof window?window.Symbol:null;!Je&&Qe&&Qe.species&&Object.defineProperty(Ze,Qe.species,{get:function(){return Array},enumerable:!1,configurable:!1});var $e,ti=function(t){function e(e){var i=t.call(this)||this;if(i._updating=0,i.collectionChanged=new it,e){e=Kt(e),i._updating++;for(var n=0;n<e.length;n++)i.push(e[n]);i._updating--}return i}return v(e,t),e.prototype.push=function(){for(var e=this,i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];return i.forEach((function(i){t.prototype.push.call(e,i),e._raiseCollectionChanged(Q.Add,i,e.length-1)})),this.length},e.prototype.shift=function(){var e=t.prototype.shift.call(this);return this._raiseCollectionChanged(Q.Remove,e,0),e},e.prototype.unshift=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var n=t.prototype.unshift.apply(this,e);return 1==e.length?this._raiseCollectionChanged(Q.Add,e[0],0):this._raiseCollectionChanged(),n},e.prototype.pop=function(){var e=t.prototype.pop.call(this);return this._raiseCollectionChanged(Q.Remove,e,this.length),e},e.prototype.splice=function(e,i){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o,s=Q,a=this._raiseCollectionChanged.bind(this);return i&&n.length?(o=t.prototype.splice.apply(this,[e,i].concat(n)),1==i&&1==n.length?a(s.Change,n[0],e):a()):n.length?(o=t.prototype.splice.apply(this,[e,0].concat(n)),1==n.length?a(s.Add,n[0],e):a()):(o=t.prototype.splice.call(this,e,i),1==i?a(s.Remove,o[0],e):a()),o},e.prototype.slice=function(e,i){return t.prototype.slice.call(this,e,i)},e.prototype.indexOf=function(e,i){return t.prototype.indexOf.call(this,e,i)},e.prototype.sort=function(e){var i=t.prototype.sort.call(this,e);return this._raiseCollectionChanged(),i},e.prototype.insert=function(t,e){this.splice(t,0,e)},e.prototype.remove=function(t){var e=this.indexOf(t);return e>-1&&this.removeAt(e),e>-1},e.prototype.removeAt=function(t){this.splice(t,1)},e.prototype.setAt=function(t,e){t>=this.length&&(this.length=t+1),this.splice(t,1,e)},e.prototype.clear=function(){this.length&&this.splice(0,this.length)},e.prototype.beginUpdate=function(){this._updating++},e.prototype.endUpdate=function(){this._updating--,this._updating<=0&&this._raiseCollectionChanged()},Object.defineProperty(e.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),e.prototype.deferUpdate=function(t){try{this.beginUpdate(),t()}finally{this.endUpdate()}},e.prototype.implementsInterface=function(t){return"INotifyCollectionChanged"==t},e.prototype.onCollectionChanged=function(t){void 0===t&&(t=ht.reset),this.isUpdating||this.collectionChanged.raise(this,t)},e.prototype._raiseCollectionChanged=function(t,e,i){if(void 0===t&&(t=Q.Reset),!this.isUpdating){var n=new ht(t,e,i);this.onCollectionChanged(n)}},e}(Ze);!function(t){t[t.Natural=0]="Natural",t[t.First=1]="First",t[t.Last=2]="Last"}($e||($e={}));var ei=function(){function t(t,e){var i=this;this._srcRaw=null,this._src=null,this._ncc=null,this._view=null,this._pgView=null,this._groups=null,this._fullGroups=null,this._digest="",this._idx=-1,this._filter=null,this._filters=new ti,this._srtDsc=new ti,this._grpDesc=new ti,this._newItem=null,this._edtItem=null,this._edtClone=null,this._committing=!1,this._canceling=!1,this._pendingRefresh=!1,this._pendingRemove=!1,this._pgSz=0,this._pgIdx=0,this._updating=0,this._stableSort=!1,this._srtNulls=$e.Last,this._canFilter=!0,this._canGroup=!0,this._canSort=!0,this._canAddNew=!0,this._canCancelEdit=!0,this._canRemove=!0,this._canChangePage=!0,this._refreshOnEdit=!0,this._trackChanges=!1,this._chgAdded=new ti,this._chgRemoved=new ti,this._chgEdited=new ti,this._orgVals=window.Map?new Map:null,this._srtCvt=null,this._srtCmp=null,this._getError=null,this._keepCurrentItem=null,this._initializing=!1,this.collectionChanged=new it,this.sourceCollectionChanging=new it,this.sourceCollectionChanged=new it,this.currentChanged=new it,this.currentChanging=new it,this.pageChanged=new it,this.pageChanging=new it,this._srtDsc.collectionChanged.addHandler((function(){i._srtDsc.forEach((function(t){Ht(t instanceof ut,"sortDescriptions array must contain SortDescription objects.")})),i.canSort&&i._commitAndRefresh()})),this._grpDesc.collectionChanged.addHandler((function(){i._grpDesc.forEach((function(t){Ht(t instanceof dt,"groupDescriptions array must contain GroupDescription objects.")})),i.canGroup&&i._commitAndRefresh()})),this._filters.collectionChanged.addHandler((function(){i._filters.forEach((function(t){Ht(Ct(t),"filters array must contain IPredicate functions.")})),i.canFilter&&i._commitAndRefresh()})),this.sourceCollection=t||new ti,e&&(this._initializing=!0,this.deferUpdate((function(){Bt(i,e)})),this._initializing=!1),null==this._keepCurrentItem&&(this._keepCurrentItem=!0)}return t.prototype._copy=function(t,e){switch(t){case"sortDescriptions":var i=this.sortDescriptions;return i.deferUpdate((function(){i.clear(),Kt(e).forEach((function(t){wt(t)?t=new ut(t,!0):t instanceof ut||!t.property||(t=new ut(t.property,t.ascending)),i.push(t)}))})),!0;case"groupDescriptions":var n=this.groupDescriptions;return n.deferUpdate((function(){n.clear(),e.forEach((function(t){wt(t)&&(t=new ft(t)),n.push(t)}))})),!0;case"currentItem":return this.currentItem=e,!0}return!1},Object.defineProperty(t.prototype,"calculatedFields",{get:function(){return this._calcFields},set:function(t){if(t&&!window.Proxy&&(console.warn("** Calculated fields require Proxy (see https://www.npmjs.com/package/proxy-polyfill)."),t=null),t!=this._calcFields){this._calcFields=t;var e=this._srcRaw;this._srcRaw=null,this.sourceCollection=e}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newItemCreator",{get:function(){return this._itemCreator},set:function(t){this._itemCreator=Xt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortConverter",{get:function(){return this._srtCvt},set:function(t){t!=this._srtCvt&&(this._srtCvt=Xt(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortComparer",{get:function(){return this._srtCmp},set:function(t){t!=this._srtCmp&&(this._srtCmp=Xt(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useStableSort",{get:function(){return this._stableSort},set:function(t){t!=this._stableSort&&(this._stableSort=Yt(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortNulls",{get:function(){return this._srtNulls},set:function(t){(t=Jt(t,$e))!=this._srtNulls&&(this._srtNulls=t,this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortNullsFirst",{get:function(){return this.sortNulls!=$e.Last},set:function(t){Vt("sortNullsFirst","sortNulls"),this.sortNulls=Yt(t)?$e.First:$e.Last},enumerable:!0,configurable:!0}),t.prototype.getAggregate=function(t,e,i){return Ke(t,i?this._pgView:this._view,e)},Object.defineProperty(t.prototype,"trackChanges",{get:function(){return this._trackChanges},set:function(t){this._trackChanges=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"refreshOnEdit",{get:function(){return this._refreshOnEdit},set:function(t){this._refreshOnEdit=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsAdded",{get:function(){return this._chgAdded},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsRemoved",{get:function(){return this._chgRemoved},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsEdited",{get:function(){return this._chgEdited},enumerable:!0,configurable:!0}),t.prototype.clearChanges=function(){this._chgAdded.clear(),this._chgRemoved.clear(),this._chgEdited.clear(),this._orgVals&&this._orgVals.clear()},t.prototype.implementsInterface=function(t){switch(t){case"ICollectionView":case"IEditableCollectionView":case"IPagedCollectionView":case"INotifyCollectionChanged":return!0}return!1},Object.defineProperty(t.prototype,"getError",{get:function(){return this._getError},set:function(t){this._getError!=t&&(this._getError=Xt(t),this._raiseCollectionChanged())},enumerable:!0,configurable:!0}),t.prototype.onCollectionChanged=function(t){void 0===t&&(t=ht.reset),t.action!=Q.Change||this._committing||this._canceling||t.item==this.currentEditItem||t.item==this.currentAddItem||this._trackItemChanged(t.item),this._updating||this.collectionChanged.raise(this,t)},t.prototype._raiseCollectionChanged=function(t,e,i){void 0===t&&(t=Q.Reset);var n=new ht(t,e,i);this.onCollectionChanged(n)},t.prototype.onSourceCollectionChanging=function(t){return this.sourceCollectionChanging.raise(this,t),!t.cancel},t.prototype.onSourceCollectionChanged=function(t){this.sourceCollectionChanged.raise(this,t)},Object.defineProperty(t.prototype,"canFilter",{get:function(){return this._canFilter},set:function(t){this._canFilter=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canGroup",{get:function(){return this._canGroup},set:function(t){this._canGroup=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canSort",{get:function(){return this._canSort},set:function(t){this._canSort=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentItem",{get:function(){return this._pgView&&this._idx>-1&&this._idx<this._pgView.length?this._pgView[this._idx]:null},set:function(t){this.moveCurrentTo(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentPosition",{get:function(){return this._idx},set:function(t){this.moveCurrentToPosition(Gt(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filter",{get:function(){return this._filter},set:function(t){this._filter!=t&&(this._filter=Xt(t),this.canFilter&&this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filters",{get:function(){return this._filters},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupDescriptions",{get:function(){return this._grpDesc},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return!this._pgView||!this._pgView.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortDescriptions",{get:function(){return this._srtDsc},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sourceCollection",{get:function(){return this._src},set:function(t){if(t!=this._srcRaw){if(!this.onSourceCollectionChanging(new rt))return;var e=this.currentPosition;this.commitEdit(),null!=this._ncc&&this._ncc.collectionChanged.removeHandler(this._sourceChanged),this._srcRaw=t,this._src=Kt(t,!1),this._calcFields&&(this._src=X(this._src,this._calcFields)),this._ncc=_t(this._src,"INotifyCollectionChanged"),this._ncc&&this._ncc.collectionChanged.addHandler(this._sourceChanged,this),this.clearChanges(),this.refresh(),this.moveCurrentToFirst(),this.onSourceCollectionChanged(),this.currentPosition<0&&e>-1&&this.onCurrentChanged()}},enumerable:!0,configurable:!0}),t.prototype._sourceChanged=function(t,e){this._updating<=0&&this.refresh()},t.prototype.contains=function(t){return this._pgView.indexOf(t)>-1},t.prototype.moveCurrentTo=function(t){return this.moveCurrentToPosition(this._pgView.indexOf(t))},t.prototype.moveCurrentToFirst=function(){return this.moveCurrentToPosition(0)},t.prototype.moveCurrentToLast=function(){return this.moveCurrentToPosition(this._pgView.length-1)},t.prototype.moveCurrentToPrevious=function(){return this._idx>0&&this.moveCurrentToPosition(this._idx-1)},t.prototype.moveCurrentToNext=function(){return this.moveCurrentToPosition(this._idx+1)},t.prototype.moveCurrentToPosition=function(t){if(t>=-1&&t<this._pgView.length&&t!=this._idx){var e=new rt;if(this.onCurrentChanging(e)){var i=this._pgView[t],n=K(i),r=this._edtItem,o=this._newItem;r&&r!=i&&r!=n?this.commitEdit():o&&o!=i&&o!=n&&this.commitNew(),this._idx=t,this.onCurrentChanged()}}return this._idx==t},t.prototype.refresh=function(){if(this._newItem||this._edtItem||this._updating>0)this._pendingRefresh=!0;else{var t=this.currentItem;this._performRefresh(),this.onCollectionChanged(),t==this.currentItem||this._initializing||this.onCurrentChanged()}},t.prototype._commitAndRefresh=function(){this.currentEditItem||this.currentAddItem?(this._pendingRefresh=!0,this.commitEdit()):this.refresh()},t.prototype._performRefresh=function(){if(this._updating>0)this._pendingRefresh=!0;else{this._pendingRefresh=!1,this._pendingRemove=!1;var t=this.currentItem;this._view=this._src?this._performFilter(this._src):[],this.canSort&&this._srtDsc.length>0&&(this._view==this._src&&(this._view=this._src.slice()),this._performSort(this._view)),this._groups=this.canGroup?this._createGroups(this._view):null,this._fullGroups=this._groups,this._groups&&(this._view=this._mergeGroupItems(this._groups)),this._pgIdx=zt(this._pgIdx,0,this.pageCount-1),this._pgView=this._getPageView(),this._groups&&this.pageCount>1&&(this._groups=this._createGroups(this._pgView),this._mergeGroupItems(this._groups));var e=this._keepCurrentItem&&null!=t?this._pgView.indexOf(t):-1;e<0&&(e=Math.min(this._idx,this._pgView.length-1)),this._idx=e,this._digest=this._getGroupsDigest(this.groups)}},t.prototype._performSort=function(t){if(this._stableSort){var e=t.map((function(t,e){return{item:t,index:e}})),i=this._compareItems();e.sort((function(t,e){var n=i(t.item,e.item);return 0==n?t.index-e.index:n}));for(var n=0;n<t.length;n++)t[n]=e[n].item}else t.sort(this._compareItems())},t.prototype._compareItems=function(){var e=this,i=this._srtDsc,n=this._srtCvt,r=this._srtCmp,o=t._collator,s=!0,a=0;return function(t,l){for(var h=0;h<i.length;h++){var u=i[h],c=u._bnd.getValue(t),d=u._bnd.getValue(l);if(n&&(c=n(u,t,c,s),d=n(u,l,d,!1),s=!1),r&&null!=(a=r(c,d))){if(0!=a)return u.ascending?+a:-a}else{if(c!=c&&(c=null),d!=d&&(d=null),c!==d&&(null==c||null==d))switch(e._srtNulls){case $e.First:return null==c?-1:1;case $e.Last:return null==c?1:-1;default:return a=null==c?-1:1,u.ascending?+a:-a}if("string"==typeof c&&"string"==typeof d){if(o){if(0!=(a=o.compare(c,d)))return u.ascending?+a:-a;continue}var f=c.toLowerCase(),p=d.toLowerCase();f!=p&&(c=f,d=p)}if(0!=(a=c<d?-1:c>d?1:0))return u.ascending?+a:-a}}return 0}},t.prototype._performFilter=function(t){return this.canFilter&&this._filter||this._filters.length?t.filter(this._filterItem,this):t},t.prototype._filterItem=function(t){for(var e=!this.canFilter||!this._filter||this._filter(t),i=0;i<this._filters.length&&e;i++)e=this._filters[i](t);return e},t.prototype.onCurrentChanged=function(t){this.currentChanged.raise(this,t)},t.prototype.onCurrentChanging=function(t){return this.currentChanging.raise(this,t),!t.cancel},Object.defineProperty(t.prototype,"items",{get:function(){return this._pgView},enumerable:!0,configurable:!0}),t.prototype.beginUpdate=function(){this._updating++},t.prototype.endUpdate=function(t){void 0===t&&(t=!0),this._updating--,t&&(this._pendingRefresh=!0),this._updating<=0&&(this._pendingRefresh&&this.refresh(),this._pendingRemove&&(this._pendingRemove=!1,this._raiseCollectionChanged()))},Object.defineProperty(t.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),t.prototype.deferUpdate=function(t,e){void 0===e&&(e=!0);try{this.beginUpdate(),t()}finally{this.endUpdate(e)}},Object.defineProperty(t.prototype,"canAddNew",{get:function(){return this._canAddNew},set:function(t){t!=this._canAddNew&&(this._canAddNew=Yt(t),this._raiseCollectionChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canCancelEdit",{get:function(){return this._canCancelEdit},set:function(t){this._canCancelEdit=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canRemove",{get:function(){return this._canRemove},set:function(t){this._canRemove=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentAddItem",{get:function(){return this._newItem},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentEditItem",{get:function(){return this._edtItem},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAddingNew",{get:function(){return null!=this._newItem},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEditingItem",{get:function(){return null!=this._edtItem},enumerable:!0,configurable:!0}),t.prototype.editItem=function(t){t!=this._edtItem&&this.moveCurrentTo(t)&&(this.commitEdit(),this._edtItem=t,this._edtClone=this._extend({},this._edtItem))},t.prototype.commitEdit=function(){var t=this._edtItem,e=this._edtClone;if(null!=t){this._committing=!0;var i=this._getChangedFields(t,e),n=this._pendingRefresh;this._edtItem=null,this._edtClone=null;var r=this._pgView.indexOf(t),o=this._digest;if(this._needRefresh(i)&&this._refreshOnEdit&&this._performRefresh(),i&&this._trackItemChanged(t,e),this._pgView.indexOf(t)!=r||o!=this._digest||n?this._raiseCollectionChanged():this._raiseCollectionChanged(Q.Change,t,r),this.commitNew(),this._committing=!1,this.sourceCollection instanceof ti){this._updating++;var s=new ht(Q.Change,t);this.sourceCollection.onCollectionChanged(s),this._updating--}}},t.prototype.cancelEdit=function(){var t=this._edtItem;if(null!=t){if(this._edtItem=null,!this.canCancelEdit)return;var e=this._src.indexOf(t);e>=0&&this._edtClone&&(this._extend(this._src[e],this._edtClone),this._edtClone=null,this._canceling=!0,this._raiseCollectionChanged(Q.Change,t,e),this._canceling=!1,this._pendingRefresh&&this._refreshOnEdit&&(this._performRefresh(),this._raiseCollectionChanged()))}},t.prototype.addNew=function(t,e){if(void 0===e&&(e=!1),this.commitEdit(),!this.canAddNew)return null;var i=this.sourceCollection;if(null==t&&(t=this.newItemCreator?this.newItemCreator():i&&i.length?new i[0].constructor:{}),null!=t){if(this._updating++,i.push(t),this._updating--,t=i[i.length-1],this._newItem=t,this._pgView!=this._src&&this._pgView.push(t),this.groups&&this.groups.length){var n=this.groups[this.groups.length-1];for(n.items.push(t);n.groups&&n.groups.length;)(n=n.groups[n.groups.length-1]).items.push(t)}this._raiseCollectionChanged(Q.Add,t,this._pgView.length-1),this.moveCurrentTo(t),e&&this.commitNew()}return this._newItem},t.prototype.commitNew=function(){var t=this._newItem;if(null!=t){this._newItem=null;var e=this._pgView.indexOf(t),i=this._digest;if(this._refreshOnEdit&&this._performRefresh(),this._trackChanges){var n=this._chgEdited.indexOf(t);n>-1&&this._chgEdited.removeAt(n),this._chgAdded.indexOf(t)<0&&this._chgAdded.push(t)}this._pgView.indexOf(t)!=e||i!=this._digest||this.calculatedFields?this._raiseCollectionChanged():this._raiseCollectionChanged(Q.Change,t,e)}},t.prototype.cancelNew=function(){var t=this._newItem;null!=t&&this.remove(t)},t.prototype.remove=function(t){var e=t==this._newItem;if(e&&(this._newItem=null),t==this._edtItem&&this.cancelEdit(),this.canRemove){var i=this._src.indexOf(t);if(i>-1){var n=this.currentItem;this._updating++,this._src.splice(i,1),this._updating--;var r=this._digest;if(this._refreshOnEdit)this._performRefresh();else{this._updating>0&&(this._pendingRemove=!0);var o=this._pgView.indexOf(t);o>=0&&this._pgView.splice(o,1)}if(this._trackChanges){var s=this._chgAdded.indexOf(t);s>-1&&this._chgAdded.removeAt(s);var a=this._chgEdited.indexOf(t);a>-1&&this._chgEdited.removeAt(a),this._chgRemoved.indexOf(t)<0&&!e&&s<0&&this._chgRemoved.push(t)}var l=this.sortDescriptions.length>0,h=this.pageSize>0&&this._pgIdx>-1;l||h||r!=this._getGroupsDigest(this.groups)?this._raiseCollectionChanged():this._raiseCollectionChanged(Q.Remove,t,i),this.currentItem!==n&&this.onCurrentChanged()}}},t.prototype.removeAt=function(t){t=Wt(t),this.remove(this._pgView[t])},t.prototype._trackItemChanged=function(t,e){if(this._trackChanges){var i=this.sourceCollection;if(i&&i.indexOf(t)>-1){var n=this._orgVals,r=n?n.get(t):null;e&&!r&&n&&(n.set(t,e),r=e);var o=this._chgEdited.indexOf(t),s=Q.Change;if(r&&this._sameContent(t,r)&&o>-1)return this._chgEdited.removeAt(o),void n.delete(t);if(o<0&&this._chgAdded.indexOf(t)<0)this._chgEdited.push(t);else if(o>-1){var a=new ht(s,t,o);this._chgEdited.onCollectionChanged(a)}else(o=this._chgAdded.indexOf(t))>-1&&(a=new ht(s,t,o),this._chgAdded.onCollectionChanged(a))}}},t.prototype._extend=function(t,e,i){for(var n in void 0===i&&(i=2),e)try{var r=e[n];i>0&&kt(r)?(t[n]={},this._extend(t[n],r,i-1)):t[n]=r}catch(t){}return t},t.prototype._getChangedFields=function(t,e,i){void 0===i&&(i=2),Ht(null!=e&&null!=t,"Two objects expected.");var n={};for(var r in e)try{this._sameValue(t[r],e[r],i)||(n[r]=!0)}catch(t){}for(var r in t)try{n[r]||this._sameValue(t[r],e[r],i)||(n[r]=!0)}catch(t){}var o=Object.keys(n);return o.length?o:null},t.prototype._sameValue=function(t,e,i){return void 0===i&&(i=2),!(t!==e&&!Ie.equals(t,e)&&(!kt(t)||!kt(e)||i>0&&null!=this._getChangedFields(t,e,i-1)))},t.prototype._sameContent=function(t,e){return null==this._getChangedFields(t,e)},t.prototype._needRefresh=function(t){if(this._pendingRefresh)return!0;if(!t)return!1;if(this._filter)return!0;for(var e=0;e<this._srtDsc.length;e++){var i=this._getBindingRoot(this._srtDsc[e].property);if(t.indexOf(i)>-1)return!0}for(e=0;e<this._grpDesc.length;e++){var n=this._grpDesc[e];if(!(n instanceof ft))return!0;if(i=this._getBindingRoot(n.propertyName),t.indexOf(i)>-1)return!0}return!1},t.prototype._getBindingRoot=function(t){var e=t.indexOf(".");return e>-1?t.substr(0,e):t},Object.defineProperty(t.prototype,"canChangePage",{get:function(){return this._canChangePage},set:function(t){this._canChangePage=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPageChanging",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemCount",{get:function(){return this._pgView.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageIndex",{get:function(){return this._pgIdx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageSize",{get:function(){return this._pgSz},set:function(t){t!=this._pgSz&&(this._pgSz=Wt(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalItemCount",{get:function(){return this._view.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageCount",{get:function(){return this.pageSize?Math.ceil(this.totalItemCount/this.pageSize):1},enumerable:!0,configurable:!0}),t.prototype.moveToFirstPage=function(){return this.moveToPage(0)},t.prototype.moveToLastPage=function(){return this.moveToPage(this.pageCount-1)},t.prototype.moveToPreviousPage=function(){return this.moveToPage(this.pageIndex-1)},t.prototype.moveToNextPage=function(){return this.moveToPage(this.pageIndex+1)},t.prototype.moveToPage=function(t){var e=zt(t,0,this.pageCount-1);if(e!=this._pgIdx){if(!this.canChangePage)return!1;var i=new ct(e);if(this.onPageChanging(i)&&this.onCurrentChanging(i)){this.commitEdit(),this.commitNew();var n=this.currentItem;this._pgIdx=e,this._pgView=this._getPageView(),this._idx=0,this.groupDescriptions&&0!=this.groupDescriptions.length?this.refresh():(this.onCollectionChanged(),n!=this.currentItem&&this.onCurrentChanged()),this.onPageChanged()}}return this._pgIdx==t},t.prototype.onPageChanged=function(t){this.pageChanged.raise(this,t)},t.prototype.onPageChanging=function(t){return this.pageChanging.raise(this,t),!t.cancel},t.prototype._getFullGroup=function(t){var e=this._getGroupByPath(this._fullGroups,t.level,t._path);return null!=e&&(t=e),t},t.prototype._getGroupByPath=function(t,e,i){if(t)for(var n=0;n<t.length;n++){var r=t[n];if(r.level==e&&r._path==i)return r;if(r.level<e&&0==i.indexOf(r._path)&&null!=(r=this._getGroupByPath(r.groups,e,i)))return r}return null},t.prototype._getPageView=function(){if(this.pageSize<=0||this._pgIdx<0)return this._view;var t=this._pgSz*this._pgIdx,e=Math.min(t+this._pgSz,this._view.length);return this._view.slice(t,e)},t.prototype._createGroups=function(t){var e=this;if(!this._grpDesc||!this._grpDesc.length)return null;var i=[],n={},r=null;return t.forEach((function(t){for(var o=i,s=e._grpDesc.length,a="",l=0;l<s;l++){var h=e._grpDesc[l],u=h.groupNameFromItem(t,l),c=l==s-1;!(r=n[a])&&mt(u)&&(r={},n[a]=r);var d=e._getGroup(h,o,r,u,l,c);a+="/"+u,d._path=a,c&&d.items.push(t),o=d.groups}})),i},t.prototype._getGroupsDigest=function(t){for(var e="",i=0;null!=t&&i<t.length;i++){var n=t[i];e+="{"+n.name+":"+(n.items?n.items.length:"*"),n.groups.length>0&&(e+=",",e+=this._getGroupsDigest(n.groups)),e+="}"}return e},t.prototype._mergeGroupItems=function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i];if(!n._isBottomLevel)for(var r=this._mergeGroupItems(n.groups),o=0,s=r.length;o<s;o++)n._items.push(r[o]);for(o=0,s=n._items.length;o<s;o++)e.push(n._items[o])}return e},t.prototype._getGroup=function(t,e,i,n,r,o){var s;if(i&&mt(n)){if(s=i[n])return s}else for(var a=0;a<e.length;a++)if(t.namesMatch(e[a].name,n))return e[a];var l=new ii(t,n,r,o);return e.push(l),i&&(i[n]=l),l},t._collator="undefined"!=typeof window&&window.Intl&&Intl.Collator?new Intl.Collator:null,t}(),ii=function(){function t(t,e,i,n){this._gd=t,this._name=e,this._level=i,this._isBottomLevel=n,this._groups=[],this._items=[]}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this._level},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isBottomLevel",{get:function(){return this._isBottomLevel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupDescription",{get:function(){return this._gd},enumerable:!0,configurable:!0}),t.prototype.getAggregate=function(t,e,i){var n=_t(i,ei);return Ke(t,(n?n._getFullGroup(this):this).items,e)},t}(),ni="undefined"!=typeof window&&window["wj-control-is-element"]?HTMLElement:Object,ri=!1;try{var oi=function(){};ri=(oi.prototype=Array.prototype)!==Array.prototype}catch($){ri=!0}var si=ri||ni!==Object,ai=function(t){function e(){var e=this;return si&&(e=t.call(this)||this),e}return v(e,t),e}(ni),li=function(t){function e(i,n,r){void 0===n&&(n=null),void 0===r&&(r=!1);var o=t.call(this)||this;o._listeners=[],o._pristine=!0,o._focus=!1,o._updating=0,o._fullUpdate=!1,o.gotFocus=new it,o.lostFocus=new it,o.invalidInput=new it,o.refreshing=new it,o.refreshed=new it,o._updateWme(),Ht(null==e.getControl(i),"Element is already hosting a control.");var s=ye(i);Ht(null!=s,"Cannot find the host element."),o._orgTabIndex=s.hasAttribute("tabindex")?s.tabIndex:0,o._orgOuter=s.outerHTML,o._orgTag=s.tagName,o._orgAtts=s.attributes,"INPUT"!=s.tagName&&"SELECT"!=s.tagName||(s=o._replaceWithDiv(s)),o._e=s,s[e._CTRL_KEY]=o;var a=o.addEventListener.bind(o);if(1==r){o._szCtl=new Oe(s.offsetWidth,s.offsetHeight);var l=window.ResizeObserver,h=null;l&&(h=o._szObserver=new l((function(t){return o._resizeObserverCallback(t)}))),h?h.observe(s):a(window,"resize",o._handleResize.bind(o))}var u=o._handleFocusBlur.bind(o);a(s,"focus",u,!0),a(s,"blur",u,!0);var c=o._handleDisabled.bind(o);return a(s,"mousedown",c,!0),a(s,"mouseup",c,!0),a(s,"click",c,!0),a(s,"dblclick",c,!0),a(s,"wheel",c,z(!0,!0)),a(s,"keydown",(function(t){o.isDisabled&&t.keyCode!=at.Tab&&t.preventDefault()})),0==e._ctlCnt&&hi(!0),e._ctlCnt++,o}return v(e,t),e.prototype.getTemplate=function(){for(var t=Object.getPrototypeOf(this);t;t=Object.getPrototypeOf(t)){var e=t.constructor.controlTemplate;if(e)return e}return null},e.prototype.applyTemplate=function(t,i,n,r){var o=this,s=this._e;t&&ae(s,t);var a=null;i&&(a=xe(i,s));for(var l=s.querySelectorAll("a.wj-btn"),h=0;h<l.length;h++){var u=l[h];ue(u,"role","button",!0),ue(u,"href","",!0),ue(u,"draggable",!1,!0)}var c=s.querySelectorAll("button");for(h=0;h<c.length;h++)ue(c[h],"type","button",!0);var d=s.querySelectorAll("input"),f=1==d.length?d[0]:null;if(f){var p=e._rxInputAtts;this._copyAttributes(f,s.attributes,p),this._copyAttributes(f,this._orgAtts,p)}if(f&&s.id){for(var g=s;g.parentElement;)g=g.parentElement;var _=g.querySelector('label[for="'+s.id+'"]');if(_ instanceof HTMLLabelElement){var m=Pt(s.id+"_input");f.id=m,_.htmlFor=m}}if(f){var w=f.value,b=!0,v=!1,y=document.createEvent("HTMLEvents");y.initEvent("change",!0,!1),this.gotFocus.addHandler((function(){b=!1,v=!0,w=f.value})),this.addEventListener(s,"focusin",(function(t){b&&(v=!0,b=!1,w=f.value)})),this.addEventListener(f,"input",(function(){o._pristine=!1,setTimeout((function(){w=f.value}))})),this.addEventListener(f,"change",(function(t){t.isTrusted&&(w=f.value)}));var x=function(){o._containsFocus()||(b=!0,o._pristine&&(o._pristine=!1,o._updateState()),v&&w!=f.value&&(w=f.value,f.dispatchEvent(y)),v=!1)};this.addEventListener(s,"blur",(function(){x()})),this.lostFocus.addHandler((function(){x()}))}if(f?s.tabIndex=-1:s.getAttribute("tabindex")||(s.tabIndex=0),this._updateState(),n)for(var C in n){var j=n[C];if(this[C]=a.querySelector('[wj-part="'+j+'"]'),null==this[C]&&a.getAttribute("wj-part")==j&&(this[C]=a),null==this[C])throw'Missing template part: "'+j+'"';if(j==r){var S="name",E=s.attributes[S];E&&E.value&&this[C].setAttribute(S,E.value),S="accesskey",(E=s.attributes[S])&&E.value&&(this[C].setAttribute(S,E.value),s.removeAttribute(S))}}return a},e.prototype.dispose=function(){if(this._e){for(var t=this._e.querySelectorAll(".wj-control"),i=0;i<t.length;i++){var n=e.getControl(t[i]);n&&n.dispose()}this._toInv&&(clearTimeout(this._toInv),this._toInv=null),this._toFocus&&(clearTimeout(this._toFocus),this._toFocus=null);var r=this._szObserver;for(var o in r&&r.disconnect(),this.removeEventListener(),this)o.length>2&&0==o.indexOf("on")&&(a=this[o[2].toLowerCase()+o.substr(3)])instanceof it&&a.removeAllHandlers();var s=this.collectionView;if(s instanceof ei)for(var o in s){var a;(a=s[o])instanceof it&&a.removeHandler(null,this)}this._e.parentNode&&null!=this._orgOuter&&(this._e.outerHTML=this._orgOuter),this._e[e._CTRL_KEY]=null,this._e=this._orgOuter=this._orgTag=this._szObserver=null,e._ctlCnt--,0==e._ctlCnt&&hi(!1)}},e.getControl=function(t){var i=ye(t);return i?Zt(i[e._CTRL_KEY],e,!0):null},Object.defineProperty(e.prototype,"hostElement",{get:function(){return this._e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightToLeft",{get:function(){return null==this._rtlDir&&(this._rtlDir=!!this._e&&"rtl"==getComputedStyle(this._e).direction),this._rtlDir},enumerable:!0,configurable:!0}),e.prototype.focus=function(){var t=this._e;t&&t.offsetHeight&&(this.isDisabled||!(t.tabIndex>=0)&&we(t,0)||t.focus())},e.prototype.containsFocus=function(){return this._containsFocusImpl(_e())},e.prototype._containsFocus=function(){return this._containsFocusImpl(me())},e.prototype._containsFocusImpl=function(t){return je(this._e,t,!0)},e.prototype.invalidate=function(t){var i=this;void 0===t&&(t=!0),this._rtlDir=null,this._fullUpdate=this._fullUpdate||t,this._toInv&&(clearTimeout(this._toInv),this._toInv=null),this.isUpdating||(this._toInv=setTimeout((function(){i.refresh(i._fullUpdate),i._toInv=null}),e._REFRESH_INTERVAL))},e.prototype.refresh=function(t){var e=this;void 0===t&&(t=!0),this.isUpdating||(this.onRefreshing(),this.refreshed.hasHandlers&&setTimeout((function(){e.onRefreshed()}))),!this.isUpdating&&this._toInv&&(clearTimeout(this._toInv),this._toInv=null,this._fullUpdate=!1),this._updateState(),this._updateWme()},e.invalidateAll=function(t){t||(t=document.body);var i=t.children;if(i)for(var n=0;n<i.length;n++)e.invalidateAll(i[n]);var r=e.getControl(t);r&&r.invalidate()},e.refreshAll=function(t){if(t||(t=document.body),t.children)for(var i=0;i<t.children.length;i++)e.refreshAll(t.children[i]);var n=e.getControl(t);n&&n.refresh()},e.disposeAll=function(t){var i=e.getControl(t);if(i)i.dispose();else if(t.children)for(var n=0;n<t.children.length;n++)e.disposeAll(t.children[n])},e.prototype.beginUpdate=function(){this._updating++},e.prototype.endUpdate=function(){this._updating--,this._updating<=0&&this.invalidate()},Object.defineProperty(e.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),e.prototype.deferUpdate=function(t){try{this.beginUpdate(),t()}finally{this.endUpdate()}},Object.defineProperty(e.prototype,"isTouching",{get:function(){return e._touching},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabOrder",{get:function(){return this._orgTabIndex},set:function(t){this._setTabOrder(t)},enumerable:!0,configurable:!0}),e.prototype._setTabOrder=function(t){var e=this._e;this._orgTabIndex=t;var i=e.querySelectorAll("input"),n=1===i.length?i[0]:null;e.tabIndex=this.isDisabled||n?-1:this._orgTabIndex,n&&(n.tabIndex=this._orgTabIndex)},Object.defineProperty(e.prototype,"isDisabled",{get:function(){return this._e&&null!=this._e.getAttribute("disabled")},set:function(t){this._setIsDisabled(t)},enumerable:!0,configurable:!0}),e.prototype._setIsDisabled=function(t){if((t=!!Yt(t,!0))!=this.isDisabled){var i=this._e;if(i){he(i,"wj-state-disabled",t),ue(i,"disabled",t?"disabled":null),i.tabIndex=this.isDisabled||1===i.querySelectorAll("input").length?-1:this._orgTabIndex;for(var n=i.querySelectorAll("input,textarea,button,command,fieldset,keygen,optgroup,option,select"),r=e._DSBL_KEY,o=0;o<n.length;o++){var s=n[o];if(t)s[r]=s.disabled,s.disabled=!0;else if(Se(s,".wj-control.wj-state-disabled"))s[r]=s.disabled,s.disabled=!0;else{var a=s[r];xt(a)||(a=!1),s.disabled=a,delete s[r]}}}}},e.prototype.initialize=function(t){Bt(this,t)},e.prototype.addEventListener=function(t,e,i,n,r){if(t){null==n&&(n=!1),xt(n)&&null==r&&(e.indexOf("touch")>-1||e.indexOf("wheel")>-1)&&(r=!1);var o=xt(n)&&xt(r)?z(n,r):n;t.addEventListener(e,i,o),this._listeners.push({target:t,type:e,fn:i,capture:n})}},e.prototype.removeEventListener=function(t,e,i,n){for(var r=0,o=0;o<this._listeners.length;o++){var s=this._listeners[o];null!=t&&t!=s.target||null!=e&&e!=s.type||null!=i&&i!=s.fn||null!=n&&n!=s.capture||(s.target.removeEventListener(s.type,s.fn,s.capture),this._listeners.splice(o,1),o--,r++)}return r},e.prototype.onGotFocus=function(t){this.gotFocus.raise(this,t)},e.prototype.onLostFocus=function(t){this.lostFocus.raise(this,t)},e.prototype.onInvalidInput=function(t){var i=this;if(this.invalidInput.raise(this,t),t.cancel){var n=e._FOCUS_INTERVAL+50;Date.now()-e._tsInvalidInput>n+50&&(e._toInvalidInput&&clearTimeout(e._toInvalidInput),e._toInvalidInput=setTimeout((function(){e._toInvalidInput=null,e._tsInvalidInput=Date.now(),i.focus()}),n))}return this._updateState(),!t.cancel},e.prototype.onRefreshing=function(t){this.refreshing.raise(this,t)},e.prototype.onRefreshed=function(t){this.refreshed.raise(this,t)},e.prototype._getProductInfo=function(){return"B0C3,Control"},e.prototype._updateWme=function(){var t=this._getProductInfo(),i=e._toWme,n=ji;Ct(n)&&!i[t]&&(i[t]=!0,n(this,e._licKey))},e.prototype._hasPendingUpdates=function(){return null!=this._toInv},e.prototype._handleResize=function(){if(this._e.parentElement){var t=new Oe(this._e.offsetWidth,this._e.offsetHeight);t.equals(this._szCtl)||(this._szCtl=t,(t.width||t.height)&&this.invalidate())}},e.prototype._resizeObserverCallback=function(t){t.forEach((function(t){var i=e.getControl(t.target);i&&i._handleResize()}))},e.prototype._handleFocusBlur=function(){var t=this;this._toFocus||(this._toFocus=setTimeout((function(){t._toFocus=null,t._updateFocusState()}),e._FOCUS_INTERVAL))},e.prototype._updateFocusState=function(){setTimeout((function(){for(var t=nt.empty,i=document.body.querySelectorAll(".wj-state-focused"),n=0;n<i.length;n++)(a=e.getControl(i[n]))&&a._focus&&!a.containsFocus()&&(le(a._e,"wj-state-focus"),a._focus=!1,a._updateState(),a.onLostFocus(t));var r=_e();if(r)for(var o=!0,s=r;s;){var a;(a=e.getControl(s))&&!a._focus&&a.containsFocus()&&(o&&(ae(s,"wj-state-focus"),o=!1),a._focus=!0,a._updateState(),a.onGotFocus(t)),s=s[e._OWNR_KEY]||s.parentNode}}))},e.prototype._updateState=function(){var t=this.hostElement;if(t){he(t,"wj-state-focused",this._focus),this._rtlDir="rtl"==getComputedStyle(t).direction,he(t,"wj-rtl",this._rtlDir);var e=t.querySelector("input");if(e instanceof HTMLInputElement){he(t,"wj-state-empty",0==e.value.length),he(t,"wj-state-readonly",e.readOnly);var i=e.validationMessage;he(t,"wj-state-invalid",!this._pristine&&null!=i&&i.length>0)}}},e.prototype._handleDisabled=function(t){(this.isDisabled||Se(t.target,".wj-state-disabled"))&&(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation())},e.prototype._replaceWithDiv=function(t){var e=document.createElement("div");return t.parentElement.replaceChild(e,t),e.innerHTML=t.innerHTML,this._copyAttributes(e,t.attributes,/id|style|class/i),e},e.prototype._copyAttributes=function(t,e,i){if(t)for(var n=0;n<e.length;n++){var r=e[n].name;r.match(i)&&t.setAttribute(r,e[n].value)}},e.prototype._getKeyCode=function(t){var e=t.keyCode;if(this.rightToLeft)switch(e){case at.Right:e=at.Left;break;case at.Left:e=at.Right}return e},e._toWme={},e._ctlCnt=0,e._touching=!1,e._tsInvalidInput=0,e._REFRESH_INTERVAL=10,e._FOCUS_INTERVAL=5,e._ANIM_DEF_DURATION=400,e._ANIM_DEF_STEP=35,e._CLICK_DELAY=800,e._CLICK_REPEAT=75,e._CLIPBOARD_DELAY=100,e._POPUP_ZINDEX=1500,e._SEARCH_DELAY=500,e._HOVER_DELAY=400,e._LEAVE_DELAY=600,e._DRAG_SCROLL_EDGE=15,e._DRAG_SCROLL_STEP=20,e._CTRL_KEY="$WJ-CTRL",e._OWNR_KEY="$WJ-OWNR",e._SCRL_KEY="$WJ-SCRL",e._TTIP_KEY="$WJ-TTIP",e._DSBL_KEY="$WJ-DSBL",e._rxInputAtts=/name|tabindex|placeholder|autofocus|autocomplete|autocorrect|autocapitalize|spellcheck|readonly|minlength|maxlength|pattern|type|aria-.+/i,e}(ai);function hi(t){if("ontouchstart"in window||"onpointerdown"in window){var e=document,i=z(!0,!0),n=ui,r=ci,o=t?e.addEventListener.bind(e):e.removeEventListener.bind(e);"ontouchstart"in window?(o("touchstart",n,i),o("touchend",r,i),o("touchcancel",r,i)):"onpointerdown"in window&&(o("pointerdown",n,i),o("pointerup",r,i),o("pointercancel",r,i))}}function ui(t){null!=t.pointerType&&"touch"!=t.pointerType||(li._toTouch&&(clearTimeout(li._toTouch),li._toTouch=null),li._touching=!0)}function ci(t){if((null==t.pointerType||"touch"==t.pointerType)&&(li._toTouch=setTimeout((function(){li._toTouch=null,li._touching=!1}),900),document.querySelector("ion-app"))){var e=t.target;Se(e,".wj-dropdown-panel,.wj-dropdown")&&(e.focus(),t.stopPropagation(),t.stopImmediatePropagation())}}var di,fi=function(){function t(t){this._title=null,this._copyCss=!0,null!=t&&Bt(this,t)}return Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(t){this._title=Ut(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"copyCss",{get:function(){return this._copyCss},set:function(t){this._copyCss=Yt(t)},enumerable:!0,configurable:!0}),t.prototype.addCSS=function(t){this._css||(this._css=[]),this._css.push(t)},t.prototype.append=function(t){var e=this._getDocument();if(wt(t))e.write(t);else if(t instanceof Element){t instanceof HTMLElement&&li.refreshAll(t);for(var i=t.cloneNode(!0),n=i.querySelectorAll("input"),r=0;r<n.length;r++){var o=n[r];switch(o.type){case"checkbox":ue(o,"checked",!!o.checked||null),ue(o,"indeterminate",!!o.indeterminate||null);break;case"radio":ue(o,"checked",!!o.checked||null);break;default:ue(o,"value",o.value||null)}}e.write(i.outerHTML)}else Ht(!1,"content should be an HTML string or an Element.")},t.prototype.print=function(t){var e=this;this._iframe&&(this._close(),setTimeout((function(){var i=e._iframe.contentWindow,n="onafterprint"in i&&!k();n&&(i.onafterprint=function(){e._afterPrint(t)}),D()&&null==i.document.body||!document.queryCommandSupported("print")?(i.focus(),i.print()):i.document.execCommand("print",!0,null),n||e._afterPrint(t)}),100))},t.prototype._afterPrint=function(t){document.body.removeChild(this._iframe),this._iframe=null,Ct(t)&&t()},t.prototype._getDocument=function(){if(!this._iframe){var t=this._iframe=document.createElement("iframe");ae(t,"wj-printdocument"),Pe(t,{position:"fixed",left:32e3,top:32e3}),document.body.appendChild(t)}return this._iframe.contentDocument},t.prototype._close=function(){var t=this,e=this._getDocument();if(e.close(),e.title=null!=this.title?this.title:document.title,e.title&&e.title.trim()||(e.title=""),this._copyCss&&[document.head,document.body].forEach((function(e){for(var i=e.querySelectorAll("LINK"),n=0;n<i.length;n++){var r=i[n];if(r.rel.match(/stylesheet/i)&&(!r.type||r.type.match(/text\/css/i))){var o=Me(r.href,{async:!1});t._addStyle(o.responseText)}}var s=e.querySelectorAll("STYLE");for(n=0;n<s.length;n++)t._addStyle(s[n].textContent)})),this._css)for(var i=0;i<this._css.length;i++){var n=e.createElement("style"),r=Me(this._css[i],{async:!1});n.textContent=r.responseText,e.head.appendChild(n)}},t.prototype._addStyle=function(t){var e=this._getDocument(),i=e.createElement("style");i.textContent=t,e.head.appendChild(i)},t}(),pi=function(){function t(){}return t.copy=function(e){t._copyPaste(Ut(e),null)},t.paste=function(e){e=Xt(e),t._copyPaste(null,e)},t._copyPaste=function(t,e){for(var i=_e(),n=Se(i,".wj-control");n&&li.getControl(n);)n=n.parentElement;if(n=n||document.body){var r=!1,o=xe('<textarea class="wj-clipboard">',n,{position:"fixed",opacity:"0"});o.onkeydown=function(t){return t.preventDefault()},o.onchange=function(t){return t.stopImmediatePropagation()},wt(t)?(o.value=t,o.select(),document.execCommand("copy")&&(r=!0)):(o.select(),Ct(e)&&document.execCommand("paste")&&(e(o.value),r=!0)),setTimeout((function(){i.focus({preventScroll:!0}),(D()?setTimeout:function(t,e){return t()})((function(){return ge(o)}),500),!r&&Ct(e)&&e(o.value)}),li._CLIPBOARD_DELAY)}},t}(),gi=function(){function t(t){this._isDown=!1,this._mousedownBnd=this._mousedown.bind(this),this._mouseupBnd=this._mouseup.bind(this),this._clickBnd=this._click.bind(this),this.element=t,this._connect(!0)}return Object.defineProperty(t.prototype,"element",{get:function(){return this._e},set:function(t){this._connect(!1),this._e=Zt(t,HTMLElement,!0),this._connect(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=Yt(t)},enumerable:!0,configurable:!0}),t.prototype._connect=function(e){var i=this;this._e&&t._startEvents.forEach((function(t){e?i._e.addEventListener(t,i._mousedownBnd):i._e.removeEventListener(t,i._mousedownBnd)}))},t.prototype._clearTimeouts=function(){this._toRepeat&&(clearTimeout(this._toRepeat),this._toRepeat=null),this._toDelay&&(clearTimeout(this._toDelay),this._toDelay=null)},t.prototype._mousedown=function(e){var i=this;this._isDown&&this._mouseup(null),this._disabled||(this._isDown=!0,t._stopEvents.forEach((function(t){document.addEventListener(t,i._mouseupBnd)})),this._clearTimeouts(),this._toDelay=setTimeout((function(){i._isDown&&(i._click(),i._toRepeat=setTimeout(i._clickBnd,li._CLICK_REPEAT))}),li._CLICK_DELAY))},t.prototype._mouseup=function(e){var i=this;this._isDown&&e&&"keydown"!=e.type&&this._clicked&&e.preventDefault(),t._stopEvents.forEach((function(t){document.removeEventListener(t,i._mouseupBnd)})),this._clearTimeouts(),this._isDown=!1,this._clicked=!1},t.prototype._click=function(){this._clicked=!0,this._clearTimeouts(),this._e&&(this._e.click(),this._isDown&&(this._toRepeat=setTimeout(this._clickBnd,li._CLICK_REPEAT)))},t._startEvents=["mousedown","touchstart"],t._stopEvents=["mouseup","mouseout","keydown","touchend","touchcancel"],t}();function _i(t,e,i,n,r,o){void 0===r&&(r=!0);var s=t.offsetHeight||t.offsetWidth,a=i;(xt(i)||null==i)&&(a=i?di.AboveLeft:di.BelowLeft);var l=function(t){var e=document.body;if(t instanceof HTMLElement){if(!je(document.body,t))return e;for(var i=t;i;i=i.parentElement){if("DIALOG"==i.tagName||"ION-CONTENT"==i.tagName||"fixed"==getComputedStyle(i).position){e=i;break}if(vi(i)){e=i.querySelector(".ui-dialog-content")||i;break}}}return e}(e);if(function(t,e){t.offsetHeight&&t.offsetWidth&&t.parentElement==e||(Pe(t,{opacity:"0",position:"fixed",left:0,top:0,transform:"",display:""}),e.appendChild(t))}(t,l),function(t,e,i){if(e instanceof HTMLElement&&i){var n=i instanceof HTMLElement?i:e,r=getComputedStyle(n);1==new He(r.backgroundColor).a&&Pe(t,{color:r.color,backgroundColor:r.backgroundColor,fontFamily:r.fontFamily,fontSize:r.fontSize,fontWeight:r.fontWeight,fontStyle:r.fontStyle})}}(t,e,r),li.refreshAll(t),k()?requestAnimationFrame((function(){wi(t,e,a)})):wi(t,e,a),e instanceof HTMLElement&&(t[li._OWNR_KEY]=e),!s){if(function(t,e,i){var n=e instanceof MouseEvent?e.target:e;if(n instanceof HTMLElement&&n.parentElement!=document.body){var r=Date.now(),o=n.getBoundingClientRect(),s=new li(document.createElement("div"));t[li._SCRL_KEY]=s,s.addEventListener(document,"scroll",(function(a){if(a.target!=t.parentElement&&Date.now()-r>100&&je(document,n)&&!je(t,a.target)&&(a.target!=document||null!=e&&"fixed"==t.style.position)){var l=n.getBoundingClientRect(),h=Math.abs(l.left-o.left),u=Math.abs(l.top-o.top);(h>1||u>1)&&(Ct(i)&&i(),bi(t,!0),s.dispose())}}),!0)}}(t,e,o),n)return Ae((function(e){return t.style.opacity=e<1?e.toString():""}));t.style.opacity=""}return null}function mi(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1);var n=null;return i?n=Ae((function(i){t.style.opacity=(1-i).toString(),1==i&&(bi(t,e),t.style.opacity="")})):bi(t,e),n}function wi(t,e,i){var n=function(t,e){return e instanceof MouseEvent?e.clientX<=0&&e.clientY<=0&&e.target instanceof HTMLElement?De.fromBoundingRect(e.target.getBoundingClientRect()):new De(e.pageX-pageXOffset,e.pageY-pageYOffset,0,0):e instanceof Re?new De(e.x,e.y,0,0):e instanceof HTMLElement?De.fromBoundingRect(e.getBoundingClientRect()):e&&null!=e.top&&null!=e.left?e:null}(0,e),r=function(t){var e=document.body,i=document.documentElement,n=t.parentElement,r=new Re(e.scrollLeft||pageXOffset,e.scrollTop||pageYOffset);if(n!=e){var o=n==e?i:t.offsetParent||n;if(o==e&&(o=n),o){var s=o.getBoundingClientRect();r=new Re(o.scrollLeft-s.left,o.scrollTop-s.top)}}if(n instanceof HTMLElement){var a=getComputedStyle(n);r.x-=parseFloat(a.borderLeftWidth),r.y-=parseFloat(a.borderTopWidth)}return r}(t),o=function(t,e,i,n){var r=document.documentElement,o=r.clientWidth,s=r.clientHeight,a=di;switch(i){case a.AboveLeft:case a.AboveRight:case a.BelowLeft:case a.BelowRight:if(e){var l=e.width;l&&(D()&&(l-=t.offsetWidth-t.clientWidth),t.style.minWidth=l+"px")}}var h=getComputedStyle(t),u=parseFloat(h.marginTop)+parseFloat(h.marginBottom),c=parseFloat(h.marginLeft)+parseFloat(h.marginRight),d=new Oe(t.offsetWidth+c,t.offsetHeight+u),f=new Re((o-d.width)/2,Math.round((s-d.height)/2*.7));if(e){"rtl"==h.direction&&(i=function(t){var e=di;switch(t){case e.AboveLeft:return e.AboveRight;case e.AboveRight:return e.AboveLeft;case e.BelowLeft:return e.BelowRight;case e.BelowRight:return e.BelowLeft;case e.Left:return e.Right;case e.LeftTop:return e.RightTop;case e.LeftBottom:return e.RightBottom;case e.Right:return e.Left;case e.RightTop:return e.LeftTop;case e.RightBottom:return e.LeftBottom}return t}(i));var p=e.left,g=o-e.right;switch(f.x=e.left,i){case a.Above:case a.Below:f.x=e.left+(e.width-d.width)/2;break;case a.AboveLeft:case a.BelowLeft:f.x=e.left;break;case a.AboveRight:case a.BelowRight:f.x=e.right-d.width;break;case a.Left:case a.LeftTop:case a.LeftBottom:f.x=p>=d.width||p>=g?e.left-d.width:e.right;break;case a.RightTop:case a.RightBottom:case a.Right:f.x=g>=d.width||g>=p?e.right:e.left-d.width}var _=e.top,m=s-e.bottom;switch(i){case a.Above:case a.AboveLeft:case a.AboveRight:f.y=_>d.height||_>m?e.top-d.height:e.bottom;break;case a.Below:case a.BelowLeft:case a.BelowRight:f.y=m>d.height||m>_?e.bottom:e.top-d.height;break;case a.LeftTop:case a.RightTop:f.y=e.top;break;case a.LeftBottom:case a.RightBottom:f.y=e.bottom-d.height;break;case a.Left:case a.Right:f.y=e.bottom-d.height+(d.height-e.height)/2}}return f.x=Math.min(f.x,o-d.width),f.y=Math.min(f.y,s-d.height),f.x=Math.max(0,f.x)+n.x,f.y=Math.max(0,f.y)+n.y,f}(t,n,i,r),s={position:"absolute",zIndex:li._POPUP_ZINDEX},a=0==r.x;a?(s.left=o.x,s.top=o.y):s.transform="translate("+o.x+"px, "+o.y+"px)";var l=t.getBoundingClientRect().width;if(Pe(t,s),a){var h=l-t.getBoundingClientRect().width;h>0&&(t.style.left=o.x-Math.ceil(h)+"px")}}function bi(t,e){t.style.display="none",e&&t.parentElement&&setTimeout((function(){"none"==t.style.display&&(ge(t),Ct(e)&&e())}),li._FOCUS_INTERVAL+50);var i=t[li._SCRL_KEY];i instanceof li&&i.dispose(),delete t[li._SCRL_KEY],delete t[li._OWNR_KEY]}function vi(t){var e=window.jQuery,i=Ct(e)?e(t):null;return i&&Ct(i.dialog)&&se(t,"ui-dialog")}!function(t){t[t.Above=0]="Above",t[t.AboveRight=1]="AboveRight",t[t.RightTop=2]="RightTop",t[t.Right=3]="Right",t[t.RightBottom=4]="RightBottom",t[t.BelowRight=5]="BelowRight",t[t.Below=6]="Below",t[t.BelowLeft=7]="BelowLeft",t[t.LeftBottom=8]="LeftBottom",t[t.Left=9]="Left",t[t.LeftTop=10]="LeftTop",t[t.AboveLeft=11]="AboveLeft"}(di||(di={}));var yi=function(){function t(t){this._showAutoTipBnd=this._showAutoTip.bind(this),this._hideAutoTipBnd=this._hideAutoTip.bind(this),this._mousemoveBnd=this._mousemove.bind(this),this._html=!0,this._cssClass="",this._gap=6,this._isAnimated=!1,this._position=di.Above,this._showAtMouse=!1,this._showDelay=500,this._hideDelay=0,this._tips=[],this.popup=new it,Bt(this,t)}return Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(t){this._position=Jt(t,di)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAnimated",{get:function(){return this._isAnimated},set:function(t){this._isAnimated=Yt(t)},enumerable:!0,configurable:!0}),t.prototype.setTooltip=function(e,i,n){e=ye(e),i=this._getContent(i);var r=this._indexOf(e);r>-1&&(this._detach(e),this._tips.splice(r,1)),i&&(this._attach(e),this._tips.push({element:e,content:i,position:n}));var o=t._eTip;o&&o[li._TTIP_KEY]==e&&(i?this._setContent(i):this._hideAutoTip())},t.prototype.getTooltip=function(t){t=ye(t);for(var e=this._tips,i=0;i<e.length;i++)if(e[i].element==t)return e[i].content;return null},t.prototype.show=function(e,i,n,r){if(e=ye(e),i=this._getContent(i),e){null==r&&(r=this.position);var o=t._eTip;o||(ae(o=t._eTip=document.createElement("div"),"wj-tooltip"),o.style.visibility="none"),ae(o,this.cssClass),this._setContent(i),o[li._TTIP_KEY]=e;var s=new xi(i,e);if(this.onPopup(s),s.content&&!s.cancel){this._setContent(s.content),n||(n=De.fromBoundingRect(e.getBoundingClientRect()));var a=this.gap,l=di;if(a)switch(r){case l.Above:case l.AboveLeft:case l.AboveRight:case l.Below:case l.BelowLeft:case l.BelowRight:n=n.inflate(0,a);break;default:n=n.inflate(a,0)}_i(o,n,r,this.isAnimated),document.addEventListener("mousedown",this._hideAutoTipBnd)}}},t.prototype.hide=function(){var e=t._eTip;e&&(ge(e),le(e,this.cssClass),e.innerHTML=""),document.removeEventListener("mousedown",this._hideAutoTipBnd)},t.prototype.dispose=function(){var t=this;this.isVisible&&this.hide();var e=this._tips;e.length&&(e.forEach((function(e){t._detach(e.element)})),e.splice(0,e.length)),this._clearTimeouts()},Object.defineProperty(t.prototype,"isVisible",{get:function(){var e=t._eTip;return null!=e&&null!=e.parentElement&&e.offsetWidth>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isContentHtml",{get:function(){return this._html},set:function(t){this._html=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cssClass",{get:function(){return this._cssClass},set:function(t){this._cssClass=Ut(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gap",{get:function(){return this._gap},set:function(t){this._gap=Gt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showAtMouse",{get:function(){return this._showAtMouse},set:function(t){this._showAtMouse=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showDelay",{get:function(){return this._showDelay},set:function(t){this._showDelay=Wt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideDelay",{get:function(){return this._hideDelay},set:function(t){this._hideDelay=Wt(t)},enumerable:!0,configurable:!0}),t.prototype.onPopup=function(t){return this.popup&&this.popup.raise(this,t),!t.cancel},t.prototype._indexOf=function(t){for(var e=0;e<this._tips.length;e++)if(this._tips[e].element==t)return e;return-1},t.prototype._attach=function(t){t.addEventListener("mouseenter",this._showAutoTipBnd),t.addEventListener("mouseleave",this._hideAutoTipBnd),t.addEventListener("click",this._showAutoTipBnd),this.showAtMouse&&t.addEventListener("mousemove",this._mousemoveBnd)},t.prototype._detach=function(t){t.removeEventListener("mouseenter",this._showAutoTipBnd),t.removeEventListener("mouseleave",this._hideAutoTipBnd),t.removeEventListener("click",this._showAutoTipBnd),t.removeEventListener("mousemove",this._mousemoveBnd)},t.prototype._showAutoTip=function(t){var e=this;if(!t.defaultPrevented)if("click"!=t.type||li._touching){var i="mouseenter"==t.type?this._showDelay:0,n=this._hideDelay;this._clearTimeouts(),this._eMouse=t,this._toShow=setTimeout((function(){var i=e._indexOf(t.target);if(i>-1){var r=e._tips[i],o=e._eMouse,s=e._showAtMouse?new De(o.clientX,o.clientY,0,0):null,a=r&&r.element;if(a&&(a.offsetHeight||a.offsetWidth)){var l=li.getControl(r.element);null!=l&&0==l.isVisible||(e.show(r.element,r.content,s,r.position),n>0&&(e._toHide=setTimeout((function(){e.hide()}),n)))}}}),i)}else this._hideAutoTip()},t.prototype._mousemove=function(t){this._eMouse=t},t.prototype._hideAutoTip=function(){this._clearTimeouts(),this.hide()},t.prototype._clearTimeouts=function(){this._toShow&&(clearTimeout(this._toShow),this._toShow=null),this._toHide&&(clearTimeout(this._toHide),this._toHide=null)},t.prototype._getContent=function(t){if((t=Ut(t))&&"#"==t[0]){var e=ye(t);e&&(t=e.innerHTML)}return t},t.prototype._setContent=function(e){var i=t._eTip;i&&(this._html?i.innerHTML=e:i.textContent=e)},t}(),xi=function(t){function e(e,i){var n=t.call(this)||this;return n._content=Ut(e),n._e=i,n}return v(e,t),Object.defineProperty(e.prototype,"tip",{get:function(){return yi._eTip},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this._e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"content",{get:function(){return this._content},set:function(t){this._content=Ut(t)},enumerable:!0,configurable:!0}),e}(rt);Le("wijmo",n);var Ci={};function ji(t,e){var i=li._wme;if(!(i&&je(document.body,i)&&i.offsetWidth&&i.offsetHeight)&&e){var n=Si(t);Ci[n]||(Ci[n]=!0,function(t,e,i,n){var r=function(t,e){try{e="#"+e;var i=t.indexOf(e);if(i>-1)return{prefix:t.substring(0,i),lic:JSON.parse(ki(t.substr(i+e.length)))}}catch(t){}return null}(t,e.algorithmCode);if(!r)return n();var o=r.lic,s=r.prefix+"#"+e.algorithmCode;if(function(t){for(var e=0,i=5381,n=0,r=t.length-1;r>=0;r--){var o=t.charCodeAt(r);e=o+(e<<6)+(e<<16)-e,i=o+((i<<5)+i),n=o+((n<<5)-n)}var s=e^i^n;return s<0&&(s=~s),s.toString(16).toUpperCase()}(s+JSON.stringify(o.D))!=o.H)return n();var a=window.msCrypto||window.crypto,l=a?a.subtle:null;if(!l||!location.protocol.match(/^https/i))return i(o.D);var h={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},u={alg:"RS256",e:"AQAB",kty:"RSA",n:Ri(e.publicKey)};u=window.msCrypto?Oi(JSON.stringify(u)):u;try{Di(l.importKey("jwk",u,h,!1,["verify"])).then((function(t){var e=function(t){return String.fromCharCode.apply(null,new Ei(t))}(Ai(function(t){return btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,(function(t,e){return String.fromCharCode(parseInt(e,16))})))}(s+JSON.stringify(o.D))));Di(l.verify(h,t,Ai(o.S),Oi(e))).then((function(t){return t?i(o.D):n()}))}),(function(){return i(o.D)}))}catch(t){return i(o.D)}}(e,{algorithmCode:"B0",publicKey:"l6/zrbWoSbcLFwEetFh38rH3ErBZE9H+Cqix3R+wTlfA1wD5B+lUcCQn+EJ60I4RGrm0x1sFjkiLWwB0jAn6BWZv0W4WbqAKriOdeoivxDp1Wmjs3qkEDhvbsjPtfvwx2BHil6o+/tDrdMJQSGs18WZm2PoQLQuL+9VhZ4FNRHUQU3Jtioke/OZEGHJOdYVwvCGalzBad6QFOiVbDBQPePpS3++GJzOxN8SN/7lyS5/IdKiy3WJRaVGkB370+HbN6hKraDfUgReLX26yxRaKC/5aWnGAJ2NnWLoGyAGRcwT9dVjo4bcAZNrrA0U9JVKQxaSskhdv2p49XzJkltXx5w=="},(function(t){delete Ci[n]}),(function(){delete Ci[n]})))}}function Si(t){return t._getProductInfo().split(",")[0]}var Ei="undefined"==typeof window?null:window.Uint8Array||window.TypedArray;function ki(t){if(!t)return"";var e=function(t){for(var e=t.split(""),i=e.length-5;i>=0;i--)Ti(e,i+1,i+3,Pi),Ti(e,i,i+2,Pi);return e.join("")}(t);e=function(t){return t.split("").reverse().join("")}(e);var i=Math.ceil(e.length/2);return function(t){for(var e=atob(t),i="",n=0;n<e.length;n++)i+="%"+("00"+e.charCodeAt(n).toString(16)).slice(-2);return decodeURIComponent(i)}(e=(e=(e=e.substr(i)+e.substr(0,i)).replace("#","=")).replace("&","=="))}function Ti(t,e,i,n){t.length>1&&t.splice(i,1,n(t.splice(e,1,n(t[i]))[0]))}function Pi(t){return function(t,e){var i=t.charCodeAt(0);return i>=65&&i<=90?t.toLowerCase():i>=97&&i<=122?t.toUpperCase():i>=48&&i<=57?String.fromCharCode(48+(i-48+10+e)%10):t}(t,-1)}function Ai(t){for(var e=atob(t),i=e.length,n=new Ei(i),r=0;r<i;r++)n[r]=e.charCodeAt(r);return n.buffer}function Ri(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,"")}function Oi(t){for(var e=new ArrayBuffer(t.length),i=new Ei(e),n=0,r=t.length;n<r;n++)i[n]=t.charCodeAt(n);return e}function Di(t){return"oncomplete"in t&&(t.then=function(e,i){t.resolve=e,t.reject=i},t.oncomplete=function(e){t.resolve(t.result)},t.onerror=function(e){t.reject()}),t}var Ii=function(){function t(){this._dropEffect="move",this._effectAllowed="all",this._data={}}return Object.defineProperty(t.prototype,"dropEffect",{get:function(){return this._dropEffect},set:function(t){this._dropEffect=Ut(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"effectAllowed",{get:function(){return this._effectAllowed},set:function(t){this._effectAllowed=Ut(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"types",{get:function(){return Object.keys(this._data)},enumerable:!0,configurable:!0}),t.prototype.clearData=function(t){null!=t?delete this._data[t]:this._data=null},t.prototype.getData=function(t){return this._data[t]||""},t.prototype.setData=function(t,e){this._data[t]=e},t.prototype.setDragImage=function(t,e,i){var n=Mi._instance;n._imgCustom=t,n._imgOffset=new Re(e,i)},t}(),Mi=function(){function t(){this._lastClick=0,this._isDragging=!1,Ht(!t._instance,"DragDropTouch instance already created.");var e=!1;document.addEventListener("test",(function(){}),{get passive(){return e=!0,!0}});var i=document,n=this._touchstart.bind(this),r=this._touchmove.bind(this),o=this._touchend.bind(this),s=!!e&&{passive:!1,capture:!1};i.addEventListener("touchstart",n,s),i.addEventListener("touchmove",r,s),i.addEventListener("touchend",o),i.addEventListener("touchcancel",o)}return t.getInstance=function(){return t._instance},t.prototype._touchstart=function(e){if(this._shouldHandle(e)){var i=e.target;if(Date.now()-this._lastClick<t._DBLCLICK&&this._dispatchEvent(e,"dblclick",i))return e.preventDefault(),void this._reset();this._reset(),this._lastTouch=e}},t.prototype._touchmove=function(e){if(this._shouldHandle(e)){if(this._lastTouch=e,!this._isDragging){this._isDragging=!0;var i=e.target;if(!this._dispatchEvent(e,"mousemove",i)&&!this._dispatchEvent(e,"mousedown",i)){var n=Se(e.target,"[draggable]");n&&n.draggable&&(this._dragSource=n,this._ptDown=this._getPoint(e))}}var r=this._getTarget(e);if(this._dispatchEvent(e,"mousemove",r))return void e.preventDefault();this._dragSource&&!this._img&&this._getDelta(e)>t._THRESHOLD&&(this._dispatchEvent(e,"dragstart",this._dragSource),this._createImage(e),this._dispatchEvent(e,"dragenter",r)),this._img&&(e.preventDefault(),r!=this._lastTarget&&(this._dispatchEvent(e,"dragleave",this._lastTarget),this._dispatchEvent(e,"dragenter",r),this._lastTarget=r),this._moveImage(e),this._draggingIsValid=this._dispatchEvent(e,"dragover",r))}},t.prototype._touchend=function(t){if(this._shouldHandle(t)){var e=t.target,i=this._lastTouch;if(this._isDragging&&this._dispatchEvent(i,"mouseup",e))return void t.preventDefault();this._destroyImage(),this._dragSource&&(this._draggingIsValid&&t.type.indexOf("cancel")<0&&this._dispatchEvent(i,"drop",this._lastTarget),this._dispatchEvent(i,"dragend",this._dragSource),this._reset())}},t.prototype._shouldHandle=function(t){return t&&!t.defaultPrevented&&t.touches&&t.touches.length<2},t.prototype._reset=function(){this._destroyImage(),this._dragSource=null,this._lastTouch=null,this._lastTarget=null,this._ptDown=null,this._dataTransfer=new Ii,this._isDragging=!1},t.prototype._getPoint=function(t,e){return t&&t.touches&&(t=t.touches[0]),Ht(t&&"clientX"in t,"invalid event?"),1==e?new Re(t.pageX,t.pageY):new Re(t.clientX,t.clientY)},t.prototype._getDelta=function(t){var e=this._getPoint(t);return Math.abs(e.x-this._ptDown.x)+Math.abs(e.y-this._ptDown.y)},t.prototype._getTarget=function(t){for(var e=this._getPoint(t),i=document.elementFromPoint(e.x,e.y);i&&"none"==getComputedStyle(i).pointerEvents;)i=i.parentElement;return i},t.prototype._createImage=function(e){this._img&&this._destroyImage();var i=this._imgCustom||this._dragSource;if(this._img=i.cloneNode(!0),this._copyStyle(i,this._img),this._img.style.top=this._img.style.left="-9999px",!this._imgCustom){var n=i.getBoundingClientRect(),r=this._getPoint(e);this._imgOffset=new Re(r.x-n.left,r.y-n.top),this._img.style.opacity=t._OPACITY.toString()}this._moveImage(e),document.body.appendChild(this._img)},t.prototype._destroyImage=function(){this._img&&this._img.parentElement&&this._img.parentElement.removeChild(this._img),this._img=null,this._imgCustom=null},t.prototype._moveImage=function(t){var e=this;requestAnimationFrame((function(){if(e._img){var i=e._getPoint(t,!0);Pe(e._img,{position:"absolute",pointerEvents:"none",zIndex:999999,left:Math.round(i.x-e._imgOffset.x),top:Math.round(i.y-e._imgOffset.y)})}}))},t.prototype._copyProps=function(t,e,i){for(var n in e)i.test(n)&&(t[n]=e[n])},t.prototype._copyStyle=function(t,e){if(["id","class","style","draggable"].forEach((function(t){e.removeAttribute(t)})),t instanceof HTMLCanvasElement){var i=t,n=e;n.width=i.width,n.height=i.height,n.getContext("2d").drawImage(i,0,0)}for(var r=getComputedStyle(t),o=0;o<r.length;o++){var s=r[o];s.indexOf("transition")<0&&s.indexOf("transform")<0&&(e.style[s]=r[s])}for(e.style.pointerEvents="none",o=0;o<t.children.length;o++)this._copyStyle(t.children[o],e.children[o])},t.prototype._dispatchEvent=function(t,e,i){if(t&&i){var n=document.createEvent("Event"),r=t.touches?t.touches[0]:t;return n.initEvent(e,!0,!0),n.button=0,n.which=n.buttons=1,this._copyProps(n,t,/Key$/),this._copyProps(n,r,/(X|Y)$/),n.dataTransfer=this._dataTransfer,i.dispatchEvent(n),n.defaultPrevented}return!1},t._instance=new t,t._THRESHOLD=5,t._OPACITY=.5,t._DBLCLICK=500,t._CTXMENU=900,t}();Le("wijmo.touch",r);var Fi=i(538),Li=function(){return(Li=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Ni=Fi.default||Fi,zi=Ni.version&&"3"===Ni.version[0]?{isV3Plus:!0,modelValueProp:"modelValue",extend:function(t){return t},h:Ni.h,render:Ni.render}:Ni,Bi={beforeCreate:function(){var t=this.$options[Vi._behClassProp];t&&(this[Vi._behProp]=t._attach(this))},mounted:function(){this[Vi._behProp].lhMounted()}};Bi[zi.isV3Plus?"unmounted":"destroyed"]=function(){this[Vi._behProp].lhDestroyed()};var Hi=zi.extend(Bi),Vi=function(){function t(t){this._isMounted=!1,this._mountedCBs=[],this.component=t}return t._attach=function(t){return new this(t)},t.register=function(){var e,i=((e={data:this.data,extends:Hi,render:this.render,props:this._getProps(),model:this._getModel()})[t._behClassProp]=this,e);return zi.isV3Plus?Li({},i,{emits:this._getEmits()}):zi.component(this.tag,i)},t.prototype.lhMounted=function(){var e=this;if(this._isChild()){var i=this.component.$parent;i&&(this.parent=i[t._behProp],this.parent._mountedCB((function(){e._prepareControl(),e._initParent()})))}else this._prepareControl()},t.prototype.lhDestroyed=function(){this._siblingInsertedEH&&this._getElement().removeEventListener("DOMNodeInserted",this._siblingInsertedEH);var t=this.control;if(t)if(this._isChild()){var e=this._getParentProp();if(e){var i=this.parent.control[e];if(Et(i)){var n=i.indexOf(t);n>-1&&i.splice(n,1)}}}else t instanceof li&&t.dispose()},t._getProps=function(){var t=[];return this.props&&(t=this.props),this.events&&(t=t.concat(this.events)),this.changeEvents&&(t=t.concat(Object.keys(this.changeEvents))),zi.isV3Plus&&this.modelProp&&t.push(zi.modelValueProp),t},t._getModel=function(){var t=this.modelProp;return t?{prop:t,event:"update:"+t}:null},t._getEmits=function(){var t=this;if(!this.changeEvents)return[];var e=[];return Object.keys(this.changeEvents).forEach((function(i){return t.changeEvents[i].forEach((function(t){e.indexOf(t)<0&&e.push(t)}))})),this.modelProp&&e.push(zi.modelValueProp),e.map((function(t){return"update:"+t}))},t.prototype._createControl=function(){var t=this._isChild()?this._isParentInCtor()?this.parent.control:void 0:this._getElement();return new(this.constructor._getControlType())(t)},t.prototype._initParent=function(){var t=this._getParentProp();if(t){var e=this.parent.control,i=e[t];if(Et(i)){var n=this._getSiblingIndex();(n<0||n>=i.length)&&(n=i.length),i.splice(n,0,this.control),this._siblingInsertedEH=this._siblingInserted.bind(this),this._getElement().addEventListener("DOMNodeInserted",this._siblingInsertedEH)}else e[t]=this.control}},t.prototype._updateControl=function(t,e){this.control[t]=e},t.prototype._prepareControl=function(){var t=this.control=this._createControl(),e=this._getElement(),i=this.constructor;this.component.control=t,this._siblingId||(null==i.siblingId&&(i.siblingId=++i._siblingDirId+""),this._siblingId=i.siblingId),e.setAttribute(i._typeSiblingIdAttr,this._siblingId),this._isMounted=!0;var n=this._mountedCBs;this._mountedCBs=[];for(var r=0,o=n;r<o.length;r++)(0,o[r])();Ui(this)},t.prototype._isChild=function(){var t=this.constructor;return null!=t.parentProp||null!=t.parentInCtor},t.prototype._isParentInCtor=function(){return!0===this.constructor.parentInCtor},t.prototype._getParentProp=function(){return(zi.isV3Plus?this.component.$props:this.component.$options.propsData).wjProperty||this.constructor.parentProp},t.prototype._getSiblingIndex=function(){var e=this._getElement(),i=e.parentElement;if(!i)return-1;for(var n=i.childNodes,r=-1,o=this._siblingId,s=0;s<n.length;s++){var a=n[s];if(1==a.nodeType&&a.getAttribute(t._typeSiblingIdAttr)==o&&(++r,a===e))return r}return-1},t.prototype._siblingInserted=function(t){if(t.target===this._getElement()){var e=this._getSiblingIndex(),i=this.control,n=this.parent.control[this._getParentProp()],r=n.indexOf(i);e>=0&&r>=0&&e!==r&&(n.splice(r,1),e=Math.min(e,n.length),n.splice(e,0,i))}},t.prototype._getElement=function(){return this.component.$el},t._getControlType=function(){return this.classCtor()},t.prototype._mountedCB=function(t){this._isMounted?t():this._mountedCBs.push(t)},t.render=function(t){var e=this.$slots.default;return zi.isV3Plus?zi.h("div",{},[e&&e()]):t("div",[e])},t._typeSiblingIdAttr="_wjSiblingId",t._behClassProp="_wjBehCl",t._behProp="__wjBeh",t._propIdxMapProp="__propInitIdx",t._siblingDirId=0,t}();function Ui(t){var e=t.component,i=t.control,n=t.constructor,r=n[Vi._propIdxMapProp];if(!r){r=n[Vi._propIdxMapProp]={};var o=n.props;if(o)for(var s=0;s<o.length;s++)r[o[s]]=s}var a=[],l=[],h=[],u=n.changeEvents||{},c=zi.isV3Plus?e.$props:e.$options.propsData,d=n.modelProp;for(var f in c)null!=r[f]?a.push(f):u[f]?h.push(f):l.push(f);function p(t){t.forEach((function(t){"initialized"!==t&&t.indexOf(".")<0&&Ct(e[t])&&i[t].addHandler(e[t],i)}))}function g(t){this.cmp[Vi._behProp]._updateControl(this.prop,t)}if(zi.isV3Plus&&d&&c.hasOwnProperty(zi.modelValueProp)&&!c.hasOwnProperty(d)&&a.push(d),a.sort((function(t,e){return r[t]-r[e]})),e[Vi._behProp].constructor.extraProps,p(l),a.forEach((function(t){if(zi.isV3Plus){var i=zi.modelValueProp;jt(e[t])?t!==d||jt(e[i])||(e[Vi._behProp]._updateControl(t,e[i]),e.$watch(i,g.bind({cmp:e,prop:d}))):e[Vi._behProp]._updateControl(t,e[t]),e.$watch(t,g.bind({cmp:e,prop:t}))}else jt(e[t])||e[Vi._behProp]._updateControl(t,e[t]),e.$watch(t,g.bind({cmp:e,prop:t}))})),function(){var t=e.$el,n={};"style"in i&&t.style.cssText.length&&(t.style.cssText.split(";").forEach((function(t){var e=t.split(":");2==e.length&&(n[e[0].trim()]=e[1].trim())})),i.style=n)}(),p(h),u)for(var _=0,m=Object.keys(u);_<m.length;_++){var w=m[_];b(w,u[w],i,e)}function b(t,e,i,n){if(e){var r=i[t];r instanceof it&&r.addHandler((function(t,i){for(var r=0,o=e;r<o.length;r++){var s=o[r];if(n.$emit("update:"+s,t[s]),zi.isV3Plus&&s===d&&jt(n[s])){var a=zi.modelValueProp;jt(n[a])||n.$emit("update:"+a,t[s])}}}),i)}}return Ct(e.initialized)&&e.initialized(i),i}var Gi=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();We("InputNumber",{ariaLabels:{incVal:"Increase Value",decVal:"Decrease Value"}});var Wi=function(t){function e(e,i){var n=t.call(this,e)||this;n._value=null,n._min=null,n._max=null,n._format="",n._step=null,n._showBtn=!0,n._readOnly=!1,n._handleWheel=!0,n._oldText="",n._fromKb=!0,n.textChanged=new it,n.valueChanged=new it,ue(n.hostElement,"role","spinbutton",!0);var r=n.getTemplate();n.applyTemplate("wj-control wj-content wj-inputnumber",r,{_tbx:"input",_btnUp:"btn-inc",_btnDn:"btn-dec"},"input");var o=Ve.InputNumber.ariaLabels;de(n._btnUp.querySelector("button"),o.incVal),de(n._btnDn.querySelector("button"),o.decVal),n._tbx.type.match(/number/i)&&(n.inputType="");var s=n._tbx;s.autocomplete="off",s.spellcheck=!1,n._updateSymbols();var a=n.addEventListener.bind(n);a(s,"keypress",n._keypress.bind(n)),a(s,"keydown",n._keydown.bind(n)),a(s,"input",n._input.bind(n)),a(s,"blur",(function(){n.text!=n._oldText&&n._setText(n.text)})),a(s,"paste",(function(){n._fromKb=!1})),a(s,"compositionstart",(function(){n._composing=!0})),a(s,"compositionend",(function(){n._composing=!1,setTimeout((function(){var t=n.text,e=n._oldText,i=n._chrPct;e&&e.indexOf(i)>-1&&t.indexOf(i)<0&&(t+=i),n._setText(t)}))}));var l=n._clickSpinner.bind(n);return a(n._btnUp,"click",l),a(n._btnDn,"click",l),n._rptUp=new gi(n._btnUp.querySelector("button")),n._rptDn=new gi(n._btnDn.querySelector("button")),a(s,"wheel",(function(t){if(n.handleWheel&&!t.defaultPrevented&&!t.ctrlKey&&n._isEditable()&&n.containsFocus()){var e=zt(-t.deltaY,-1,1);n._increment((n.step||1)*e),setTimeout((function(){return n.selectAll()})),t.preventDefault()}})),n.value=0,n.isRequired=!0,n.initialize(i),n}return Gi(e,t),Object.defineProperty(e.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=Ut(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){if(t!=this._value)if(null==(t=Gt(t,!this.isRequired||null==t&&null==this._value)))this._setText("");else if(!isNaN(t)){var e=Ue.format(t,this.format);this._setText(e)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(t){this._tbx.required=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){this._readOnly=Yt(t),this.inputElement.readOnly=this._readOnly,he(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"handleWheel",{get:function(){return this._handleWheel},set:function(t){this._handleWheel=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this._min},set:function(t){t!=this._min&&(this._min=Gt(t,!0),this._updateAria())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},set:function(t){t!=this._max&&(this._max=Gt(t,!0),this._updateAria())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"step",{get:function(){return this._step},set:function(t){this._step=Gt(t,!0),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"format",{get:function(){return this._format},set:function(t){t!=this.format&&(this._format=Ut(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._tbx.value},set:function(t){t!=this.text&&(this._oldText=null,this._setText(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(t){this._tbx.placeholder=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showSpinner",{get:function(){return this._showBtn},set:function(t){this._showBtn=Yt(t),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"repeatButtons",{get:function(){return!this._rptUp.disabled},set:function(t){this._rptUp.disabled=this._rptDn.disabled=!Yt(t)},enumerable:!0,configurable:!0}),e.prototype.selectAll=function(){var t=this._tbx;fe(t,0,t.value.length)},e.prototype.clamp=function(t){return zt(t,this.min,this.max)},e.prototype.onTextChanged=function(t){this.textChanged.raise(this,t),this._updateState()},e.prototype.onValueChanged=function(t){this._updateAria(),this.valueChanged.raise(this,t)},e.prototype.dispose=function(){this._rptUp.element=null,this._rptDn.element=null,t.prototype.dispose.call(this)},e.prototype.onGotFocus=function(e){this._oldValue=this.value,this.isTouching||(this._tbx.focus(),this.selectAll()),t.prototype.onGotFocus.call(this,e)},e.prototype.onLostFocus=function(e){if(this._composing&&(this._composing=!1,this._setText(this.text)),this._isEditable()){var i=this.clamp(this.value);if(i==this.value||this.onInvalidInput(new rt)){var n=Ue.format(i,this.format);this._setText(n)}}t.prototype.onLostFocus.call(this,e)},e.prototype.refresh=function(e){if(void 0===e&&(e=!0),t.prototype.refresh.call(this,e),this.hostElement){this._updateSymbols();var i=Ue.format(this.value,this.format);this._setText(i)}},e.prototype._isEditable=function(){return!this.isReadOnly&&!this.isDisabled},e.prototype._updateSymbols=function(){var t=Ve.Globalize.numberFormat,e=Ue._parseNumericFormat(this.format);this._chrDec=t["."]||".",this._chrTho=t[","]||",",this._chrNeg=t["-"]||"-",this._chrPls=t["+"]||"+",this._chrPct=t["%"]||"%",this._chrCur=e.curr||t.currency.symbol||"$",this._fmtSpc=e.spec,this._fmtPrc=e.prec,this._rxSym=new RegExp("^[%+\\-() \\"+this._chrDec+"\\"+this._chrCur+"\\"+this._chrNeg+"\\"+this._chrPls+"\\"+this._chrPct+"]*$"),this._rxNeg=new RegExp("^\\s*(\\-|\\"+this._chrNeg+")|([^e](\\-|\\"+this._chrNeg+")|\\()")},e.prototype._isNumeric=function(t,e){var i=t==this._chrDec||t>="0"&&t<="9",n="x"==this._fmtSpc;return!i&&n&&(i=t>="a"&&t<="f"||t>="A"&&t<="F"),i||e||n||(i=t==this._chrPls||t==this._chrNeg||"("==t||")"==t),i},e.prototype._getInputRange=function(t){for(var e=[0,0],i=this.text,n=!1,r=0;r<i.length;r++)this._isNumeric(i[r],t)&&(n||(e[0]=r,n=!0),e[1]=r+1);return e},e.prototype._flipSign=function(){var t=this._getSelStartDigits();this.value*=-1,this._setSelStartDigits(t)},e.prototype._getSelStartDigits=function(){for(var t=0,e=this._tbx.selectionStart,i=this._tbx.value,n=0;n<i.length&&n<e;n++)this._isNumeric(i[n],!0)&&t++;return t},e.prototype._setSelStartDigits=function(t){for(var e=this._tbx.value,i=0;i<e.length&&t>=0;i++)if(this._isNumeric(e[i],!0)){if(!t){fe(this._tbx,i);break}t--}else if(!t){fe(this._tbx,i);break}},e.prototype._increment=function(t){if(t){var e=this.clamp(vt(this.value)?this.value+t:0),i=Ue.format(e,this.format,!1,!1);this._setText(i)}},e.prototype._updateBtn=function(){var t=this.showSpinner&&!!this.step,e=t;Pe([this._btnUp,this._btnDn],{display:t?"":"none"}),he(this.hostElement,"wj-input-show-spinner",t),ke(this._btnUp,e),ke(this._btnDn,e),this._updateAria()},e.prototype._setText=function(t,e){if(void 0===e&&(e=!1),!this._composing){var i=this._tbx,n=this._chrDec,r=this._rxNeg.test(t),o=this._delKey,s=this.containsFocus();if(t&&this._rxSym.test(t)&&s&&(t=this.isRequired||!o?(r?"-0":"0")+(t.indexOf(n)>-1?n:""):""),this._delKey=!1,o&&0==this.value&&!this.isRequired&&(t=""),!t){if(!this.isRequired)return i.value="",null!=this._value&&(this._value=null,this.onValueChanged()),this._oldText&&(this._oldText=t,this.onTextChanged()),void this._updateBtn();t="0"}var a=t.indexOf(n),l=this._format||(a>-1?"n2":"n0"),h=Ue.parseFloat(t,l);if(isFinite(h)||(h=this.clamp(h)),isNaN(h))this.onInvalidInput(new rt)?i.value=this._oldText:this.focus();else{var u=s&&a>-1?2:null,c=Ue.format(h,l,!1,e,u);r&&h>=0&&!o&&(c=this._chrNeg+c),s&&a>-1&&"g"==this._fmtSpc&&0!=this._fmtPrc&&(c=t).indexOf(n)<0&&(c+=n),i.value!=c&&(i.value=c,h=Ue.parseFloat(c,l)),h!=this._value&&(this._value=h,this.onValueChanged()),this.text!=this._oldText&&(this._oldText=this.text,this.onTextChanged()),this._updateBtn(),this._updateState()}}},e.prototype._keypress=function(t){if(!t.defaultPrevented&&!this._composing&&this._isEditable()&&t.charCode&&!t.ctrlKey&&!t.metaKey&&t.keyCode!=at.Enter){var e=this._tbx,i=String.fromCharCode(t.charCode);if(this._isNumeric(i,!1)){var n=e.maxLength;if(n>-1&&e.value.length>=n&&e.selectionEnd==e.selectionStart)return void t.preventDefault();var r=this._getInputRange(!0),o=e.selectionStart,s=e.selectionEnd;if(o<r[0]&&s<e.value.length&&(s=Math.max(s,r[0]),fe(e,r[0],s)),o>=r[1]){var a=null!=this._fmtPrc?this._fmtPrc:2,l=e.value.indexOf(this._chrDec);l>-1&&o-l>a&&t.preventDefault()}}else t.preventDefault();switch(i){case"-":case this._chrNeg:this.clamp(-1)>=0?this.value<0&&this._flipSign():this.value&&e.selectionStart==e.selectionEnd?this._flipSign():this.clamp(-1)<0&&(e.value=this._chrNeg,fe(e,1)),t.preventDefault();break;case"+":case this._chrPls:this.value<0&&this._flipSign(),t.preventDefault();break;case".":case this._chrDec:if(0==this._fmtPrc)t.preventDefault();else{var h=e.value.indexOf(this._chrDec);h>-1&&(e.selectionStart<=h&&h++,fe(e,h),t.preventDefault())}}if(!t.defaultPrevented&&D()){var u=e.value;(o=e.selectionStart)==(s=e.selectionEnd)&&(e.value=u.substr(0,o)+i+u.substr(s),fe(e,o+1),t.preventDefault(),this._input())}}},e.prototype._keydown=function(t){var e=this;if(this._delKey=!1,!t.defaultPrevented&&!this._composing&&!se(this._tbx,"wj-grid-ime")){var i=this._tbx,n=i.value,r=i.selectionStart,o=i.selectionEnd;switch(t.keyCode){case 65:t.ctrlKey&&(setTimeout((function(){e.selectAll()})),t.preventDefault());break;case at.Up:case at.Down:this.step&&this._isEditable()&&(this._increment(this.step*(t.keyCode==at.Up?1:-1)),setTimeout((function(){e.selectAll()})),t.preventDefault());break;case at.Back:if(this._delKey=!0,o-r<2&&this._isEditable()){var s=n[o-1];s!=this._chrDec&&s!=this._chrPct&&s!=this._chrTho&&")"!=s||(setTimeout((function(){o=s==e._chrPct?e._getInputRange(!0)[1]:o-1,fe(i,o)})),t.preventDefault())}break;case at.Delete:if(this._delKey=!0,o-r<2&&this._isEditable())if("0"==n&&1==r)fe(i,0);else{var a=n[r];a!=this._chrDec&&a!=this._chrPct||(setTimeout((function(){fe(i,r+1)})),t.preventDefault())}break;case at.Escape:this.value=this._oldValue,this.selectAll()}}},e.prototype._input=function(){var t=this;this._composing?this._fromKb=!0:setTimeout((function(){var e=t._tbx,i=e.value,n=i.indexOf(t._chrDec),r=e.selectionStart,o=t._getSelStartDigits();if("p"==t._fmtSpc&&i.length&&i.indexOf(t._chrPct)<0&&(i+=t._chrPct),t._setText(i,t._fromKb),t._fromKb=!0,t.containsFocus()){var s=e.value,a=s.indexOf(t._chrDec),l=t._getInputRange(!0);if(i==t._chrNeg+t._chrDec&&a>-1)return void fe(e,a+1);if(i[0]==t._chrNeg&&s[0]!=t._chrNeg)return void(1==s.length?fe(e,1):t._setSelStartDigits(o));i?i==t._chrDec&&a>-1?r=a+1:r<=n&&a>-1||n<0&&a<0?r+=s.length-i.length:n<0&&a>-1&&(r=a):r=a>-1?a:l[1],fe(e,r=zt(r,l[0],l[1]))}}))},e.prototype._clickSpinner=function(t){var e=this;!t.defaultPrevented&&this._isEditable()&&this.step&&(this._increment(this.step*(je(this._btnUp,t.target)?1:-1)),this.isTouching||setTimeout((function(){return e.selectAll()})))},e.prototype._updateAria=function(){var t=this.hostElement;t&&(ue(t,"aria-valuemin",this.min),ue(t,"aria-valuemax",this.max),ue(t,"aria-valuenow",this.value),ke(this._btnDn,null==this.min||this.value>this.min),ke(this._btnUp,null==this.max||this.value<this.max))},e.controlTemplate='<div class="wj-template"><div class="wj-input"><div class="wj-input-group"><span wj-part="btn-dec" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" tabindex="-1">-</button></span><input type="tel" wj-part="input" class="wj-form-control wj-numeric"/><span wj-part="btn-inc" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" tabindex="-1">+</button></span></div></div></div>',e}(li),Yi=function(t){function e(e,i){var n=t.call(this,e)||this;n.valueChanged=new it;var r=n.getTemplate();if(n.applyTemplate("wj-control wj-content wj-inputmask",r,{_tbx:"input"},"input"),"INPUT"==n._orgTag){var o=n._tbx.getAttribute("value");o&&(n.value=o)}return n._msk=new qe(n._tbx),n.isRequired=!0,n.initialize(i),n.addEventListener(n._tbx,"input",(function(){n.onValueChanged()})),n.addEventListener(n._tbx,"blur",n._commitText.bind(n)),n.addEventListener(n._tbx,"keydown",(function(t){t.keyCode==at.Enter&&n._commitText()})),n}return Gi(e,t),Object.defineProperty(e.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=Ut(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._tbx.value},set:function(t){t!=this.value&&(this._tbx.value=Ut(t),t=this._msk._applyMask(),this._tbx.value=t,this.onValueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rawValue",{get:function(){return this._msk.getRawValue()},set:function(t){t!=this.rawValue&&(this.value=Ut(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._msk.mask||""},set:function(t){var e=this.value;this._msk.mask=Ut(t),this.value!=e&&this.onValueChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"promptChar",{get:function(){return this._msk.promptChar},set:function(t){var e=this.value;this._msk.promptChar=t,this.value!=e&&this.onValueChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overwriteMode",{get:function(){return this._msk.overwriteMode},set:function(t){this._msk.overwriteMode=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(t){this._tbx.placeholder=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maskFull",{get:function(){return this._msk.maskFull},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(t){this._tbx.required=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isReadOnly",{get:function(){return this._tbx.readOnly},set:function(t){this._tbx.readOnly=Yt(t),he(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),e.prototype.selectAll=function(){var t=this._msk.getMaskRange();fe(this._tbx,t[0],t[1]+1)},e.prototype.onValueChanged=function(t){this.value!=this._oldValue&&(this._oldValue=this.value,this.valueChanged.raise(this,t)),this._updateState()},e.prototype._commitText=function(){if((this.value||this.isRequired)&&!this.maskFull&&!this.onInvalidInput(new rt)){var t=this._tbx,e=t.value,i=e.indexOf(this.promptChar);i>-1&&fe(t,i,e.length)}this._updateState()},e.prototype.dispose=function(){this._msk.input=null,t.prototype.dispose.call(this)},e.prototype.refresh=function(e){void 0===e&&(e=!0),t.prototype.refresh.call(this,e),this.hostElement&&this._msk.refresh()},e.prototype.onGotFocus=function(e){t.prototype.onGotFocus.call(this,e),this.selectAll()},e.controlTemplate='<div class="wj-input"><div class="wj-input-group"><input wj-part="input" class="wj-form-control"/></div></div>',e}(li),qi=function(t){function e(i,n){var r=t.call(this,i)||this;r._hsb=[.5,1,1],r._alpha=1,r.valueChanged=new it;var o=r.getTemplate();r.applyTemplate("wj-control wj-content wj-colorpicker",o,{_eSB:"div-sb",_eHue:"div-hue",_eAlpha:"div-alpha",_ePreview:"div-pv",_ePal:"div-pal",_eText:"div-text"}),r._palette="#FFF,#000,#F00,#FFC000,#FFFF00,#92D050,#00B050,#00B0F0,#0070C0,#7030A0".split(","),r._updatePalette(),r._eHue.style.backgroundImage="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAD4CAIAAACi6hsPAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAGvSURBVDhPXdBPaM9xHMfxz4pWaxcmtoOhpdXSVpiyHWxqmVpDjaU5rK34XfypjTJ/p+ZPay6jhsOsRrKwaJElf9IQq03WIkv4FeMwMq221tfje1ByeFzfvd7PEKWGEKWTQRZLySWfVRRTQjmVbKWGOhLsZT+HaeY0bbTTQSfdXOcWffTzmAFeMcwoYyT5ygS/mA5hNgphip98J8kHRnnNSwZ4yH1uc4OrdHGR87RximYO0cgedlLLdqqoYAPrWMtKVrCcJSxiPmnMJUQp/Bsyk2xyyKOAQooopYwKtlDNDur5G7SBJo7RQiv/B+2hl3s84CkvGGKEOOYnxolj/mYmhBmDJ5ngCx95xxsGecYj4pB3iENeoZMO2mmlhaMcpIE4ZII6aqhmM3HMMkooopB88sghm0wySCeVlCjMCVFIYx4LWUwOeRSwhmLWU84mqqihll3sppEmjnOSs5zjEl1c4yZ99POE5wwxwns+840fTDFLFKaZZIJxkozxlmEGGSC+GF++Sy89dHOZC8Rr4lVnOMERDrCPBPXEX22jko2UEn+/mnxyWUYWC0gnNUQh/AEc0HJs6cex0gAAAABJRU5ErkJggg==)",r._eHue.style.backgroundSize="contain",navigator.appVersion.indexOf("MSIE 9")>-1&&(r._eSB.children[0].style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#ffffffff,endColorstr=#00ffffff,GradientType=1)",r._eSB.children[1].style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr=#ff000000,GradientType=0)"),o=e._tplCursor,r._cSB=xe(o),r._cHue=xe(o),r._cHue.style.width="100%",r._cAlpha=xe(o),r._cAlpha.style.height="100%",r._eSB.appendChild(r._cSB),r._eHue.appendChild(r._cHue),r._eAlpha.appendChild(r._cAlpha);var s=r.addEventListener.bind(r),a=r.removeEventListener.bind(r),l=document;s(r.hostElement,"mousedown",(function(t){s(l,"mousemove",h),s(l,"mouseup",u),r._mouseDown(t)})),s(r.hostElement,"touchstart",(function(t){s(l,"touchmove",h),s(l,"touchend",u),r._mouseDown(t)}));var h=function(t){r._mouseMove(t)},u=function(t){a(l,"mousemove",h),a(l,"mouseup",u),a(l,"touchmove",h),a(l,"touchend",u),r._mouseUp(t)};return s(r.hostElement,"click",(function(t){var e=t.target;if(e&&"DIV"==e.tagName&&je(r._ePal,e)){var i=e.style.backgroundColor;i&&(r.value=new He(i).toString())}})),r.value="#ffffff",r.initialize(n),r._updatePanels(),r}return Gi(e,t),Object.defineProperty(e.prototype,"showAlphaChannel",{get:function(){return"none"!=this._eAlpha.parentElement.style.display},set:function(t){this._eAlpha.parentElement.style.display=Yt(t)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showColorString",{get:function(){return"none"!=this._eText.style.display},set:function(t){this._eText.style.display=Yt(t)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){if(t!=this.value){t=Ut(t);var e=He.fromString(t);if(e){this._value=t,this._eText.innerText=t;var i=e.getHsb();this._hsb[0]==i[0]&&this._hsb[1]==i[1]&&this._hsb[2]==i[2]&&this._alpha==e.a||(0==i[2]?(i[0]=this._hsb[0],i[1]=this._hsb[1]):0==i[1]&&(i[0]=this._hsb[0]),this._hsb=i,this._alpha=e.a,this._updatePanels(),this.onValueChanged())}}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"palette",{get:function(){return this._palette},set:function(t){(t=(t=Kt(t)).slice(0,10)).every((function(t){return null!=He.fromString(t)}))&&(this._palette=t,this._updatePalette())},enumerable:!0,configurable:!0}),e.prototype.onValueChanged=function(t){this._updatePanels(),this.valueChanged.raise(this,t)},e.prototype._mouseDown=function(t){this._htDown=this._getTargetPanel(t),this._htDown&&(t.preventDefault(),this.focus(),this._mouseMove(t))},e.prototype._mouseMove=function(t){var e=t.touches?t.touches[0]:t,i=this._htDown;if(i){var n=i.getBoundingClientRect(),r=this._hsb;i==this._eHue?r[0]=zt((e.clientY-n.top)/n.height,0,.99):i==this._eSB?(r[1]=zt((e.clientX-n.left)/n.width,0,1),r[2]=zt(1-(e.clientY-n.top)/n.height,0,1)):i==this._eAlpha&&(this._alpha=zt((e.clientX-n.left)/n.width,0,1)),this._updateColor()}},e.prototype._mouseUp=function(t){this._htDown=null},e.prototype._updateColor=function(){var t=He.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],this._alpha);this.value=t.toString(),this._updatePanels()},e.prototype._updatePalette=function(){var t=new He("#fff"),e=new He("#000");this._ePal.innerHTML="";for(var i=0;i<this._palette.length;i++){var n=xe('<div style="float:left;width:10%;box-sizing:border-box;padding:1px">'),r=new He(this._palette[i]),o=r.getHsb();n.appendChild(this._makePalEntry(r,4));for(var s=0;s<5;s++){if(0==o[1]){var a=.1*s+(o[2]>.5?.05:.55);r=He.interpolate(t,e,a)}else r=He.fromHsb(o[0],.1+.2*s,1-.1*s);n.appendChild(this._makePalEntry(r,0))}this._ePal.appendChild(n)}},e.prototype._makePalEntry=function(t,e){var i=document.createElement("div");return Pe(i,{cursor:"pointer",backgroundColor:t.toString(),marginBottom:e||""}),i.innerHTML="&nbsp",i},e.prototype._updatePanels=function(){var t=He.fromHsb(this._hsb[0],1,1,1),e=He.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],1);this._eSB.style.backgroundColor=t.toString(),this._eAlpha.style.background="linear-gradient(to right, transparent 0%, "+e.toString()+" 100%)",navigator.appVersion.indexOf("MSIE 9")>-1&&(this._eAlpha.style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr="+e.toString()+", GradientType = 1)"),this._ePreview.style.backgroundColor=this.value,this._cHue.style.top=(100*this._hsb[0]).toFixed(0)+"%",this._cSB.style.left=(100*this._hsb[1]).toFixed(0)+"%",this._cSB.style.top=(100-100*this._hsb[2]).toFixed(0)+"%",this._cAlpha.style.left=(100*this._alpha).toFixed(0)+"%"},e.prototype._getTargetPanel=function(t){var e=t.target;return je(this._eSB,e)?this._eSB:je(this._eHue,e)?this._eHue:je(this._eAlpha,e)?this._eAlpha:null},e.controlTemplate='<div style="position:relative;width:100%;height:100%"><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-pal"><div style="float:left;width:10%;box-sizing:border-box;padding:2px"><div style="background-color:black;width:100%">&nbsp;</div><div style="height:6px"></div></div></div><div wj-part="div-text" style="position:absolute;bottom:0px;display:none"></div></div><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-sb" class="wj-colorbox" style="float:left;width:89%;height:89%"><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to right, white 0%,transparent 100%)"></div><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to top, black 0%,transparent 100%)"></div></div><div style="float:left;width:1%;height:89%"></div><div style="float:left;width:10%;height:89%"><div wj-part="div-hue" class="wj-colorbox"></div></div><div style="float:left;width:89%;height:1%"></div><div style="float:left;width:89%;height:10%"><div style="width:100%;height:100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAAcSURBVBhXY/iPBBYgAWpKQGkwgMqDAdUk/v8HAM7Mm6GatDUYAAAAAElFTkSuQmCC)"><div wj-part="div-alpha" class="wj-colorbox"></div></div></div><div style="float:left;width:1%;height:10%"></div><div style="float:left;width:10%;height:10%"><div wj-part="div-pv" class="wj-colorbox" style="position:static"></div></div></div></div>',e._tplCursor='<div style="position:absolute;left:50%;top:50%;width:7px;height:7px;transform:translate(-50%,-50%);border:2px solid #f0f0f0;border-radius:50px;box-shadow:0px 0px 4px 2px #0f0f0f"></div>',e}(li),Xi=function(t){function e(e,i){var n=t.call(this,e)||this;n._view=null,n._byPage=!1,n._fmt="{current:n0} / {count:n0}";var r=n.getTemplate();return n.applyTemplate("wj-control wj-content wj-pager wj-collectionview-navigator",r,{_btnFirst:"btn-first",_btnPrev:"btn-prev",_txtCurr:"txt-curr",_btnNext:"btn-next",_btnLast:"btn-last"},"input"),n._rptNext=new gi(n._btnNext.querySelector("button")),n._rptPrev=new gi(n._btnPrev.querySelector("button")),n.addEventListener(n.hostElement,"click",n._click.bind(n)),n.initialize(i),n._update(),n}return Gi(e,t),Object.defineProperty(e.prototype,"cv",{get:function(){return this._view},set:function(t){if(t!=this._view){var e=this._view;e&&(e.collectionChanged.removeHandler(this._collectionChanged),e.currentChanged.removeHandler(this._currentChanged)),e=this._view=Zt(t,"ICollectionView",!0),this._update(),e&&(e.collectionChanged.addHandler(this._collectionChanged,this),e.currentChanged.addHandler(this._currentChanged,this))}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"byPage",{get:function(){return this._byPage},set:function(t){t!=this._byPage&&(this._byPage=Yt(t),this._update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerFormat",{get:function(){return this._fmt},set:function(t){t!=this._fmt&&(this._fmt=Ut(t),this._update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"repeatButtons",{get:function(){return!this._rptNext.disabled},set:function(t){this._rptNext.disabled=this._rptPrev.disabled=!Yt(t)},enumerable:!0,configurable:!0}),e.prototype._update=function(){var t=this._view,e=this._byPage,i=t?e?t.pageIndex:t.currentPosition:0,n=t?e?t.pageCount:t.itemCount:0;ke(this._btnFirst,t&&i>0),ke(this._btnPrev,t&&i>0),ke(this._txtCurr,null!=t),ke(this._btnNext,t&&i<n-1),ke(this._btnLast,t&&i<n-1),this._txtCurr.value=Mt(this._fmt,{current:t?i+1:0,count:t?n:0,currentItem:t?t.currentPosition+1:0,itemCount:t?t.itemCount:0,currentPage:t?t.pageIndex+1:0,pageCount:t?t.pageCount:0})},e.prototype._currentChanged=function(){this._update()},e.prototype._collectionChanged=function(){this._update()},e.prototype._click=function(t){var e=t.target,i=this._view,n=this._byPage;i&&(je(this._btnFirst,e)?n?i.moveToFirstPage():i.moveCurrentToFirst():je(this._btnPrev,e)?n?i.moveToPreviousPage():i.moveCurrentToPrevious():je(this._btnNext,e)?n?i.moveToNextPage():i.moveCurrentToNext():je(this._btnLast,e)&&(n?i.moveToLastPage():i.moveCurrentToLast()),t.preventDefault())},e.controlTemplate='<div class="wj-input-group"><span wj-part="btn-first" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-step-backward"></span></button></span><span wj-part="btn-prev" class="wj-input-group-btn"> <button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-left"></span> </button></span><input wj-part="txt-curr" class="wj-form-control" readonly><span wj-part="btn-next" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-right"></span></button></span><span wj-part="btn-last" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-step-forward"></span></button></span></div>',e}(li),Ki=function(t){function e(i,n){var r=t.call(this,i,null,!0)||this;r._cv=null,r._itemFormatter=null,r._pathDisplay=new tt(""),r._pathValue=new tt(""),r._pathChecked=new tt(""),r._html=!1,r._shGroups=!1,r._checkedItems=[],r._itemRole="option",r._caseSensitive=!1,r._vThreshold=e._VTHRESH,r._isVirtual=!1,r._children=[],r._clientHeight=-1,r._itemHeight=30,r._itemsAbove=-1,r._itemsBelow=-1,r._eSizer=document.createElement("div"),r._ePadTop=document.createElement("div"),r._ePadBot=document.createElement("div"),r._checking=!1,r._search="",r._fmtItemHandlers=0,r._itemCount=0,r._oldSel=null,r.selectedIndexChanged=new it,r.itemsChanged=new it,r.loadingItems=new it,r.loadedItems=new it,r.itemChecked=new it,r.checkedItemsChanged=new it,r.formatItem=new it((function(){r.invalidate()})),r.applyTemplate("wj-control wj-content wj-listbox",null,null);var o=r.hostElement;return ue(o,"role","listbox",!0),"SELECT"==r._orgTag&&r._initFromSelect(r.hostElement),r.addEventListener(o,"click",r._click.bind(r)),r.addEventListener(o,"keydown",r._keydown.bind(r)),r.addEventListener(o,"keypress",r._keypress.bind(r)),r.addEventListener(o,"wheel",(function(t){o.scrollHeight>o.offsetHeight&&(t.deltaY<0&&0==o.scrollTop||t.deltaY>0&&o.scrollTop+o.offsetHeight>=o.scrollHeight)&&(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation())})),[r._eSizer,r._ePadTop,r._ePadBot].forEach((function(t){t.tabIndex=-1,ue(t,"aria-hidden",!0),Pe(t,{pointerEvents:"none",opacity:"0"})})),r.initialize(n),r._updateViewRange(),r.hostElement.addEventListener("scroll",(function(t){r._updateViewRange()})),r}return Gi(e,t),Object.defineProperty(e.prototype,"itemsSource",{get:function(){return this._items},set:function(t){this._items!=t&&(this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=t,this._cv=Qt(t),null!=this._cv&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._populateList(),this.onItemsChanged(),this.onSelectedIndexChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"virtualizationThreshold",{get:function(){return this._vThreshold},set:function(t){if(t!=this._vThreshold){var e=this._getVirtual();this._vThreshold=Gt(t,!1,!0),e!=this._getVirtual()&&this._populateList()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showGroups",{get:function(){return this._shGroups},set:function(t){t!=this._shGroups&&(this._shGroups=Yt(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isContentHtml",{get:function(){return this._html},set:function(t){t!=this._html&&(this._html=Yt(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._itemFormatter=Xt(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayMemberPath",{get:function(){return this._pathDisplay.path},set:function(t){t!=this.displayMemberPath&&(this._pathDisplay.path=Ut(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedValuePath",{get:function(){return this._pathValue.path},set:function(t){this._pathValue.path=Ut(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checkedMemberPath",{get:function(){return this._pathChecked.path},set:function(t){t!=this.checkedMemberPath&&(this._pathChecked.path=Ut(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"caseSensitiveSearch",{get:function(){return this._caseSensitive},set:function(t){this._caseSensitive=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemRole",{get:function(){return this._itemRole},set:function(t){t!=this.itemRole&&(this._itemRole=Ut(t),this._populateList())},enumerable:!0,configurable:!0}),e.prototype.getDisplayValue=function(t){var e=null;t>-1&&$t(this._cv)&&(e=this._cv.items[t],this.displayMemberPath&&(e=this._pathDisplay.getValue(e)));var i=null!=e?e.toString():"";return this._itemFormatter&&(i=this._itemFormatter(t,i)),i},e.prototype.getDisplayText=function(t){var e=this._getChild(t);return null!=e?e.textContent:""},e.prototype.isItemEnabled=function(t){var e=this._getChild(t);return null!=e&&!e.hasAttribute("disabled")&&!se(e,"wj-state-disabled")&&!se(e,"wj-separator")},Object.defineProperty(e.prototype,"selectedIndex",{get:function(){return this._cv?this._cv.currentPosition:-1},set:function(t){this._cv&&this._cv.moveCurrentToPosition(Gt(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedItem",{get:function(){return this._cv?this._cv.currentItem:null},set:function(t){this._cv&&this._cv.moveCurrentTo(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedValue",{get:function(){var t=this.selectedItem;return t&&this.selectedValuePath&&(t=this._pathValue.getValue(t)),t},set:function(t){var e=this._cv,i=e?e.items:null,n=this.selectedValuePath,r=-1;if(i){for(var o=0;o<i.length;o++){var s=i[o],a=n?this._pathValue.getValue(s):s;if(a===t||Ie.equals(a,t)){r=o;break}if(this.isContentHtml&&wt(a)&&a.indexOf("<")>-1&&oe(a)===t){r=o;break}}this.selectedIndex=r}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxHeight",{get:function(){var t=this.hostElement,e=t?parseFloat(t.style.maxHeight):null;return isNaN(e)?null:e},set:function(t){var e=this.hostElement;e&&(t=Gt(t,!0),e.style.maxHeight=null==t?"":t+"px")},enumerable:!0,configurable:!0}),e.prototype.showSelection=function(t){void 0===t&&(t=this.containsFocus());var e=this.hostElement,i=this._children,n=this._getSelectedElement(!1),r=new De(0,0,0,0);n!=this._oldSel&&(this._updateItemAttributes(n,!0),this._updateItemAttributes(this._oldSel,!1),this._oldSel=n),n instanceof HTMLElement?r=this._getBoundingClientRect(n):this._children.length>0&&(r=this._getBoundingClientRect(this._getChild(0)));var o=this._getBoundingClientRect(e),s=0;if(this._shGroups&&(s=this._itemHeight,!this._isVirtual)){var a=i[0];a.offsetHeight&&se(a,"wj-header")&&(s=a.offsetHeight)}r.bottom>o.bottom?e.scrollTop+=r.bottom-o.bottom:r.top<o.top+s&&(e.scrollTop-=o.top+s-r.top),this._updateViewRange(),n=this._getSelectedElement(!0),t&&(n&&!je(n,_e())?n:e).focus(),e.tabIndex=n?-1:this._orgTabIndex},e.prototype.loadList=function(){this._populateList()},e.prototype.getItemChecked=function(t){var e=this._cv.items[t],i=this._pathChecked;if(kt(e)&&i.path)return i.getValue(e);var n=this._getCheckbox(t);return!!n&&n.checked},e.prototype.setItemChecked=function(t,e){this._setItemChecked(t,e,!0)},e.prototype.toggleItemChecked=function(t){this.setItemChecked(t,!this.getItemChecked(t))},Object.defineProperty(e.prototype,"checkedItems",{get:function(){return this._checkedItems},set:function(t){var e=this,i=Kt(t,!1);if(!this._arrayEquals(i,this._checkedItems)){var n=this._cv,r=this._pathChecked,o=new Map;if(r&&n){var s=n.sourceCollection;if(s&&s.length){kt(s[0])||(r=null),i.forEach((function(t){return o.set(t,!0)})),this._checking=!0;var a=[];s.forEach((function(t){var e=o.has(t);e&&a.push(t),r&&r.setValue(t,e)})),this._checking=!1,i=a}n.items.forEach((function(t,i){e._setItemChecked(i,o.has(t),!1)}))}this._arrayEquals(i,this._checkedItems)||(this._checkedItems=i,this.onCheckedItemsChanged())}},enumerable:!0,configurable:!0}),e.prototype.indexOf=function(t){return(t=Se(t,".wj-listbox-item"))?t[e._DIDX_KEY]:-1},e.prototype.onSelectedIndexChanged=function(t){this.selectedIndexChanged.raise(this,t)},e.prototype.onItemsChanged=function(t){this.itemsChanged.raise(this,t)},e.prototype.onLoadingItems=function(t){this.loadingItems.raise(this,t)},e.prototype.onLoadedItems=function(t){this.loadedItems.raise(this,t)},e.prototype.onItemChecked=function(t){this.itemChecked.raise(this,t)},e.prototype.onCheckedItemsChanged=function(t){this.checkedItemsChanged.raise(this,t)},e.prototype.onFormatItem=function(t){this.formatItem.raise(this,t)},e.prototype.refresh=function(e){if(void 0===e&&(e=!0),t.prototype.refresh.call(this,e),this.hostElement){var i=this._cv?this._cv.items.length:0,n=this.formatItem.handlerCount;i!=this._itemCount||n!=this._fmtItemHandlers?(this._fmtItemHandlers=n,this._populateList()):this._updateViewRange()}},e.prototype._getBoundingClientRect=function(t){if(!t.offsetHeight){var e=this.indexOf(t),i=this.hostElement;if(e>-1&&i){e=this._getElementIndex(e);var n=i.getBoundingClientRect();return new De(0,n.top-i.scrollTop+e*this._itemHeight,n.width,this._itemHeight)}}return De.fromBoundingRect(t.getBoundingClientRect())},e.prototype._updateItemAttributes=function(t,e){if(t){var i=this.checkedMemberPath?this._getCheckbox(this.indexOf(t)):null,n=i?i.checked:null;he(t,"wj-state-selected",e),ue(t,"aria-selected",this._getAriaSelected(e,n)),t.tabIndex=e?this._orgTabIndex:-1}},e.prototype._getCheckedItems=function(){var t=this,e=this._cv,i=this._pathChecked,n=[];return e&&i&&i.path&&(n=e.sourceCollection.filter((function(n,r){if(e.filter&&!e.filter(n))return!1;if(kt(n))return i.getValue(n);var o=e.items[r]==n?r:e.items.indexOf(n);return t.getItemChecked(o)}))),n},e.prototype._arrayEquals=function(t,e){if(t==e)return!0;if(!t||!e||t.length!=e.length)return!1;for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0},e.prototype._getChild=function(t){return t=this._getElementIndex(t),this._children[t]},e.prototype._getElementIndex=function(t){if(this._shGroups)for(var e=this._children,i=0;i<=t&&i<e.length;i++){se(e[i],"wj-header")&&t++}return t},e.prototype._setItemChecked=function(t,e,i){void 0===i&&(i=!0);var n=this._cv.items[t],r=this._pathChecked,o=!1,s=this.selectedIndex,a=this._checking;if(kt(n)&&r.path){if(!!r.getValue(n)!=e){var l=_t(this._cv,"IEditableCollectionView");o=!0,this._checking=!0,l?(l.editItem(n),r.setValue(n,e),l.commitEdit()):(r.setValue(n,e),l.refresh()),this._checking=a}}else if(i){var h=this._checkedItems.indexOf(n);(e&&h<0||!e&&h>=0)&&(o=!0)}var u=this._getCheckbox(t);if(u){u.checked=e;var c=Se(u,".wj-listbox-item");c&&(he(c,"wj-state-checked",e),ue(c,"aria-selected",!!e||null))}return i&&(o&&(this._checkedItems=this._checkedItemsUpdate(n,e),this.onItemChecked(),this.onCheckedItemsChanged()),s!=this.selectedIndex&&this.onSelectedIndexChanged()),o},e.prototype._checkedItemsUpdate=function(t,e){var i=this._cv.sourceCollection,n=this._checkedItems,r=0,o=0;if(!e){var s=n.indexOf(t);return n.slice(0,s).concat(n.slice(s+1))}for(;;r++){var a=i[r];if(a===n[o])o++;else if(a===t)return n.slice(0,o).concat([t]).concat(n.slice(o))}},e.prototype._cvCollectionChanged=function(){this._checking||(this._populateList(),this.onItemsChanged())},e.prototype._cvCurrentChanged=function(){this._checking||(this.showSelection(),this.onSelectedIndexChanged())},e.prototype._populateList=function(){var t=this.hostElement,i=this._cv;if(this._itemCount=i?i.items.length:0,this._isVirtual=this._getVirtual(),this._oldSel=null,this._itemsAbove=-1,this._itemsBelow=-1,t){var n=this.containsFocus(),r=void 0;this.onLoadingItems();var o=this._children=[];if(t.textContent="",i){var s=0,a=void 0,l=[];if(this._shGroups&&i.groups&&i.groups.length){r={};for(var h=0;h<i.groups.length;h++){var u=i.groups[h];r[s]=u,a=this._createHeaderItem(u),l.push(a);for(var c=0;c<u.items.length;c++,s++)a=this._createItem(s),l.push(a)}}else for(c=0;c<i.items.length;c++,s++)a=this._createItem(s),l.push(a);var d=this._isVirtual?document.createElement("div"):t,f=0;for(d.innerHTML=l.join(""),c=0;c<d.children.length;c++){var p=d.children[c];f==i.currentPosition&&(this._oldSel=p),p[e._DIDX_KEY]=p.className.indexOf("wj-header")<0?f++:-1,o.push(p)}}if(this.formatItem.hasHandlers&&i){s=0;var g=i.items;for(p=new Zi(0,null,null),c=0;c<o.length;c++)p._item=o[c],this._shGroups&&se(p._item,"wj-header")?(p._index=-1,p._data=r[s]):(p._index=s,p._data=g[s++]),this.onFormatItem(p)}if(this._isVirtual){var _=this._getCanvasContext(),m=null,w=0;for(c=0;c<o.length;c++){a=o[c];var b=_.measureText(a.textContent);b.width>w&&(m=a,w=b.width)}if(m){var v=!1,y=t.style.display,x=t.style.position;t.parentElement||(v=!0,document.body.appendChild(t),Pe(t,{display:"",position:"absolute"})),t.appendChild(m);var C=m.style.whiteSpace;m.style.whiteSpace="nowrap",this._ePadTop.style.width=m.offsetWidth+"px",this._itemHeight=m.offsetHeight||this._itemHeight,m.style.whiteSpace=C,this._eSizer.style.height=o.length*this._itemHeight+"px",t.appendChild(this._eSizer),this._clientHeight=t.clientHeight,ge(this._eSizer),v&&(ge(t),Pe(t,{display:y,position:x})),ge(m)}else this._ePadTop.style.width="";this._updateViewRange()}this.checkedItems=this._getCheckedItems();var j=this._getSelectedElement(!0);n?(j||t).focus():j&&this.showSelection(),t.tabIndex=j?-1:this._orgTabIndex,this.onLoadedItems()}},e.prototype._getCanvasContext=function(){var t=document.createElement("canvas").getContext("2d"),e=getComputedStyle(this.hostElement);return e.fontSize&&e.fontFamily&&(t.font=e.fontSize+" "+e.fontFamily.split(",")[0]),t},e.prototype._getVirtual=function(){if(this._itemCount<=this._vThreshold)return!1;var t=this.hostElement;if(t){var e=getComputedStyle(t);if(parseInt(e.columnCount)>1||e.display.indexOf("flex")>-1||e.display.indexOf("grid")>-1)return!1}return!0},e.prototype._getMaxSupportedCssHeight=function(){var t=265e5;return D()?t=15e5:k()&&(t=175e5),t},e.prototype._updateViewRange=function(){var t=this.hostElement,e=this._itemHeight,i=this._children;if(!(t&&t.parentElement&&this._isVirtual&&i))return!1;var n=t.scrollTop;Ht(e*i.length<this._getMaxSupportedCssHeight(),"The number of items ("+i.length+") exceeds the maximum number of items ("+Math.floor(this._getMaxSupportedCssHeight()/e)+") allowed for this browser.");var r=Math.max(t.clientHeight,this._clientHeight),o=Math.floor(n/e),s=Math.min(i.length,Math.ceil((n+r)/e)-o),a=Math.max(0,i.length-o-s);if(o==this._itemsAbove&&a==this._itemsBelow)return!1;this._itemsAbove=o,this._itemsBelow=a;var l=document.createDocumentFragment(),h=this.containsFocus();if(this._ePadTop.style.height=o*e+"px",l.appendChild(this._ePadTop),this.showGroups&&!se(i[o],"wj-header"))for(var u=o;u>=0;u--)if(se(i[u],"wj-header")){l.appendChild(i[u]);break}for(u=o;u<=o+s&&u<i.length;u++)l.appendChild(i[u]);this._ePadBot.style.height=a*e+"px",l.appendChild(this._ePadBot),t.textContent="",t.appendChild(l);var c=(o+s+a)*e-t.scrollHeight;this._ePadBot.style.height=this._ePadBot.offsetHeight-c+"px";var d=this._getSelectedElement(!0);return h&&(d||t).focus({preventScroll:!0}),t.tabIndex=d?-1:this._orgTabIndex,!0},e.prototype._getSelectedElement=function(t){var e=this.selectedIndex,i=this._getElementIndex(e),n=i>-1?this._children[i]:null;return t&&n&&!n.offsetHeight&&(n=null),n},e.prototype._handleResize=function(){this._updateViewRange()},e.prototype._createItem=function(t){var e=this._cv.items[t],i=t==this._cv.currentPosition,n=this.getDisplayValue(t);1!=this._html&&(n=ee(n));var r=null;this.checkedMemberPath&&(r=!1,kt(e)?r=!!this._pathChecked.getValue(e):this._checkedItems&&(r=this._checkedItems.indexOf(e)>-1),n='<label><input type="checkbox" tabindex="-1"'+(r?" checked":"")+"><span></span> "+n+"</label>");var o="wj-listbox-item";if(i&&(o+=" wj-state-selected"),r&&(o+=" wj-state-checked"),this._html){var s=["wj-separator","wj-state-disabled"];if(n.indexOf(s[0])>-1||n.indexOf(s[1])>-1){var a=xe(n);s.forEach((function(t){se(a,t)&&(o+=" "+t)}))}}return'<div class="'+o+'" role="'+this.itemRole+'" '+(this._getAriaSelected(i,r)?'aria-selected="true" ':"")+'tabindex="'+(i&&!this.isDisabled?this._orgTabIndex:-1)+'">'+n+"</div>"},e.prototype._getAriaSelected=function(t,e){return!!(null!=e?e:t)||null},e.prototype._createHeaderItem=function(t){return'<div class="wj-listbox-item wj-header wj-state-disabled" role="presentation" tabindex="-1">'+ee(t.name)+"</div>"},e.prototype._click=function(t){if(0==t.button&&!t.defaultPrevented){var e=this.indexOf(t.target);if(e>-1)if(this.selectedIndex=e,this.checkedMemberPath){var i=this._getCheckbox(e),n=Se(i,".wj-listbox-item");t.target!=i&&t.target!=n||(n.focus({preventScroll:!0}),this.setItemChecked(e,i.checked))}else(n=Se(t.target,".wj-listbox-item")).focus({preventScroll:!0})}},e.prototype._keydown=function(t){var e=this.selectedIndex;if(!t.defaultPrevented){if(65==t.keyCode&&(t.ctrlKey||t.metaKey)){var i=this.collectionView;if(this.checkedMemberPath&&$t(i))return this.checkedItems=this.checkedItems.length!=i.items.length?i.items:[],void t.preventDefault()}if(!(t.ctrlKey||t.shiftKey||t.altKey||t.metaKey))switch(t.keyCode){case at.Down:t.preventDefault(),this._selectNext();break;case at.Up:t.preventDefault(),this._selectPrev();break;case at.Home:t.preventDefault(),this._selectFirst();break;case at.End:t.preventDefault(),this._selectLast();break;case at.PageDown:t.preventDefault(),this._selectNextPage();break;case at.PageUp:t.preventDefault(),this._selectPrevPage();break;case at.Space:if(this.checkedMemberPath&&e>-1){var n=this._getCheckbox(e);n&&this.isItemEnabled(e)&&(this.setItemChecked(e,!n.checked),t.preventDefault())}}}},e.prototype._keypress=function(t){var e=this;if(!t.defaultPrevented&&!(t.target instanceof HTMLInputElement)&&(t.charCode>32||32==t.charCode&&this._search)){t.preventDefault(),this._search+=String.fromCharCode(t.charCode),this._toSearch&&clearTimeout(this._toSearch),this._toSearch=setTimeout((function(){e._toSearch=null,e._search=""}),li._SEARCH_DELAY);var i=this._findNext();i<0&&this._search.length>1&&(this._search=this._search[this._search.length-1],i=this._findNext()),i>-1&&(this.selectedIndex=i)}},e.prototype._selectNext=function(){for(var t=this.selectedIndex+1;t<this._children.length;t++)if(this.isItemEnabled(t))return this.selectedIndex=t,!0;return!1},e.prototype._selectPrev=function(){for(var t=this.selectedIndex-1;t>=0;t--)if(this.isItemEnabled(t))return this.selectedIndex=t,!0;return!1},e.prototype._selectFirst=function(){for(var t=0;t<this._children.length;t++)if(this.isItemEnabled(t))return this.selectedIndex=t,!0;return!1},e.prototype._selectLast=function(){for(var t=this._children.length-1;t>=0;t--)if(this.isItemEnabled(t))return this.selectedIndex=t,!0;return!1},e.prototype._selectNextPage=function(){var t=this.hostElement.offsetHeight,e=this._children,i=this._cv?this._cv.items.length:0,n=0;if(t>0)for(var r=this.selectedIndex+1;r<i;r++){var o=e[r].scrollHeight||this._itemHeight;if(n+o>t&&this.isItemEnabled(r))return this.selectedIndex=r,!0;n+=o}return this._selectLast()},e.prototype._selectPrevPage=function(){var t=this.hostElement.offsetHeight,e=this._children,i=0;if(t>0)for(var n=this.selectedIndex-1;n>0;n--){var r=e[n].scrollHeight||this._itemHeight;if(i+r>t&&this.isItemEnabled(n))return this.selectedIndex=n,!0;i+=r}return this._selectFirst()},e.prototype._findNext=function(){if(this.hostElement){var t=this._children.length,e=this.selectedIndex;(e<0||1==this._search.length)&&e++;var i=this._search,n=this.caseSensitiveSearch;n||(i=i.toLowerCase());for(var r=0;r<t;r++){var o=(e+r)%t;if(this.isItemEnabled(o)){var s=this.getDisplayText(o).trim();if(n||(s=s.toLowerCase()),0==s.indexOf(i))return o}}}return-1},e.prototype._getCheckbox=function(t){var e=this._children;return t=this._getElementIndex(t),this.hostElement&&t>-1&&t<e.length?e[t].querySelector("input[type=checkbox]"):null},e.prototype._initFromSelect=function(t){for(var e=t.children,i=[],n=-1,r=0;r<e.length;r++){var o=e[r];"OPTION"==o.tagName&&(o.hasAttribute("selected")&&(n=i.length),o.innerHTML?i.push({hdr:o.innerHTML,val:o.getAttribute("value"),cmdParam:o.getAttribute("cmd-param")}):i.push({hdr:'<div class="wj-separator"></div>'}),t.removeChild(o),r--)}i&&(this.displayMemberPath="hdr",this.selectedValuePath="val",this.itemsSource=i,this.selectedIndex=n)},e.prototype._setIsDisabled=function(e){t.prototype._setIsDisabled.call(this,e),this._updateTabIndex()},e.prototype._setTabOrder=function(e){t.prototype._setTabOrder.call(this,e),this.isDisabled||this._updateTabIndex()},e.prototype._updateTabIndex=function(){var t=this.hostElement,e=this._getSelectedElement(!0);e?(e.tabIndex=this.isDisabled?-1:this._orgTabIndex,t.tabIndex=-1):t.tabIndex=this.isDisabled?-1:this._orgTabIndex},e._DIDX_KEY="$WJ-DIDX",e._VTHRESH=Number.MAX_VALUE/2,e}(li),Zi=function(t){function e(e,i,n){var r=t.call(this)||this;return r._index=Gt(e),r._data=i,r._item=Zt(n,HTMLElement,!0),r}return Gi(e,t),Object.defineProperty(e.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),e}(nt);We("MultiSelectListBox",{filterPlaceholder:"Filter",selectAll:"Select All"});var Ji,Qi,$i=function(t){function e(i,n){var r=t.call(this,i)||this;r._selectAllLabel=null,r._filterPlaceholder=null,r._filterText="",r._checkOnFilter=!0,r._delay=li._SEARCH_DELAY,r.checkedItemsChanged=new it,r.selectedIndexChanged=new it;var o=r.getTemplate();r.applyTemplate("wj-control wj-content wj-multiselectlistbox",o,{_selectAll:"select-all",_filter:"filter",_lbHost:"list-box"}),r._selectAll.style.display="none",r._filter.style.display="none",r._lbx=new Ki(r._lbHost,{checkedMemberPath:e._DEF_CHECKED_PATH,loadedItems:function(){return r._updateCheckAllCheckbox()},checkedItemsChanged:function(){return r.onCheckedItemsChanged()},selectedIndexChanged:function(){return r.onSelectedIndexChanged()}}),r._cbSelectAll=r._selectAll.querySelector("input[type=checkbox]"),r._spSelectAll=r._selectAll.querySelector("label>span");var s=Ve.MultiSelectListBox;return Ce(r._spSelectAll,s.selectAll),r._filter.placeholder=s.filterPlaceholder,r.initialize(n),r.addEventListener(r._filter,"input",(function(){r._filter.value!=r._filterText&&(r._filterText=r._filter.value,r._toSearch&&clearTimeout(r._toSearch),r._toSearch=setTimeout((function(){r._toSearch=null,r._applyFilter()}),r.delay))})),r.addEventListener(r._cbSelectAll,"click",(function(t){var e=r._lbx.collectionView;$t(e)&&(r.checkedItems=t.target.checked?e.items:[])})),r.addEventListener(r.hostElement,"keydown",(function(t){var e=r.showFilterInput?r._filter:null,i=r._lbx;if(e&&t.keyCode==at.F3&&(fe(e,0,e.value.length),t.preventDefault()),_e()==e){var n=!t.altKey;switch(t.keyCode){case at.Escape:case at.F4:n=!1}n&&t.stopPropagation()}if(!i.containsFocus())switch(t.keyCode){case at.Up:case at.Down:r._lbx.focus();var o=i.selectedIndex+(t.keyCode==at.Up?-1:1);i.selectedIndex=Math.max(0,o),t.preventDefault()}}),!0),r.hostElement.tabIndex=-1,r._lbx.tabOrder=r._orgTabIndex,r}return Gi(e,t),Object.defineProperty(e.prototype,"itemsSource",{get:function(){return this._lbx.itemsSource},set:function(t){this._lbx.itemsSource=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collectionView",{get:function(){return this._lbx.collectionView},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"virtualizationThreshold",{get:function(){return this._lbx.virtualizationThreshold},set:function(t){this._lbx.virtualizationThreshold=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayMemberPath",{get:function(){return this._lbx.displayMemberPath},set:function(t){this._lbx.displayMemberPath=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isContentHtml",{get:function(){return this._lbx.isContentHtml},set:function(t){this._lbx.isContentHtml=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"caseSensitiveSearch",{get:function(){return this._lbx.caseSensitiveSearch},set:function(t){this._lbx.caseSensitiveSearch=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"delay",{get:function(){return this._delay},set:function(t){this._delay=Gt(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showGroups",{get:function(){return this._lbx.showGroups},set:function(t){this._lbx.showGroups=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checkOnFilter",{get:function(){return this._checkOnFilter},set:function(t){t!=this.checkOnFilter&&(this._checkOnFilter=Yt(t),this.checkedItems=[])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedIndex",{get:function(){return this._lbx.selectedIndex},set:function(t){this._lbx.selectedIndex=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"listBox",{get:function(){return this._lbx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showFilterInput",{get:function(){return""==this._filter.style.display},set:function(t){t!=this.showFilterInput&&(this._filter.style.display=Yt(t)?"":"none",this.showFilterInput||(this._filter.value="",this._applyFilter()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterInputPlaceholder",{get:function(){return this._filterPlaceholder},set:function(t){t!=this._filterPlaceholder&&(this._filterPlaceholder=Ut(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showSelectAllCheckbox",{get:function(){return""==this._selectAll.style.display},set:function(t){this._selectAll.style.display=Yt(t)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectAllLabel",{get:function(){return this._selectAllLabel},set:function(t){t!=this._selectAllLabel&&(this._selectAllLabel=Ut(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checkedMemberPath",{get:function(){var t=this.listBox.checkedMemberPath;return t!=e._DEF_CHECKED_PATH?t:null},set:function(t){t=Ut(t),this.listBox.checkedMemberPath=t||e._DEF_CHECKED_PATH},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checkedItems",{get:function(){return this.listBox.checkedItems},set:function(t){this.listBox.checkedItems=Kt(t)},enumerable:!0,configurable:!0}),e.prototype.onCheckedItemsChanged=function(t){this._updateCheckAllCheckbox(),this.checkedItemsChanged.raise(this,t)},e.prototype.onSelectedIndexChanged=function(t){this.selectedIndexChanged.raise(this,t)},e.prototype.refresh=function(e){if(void 0===e&&(e=!0),t.prototype.refresh.call(this,e),this.hostElement){var i=Ve.MultiSelectListBox;this._filter.placeholder=null!=this._filterPlaceholder?this._filterPlaceholder:i.filterPlaceholder,this._spSelectAll&&Ce(this._spSelectAll,null!=this._selectAllLabel?this._selectAllLabel:i.selectAll),this._updateCheckAllCheckbox()}},e.prototype.dispose=function(){this.listBox.dispose(),t.prototype.dispose.call(this)},e.prototype._applyFilter=function(){var t=this,e=this._lbx,i=e.collectionView,n=this._filter.value,r=n?new RegExp(re(n),e.caseSensitiveSearch?"":"i"):null,o=this.displayMemberPath,s=o?new tt(o):null,a=this.checkOnFilter?null:this.checkedItems;i.filter=function(e){return null==r||(!!(a&&a.indexOf(e)>-1)||(s&&(e=s.getValue(e)),t.isContentHtml&&(e=oe(e)),null!=e&&r.test(e.toString())))},e.selectedIndex=Math.max(0,e.selectedIndex),this._checkOnFilter&&(this.checkedItems=r?i.items:[])},e.prototype._updateCheckAllCheckbox=function(){var t=this._lbx.collectionView,e=this._cbSelectAll;if($t(t)){var i=t.items.length,n=this.checkedItems.length;ce(e,n==i||0!=n&&null),e.disabled=!1}else ce(e,!1),e.checked=!1,e.disabled=!0},e.prototype._setIsDisabled=function(e){t.prototype._setIsDisabled.call(this,e),this.hostElement.tabIndex=-1,this.isDisabled?this._lbx.tabOrder=-1:this._lbx.tabOrder=this._orgTabIndex},e.prototype._setTabOrder=function(t){this._orgTabIndex=t,this._lbx.tabOrder=t},e._DEF_CHECKED_PATH="$checked",e.controlTemplate='<div class="wj-template wj-listbox"><input wj-part="filter" class="wj-form-control" tabindex="-1"><div wj-part="select-all" class="wj-header wj-select-all wj-listbox-item"><label><input type="checkbox" tabindex="-1"> <span></span></label></div><div wj-part="list-box"/></div>',e}(li);We("Calendar",{ariaLabels:{calendar:"Calendar",monthView:"Month View",yearView:"Year View",prvMo:"Previous Month",today:"Today",nxtMo:"Next Month",prvYr:"Previous Year",currMo:"Current Month",nxtYr:"Next Year"}}),function(t){t[t.None=0]="None",t[t.Day=1]="Day",t[t.Month=2]="Month",t[t.Range=3]="Range"}(Ji||(Ji={})),function(t){t[t.None=0]="None",t[t.FirstMonth=1]="FirstMonth",t[t.LastMonth=2]="LastMonth",t[t.FirstAndLastMonths=3]="FirstAndLastMonths",t[t.AllMonths=4]="AllMonths",t[t.Outside=5]="Outside"}(Qi||(Qi={}));var tn,en=function(t){function e(e,i){var n=t.call(this,e)||this;n._yrPicker=!0,n._mtPicker=Qi.FirstMonth,n._wksBefore=0,n._wksAfter=0,n._rngMin=0,n._rngMax=0,n._min=null,n._max=null,n._readOnly=!1,n._handleWheel=!0,n._fdw=null,n._selMode=Ji.Day,n._tmYrHidden=0,n._fmtYrMo="y",n._fmtYr="yyyy",n._fmtDayHdr="ddd",n._fmtDay="d ",n._fmtMonths="MMM",n.valueChanged=new it,n.rangeEndChanged=new it,n.rangeChanged=new it,n.displayMonthChanged=new it,n.formatItem=new it((function(){n.invalidate()})),n._value=n._rngEnd=Ie.newDate(),n._month=n._getMonth(n._value),n._cals=[n],n._createChildren(),n._createYearPicker();var r=n.hostElement,o=n.addEventListener.bind(n);return o(r,"keydown",n._keydown.bind(n)),o(r,"click",n._click.bind(n)),n._rptUp=new gi(n._btnPrv),n._rptDn=new gi(n._btnNxt),n.addEventListener(r,"wheel",(function(t){n.handleWheel&&!t.defaultPrevented&&!n.isReadOnly&&n.containsFocus()&&(t.deltaY<0?n._btnPrv.click():n._btnNxt.click(),t.preventDefault())})),n.initialize(i),n.refresh(!0),n}return Gi(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){if(t!==this._value&&(this._clearingRangeEnd=!Ie.equals(this._value,t),this.rangeEnd=null,this._clearingRangeEnd=!1,t=qt(t,!0),t=this._clamp(t),(this._valid(t)||null==t)&&(this.ensureVisible(t||new Date),Ie.equals(this._value,t)||(this._value=t,this.invalidate(!1),this.onValueChanged())),!this.value)){var e=this.min,i=this.max,n=this.displayMonth;i&&i<n?this.ensureVisible(i):e&&e>n&&this.ensureVisible(e)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rangeEnd",{get:function(){return this._rngEnd},set:function(t){if(t=qt(t,!0),(t=this._clamp(t))&&this._value&&this._rngMode()){t<this._value&&(t=this._value);var e=this._rngMin,i=this._rngMax;if(e&&e>0||i&&i>0){var n=this._value,r=Math.ceil((t.getTime()-n.getTime())/864e5)+1;e&&e>0&&r<e&&(t=Ie.addDays(n,e-1)),i&&i>0&&r>i&&(t=Ie.addDays(n,i-1))}}!this._valid(t)&&null!=t||Ie.equals(this._rngEnd,t)||(this._rngEnd=t,this.ensureVisible(t),this.invalidate(!1),this.onRangeEndChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rangeMin",{get:function(){return this._rngMin},set:function(t){(t=Gt(t,!0,!0))!=this._rngMin&&(this._rngMin=t,this._syncProp(this,"rangeMin"),this._rngMode()&&this._rngEnd&&(this.rangeEnd=this._rngEnd))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rangeMax",{get:function(){return this._rngMax},set:function(t){(t=Gt(t,!0,!0))!=this._rngMax&&(this._rngMax=t,this._syncProp(this,"rangeMax"),this._rngMode()&&this._rngEnd&&(this.rangeEnd=this._rngEnd))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this._min},set:function(t){(t=qt(t,!0))!=this.min&&(this._min=t,this._syncProp(this,"min"),this.refresh(),!this.value&&t&&t>this.displayMonth&&this.ensureVisible(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},set:function(t){(t=qt(t,!0))!=this.max&&(this._max=t,this._syncProp(this,"max"),this.refresh(),!this.value&&t&&t<this.displayMonth&&this.ensureVisible(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectionMode",{get:function(){return this._selMode},set:function(t){var e=Ji;(t=Jt(t,e))!=this._selMode&&(this._selMode=t,this._mthMode()&&(this.monthView=!1),this._rngEnd=t==e.Range?this._value:null,this.refresh(),this._syncProp(this,"selectionMode"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){this._readOnly=Yt(t),he(this.hostElement,"wj-state-readonly",this.isReadOnly),this._syncProp(this,"isReadOnly")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"handleWheel",{get:function(){return this._handleWheel},set:function(t){this._handleWheel=Yt(t),this._syncProp(this,"handleWheel")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"repeatButtons",{get:function(){return!this._rptUp.disabled},set:function(t){this._rptUp.disabled=this._rptDn.disabled=!Yt(t),this._syncProp(this,"repeatButtons")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showYearPicker",{get:function(){return this._yrPicker},set:function(t){t!=this._yrPicker&&(this._yrPicker=Yt(t),this._syncProp(this,"showYearPicker"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showMonthPicker",{get:function(){return this._mtPicker},set:function(t){if(t!=this._mtPicker){var e=Qi;xt(t)&&(t=t?e.FirstMonth:e.None),this._mtPicker=Jt(t,e),he(this.hostElement,"wj-btns-outside",this._getShowMonthPicker()==e.Outside),this.refresh(),this._syncProp(this,"showMonthPicker")}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstDayOfWeek",{get:function(){return this._fdw},set:function(t){if(t!=this._fdw){if((t=Gt(t,!0))&&(t>6||t<0))throw"firstDayOfWeek must be between 0 and 6 (Sunday to Saturday).";this._fdw=t,this.refresh(),this._syncProp(this,"firstDayOfWeek")}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayMonth",{get:function(){return this._month},set:function(t){t=qt(t),t=this._getMonth(t);var e=this._getDisplayMonthRange();e.to&&t>e.to&&(t=e.to),e.from&&t<e.from&&(t=e.from),Ie.equals(this.displayMonth,t)||(this._month=t,this.invalidate(!0),this.onDisplayMonthChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"monthCount",{get:function(){var t=this.hostElement;return t?t.querySelectorAll(".wj-calendar").length+1:0},set:function(t){var i=this,n=this.hostElement;if(t!=this.monthCount&&n){var r=n.querySelectorAll(".wj-calendar");Ht((t=Wt(t,!1))>0,"monthCount must be >= 1."),Ht(1==t||!Se(n.parentElement,".wj-calendar"),"Only top-level calendars can set monthCount.");for(var o=0;o<r.length;o++){var s=r[o];ge(s),this._getCalendar(s).dispose()}for(this._cals=[this],o=1;o<t;o++){for(var a in(s=new e(document.createElement("div"),{itemFormatter:this.itemFormatter,itemValidator:this.itemValidator,formatItem:function(t,e){return i.onFormatItem(e)}}))._selMode=this._selMode,s._value=this._value,s._rngEnd=this._rngEnd,this)if(!/^(_.*|constructor|displayMonth|monthCount|hostElement|rightToLeft|isUpdating|isTouching)$/.test(a)){var l=this[a];Ct(l)||l instanceof it||(s[a]=l)}this._cals.push(s),n.appendChild(s.hostElement)}he(n,"wj-calendar-multimonth",t>1),this._syncProp(this,"displayMonth")}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatYearMonth",{get:function(){return this._fmtYrMo},set:function(t){t!=this._fmtYrMo&&(this._fmtYrMo=Ut(t),this._syncProp(this,"formatYearMonth"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatDayHeaders",{get:function(){return this._fmtDayHdr},set:function(t){t!=this._fmtDayHdr&&(this._fmtDayHdr=Ut(t),this._syncProp(this,"formatDayHeaders"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatDays",{get:function(){return this._fmtDay},set:function(t){t!=this._fmtDay&&(this._fmtDay=Ut(t),this._syncProp(this,"formatDays"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatYear",{get:function(){return this._fmtYr},set:function(t){t!=this._fmtYr&&(this._fmtYr=Ut(t),this._syncProp(this,"formatYear"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatMonths",{get:function(){return this._fmtMonths},set:function(t){t!=this._fmtMonths&&(this._fmtMonths=Ut(t),this._syncProp(this,"formatMonths"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showHeader",{get:function(){return"none"!=this._tbHdr.style.display},set:function(t){t!=this.showHeader&&(this._tbHdr.style.display=Yt(t)?"":"none",this._syncProp(this,"showHeader"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"monthView",{get:function(){return"none"!=this._tbMth.style.display},set:function(t){if(t!=this.monthView){this._tbMth.style.display=t?"":"none",this._tbYr.style.display=t?"none":"",this.refresh();var e=Ve.Calendar.ariaLabels;de(this._btnPrv,t?e.prvMo:e.prvYr),de(this._btnTdy,t?e.today:e.currMo),de(this._btnNxt,t?e.nxtMo:e.nxtYr),de(this._btnMth,t?e.monthView:e.yearView),this._syncProp(this,"monthView")}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"weeksBefore",{get:function(){return this._wksBefore},set:function(t){t!=this._wksBefore&&(this._wksBefore=Math.floor(Gt(t,!1,!0)),this._syncProp(this,"weeksBefore"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"weeksAfter",{get:function(){return this._wksAfter},set:function(t){t!=this._wksAfter&&(this._wksAfter=Math.floor(Gt(t,!1,!0)),this._syncProp(this,"weeksAfter"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._itemFormatter=Xt(t),this._syncProp(this,"itemFormatter"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemValidator",{get:function(){return this._itemValidator},set:function(t){t!=this._itemValidator&&(this._itemValidator=Xt(t),this._syncProp(this,"itemValidator"),this.invalidate())},enumerable:!0,configurable:!0}),e.prototype.hitTest=function(t){var i=t instanceof MouseEvent?t.target:t instanceof Element?t:null;return Ht(null!=i,"MouseEvent or Element expected"),i?i[e._DATE_KEY]:null},e.prototype.ensureVisible=function(t){if(null!=t){var e=this._getCalendars(),i=e.indexOf(this),n=e[0],r=e[e.length-1];t<n.displayMonth?this.displayMonth=Ie.addMonths(this._getMonth(t),i):t>r.displayMonth&&(this.displayMonth=Ie.addMonths(this._getMonth(t),i-e.length+1))}},e.prototype.onValueChanged=function(t){this.valueChanged.raise(this,t),this._syncProp(this,"value")},e.prototype.onRangeEndChanged=function(t){this.rangeEndChanged.raise(this,t),this._syncProp(this,"rangeEnd"),this._value&&this._rngEnd&&this.onRangeChanged(t)},e.prototype.onRangeChanged=function(t){this.rangeChanged.raise(this,t)},e.prototype.onDisplayMonthChanged=function(t){this.displayMonthChanged.raise(this,t),this._syncProp(this,"displayMonth")},e.prototype.onFormatItem=function(t){this.formatItem.raise(this,t)},e.prototype._containsFocusImpl=function(e){return t.prototype._containsFocusImpl.call(this,e)||this._lbYears._containsFocusImpl(e)},e.prototype.dispose=function(){this._rptUp.element=null,this._rptDn.element=null,this._lbYears.dispose(),t.prototype.dispose.call(this)},e.prototype.refresh=function(e){void 0===e&&(e=!0);var i=this.hostElement,n=this.containsFocus();if(i){t.prototype.refresh.call(this,e),e&&this._updateContent(),this._updateSelection();var r=this._getDisplayMonthRange(),o=this.displayMonth;if(ke(this._btnPrv,null==r.from||o>r.from),ke(this._btnNxt,null==r.to||o<r.to),n){var s=(this.monthView?this._tbMth:this._tbYr).querySelector("td.wj-state-selected")||i;s&&s.focus()}var a=this._getCalendars();a.length>1&&this==a[0]&&a.forEach((function(t,i){i>0&&t.refresh(e)}))}},e.prototype._getShowMonthPicker=function(){var t=Qi,e=this._getCalendars(),i=e.indexOf(this),n=this.showMonthPicker;switch(n){case t.FirstMonth:case t.Outside:return 0==i?n:0;case t.LastMonth:return i==e.length-1?n:0;case t.FirstAndLastMonths:return 0==i||i==e.length-1?n:0;case t.AllMonths:return n}return 0},e.prototype._getDisplayMonthRange=function(){var t={from:null,to:null};if(this.min||this.max){var e=this._getCalendars(),i=e.indexOf(this),n=this._mthMode()?Ie.addYears:Ie.addMonths;this.min&&(t.from=n(this._getMonth(this.min),i)),this.max&&(t.to=n(this._getMonth(this.max),i-e.length+1))}return t},e.prototype._getCalendar=function(t){return li.getControl(t)},e.prototype._getCalendars=function(){var t=Se(this.hostElement,".wj-calendar-multimonth");return(t?this._getCalendar(t):this)._cals},e.prototype._syncProp=function(t,e){var i=this;if(!this._syncing){var n=this._getCalendars();if(n&&n.length>1){var r=t[e],o=this._mthMode()?Ie.addYears:Ie.addMonths;"displayMonth"==e&&(r=o(r,-n.indexOf(t))),n[0].deferUpdate((function(){i._syncing=!0,n.forEach((function(n,s){if(n!=t){var a=n.displayMonth;n[e]="displayMonth"==e?o(r,s):r,"value"==e&&(n.displayMonth=a,i._rngMode()&&(n.rangeEnd=null))}})),i._syncing=!1}))}}},e.prototype._updateContent=function(){var t=this.displayMonth,i=Ue.format,n=Ie,r=this._getShowMonthPicker();Ce(this._spMth,i(t,this._fmtYrMo));var o=this._btnMth.querySelector(".wj-glyph-down");o&&(o.style.display=this._mthMode()||!r?"none":"");var s=Se(this._btnTdy,".wj-btn-group");s&&(s.style.display=r?"":"none");for(var a=null!=this._fdw?this._fdw:Ue.getFirstDayOfWeek(),l=n.addDays(t,-(t.getDay()-a+7)%7),h=n.monthLast(t),u=this._tbMth.querySelectorAll("td"),c=0;c<7&&c<u.length;c++){var d=n.addDays(l,c);Ce(u[c],i(d,this._fmtDayHdr))}var f=this._tbMth.querySelectorAll("tr");for(c=1;c<f.length;c++)ge(f[c]);var p=n.addDays(l,-7*this._wksBefore);for(c=0;c<this._wksBefore;c++)p=this._addWeek(p,"wj-week-before");for(;p<=h;)p=this._addWeek(p);for(c=0;c<this._wksAfter;c++)p=this._addWeek(p,"wj-week-after");for((u=this._tbYr.querySelectorAll("td")).length&&Ce(u[0],i(t,this._fmtYr)),c=1;c<u.length;c++){p=n.newDate(t.getFullYear(),c-1,1);var g=u[c],_=!this._monthInValidRange(p);g[e._DATE_KEY]=p,Ce(g,i(p,this._fmtMonths)),he(g,"wj-state-disabled",_),de(g,Ue.format(p,"MMMM yyyy"))}},e.prototype._updateSelection=function(){for(var t=e._DATE_KEY,i=Ie,n=this._tbMth.querySelectorAll("td"),r=7;r<n.length;r++){var o=(c=n[r])[t],s=this.value,a=this.rangeEnd,l=this._selMode&&null!=s&&i.sameDate(o,s),h=this._selMode&&null!=s&&i.sameDate(o,a),u=this._selMode&&null!=s&&o>s&&null!=a&&o<=a;he(c,"wj-state-selected",l),he(c,"wj-state-multi-selected",u),he(c,"wj-state-last-selected",h),ue(c,"aria-selected",!!l||null),this._customizeCell(r,o,c)}for(n=this._tbYr.querySelectorAll("td"),r=0;r<n.length;r++){var c;o=(c=n[r])[t],he(c,"wj-state-selected",l=this._sameMonth(o,this.value)),ue(c,"aria-selected",!!l||null)}},e.prototype._addWeek=function(t,i){for(var n=this._createElement("tr",this._tbMth,i),r=Ie,o=0;o<7;o++){var s=this._createElement("td",n),a=r.addDays(t,o);s[e._DATE_KEY]=a,Ce(s,Ue.format(a,this._fmtDay)),de(s,Ue.format(a,"D"));var l=!this._valid(a),h=a.getDay(),u=a.getMonth()!=this.displayMonth.getMonth();he(s,"wj-day-today",r.sameDate(a,r.newDate())),he(s,"wj-day-weekend",0==h||6==h),he(s,"wj-day-othermonth",u||!this._inValidRange(a)||l),he(s,"wj-state-invalid",l)}return r.addDays(t,7)},e.prototype._customizeCell=function(t,e,i){if(Ct(this.itemFormatter)&&this.itemFormatter(e,i),this.formatItem.hasHandlers){var n=new Zi(t,e,i);this.onFormatItem(n)}},e.prototype._canChangeValue=function(){return!this._readOnly&&this._selMode!=Ji.None},e.prototype._valid=function(t){return!(!St(t)||!Ie.sameDate(t,this._clamp(t)))&&(!Ct(this.itemValidator)||this.itemValidator(t))},e.prototype._inValidRange=function(t){var e=Ie.fromDateTime;return!(this.min&&t<e(this.min,t)||this.max&&t>e(this.max,t))},e.prototype._monthInValidRange=function(t){if(this.min||this.max){var e=t.getFullYear(),i=t.getMonth(),n=Ie,r=n.newDate(e,i,1),o=n.newDate(e,i+1,0);if(this.min&&this.min>o)return!1;if(this.max&&this.max<r)return!1}return!0},e.prototype._sameMonth=function(t,e){return St(t)&&St(e)&&t.getMonth()==e.getMonth()&&t.getFullYear()==e.getFullYear()},e.prototype._getValidDate=function(t,e){if(St(t))for(var i=t.getFullYear(),n=t.getMonth()+(e?0:1),r=e?1:0,o=Ie,s=o.newDate(i,n,r),a=e?1:-1,l=0;l<31;l++){if(this._valid(s))return s;s=o.addDays(s,a)}return null},e.prototype._clamp=function(t){if(t){var e=Ie.fromDateTime;if(this.min){var i=e(this.min,t);t<i&&(t=i)}if(this.max){var n=e(this.max,t);t>n&&(t=n)}}return t},e.prototype._createChildren=function(){var t=this.getTemplate();this.applyTemplate("wj-control wj-calendar",t,{_tbHdr:"tbl-header",_btnMth:"btn-month",_spMth:"span-month",_btnPrv:"btn-prev",_btnTdy:"btn-today",_btnNxt:"btn-next",_tbMth:"tbl-month",_tbYr:"tbl-year"}),this._tbYr.style.display="none";var e=Ve.Calendar.ariaLabels;de(this._tbMth,e.calendar),de(this._tbYr,e.calendar),de(this._btnPrv,e.calendar),de(this._btnMth,e.monthView),de(this._btnPrv,e.prvMo),de(this._btnTdy,e.today),de(this._btnNxt,e.nxtMo);for(var i=this._createElement("tr",this._tbMth,"wj-header"),n=0;n<7;n++)this._createElement("td",i);i=this._createElement("tr",this._tbYr,"wj-header"),this._createElement("td",i).setAttribute("colspan","4");for(var r=0;r<3;r++){i=this._createElement("tr",this._tbYr);for(var o=0;o<4;o++)this._createElement("td",i)}},e.prototype._createYearPicker=function(){var t=this,e=this.hostElement,i=this._createElement("div",null,"wj-dropdown-panel wj-yearpicker");i.tabIndex=this._orgTabIndex,this._lbYears=new Ki(i,{lostFocus:function(e){if(mi(i),t._tmYrHidden=Date.now(),t.removeEventListener(window,"touchstart"),e.selectedIndex>-1){var n=Ie.clone(t.displayMonth);n.setFullYear(e.selectedIndex+e.itemsSource[0]),t.displayMonth=n}}}),this.addEventListener(i,"keydown",(function(i){switch(i.keyCode){case at.Enter:e.focus();break;case at.Escape:t._lbYears.selectedIndex=-1,e.focus()}i.defaultPrevented&&i.stopPropagation()})),this.addEventListener(i,"click",(function(t){e.focus()}))},e.prototype._createElement=function(t,e,i){var n=document.createElement(t);return i&&ae(n,i),e&&e.appendChild(n),n},e.prototype._click=function(t){var e=this;if(!t.defaultPrevented&&0==t.button){var i=!1,n=t.target;if(je(this._btnMth,n)&&!this._mthMode()&&this._getShowMonthPicker()?(this.monthView=!this.monthView,i=!0):je(this._btnPrv,n)?(this._navigate(-1),i=!0):je(this._btnNxt,n)?(this._navigate(1),i=!0):je(this._btnTdy,n)&&(this._navigate(0),i=!0),n&&!i&&this._yrPicker&&je(this._tbYr,n)&&Se(n,".wj-header")){if(Date.now()-this._tmYrHidden<600)return void t.preventDefault();for(var r=this.displayMonth.getFullYear(),o=this.min?this.min.getFullYear():r-100,s=this.max?this.max.getFullYear():r+100,a=[],l=o;l<=s;l++)a.push(l);var h=this._lbYears,u=h.hostElement,c=Se(n,".wj-header"),d=this.hostElement,f=Se(d,".wj-inputdate-dropdown")||d;return h.itemsSource=a,h.selectedIndex=r-a[0],ue(u,"dir",this.rightToLeft?"rtl":null),Pe(u,{minWidth:"",width:c.offsetWidth}),_i(u,c,!1,!1,f),requestAnimationFrame((function(){h.showSelection(!0)})),this.addEventListener(window,"touchstart",(function(t){je(u,t.target)||(mi(u),e._tmYrHidden=Date.now(),e.removeEventListener(window,"touchstart"))})),void t.preventDefault()}if(n&&!i){var p=Se(n,"td");if(p){var g=this.hitTest(p),_=Ie.fromDateTime;if(this.monthView){if(g&&this._canChangeValue()){var m=_(g,this._value);this._inValidRange(m)&&this._valid(m)&&(this._rngMode()&&this.value&&!this.rangeEnd&&m>=this.value?this.rangeEnd=m:this.value=m),i=!0}}else g&&(this.displayMonth=g,this._mthMode()?this._canChangeValue()&&(m=_(this.displayMonth,this.value),this._inValidRange(m)&&(this.value=m)):this.monthView=!0,i=!0)}}i&&(t.preventDefault(),this.focus())}},e.prototype._keydown=function(t){if(!t.defaultPrevented){if(t.altKey)switch(t.keyCode){case at.Up:case at.Down:return;case at.End:return this._navigate(0),void t.preventDefault()}if(!(t.ctrlKey||t.metaKey||t.shiftKey&&!this._rngMode())){var e=this._getKeyCode(t),i=0,n=0,r=!0;if(this.monthView)switch(e){case at.Left:i=-1;break;case at.Right:i=1;break;case at.Up:i=-7;break;case at.Down:i=7;break;case at.PageDown:n=t.altKey?12:1;break;case at.PageUp:n=t.altKey?-12:-1;break;case at.Home:case at.End:if(this._canChangeValue()&&!t.shiftKey){var o=this.value||this.displayMonth;(a=this._getValidDate(o,e==at.Home))&&(this.value=Ie.fromDateTime(a,this.value),this._rngEnd=null)}break;default:r=!1}else switch(e){case at.Left:n=-1;break;case at.Right:n=1;break;case at.Up:n=-4;break;case at.Down:n=4;break;case at.PageDown:n=t.altKey?120:12;break;case at.PageUp:n=t.altKey?-120:-12;break;case at.Home:n=this.value?-this.value.getMonth():0;break;case at.End:n=this.value?11-this.value.getMonth():0;break;case at.Enter:this._mthMode()?r=!1:this.monthView=!0;break;default:r=!1}if(this._canChangeValue()&&(i||n)){var s=t.shiftKey&&null!=this.rangeEnd?this.rangeEnd:this.value,a=Ie;if(s?(s=a.addDays(s,i),s=a.addMonths(s,n)):s=this._getValidDate(new Date,!0),n&&!this._valid(s)){o=s.getMonth();for(var l=1;l<31&&!this._valid(s);l++){var h=a.addDays(s,+l),u=a.addDays(s,-l);this._valid(h)&&h.getMonth()==o?s=h:this._valid(u)&&u.getMonth()==o&&(s=u)}}for(l=0;l<31&&!this._valid(s);l++)s=a.addDays(s,i>0||n>0?1:-1);t.shiftKey&&s>this.value?this.rangeEnd=s:this.value=s}r&&t.preventDefault()}}},e.prototype._getMonth=function(t){var e=Ie;return t=t||e.newDate(),e.newDate(t.getFullYear(),t.getMonth(),1)},e.prototype._mthMode=function(){return this.selectionMode==Ji.Month},e.prototype._rngMode=function(){return this.selectionMode==Ji.Range},e.prototype._navigate=function(t){var e=this.monthView,i=this.displayMonth,n=Ie;switch(t){case 0:var r=n.newDate();this._canChangeValue()&&(this.value=e?n.fromDateTime(r,this.value):this._getMonth(r)),i=this._getMonth(r);break;case 1:i=n.addMonths(i,e?1:12);break;case-1:i=n.addMonths(i,e?-1:-12)}this.displayMonth=i},e.prototype._setTabOrder=function(e){t.prototype._setTabOrder.call(this,e),this._lbYears.tabOrder=this._orgTabIndex},e._DATE_KEY="$WJ-DATE",e.controlTemplate='<div class="wj-content wj-calendar-outer"><div wj-part="tbl-header" class="wj-calendar-header"><div wj-part="btn-month" class="wj-month-select" role="button"><span wj-part="span-month"></span> <span class="wj-glyph-down"></span></div><div class="wj-btn-group"><button wj-part="btn-prev" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-left"></span></button><button wj-part="btn-today" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-circle"></span></button><button wj-part="btn-next" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-right"></span></button></div></div><table wj-part="tbl-month" class="wj-calendar-month" role="grid"></table><table wj-part="tbl-year" class="wj-calendar-year" role="grid"></table></div>',e}(li);We("DropDown",{ariaLabels:{tgl:"Toggle Dropdown"}}),function(t){t[t.Select=0]="Select",t[t.Open=1]="Open",t[t.Toggle=2]="Toggle"}(tn||(tn={}));var nn,rn,on=function(t){function e(e,i){var n=t.call(this,e)||this;n._clickAction=tn.Select,n._showBtn=!0,n._autoExpand=!0,n._animate=!1,n._oldText="",n.textChanged=new it,n.isDroppedDownChanging=new it,n.isDroppedDownChanged=new it;var r=n.getTemplate();n.applyTemplate("wj-control wj-content wj-dropdown",r,{_tbx:"input",_btn:"btn",_dropDown:"dropdown"},"input"),n._dropDown.style.display="none";var o=Ve.DropDown.ariaLabels;de(n._btn.querySelector("button"),o.tgl);var s=n._elRef=n._tbx;pe(s),n._createDropDown(),n._updateBtn();var a=n.hostElement;ae(a,"wj-state-collapsed"),n.addEventListener(window,"resize",(function(){n.isDroppedDown&&n.invalidate()}));var l=n.dropDown,h=n.addEventListener.bind(n),u=n._updateFocusState.bind(n);h(l,"blur",u,!0),h(l,"focus",u);var c=n._keydown.bind(n);h(a,"keydown",c),h(l,"keydown",c);var d=n._keypress.bind(n);return h(a,"keypress",d,!0),h(l,"keypress",d,!0),h(s,"input",(function(){n._setText(n.text,!1)})),h(s,"blur",(function(){n._commitText(!0)}),!0),h(s,"click",(function(){n._autoExpand&&n._expandSelection()})),h(s,"mousedown",(function(t){switch(n._clickAction){case tn.Open:n.isDroppedDown||(t.preventDefault(),n.focus(),n.isDroppedDown=!0);break;case tn.Toggle:t.preventDefault(),n.focus(),n.isDroppedDown=!n.isDroppedDown}})),h(n._btn,"mousedown",(function(t){n._btnclick(t)})),ge(l),D()&&n._elRef==n._tbx&&h(a,"mouseup",(function(t){if(!t.defaultPrevented&&0==t.button&&se(t.target,"wj-btn")){var e=_e();e&&e!=t.target&&setTimeout((function(){e.focus()}))}})),M()&&h(s,"keyup",(function(){n._setText(n.text,!1)})),h(l,"click",n._dropDownClick.bind(n)),n}return Gi(e,t),Object.defineProperty(e.prototype,"text",{get:function(){return this._tbx.value},set:function(t){t!=this.text&&(this._setText(t,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=Ut(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isReadOnly",{get:function(){return this._tbx.readOnly},set:function(t){this._tbx.readOnly=Yt(t),he(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(t){this._tbx.required=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(t){this._tbx.placeholder=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clickAction",{get:function(){return this._clickAction},set:function(t){this._clickAction=Jt(t,tn)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDroppedDown",{get:function(){var t=this._dropDown;return t&&"none"!=t.style.display},set:function(t){var e=this,i=this.hostElement,n=this._dropDown,r=this.containsFocus();i&&n&&(t=Yt(t)&&!this.isDisabled&&!this.isReadOnly&&i.offsetWidth>0)!=this.isDroppedDown&&this.onIsDroppedDownChanging(new rt)&&(t?(this._minWidthDropdown=n.style.minWidth,n.style.display="",this._updateDropDown(),this.addEventListener(window,"touchstart",(function(t){for(var n=t.target;n;){if(n==i)return;n=n[li._OWNR_KEY]||n.parentNode}li._touching=!0,e.isDroppedDown=!1,li._touching=!1}))):(this.removeEventListener(window,"touchstart"),mi(n),n.style.minWidth=this._minWidthDropdown),r&&(this.isTouching&&this.showDropDownButton?i.focus():this.selectAll()),this._updateFocusState(),he(i,"wj-state-collapsed",!this.isDroppedDown),this.onIsDroppedDownChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropDown",{get:function(){return this._dropDown},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropDownCssClass",{get:function(){return this._cssClass},set:function(t){t!=this._cssClass&&(le(this._dropDown,this._cssClass),this._cssClass=Ut(t),ae(this._dropDown,this._cssClass))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showDropDownButton",{get:function(){return this._showBtn},set:function(t){this._showBtn=Yt(t),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoExpandSelection",{get:function(){return this._autoExpand},set:function(t){this._autoExpand=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAnimated",{get:function(){return this._animate},set:function(t){this._animate=Yt(t)},enumerable:!0,configurable:!0}),e.prototype.selectAll=function(){var t=this._tbx;this._elRef==t&&fe(t,0,this.text.length),this.containsFocus()||this.focus()},e.prototype.onTextChanged=function(t){this.textChanged.raise(this,t),this._updateState()},e.prototype.onIsDroppedDownChanging=function(t){return this.isDroppedDownChanging.raise(this,t),!t.cancel},e.prototype.onIsDroppedDownChanged=function(t){this.isDroppedDownChanged.raise(this,t)},e.prototype.onGotFocus=function(e){this.isTouching||je(this._dropDown,_e())||this.selectAll(),t.prototype.onGotFocus.call(this,e)},e.prototype.onLostFocus=function(e){this._commitText(),this.isDroppedDown=!1,t.prototype.onLostFocus.call(this,e)},e.prototype._containsFocusImpl=function(e){return t.prototype._containsFocusImpl.call(this,e)||this.isDroppedDown&&je(this._dropDown,e)},e.prototype.dispose=function(){this.isDroppedDown=!1;var e=this._dropDown;if(e){this._dropDown=null,ge(e);var i=li.getControl(e);i&&i.dispose()}t.prototype.dispose.call(this)},e.prototype.refresh=function(e){void 0===e&&(e=!0),t.prototype.refresh.call(this,e);var i=this.hostElement;if(i&&i.offsetHeight&&this.isDroppedDown){var n=_e();this.isAnimated&&""!=this._dropDown.style.opacity||_i(this._dropDown,i,!1,!1,null==this.dropDownCssClass),n instanceof HTMLElement&&n!=_e()&&n.focus()}},e.prototype._handleResize=function(){this.isDroppedDown&&this.refresh()},e.prototype._dropDownClick=function(t){t.stopPropagation()},e.prototype._expandSelection=function(){var t=this._tbx,e=t.value,i=t.selectionStart,n=t.selectionEnd;if(e&&i==n){var r=this._getCharType(e,i);if(r>-1){for(;n<e.length&&this._getCharType(e,n)==r;n++);for(;i>0&&this._getCharType(e,i-1)==r;i--);i!=n&&fe(t,i,n)}}},e.prototype._getCharType=function(t,e){var i=t[e];return i>="0"&&i<="9"?0:i>="a"&&i<="z"||i>="A"&&i<="Z"?1:-1},e.prototype._keydown=function(t){if(!t.defaultPrevented&&!this._isHiddenEditor()){switch(t.keyCode){case at.Tab:case at.Escape:case at.Enter:this.isDroppedDown&&(this.isDroppedDown=!1,t.keyCode==at.Tab||this.containsFocus()||this.focus(),t.preventDefault());break;case at.F4:case at.Up:case at.Down:if(t.keyCode==at.F4||t.altKey){var e=this.hostElement;e&&e.offsetHeight&&(this.isDroppedDown=!this.isDroppedDown,t.preventDefault())}}if(!t.defaultPrevented&&t.keyCode==at.Escape&&D()){var i=this._tbx;if(t.target==i){var n=i.value;i.value=n+" ",i.value=n}}}},e.prototype._isHiddenEditor=function(){return se(this._tbx,"wj-grid-ime")},e.prototype._keypress=function(t){"AltLeft"!=t.code&&"AltRight"!=t.code||t.preventDefault()},e.prototype._btnclick=function(t){t.defaultPrevented||0!=t.button||(t.preventDefault(),this.isTouching?this._containsFocus()||this.hostElement.focus():this.focus(),this.isDroppedDown=!this.isDroppedDown)},e.prototype._setText=function(t,e){(t=(t||"").toString())!=this._tbx.value&&(this._tbx.value=t),t!=this._oldText&&(this._oldText=t,this.onTextChanged()),this._updateState()},e.prototype._updateBtn=function(){this._btn.style.display=this._showBtn?"":"none"},e.prototype._createDropDown=function(){},e.prototype._commitText=function(t){},e.prototype._updateDropDown=function(){if(this.isDroppedDown){this._commitText();var t=this.dropDown;ue(t,"dir",this.rightToLeft?"rtl":null),_i(t,this.hostElement,!1,this._animate,null==this.dropDownCssClass)}},e.controlTemplate='<div class="wj-template"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control"><span wj-part="btn" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-down"></span></button></span></div></div><div wj-part="dropdown" class="wj-content wj-dropdown-panel"></div></div>',e}(li);!function(t){t[t.None=0]="None",t[t.ClickOwner=1]="ClickOwner",t[t.ClickPopup=2]="ClickPopup",t[t.Click=3]="Click",t[t.BlurOwner=4]="BlurOwner",t[t.BlurPopup=8]="BlurPopup",t[t.Blur=12]="Blur",t[t.ClickOrBlur=15]="ClickOrBlur",t[t.DownOwner=16]="DownOwner",t[t.DownPopup=32]="DownPopup",t[t.Down=48]="Down",t[t.EnterOwner=64]="EnterOwner",t[t.EnterPopup=128]="EnterPopup",t[t.Enter=192]="Enter",t[t.LeaveOwner=256]="LeaveOwner",t[t.LeavePopup=512]="LeavePopup",t[t.Leave=768]="Leave"}(rn||(rn={})),function(t){t[t.None=0]="None",t[t.Left=1]="Left",t[t.Top=2]="Top",t[t.Right=4]="Right",t[t.Bottom=8]="Bottom",t[t.LeftTop=3]="LeftTop",t[t.RightTop=6]="RightTop",t[t.RightBottom=12]="RightBottom",t[t.LeftBottom=9]="LeftBottom"}(nn||(nn={}));var sn=function(t){function e(e,i){var n=t.call(this,e)||this;n._owner=null,n._modal=!1,n._position=di.BelowLeft,n._showTrigger=rn.ClickOwner,n._hideTrigger=rn.Blur,n._hideAnim=[],n._fadeIn=!0,n._fadeOut=!0,n._removeOnHide=!0,n._draggable=!1,n._resizable=!1,n._result=null,n._resultEnter=null,n._resultSubmit=null,n._callback=null,n._visible=!1,n._ownerClickBnd=n._ownerClick.bind(n),n._ownerDownBnd=n._ownerDown.bind(n),n._ownerBlurBnd=n._ownerBlur.bind(n),n._ownerEnterBnd=n._ownerEnter.bind(n),n._ownerLeaveBnd=n._ownerLeave.bind(n),n._mousedownBnd=n._mousedown.bind(n),n._mousemoveBnd=n._mousemove.bind(n),n._mousedragBnd=n._mousedrag.bind(n),n._mouseupBnd=n._mouseup.bind(n),n._hideBnd=n.hide.bind(n),n._lastShow=0,n.showing=new it,n.shown=new it,n.hiding=new it,n.hidden=new it,n.resizing=new it,n.resized=new it,n.dragging=new it,n.dragged=new it,n.sizeChanging=new it,n.sizeChanged=new it,n.positionChanging=new it,n.positionChanged=new it;var r=n.hostElement;ae(r,"wj-control wj-content wj-popup"),r.getAttribute("tabindex")||(r.tabIndex=0),mi(r,!1);var o=n.addEventListener.bind(n);o(r,"compositionstart",(function(){n._composing=!0})),o(r,"compositionend",(function(){n._composing=!1})),o(window,"resize",(function(){!n.isVisible||n._dragged||n.isTouching||n.invalidate()})),o(r,"keydown",(function(t){if(!t.defaultPrevented){if(t.keyCode!=at.Escape||n._composing||(t.preventDefault(),n.hide()),t.keyCode==at.Enter&&!n._composing){var e=n.dialogResultEnter;e&&(t.preventDefault(),n._validateAndHide(e))}t.keyCode==at.Tab&&n.modal&&(t.preventDefault(),we(r,t.shiftKey?-1:1))}})),o(r,"click",(function(t){var e=t.target;if(e instanceof HTMLElement){if(e instanceof HTMLButtonElement&&"submit"==e.type){var i=n.hostElement,r=n.dialogResultSubmit;i instanceof HTMLFormElement&&r&&i.reportValidity()&&(t.preventDefault(),n.hide(r))}var o=e.className.match(/\bwj-hide[\S]*\b/);o&&o.length>0&&(t.preventDefault(),t.stopPropagation(),n.hide(o[0]))}}));var s=n._toggle.bind(n),a=rn;return n.addEventListener(r,"click",(function(t){n._ignoreClick||s(t,a.ClickPopup)}),!0),n.addEventListener(r,"mousedown",(function(t){n._ignoreClick=!1,s(t,a.DownPopup)}),!0),n.addEventListener(r,"mouseenter",(function(t){t.target==r&&s(t,a.EnterPopup)}),!0),n.addEventListener(r,"mouseleave",(function(t){t.target==r&&s(t,a.LeavePopup)}),!0),n.addEventListener(r,"blur",(function(t){n.containsFocus()||s(t,a.BlurPopup)}),!0),o(document,"wheel",(function(t){if(n.isVisible&&n._modal){for(var e=t.target;e&&e!=document.body;e=e.parentElement)if(e.scrollHeight>e.clientHeight)return;t.preventDefault()}})),n.initialize(i),n}return Gi(e,t),Object.defineProperty(e.prototype,"owner",{get:function(){return this._owner},set:function(t){var e=this._owner;e&&(this.removeEventListener(e,"click"),this.removeEventListener(e,"mousedown"),this.removeEventListener(e,"mouseenter"),this.removeEventListener(e,"mouseleave"),this.removeEventListener(e,"blur")),(e=this._owner=null!=t?ye(t):null)&&(this.addEventListener(e,"click",this._ownerClickBnd,!0),this.addEventListener(e,"mousedown",this._ownerDownBnd,!0),this.addEventListener(e,"mouseenter",this._ownerEnterBnd,!0),this.addEventListener(e,"mouseleave",this._ownerLeaveBnd,!0),this.addEventListener(e,"blur",this._ownerBlurBnd,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this._position},set:function(t){this._position=Jt(t,di)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"content",{get:function(){return this.hostElement.firstElementChild},set:function(t){t!=this.content&&(this.hostElement.innerHTML="",t instanceof HTMLElement&&this.hostElement.appendChild(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showTrigger",{get:function(){return this._showTrigger},set:function(t){this._showTrigger=Jt(t,rn)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hideTrigger",{get:function(){return this._hideTrigger},set:function(t){this._hideTrigger=Jt(t,rn)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fadeIn",{get:function(){return this._fadeIn},set:function(t){this._fadeIn=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fadeOut",{get:function(){return this._fadeOut},set:function(t){this._fadeOut=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"removeOnHide",{get:function(){return this._removeOnHide},set:function(t){if((t=Yt(t))!=this.removeOnHide&&(this._removeOnHide=t,!this.isVisible)){var e=this.hostElement;t?ge(e):e&&document.body&&(e.style.display="none",document.body.appendChild(e))}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"modal",{get:function(){return this._modal},set:function(t){this._modal=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDraggable",{get:function(){return this._draggable},set:function(t){this._draggable=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isResizable",{get:function(){return this._resizable},set:function(t){this._resizable=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dialogResult",{get:function(){return this._result},set:function(t){this._result=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dialogResultEnter",{get:function(){return this._resultEnter},set:function(t){this._resultEnter=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dialogResultSubmit",{get:function(){return this._resultSubmit},set:function(t){this._resultSubmit=Ut(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVisible",{get:function(){var t=this.hostElement;return this._visible&&null!=t&&t.offsetHeight>0},enumerable:!0,configurable:!0}),e.prototype.show=function(t,e){var i=this;if(this._lastShow=Date.now(),!this.isVisible){var n=this.hostElement;this.dialogResult=null,this._callback=null,this._oldFocus=null,this._myFocus=null,this._hideAnim.forEach((function(t){clearInterval(t)})),this._hideAnim.length=0;var r=new rt;this.onShowing(r)&&(null!=t&&(this.modal=Yt(t)),null!=e&&(this._callback=Xt(e)),this._oldFocus=_e(),_i(n,this._owner,this._position,this._fadeIn,!1,this._hideBnd),this._modal&&this._showBackdrop(),this._composing=!1,this._visible=!0,this.onShown(r),this._clearTimeouts(),this.modal&&(this.addEventListener(window,"focus",(function(){if(!i.containsFocus()){var t=i._myFocus;t&&t.offsetHeight?t.focus():we(n,0)}})),this.addEventListener(n,"focusin",(function(){var t=_e();t&&je(n,t)&&(t.tabIndex>-1||!i._myFocus)&&(i._myFocus=t)}))),this._resized=this._dragged=this._ignoreClick=!1,this._handleDragResize(!0),this.addEventListener(window,"touchstart",(function(t){i._hideTrigger&rn.Blur&&!je(n,t.target,!0)&&i.hide()})),setTimeout((function(){i.addEventListener(window,"click",(function(t){i._hideTrigger&rn.BlurPopup&&i.isDisabled&&!je(n,t.target,!0)&&i.hide()}))})),setTimeout((function(){if(!i.isDisabled&&!i.containsFocus()&&!i.isTouching){var t=n.querySelector("[autofocus]");t&&t.clientHeight>0&&!t.disabled&&t.tabIndex>-1&&!Se(t,"[disabled],.wj-state-disabled")?(t.focus(),Ct(t.select)&&t.select()):we(n,0)}i.isDisabled||i.containsFocus()||(n.tabIndex=0,n.focus())}),100))}},e.prototype.hide=function(t){var i=this;if(this._handleDragResize(!1),this.removeEventListener(window,"touchstart"),this.removeEventListener(window,"click"),this.isVisible){jt(t)||(this.dialogResult=t);var n=new rt,r=this.hostElement;if(this.onHiding(n)){for(var o=this.containsFocus()?this._oldFocus:null,s=r.querySelectorAll(".wj-control.wj-dropdown"),a=0;a<s.length;a++){var l=li.getControl(s[a]);l instanceof on&&(l.isDroppedDown=!1)}var h=this.removeOnHide,u=this.fadeOut;this._bkDrop&&this._hideAnim.push(mi(this._bkDrop,h,u)),this._hideAnim.push(mi(r,h,u)),this._visible=!1,this._oldFocus=null,this._myFocus=null,this.removeEventListener(window,"focus"),this.removeEventListener(r,"focusin"),this.containsFocus()&&_e().blur(),setTimeout((function(){if(i._updateState(),i.onHidden(n),i._callback&&i._callback(i),i.hideTrigger&rn.LeavePopup){var t=li.getControl(Se(i.owner,".wj-popup"));if(t instanceof e&&0!=(t.hideTrigger&rn.Leave)){var r=e._evtHover,o=r?document.elementFromPoint(r.clientX,r.clientY):null,s=li.getControl(Se(o,".wj-popup"));s instanceof e&&!s.isVisible&&(o=null),o&&je(t.hostElement,o,!0)||t.hide()}}})),this._clearTimeouts(),!this.isVisible&&o&&o.offsetHeight&&o.focus()}}},e.prototype.onShowing=function(t){return this.showing.raise(this,t),!t.cancel},e.prototype.onShown=function(t){this.shown.raise(this,t)},e.prototype.onHiding=function(t){return this.hiding.raise(this,t),!t.cancel},e.prototype.onHidden=function(t){this._wasVisible=!1,this.hidden.raise(this,t)},e.prototype.onResizing=function(t){return this.resizing.raise(this,t),!t.cancel},e.prototype.onResized=function(t){this.resized.raise(this,t)},e.prototype.onDragging=function(t){return this.dragging.raise(this,t),!t.cancel},e.prototype.onDragged=function(t){this.dragged.raise(this,t)},e.prototype.onSizeChanging=function(t){return this.sizeChanging.raise(this,t),!t.cancel},e.prototype.onSizeChanged=function(t){this.sizeChanged.raise(this,t)},e.prototype.onPositionChanging=function(t){return this.positionChanging.raise(this,t),!t.cancel},e.prototype.onPositionChanged=function(t){this.positionChanged.raise(this,t)},e.prototype.onLostFocus=function(e){if(t.prototype.onLostFocus.call(this,e),this._hideTrigger&rn.BlurPopup&&!this.containsFocus()){var i=document.createEvent("Event");i.initEvent("blur",!0,!0),this._toggle(i,rn.BlurPopup)}},e.prototype.dispose=function(){this.owner=null,t.prototype.dispose.call(this)},e.prototype.refresh=function(e){void 0===e&&(e=!0);var i=this.hostElement;if(t.prototype.refresh.call(this,e),this.isVisible&&!this._refreshing&&i){this._refreshing=!0;for(var n=_e(),r=this._owner?this._owner.getBoundingClientRect():null,o=[],s=i.querySelectorAll(".wj-dropdown"),a=0;a<s.length;a++){var l=li.getControl(s[a]);l instanceof on&&l.isDroppedDown&&(o.push(l),l.dropDown.style.display="none")}_i(i,r,this._position),o.forEach((function(t){t.dropDown.style.display="",t._updateDropDown()})),this._modal&&n instanceof HTMLElement&&n!=_e()&&n.focus(),this._refreshing=!1}},e.prototype._clearTimeouts=function(){this._toShow&&(clearTimeout(this._toShow),this._toShow=null),this._toHideLeave&&(clearTimeout(this._toHideLeave),this._toHideLeave=null),this._toHideBlur&&(clearTimeout(this._toHideBlur),this._toHideBlur=null)},e.prototype._handleDragResize=function(t){var e=this.hostElement,i=this._draggable?this._getHeaderElement():null,n=this.addEventListener.bind(this),r=this.removeEventListener.bind(this),o=this._mousemoveBnd,s=this._mousedownBnd;t?(n(e,"mousemove",o),n(e,"mousedown",s),n(e,"touchstart",s),i&&(i.style.touchAction="none")):(this._mousedownEvt=null,this._rcBounds=null,r(e,"mousemove",o),r(e,"mousedown",s),r(e,"touchstart",s),r(document,"mousemove",this._mousedragBnd),r(document,"mouseup",this._mouseupBnd),i&&(i.style.touchAction=""))},e.prototype._mousemove=function(t){if(!this._mousedownEvt){var e=this.hostElement,i=this._getEdges(e,t),n="",r=nn;this._edges=i,this._resizable&&(i==r.LeftTop||i==r.RightBottom?n="nwse-resize":i==r.LeftBottom||i==r.RightTop?n="nesw-resize":i==r.Left||i==r.Right?n="ew-resize":i!=r.Top&&i!=r.Bottom||(n="ns-resize")),this._draggable&&!n&&this._getClosestHeader(t.target)&&(n="move"),e.style.cursor=n}},e.prototype._mousedown=function(t){if(!t.defaultPrevented){var e=t.touches&&t.touches.length>0?t.touches[0]:t;if(this._edges=this._getEdges(this.hostElement,e),this._edges||this._draggable&&this._getClosestHeader(t.target)){var i=new rt;if(this._edges?this.onResizing(i):this.onDragging(i)){this._mousedownEvt=e,this._rcBounds=this.hostElement.getBoundingClientRect();var n=this.addEventListener.bind(this),r=document,o=this._mousedragBnd,s=this._mouseupBnd;n(r,"mousemove",o),n(r,"touchmove",o),n(r,"mouseup",s),n(r,"touchend",s)}}this._ignoreClick=!1}},e.prototype._mouseup=function(){this._mousedownEvt=null,this._rcBounds=null;var t=this.removeEventListener.bind(this),e=document,i=this._mousedragBnd,n=this._mouseupBnd;t(e,"mousemove",i),t(e,"touchmove",i),t(e,"mouseup",n),t(e,"touchend",n),this._resized?this.onResized():this._dragged&&this.onDragged(),this._resized=this._dragged=this._ignoreClick=!1},e.prototype._mousedrag=function(t){if(!t.defaultPrevented){var i=this.hostElement,n=this._mousedownEvt,r=t.touches&&t.touches.length>0?t.touches[0]:t,o=r.clientX-n.clientX,s=r.clientY-n.clientY,a=this._rcBounds,l=this._edges,h=e._SZ_MIN,u=De.fromBoundingRect(a);if(l){if(l&nn.Left?(u.left=a.left+o+(r.pageX-r.clientX),u.width=Math.max(a.width-o,h)):l&nn.Right&&(u.left=a.left,u.width=Math.max(a.width+o,h)),l&nn.Top?(u.top=a.top+s+(r.pageY-r.clientY),u.height=Math.max(a.height-s,h)):l&nn.Bottom&&(u.top=a.top,u.height=Math.max(a.height+s,h)),this.onSizeChanging(new an(u))&&(Pe(i,{left:u.left,top:u.top,width:u.width,height:u.height}),this._resized=this._dragged=this._ignoreClick=!0,this.onSizeChanged()),!window.ResizeObserver)for(var c=this.hostElement.children,d=0;d<c.length;d++)li.invalidateAll(c[d])}else this._draggable&&(this._dragged||Math.abs(o)+Math.abs(s)>e._DRAG_THRESHOLD)&&(u.left=Math.max(a.left+o+(r.pageX-r.clientX),50-a.width),u.top=Math.max(a.top+s+(r.pageY-r.clientY),0),this.onPositionChanging(new an(u))&&(Pe(i,{left:u.left,top:u.top}),this._dragged=this._ignoreClick=!0,this.onPositionChanged()))}},e.prototype._getEdges=function(t,i){var n=0;if(this._resizable){var r=t.getBoundingClientRect(),o=e._SZ_EDGE;i.clientX-r.left<o&&(n|=nn.Left),i.clientY-r.top<o&&(n|=nn.Top),r.right-i.clientX<o&&(n|=nn.Right),r.bottom-i.clientY<o&&(n|=nn.Bottom)}return n},e.prototype._ownerClick=function(t){this._toggle(t,rn.ClickOwner)},e.prototype._ownerDown=function(t){this._wasVisible=this.isVisible,this._toggle(t,rn.DownOwner)},e.prototype._ownerBlur=function(t){je(this._owner,_e())||this._toggle(t,rn.BlurOwner)},e.prototype._ownerEnter=function(t){t.target==this._owner&&this._toggle(t,rn.EnterOwner)},e.prototype._ownerLeave=function(t){t.target==this._owner&&this._toggle(t,rn.LeaveOwner)},e.prototype._toggle=function(t,i){var n=this;if(t instanceof MouseEvent&&(e._evtHover=t),!("mouseenter"==t.type&&Date.now()-this._lastShow<300||t.defaultPrevented)){var r=0!=(this._hideTrigger&i),o=0!=(this._showTrigger&i),s=rn;(r||o)&&this._clearTimeouts(),r&&this.isVisible&&(i&s.Leave?this._toHideLeave=setTimeout((function(){var t=e._evtHover,i=t?document.elementFromPoint(t.clientX,t.clientY):null;i&&je(n.hostElement,i,!0)||n.hide()}),li._LEAVE_DELAY):i&s.Blur?this._toHideBlur=setTimeout((function(){n.containsFocus()||je(n._owner,_e())||n.hide()}),li._FOCUS_INTERVAL+50):this.hide()),o&&i!=s.ClickPopup&&(this._wasVisible||(i&s.Enter?this._toShow=setTimeout((function(){n.show()}),li._HOVER_DELAY):this.show()))}},e.prototype._getHeaderElement=function(){var t=this.hostElement;return t.querySelector(".wj-dialog-header")||t.querySelector(".modal-header")},e.prototype._getClosestHeader=function(t){return Se(t,".wj-dialog-header")||Se(t,".modal-header")},e.prototype._showBackdrop=function(){var t=this;this._bkDrop||(this._bkDrop=document.createElement("div"),this._bkDrop.tabIndex=-1,ae(this._bkDrop,"wj-popup-backdrop"),this.addEventListener(this._bkDrop,"mousedown",(function(e){e.preventDefault(),e.stopPropagation(),t.hostElement.focus(),t.hideTrigger&rn.Blur&&t.hide()}))),Pe(this._bkDrop,{zIndex:li._POPUP_ZINDEX,display:""});var e=this.hostElement;e.parentElement.insertBefore(this._bkDrop,e)},e.prototype._validateAndHide=function(t){var e=this.hostElement;if(e instanceof HTMLFormElement)e.reportValidity()&&this.hide(t);else{var i=this.hostElement.querySelector(":invalid");i?i.focus():this.hide(t)}},e._DRAG_THRESHOLD=6,e._SZ_EDGE=10,e._SZ_MIN=40,e}(li),an=function(t){function e(e){var i=t.call(this)||this;return i._rc=e,i}return Gi(e,t),Object.defineProperty(e.prototype,"bounds",{get:function(){return this._rc},enumerable:!0,configurable:!0}),e}(rt),ln=function(t){function e(e,i){var n=t.call(this,e)||this;n._fmt="d",n._sep=" - ",n._rngs=null,n._showCal=!1,n._clsOnSel=!0,n._handleWheel=!0,n._clicked=!1,n._rangeChanged=!1,n.valueChanged=new it,n.rangeEndChanged=new it,n.rangeChanged=new it,ae(n.hostElement,"wj-inputdate"),n._msk=new qe(n._tbx),M()||(n.inputType="tel"),n._tbx.type.match(/^(tel|text|)$/i)||(n.inputType="text"),n.addEventListener(n.hostElement,"wheel",(function(t){if(n.handleWheel&&!t.defaultPrevented&&!n.isDroppedDown&&n.containsFocus()&&null!=n.value&&n._canChangeValue()){var e=zt(-t.deltaY,-1,1),i=n.value;n.value=n.selectionMode==Ji.Month?Ie.addMonths(i,e):Ie.addDays(i,e),n.selectAll(),t.preventDefault()}}));var r=n._lbx=new Ki(document.createElement("div"),{displayMemberPath:"name",selectedIndexChanged:function(t){var e=t.selectedItem,i=Ie.fromDateTime;if(e&&e.from&&e.to){var r=n.value;n.value=i(e.from,r),n.rangeEnd=i(e.to,r),n._selectAll()}else n._cal.hostElement.style.display=""}}),o=n._cal=new en(document.createElement("div")),s=n._dropDown;if(ae(s,"wj-inputdate-dropdown"),s.appendChild(r.hostElement),s.appendChild(o.hostElement),n.addEventListener(s,"click",(function(){n._clicked=!0,setTimeout((function(){n._clicked=!1}),50)}),!0),"INPUT"==n._orgTag){var a=n._tbx.getAttribute("value");a&&(o.value=o.rangeEnd=Ue.parseDate(a,"yyyy-MM-dd"))}return n.isRequired=!0,n.initialize(i),n._tbx.value=n._oldText=n._getText(),n._updateState(),o.valueChanged.addHandler((function(t,e){n._refreshText(),n.onValueChanged(e),n._closeOnChange()})),o.rangeEndChanged.addHandler((function(t,e){o._rngMode()&&(n.onRangeEndChanged(e),n._closeOnChange(),o._clearingRangeEnd||n._refreshText())})),o.hostElement.addEventListener("click",(function(t){if(o.selectionMode&&!o._rngMode()){var e=t.target,i=o.hitTest(e);(Ie.sameDate(n.value,i)||Se(e,"[wj-part=btn-today]"))&&n._closeOnChange()}})),n}return Gi(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this._cal.value},set:function(t){this._cal.value=t,this._refreshText()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rangeEnd",{get:function(){return this._cal.rangeEnd},set:function(t){this._cal.rangeEnd=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rangeMin",{get:function(){return this._cal.rangeMin},set:function(t){this._cal.rangeMin=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rangeMax",{get:function(){return this._cal.rangeMax},set:function(t){this._cal.rangeMax=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._tbx.value},set:function(t){if(t!=this.text){var e=t;(e=(e||"").toString())!=this._tbx.value&&(this._tbx.value=e),e!=this._oldText&&(this._oldText=e),this._commitText(),this.onTextChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"format",{get:function(){return this._fmt},set:function(t){t!=this.format&&(this._fmt=Ut(t),this._refreshText())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"separator",{get:function(){return this._sep},set:function(t){t!=this._sep&&(this._sep=Ut(t,!1),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._msk.mask},set:function(t){this._msk.mask=Ut(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"closeOnSelection",{get:function(){return this._clsOnSel},set:function(t){this._clsOnSel=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"handleWheel",{get:function(){return this._handleWheel},set:function(t){t=Yt(t),this._handleWheel=t,t||(this.calendar.handleWheel=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"predefinedRanges",{get:function(){return this._rngs},set:function(t){this._rngs!=t&&(Ht(null==t||kt(t),"Object expected"),this._rngs=t,this._lbx.itemsSource=this._getRanges(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alwaysShowCalendar",{get:function(){return this._showCal},set:function(t){this._showCal=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this._cal.min},set:function(t){this._cal.min=qt(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._cal.max},set:function(t){this._cal.max=qt(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"repeatButtons",{get:function(){return this._cal.repeatButtons},set:function(t){this._cal.repeatButtons=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showYearPicker",{get:function(){return this._cal.showYearPicker},set:function(t){this._cal.showYearPicker=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showMonthPicker",{get:function(){return this._cal.showMonthPicker},set:function(t){this._cal.showMonthPicker=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showHeader",{get:function(){return this._cal.showHeader},set:function(t){this._cal.showHeader=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"weeksBefore",{get:function(){return this._cal.weeksBefore},set:function(t){this._cal.weeksBefore=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"weeksAfter",{get:function(){return this._cal.weeksAfter},set:function(t){this._cal.weeksAfter=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectionMode",{get:function(){return this._cal.selectionMode},set:function(t){t!=this.selectionMode&&(this._cal.selectionMode=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"monthCount",{get:function(){return this._cal.monthCount},set:function(t){this._cal.monthCount=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"calendar",{get:function(){return this._cal},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=Ut(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemValidator",{get:function(){return this._cal.itemValidator},set:function(t){t!=this.itemValidator&&(this._cal.itemValidator=Xt(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemFormatter",{get:function(){return this._cal.itemFormatter},set:function(t){this._cal.itemFormatter=Xt(t)},enumerable:!0,configurable:!0}),e.prototype.onValueChanged=function(t){this.valueChanged.raise(this,t)},e.prototype.onRangeEndChanged=function(t){this.rangeEndChanged.raise(this,t),this.rangeEnd&&(this.isDroppedDown?this._rangeChanged=!0:this.onRangeChanged(t))},e.prototype.onRangeChanged=function(t){this._rangeChanged=!1,this.rangeChanged.raise(this,t)},e.prototype.refresh=function(e){void 0===e&&(e=!0),t.prototype.refresh.call(this,e),this.hostElement&&(this._msk&&this._msk.refresh(),this._cal&&this._cal.refresh(),this._refreshText())},e.prototype.onIsDroppedDownChanging=function(e){if(this.isDroppedDown)(n=this._cal)._rngMode()&&n.value&&!n.rangeEnd&&(n.rangeEnd=n.value);else{var i=this._lbx,n=this._cal,r=i.collectionView,o=i.hostElement.style,s=n.hostElement.style;if(n._rngMode()&&$t(r)){var a=this._updateRangeSelection();o.display="",s.display=!this._showCal&&a&&a.from&&r.items.some((function(t){return!t.to}))?"none":""}else o.display="none",s.display="";n._mthMode()||(n.monthView=!0)}return t.prototype.onIsDroppedDownChanging.call(this,e)},e.prototype.onIsDroppedDownChanged=function(e){t.prototype.onIsDroppedDownChanged.call(this,e);var i=this.containsFocus();this.isDroppedDown?(i&&(this._tryFocus(this._cal)||this._tryFocus(this._lbx)||this.dropDown.focus()),this._lbx.showSelection(),this._cal.refresh()):(this._commitText(),this._rangeChanged&&this.onRangeChanged())},e.prototype._updateDropDown=function(){this._commitText();var e=getComputedStyle(this.hostElement);this._dropDown.style.minWidth=18*parseFloat(e.fontSize)+"px",this._cal.refresh(),t.prototype._updateDropDown.call(this)},e.prototype._keydown=function(e){if(!(e.defaultPrevented||e.altKey||e.ctrlKey||e.metaKey)){if(this._isHiddenEditor())return;switch(e.keyCode){case at.Enter:this._commitText();break;case at.Escape:this.text=this._getText(),this.selectAll();break;case at.Tab:if(this._cal._rngMode()){var i=this._tbx,n=this._sep,r=i.value,o=r.indexOf(n);if(o>-1){var s=r.length,a=i.selectionStart,l=i.selectionEnd,h=null;i.selectionEnd<=o&&!e.shiftKey?h=0==a&&0==l:e.shiftKey&&i.selectionStart>=o+n.length&&(h=a<s||l<s),null!=h&&(h?fe(i,0,o):fe(i,o+n.length,s),e.preventDefault())}}break;case at.Up:case at.Down:if(!this.isDroppedDown&&this.value&&this._canChangeValue()){var u=e.keyCode==at.Up?1:-1,c=this.selectionMode==Ji.Month?Ie.addMonths(this.value,u):Ie.addDays(this.value,u);this.value=this._fromDateTime(c),this.selectAll(),e.preventDefault()}}}t.prototype._keydown.call(this,e)},e.prototype._expandSelection=function(){if(this._cal._rngMode()){var e=this._tbx,i=e.value,n=e.selectionStart,r=e.selectionEnd,o=this._sep,s=i.indexOf(o);s>-1&&n==r&&(r<=s?fe(e,0,s):n>=s+o.length&&fe(e,s+o.length,e.value.length))}else t.prototype._expandSelection.call(this)},e.prototype._refreshText=function(){var t=this._getText();t!=this.text&&(this._tbx.value=this._oldText=t,this.onTextChanged())},e.prototype._selectAll=function(){this.isDroppedDown||!this.containsFocus()||this.isTouching||this.selectAll()},e.prototype._closeOnChange=function(){var t=this;if(this._clsOnSel&&this._clicked){var e=this._cal;(!e._rngMode()||e.value&&e.rangeEnd)&&setTimeout((function(){t.isDroppedDown=!1}))}},e.prototype._tryFocus=function(t){var e=t.hostElement;return!(!e||!e.offsetHeight)&&(e.focus(),!0)},e.prototype._clamp=function(t){return this._cal._clamp(t)},e.prototype._getText=function(){var t=Ue.format,e=this._fmt,i=t(this.value,e);return this._cal._rngMode()&&i&&(i+=this._sep+t(this.rangeEnd,e)),i},e.prototype._commitText=function(t){var e=this._tbx.value;if(e!=this._getText()){var i=!1,n=this._fmt,r=this._cal,o=Ue.parseDate;if(e||this.isRequired)if(r._rngMode()){var s=e.split(this._sep);if(2==s.length&&s[0]&&(l=o(s[0],n,this.value))){var a=o(s[1],n,this.value);r.value=this._fromDateTime(l),r.rangeEnd=a&&a>=l?this._fromDateTime(a):l,i=!0}}else{var l;(l=o(e,n,this.value))&&(this.value=this._fromDateTime(l),i=!0)}else this.value=this.rangeEnd=null,i=!0;(i||!this._containsFocus()&&this.onInvalidInput(new rt))&&(this.text=this._getText())}t||this._selectAll()},e.prototype._fromDateTime=function(t){return Ie.fromDateTime(t,this.value)},e.prototype._canChangeValue=function(){return!this.isReadOnly&&!this.isDisabled&&this.selectionMode!=Ji.None},e.prototype._isValidDate=function(t){if(t){if(this._clamp(t)!=t)return!1;if(this.itemValidator&&!this.itemValidator(t))return!1}return!0},e.prototype._getRanges=function(t){var e=[];if(kt(t))for(var i in t){var n=t[i];e.push({name:i,from:n?n[0]:null,to:n?n[1]:null})}return new ei(e,{currentItem:null})},e.prototype._updateRangeSelection=function(){var t=this._lbx,e=-1;if($t(t.collectionView))for(var i=this._lbx.collectionView.items,n=Ie.sameDate,r=0;r<i.length;r++){var o=i[r];if(o.from){if(n(o.from,this.value)&&n(o.to,this.rangeEnd)){e=r;break}}else e=r}return t.selectedIndex=e,t.selectedItem},e}(on),hn=function(t){function e(e,i){var n=t.call(this,e,{selectionMode:Ji.Range,showMonthPicker:"Outside",monthCount:2})||this;return ae(n.hostElement,"wj-inputdaterange"),n.initialize(i),n}return Gi(e,t),Object.defineProperty(e.prototype,"selectionMode",{get:function(){return this.calendar.selectionMode},set:function(t){Ht((t=Jt(t,Ji))==Ji.Range,'InputDateRange.selectionMode must be "Range"'),this.calendar.selectionMode=t},enumerable:!0,configurable:!0}),e}(ln),un=function(t){function e(e,i){var n=t.call(this,e)||this;return n.valueChanged=new it,ae(n.hostElement,"wj-inputcolor"),n._ePreview=xe('<div class="wj-inputcolorbox"></div>',n.hostElement.firstElementChild),"INPUT"==n._orgTag&&(n._tbx.type="",n._commitText()),n.value="#ffffff",n.isRequired=!0,n.initialize(i),n.addEventListener(n._colorPicker.hostElement,"click",(function(t){var e=t.target;e&&"DIV"==e.tagName&&(Se(e,'[wj-part="div-pal"]')||Se(e,'[wj-part="div-pv"]'))&&e.style.backgroundColor&&(n.isDroppedDown=!1)})),n}return Gi(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){this.text=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._tbx.value},set:function(t){(t=Ut(t))==this.text||!t&&this.isRequired||t&&!He.fromString(t)||(this._setText(t,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showAlphaChannel",{get:function(){return this._colorPicker.showAlphaChannel},set:function(t){this._colorPicker.showAlphaChannel=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showColorString",{get:function(){return this._colorPicker.showColorString},set:function(t){this._colorPicker.showColorString=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"palette",{get:function(){return this._colorPicker.palette},set:function(t){this._colorPicker.palette=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colorPicker",{get:function(){return this._colorPicker},enumerable:!0,configurable:!0}),e.prototype.onValueChanged=function(t){this.valueChanged.raise(this,t)},e.prototype.onIsDroppedDownChanged=function(e){t.prototype.onIsDroppedDownChanged.call(this,e),this.isDroppedDown&&!this.isTouching&&this.selectAll()},e.prototype._createDropDown=function(){var t=this;this._colorPicker=new qi(this._dropDown),Pe(this._dropDown,{minWidth:420,minHeight:200}),this._colorPicker.valueChanged.addHandler((function(){t.value=t._colorPicker.value}))},e.prototype._keydown=function(e){if(!e.defaultPrevented)switch(e.keyCode){case at.Enter:this._commitText(),this.selectAll();break;case at.Escape:this.text=this.value,this.selectAll()}t.prototype._keydown.call(this,e)},e.prototype._commitText=function(){if(this._value!=this.text){if(!this.isRequired&&!this.text)return this._value=this.text,this._ePreview.style.backgroundColor="",void this.onValueChanged();if(He.fromString(this.text)){var t=this._colorPicker;t.value=this.text,this._value=t.value,this._ePreview.style.backgroundColor=this.value,this.onValueChanged()}else this.onInvalidInput(new rt)&&(this.text=this._value?this._value:"")}},e}(on),cn=function(t){function e(e,i){var n=t.call(this,e)||this;n._editable=!1,n._trimText=!0,n._handleWheel=!0,n._delKey=0,n._pathHdr=new tt(null),n._bsCollapse=!0,n._fmtItemHandlers=0,n.itemsSourceChanged=new it,n.selectedIndexChanged=new it;var r=n.hostElement;ae(r,"wj-combobox"),n.dropDown.id=Pt(r.id+"_dropdown"),n.autoExpandSelection=!1;var o=n._tbx;n.addEventListener(o,"compositionstart",(function(){n._composing=!0;var t=o.selectionStart,e=o.selectionEnd;if(e>t&&!D()){var i=o.value;o.value=i.substring(0,t)+i.substring(e,i.length),n._setSelRange(t,t)}})),n.addEventListener(o,"compositionend",(function(){n._composing=!1,n._setText(n.text,!0)})),n.addEventListener(r,"wheel",n._wheel.bind(n)),"SELECT"==n._orgTag&&n._lbx._initFromSelect(r);var s=n._lbx;return s.loadedItems.addHandler((function(t){n.selectedIndex>-1&&(n.selectedIndex=s.selectedIndex)})),n.isRequired=!0,n.initialize(i),n}return Gi(e,t),Object.defineProperty(e.prototype,"itemsSource",{get:function(){return this._lbx.itemsSource},set:function(t){this._lbx.itemsSource!=t&&(this._lbx.itemsSource=t,this.onItemsSourceChanged()),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collectionView",{get:function(){return this._lbx.collectionView},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"virtualizationThreshold",{get:function(){return this._lbx.virtualizationThreshold},set:function(t){this._lbx.virtualizationThreshold=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showGroups",{get:function(){return this._lbx.showGroups},set:function(t){this._lbx.showGroups=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayMemberPath",{get:function(){return this._lbx.displayMemberPath},set:function(t){this._lbx.displayMemberPath=t;var e=this.getDisplayText();this.text!=e&&this._setText(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerPath",{get:function(){return this._pathHdr.path},set:function(t){this._pathHdr.path=Ut(t);var e=this.getDisplayText();this.text!=e&&this._setText(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedValuePath",{get:function(){return this._lbx.selectedValuePath},set:function(t){this._lbx.selectedValuePath=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isContentHtml",{get:function(){return this._lbx.isContentHtml},set:function(t){if(t!=this.isContentHtml){this._lbx.isContentHtml=Yt(t);var e=this.getDisplayText();this.text!=e&&this._setText(e,!0)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"caseSensitiveSearch",{get:function(){return this._lbx.caseSensitiveSearch},set:function(t){this._lbx.caseSensitiveSearch=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trimText",{get:function(){return this._trimText},set:function(t){t!=this._trimText&&(this._trimText=Yt(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemFormatter",{get:function(){return this._lbx.itemFormatter},set:function(t){this._lbx.itemFormatter=Xt(t),this.selectedIndex=this._lbx.selectedIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatItem",{get:function(){return this._lbx.formatItem},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedIndex",{get:function(){return this._lbx.selectedIndex},set:function(t){t!=this.selectedIndex&&vt(t)&&(this._lbx.selectedIndex=t),t=this.selectedIndex;var e=this.getDisplayText(t);this.text!=e&&this._setText(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedItem",{get:function(){return this._lbx.selectedItem},set:function(t){this._lbx.selectedItem=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedValue",{get:function(){return this.collectionView?this._lbx.selectedValue:this.text},set:function(t){this.collectionView?this._lbx.selectedValue=t:null!=t&&(this.text=t.toString())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEditable",{get:function(){return this._editable},set:function(t){this._editable=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"handleWheel",{get:function(){return this._handleWheel},set:function(t){this._handleWheel=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxDropDownHeight",{get:function(){return this._lbx.maxHeight},set:function(t){this._lbx.maxHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxDropDownWidth",{get:function(){var t=this._dropDown,e=t?parseInt(t.style.maxWidth):null;return isNaN(e)?null:e},set:function(t){var e=this._dropDown.style;t=Gt(t,!0),e.maxWidth=null==t?"":t+"px",e.minWidth=""},enumerable:!0,configurable:!0}),e.prototype.getDisplayText=function(t,e){void 0===t&&(t=this.selectedIndex),void 0===e&&(e=this._trimText);var i,n=this.collectionView;if(this.headerPath&&t>-1&&$t(n)){var r=n.items[t];i=null!=(i=r?this._pathHdr.getValue(r):null)?i.toString():"",this.isContentHtml&&(i=oe(i))}else i=this._lbx.getDisplayText(t);return e?i.trim():i},e.prototype.indexOf=function(t,e){var i=this.collectionView,n=this.caseSensitiveSearch;if($t(i)&&null!=t){t=t.toString(),n||(t=t.toLowerCase());var r=this.selectedIndex,o=this.getDisplayText(r);if(e&&(n||(o=o.toLowerCase()),t==o))return r;for(var s=0;s<i.items.length;s++)if(this._lbx.isItemEnabled(s))if(o=this.getDisplayText(s),n||(o=o.toLowerCase()),e){if(o==t)return s}else if(t&&0==o.indexOf(t))return s}return-1},Object.defineProperty(e.prototype,"listBox",{get:function(){return this._lbx},enumerable:!0,configurable:!0}),e.prototype.onItemsSourceChanged=function(t){this.itemsSourceChanged.raise(this,t)},e.prototype.onSelectedIndexChanged=function(t){this._updateBtn(),this.selectedIndexChanged.raise(this,t)},e.prototype.refresh=function(e){void 0===e&&(e=!0),t.prototype.refresh.call(this,e),this.hostElement&&$t(this.collectionView)&&(this._lbx.refresh(),this.selectedIndex>-1&&(this.selectedIndex=this._lbx.selectedIndex))},e.prototype.onLostFocus=function(e){this._composing&&(this._composing=!1,this._setText(this.text,!0)),this.isEditable&&this.isRequired&&!this.text&&$t(this.collectionView)&&(this.selectedIndex=0),t.prototype.onLostFocus.call(this,e)},e.prototype.onIsDroppedDownChanging=function(e){return this.isDroppedDown||this._hasItems()?t.prototype.onIsDroppedDownChanging.call(this,e):(e.cancel=!0,!1)},e.prototype.onIsDroppedDownChanged=function(e){t.prototype.onIsDroppedDownChanged.call(this,e),this.isDroppedDown&&(this._fmtItemHandlers=this.formatItem.handlerCount,this._lbx.showSelection()),this._updateAria()},e.prototype._setIsDisabled=function(e){t.prototype._setIsDisabled.call(this,e),this._updateBtn()},e.prototype._updateBtn=function(){var e=this.collectionView,i=this._tbx,n=this._hasItems();t.prototype._updateBtn.call(this),this._btn.style.display=this._showBtn&&null!=e?"":"none",ke(this._btn,n&&!this.isDisabled),ue(i,"role",n?"combobox":null),ue(i,"aria-autocomplete",n?"both":null),this._updateAria()},e.prototype._hasItems=function(){return $t(this.collectionView)},e.prototype._updateAria=function(){var t=this._tbx,e=this.isDroppedDown,i=this.dropDown?this.dropDown.id:null,n=i&&$t(this.collectionView);ue(t,"aria-owns",n&&e?i:null),ue(t,"aria-expanded",n?e:null)},e.prototype._createDropDown=function(){var t=this;this._lbx||(this._lbx=new Ki(this._dropDown)),this._lbx.maxHeight=200,this._lbx.selectedIndexChanged.addHandler((function(){t._updateBtn();var e=t._lbx.selectedIndex,i=t._lbx.hostElement.children,n=e>-1&&e<i.length?i[e].id:null;ue(t._tbx,"aria-activedescendant",n&&n.length?n:null),t.selectedIndex=e,t.onSelectedIndexChanged()})),this._lbx.itemsChanged.addHandler((function(){t._updateBtn()}))},e.prototype._wheel=function(t){if(this.handleWheel&&!t.defaultPrevented&&!this.isDroppedDown&&!this.isReadOnly&&this.containsFocus()&&this.selectedIndex>-1){var e=this._findNext("",t.deltaY>0?1:-1);e>-1&&(this.selectedIndex=e),t.preventDefault()}},e.prototype._dropDownClick=function(e){e.defaultPrevented||e.target!=this._dropDown&&(this.isDroppedDown=!1),t.prototype._dropDownClick.call(this,e)},e.prototype._setText=function(e,i){if(!this._composing&&!this._settingText){if(this._settingText=!0,this.containsFocus()){var n=this.formatItem.handlerCount;this._fmtItemHandlers!=n&&(this._fmtItemHandlers=n,this._lbx.loadList())}null==e&&(e=""),e=e.toString();var r=this.selectedIndex,o=this.collectionView,s=this._getSelStart(),a=-1,l=!0;if(this.isEditable&&(this._delKey||this._getSelEnd()<e.length||!this.containsFocus())&&(i=!0,l=!1),r=this.indexOf(e,i),l&&(r<0&&i&&(r=this.indexOf(e,!1)),r<0&&s>0&&(r=this.indexOf(e.substr(0,s),!1))),r<0&&!this.isEditable&&$t(o)&&(this.isRequired||e)){var h=this._oldText||"";r=Math.max(0,this.indexOf(h,!1)),s=0;for(var u=0;u<e.length&&u<h.length;u++)if(e[u]!=h[u]){s=u;break}}r>-1&&(a=s,e=this.getDisplayText(r));var c=this._tbx;e!=c.value&&(c.value=e),a>-1&&this.containsFocus()&&!this.isTouching&&this._updateInputSelection(a),o&&o.moveCurrentToPosition(r),this._delKey=0,this._settingText=!1,t.prototype._setText.call(this,e,i)}},e.prototype._findNext=function(t,e,i){void 0===i&&(i=this.selectedIndex);var n=this.collectionView,r=n?n.items.length:0,o=this._lbx,s=this.caseSensitiveSearch;if(n&&r&&e){s||(t=t.toLowerCase());for(var a=i+e;a>-1&&a<r;a+=e){var l=this.getDisplayText(a);if(s||(l=l.toLowerCase()),0==l.indexOf(t)&&(!this.dropDown.children[a]||o.isItemEnabled(a)))return a}}return i},e.prototype._keydown=function(e){if(t.prototype._keydown.call(this,e),!e.defaultPrevented&&!this.isReadOnly&&!e.altKey&&$t(this.collectionView)&&this._elRef==this._tbx&&!this._isHiddenEditor()){this._delKey=0;var i=this._getSelStart();switch(e.keyCode){case at.Back:if(this._bsCollapse&&!this.isEditable){var n=this._getSelEnd();i>0&&n==this._tbx.value.length&&$t(this.collectionView)&&this._setSelRange(i-1,n)}this._delKey=e.keyCode;break;case at.Delete:this._delKey=e.keyCode;break;case at.Up:case at.Down:i==this.text.length&&(i=0),this.selectedIndex=this._findNext(this.text.substr(0,i),e.keyCode==at.Up?-1:1),this._setSelRange(i,this.text.length),e.preventDefault();break;case at.PageUp:this._lbx._selectPrevPage(),this.selectAll(),e.preventDefault();break;case at.PageDown:this._lbx._selectNextPage(),this.selectAll(),e.preventDefault()}}},e.prototype._updateInputSelection=function(t){var e=this._tbx;this._elRef==e&&this._setSelRange(t,e.value.length)},e.prototype._getSelStart=function(){var t=this._tbx;return t&&t.value?t.selectionStart:0},e.prototype._getSelEnd=function(){var t=this._tbx;return t&&t.value?t.selectionEnd:0},e.prototype._setSelRange=function(t,e){var i=this._tbx;this._elRef!=i||i.readOnly||fe(i,t,e)},e}(on);We("MultiSelect",{itemsSelected:"{count:n0} items selected",selectAll:"Select All"});var dn=function(t){function e(e,i){var n=t.call(this,e)||this;return n._maxHdrItems=2,n._readOnly=!1,n._hdrFmt=null,n.checkedItemsChanged=new it,ae(n.hostElement,"wj-multiselect"),n._tbx.readOnly=!0,n.checkedMemberPath=null,n.removeEventListener(n.dropDown,"click"),n._lbx.itemsChanged.addHandler((function(){n._updateHeader()})),n._lbx.checkedItemsChanged.addHandler((function(){n._updateHeader(),n.onCheckedItemsChanged()})),n.clickAction=tn.Toggle,n.initialize(i),n}return Gi(e,t),Object.defineProperty(e.prototype,"showSelectAllCheckbox",{get:function(){return this._msLbx.showSelectAllCheckbox},set:function(t){this._msLbx.showSelectAllCheckbox=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showFilterInput",{get:function(){return this._msLbx.showFilterInput},set:function(t){this._msLbx.showFilterInput=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"delay",{get:function(){return this._msLbx.delay},set:function(t){this._msLbx.delay=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"caseSensitiveSearch",{get:function(){return this._msLbx.caseSensitiveSearch},set:function(t){this._msLbx.caseSensitiveSearch=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterInputPlaceholder",{get:function(){return this._msLbx.filterInputPlaceholder},set:function(t){this._msLbx.filterInputPlaceholder=Ut(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checkOnFilter",{get:function(){return this._msLbx.checkOnFilter},set:function(t){t!=this.checkOnFilter&&(this._msLbx.checkOnFilter=Yt(t),this.checkedItems=[])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectAllLabel",{get:function(){return this._msLbx.selectAllLabel},set:function(t){this._msLbx.selectAllLabel=Ut(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checkedMemberPath",{get:function(){return this._msLbx.checkedMemberPath},set:function(t){this._msLbx.checkedMemberPath=Ut(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxHeaderItems",{get:function(){return this._maxHdrItems},set:function(t){this._maxHdrItems!=t&&(this._maxHdrItems=Gt(t),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerFormat",{get:function(){return this._hdrFmt},set:function(t){t!=this._hdrFmt&&(this._hdrFmt=Ut(t),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerFormatter",{get:function(){return this._hdrFormatter},set:function(t){t!=this._hdrFormatter&&(this._hdrFormatter=Xt(t),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checkedItems",{get:function(){return this._msLbx.checkedItems},set:function(t){this._msLbx.checkedItems=null==t?[]:Kt(t),this._updateHeader()},enumerable:!0,configurable:!0}),e.prototype.onCheckedItemsChanged=function(t){this.checkedItemsChanged.raise(this,t)},e.prototype.dispose=function(){this._lbx.dispose(),t.prototype.dispose.call(this)},e.prototype.onIsDroppedDownChanged=function(e){var i=this;t.prototype.onIsDroppedDownChanged.call(this,e),setTimeout((function(){if(i.isDroppedDown&&i.containsFocus())if(i.showFilterInput&&!i.isTouching)i._msLbx._filter.focus();else{var t=i.listBox;if(t.selectedIndex<0){var e=0,n=t.checkedItems;n.length&&(e=t.collectionView.items.indexOf(n[0])),t.selectedIndex=Math.max(0,e)}t.showSelection(!0),t.focus()}}))},e.prototype._createDropDown=function(){var e=xe("<div></div>",this._dropDown);this._msLbx=new $i(e),this._lbx=this._msLbx.listBox,t.prototype._createDropDown.call(this)},Object.defineProperty(e.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){this._readOnly=Yt(t),he(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),e.prototype.refresh=function(e){void 0===e&&(e=!0),t.prototype.refresh.call(this,e),this.hostElement&&this._updateHeader()},e.prototype._setText=function(t,e){},e.prototype._keydown=function(e){t.prototype._keydown.call(this,e),se(this._tbx,"wj-grid-ime")||!e.defaultPrevented&&$t(this.collectionView)&&e.keyCode>32&&(this.isDroppedDown=!0)},e.prototype._hasItems=function(){var t=this.collectionView,e=t?t.sourceCollection:null;return $t(t)||e&&e.length&&this.showFilterInput},e.prototype._updateHeader=function(){var t="";if(Ct(this._hdrFormatter))t=this._hdrFormatter(this);else{var e=this.checkedItems;if(e.length>0)if(e.length<=this._maxHdrItems){if(this.headerPath){var i=new tt(this.headerPath);e=e.map((function(t){return i.getValue(t)}))}else if(this.displayMemberPath){var n=new tt(this.displayMemberPath);e=e.map((function(t){return n.getValue(t)}))}this.isContentHtml&&(e=e.map((function(t){return oe(t)}))),this.trimText&&(e=e.map((function(t){return t?t.toString().trim():""}))),t=e.join(", ")}else t=Mt(this.headerFormat||Ve.MultiSelect.itemsSelected,{count:e.length})}var r=this.inputElement;t!=r.value&&(r.value=t,this.onTextChanged()),this._updateState()},e._DEF_CHECKED_PATH="$checked",e}(cn),fn=function(t){function e(e,i){var n=t.call(this,e)||this;n._closing=!1,n._cmd=null,n._cmdPath=null,n._cmdParamPath=null,n._subPath=null,n._owner=null,n._isButton=!1,n._openOnHover=!1,n._closeOnLeave=!0,n._subMenu=null,n._hoverEnterBnd=n._hoverEnter.bind(n),n._hoverLeaveBnd=n._hoverLeave.bind(n),n._hoverOverBnd=n._hoverOver.bind(n),n.itemClicked=new it;var r=n.hostElement,o=n._tbx,s=n._lbx,a=n.dropDown;return ae(r,"wj-menu"),o.style.display="none",n._hdr=n._elRef=xe('<div wj-part="header" class="wj-form-control"/>'),o.parentElement.insertBefore(n._hdr,n._tbx),r.tabIndex=n.isDisabled?-1:n._orgTabIndex,n.isRequired=!1,ue(r,"role","menubar",!0),ue(o,"role",null),ue(o,"aria-autocomplete",null),ue(o,"aria-owns",null),ue(a,"role","menu"),s.itemRole="menuitem","SELECT"==n._orgTag&&(n.header=r.getAttribute("header"),n._lbx.itemsSource&&(n.commandParameterPath="cmdParam")),n.isContentHtml=!0,n.maxDropDownHeight=500,n.addEventListener(n._hdr,"click",(function(t){t.defaultPrevented||(n._clearHover(t),n._isButton?(n.isDroppedDown=!1,n._raiseCommand()):n.isDroppedDown=!n.isDroppedDown)})),s.lostFocus.addHandler((function(){n.containsFocus()||(n.isDroppedDown=!1)})),ae(a,"wj-menu-items"),s.formatItem.addHandler(n._formatMenuItem.bind(n)),n.initialize(i),n}return Gi(e,t),Object.defineProperty(e.prototype,"header",{get:function(){return this._hdr.innerHTML},set:function(t){this._hdr.innerHTML=Ut(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"command",{get:function(){return this._cmd},set:function(t){this._cmd=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"commandPath",{get:function(){return this._cmdPath},set:function(t){this._cmdPath=Ut(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"commandParameterPath",{get:function(){return this._cmdParamPath},set:function(t){this._cmdParamPath=Ut(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subItemsPath",{get:function(){return this._subPath},set:function(t){t!=this._subPath&&(this._subPath=t,this.refresh(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"openOnHover",{get:function(){return this._openOnHover},set:function(t){this._openOnHover=Yt(t),this._updateHoverEvents()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"closeOnLeave",{get:function(){return this._closeOnLeave},set:function(t){this._closeOnLeave=Yt(t),this._updateHoverEvents()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isButton",{get:function(){return this._isButton},set:function(t){this._isButton=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"owner",{get:function(){return this._owner},set:function(t){this._owner=Zt(t,HTMLElement,!0),this._enableDisableItems()},enumerable:!0,configurable:!0}),e.prototype.show=function(t){if(!this.isDroppedDown&&(this.selectedIndex=-1,this.onIsDroppedDownChanging(new rt))){var e=this.dropDown,i=this.owner;!i&&t instanceof MouseEvent&&(i=t.target),i instanceof HTMLElement&&(e[li._OWNR_KEY]=i),t instanceof MouseEvent&&this.openOnHover&&this.closeOnLeave&&(t=new Re(t.pageX-pageXOffset-2,t.pageY-pageYOffset-2)),_i(e,t,!1,this.isAnimated),this.onIsDroppedDownChanged(),e.focus()}},e.prototype.hide=function(){this.isDroppedDown&&this.onIsDroppedDownChanging(new rt)&&(mi(this.dropDown),this.onIsDroppedDownChanged())},e.prototype.onItemClicked=function(t){this.itemClicked.raise(this,t)},e.prototype.refresh=function(e){void 0===e&&(e=!0),t.prototype.refresh.call(this,e),this.hostElement&&this._enableDisableItems()},e.prototype.onIsDroppedDownChanged=function(e){if(t.prototype.onIsDroppedDownChanged.call(this,e),this.isDroppedDown)this._closing=!0,this._defaultItem=this.selectedItem,this.isRequired=!1,this.selectedIndex=-1,this._enableDisableItems(),this._closing=!1,this.dropDown.focus();else{this.selectedItem||(this.selectedItem=this._defaultItem);var i=this._subMenu;i&&(i.isDroppedDown=!1)}},e.prototype._updateHoverEvents=function(){var t=this.hostElement,e=this.dropDown,i=this.addEventListener.bind(this),n=this.removeEventListener.bind(this),r="mouseleave";n(t,"mouseenter",this._hoverEnterBnd),n(t,r,this._hoverLeaveBnd),n(e,"mouseover",this._hoverOverBnd),n(e,r,this._hoverLeaveBnd),this._openOnHover&&(i(t,"mouseenter",this._hoverEnterBnd),i(e,"mouseover",this._hoverOverBnd),this._closeOnLeave&&(i(t,r,this._hoverLeaveBnd),i(e,r,this._hoverLeaveBnd)))},e.prototype._getSubItems=function(t){var e=this.subItemsPath,i=t&&e?t[e]:null;return Et(i)&&i.length?i:null},e.prototype._formatMenuItem=function(t,e){var i=e.item;this._getSubItems(e.data)?ae(i,"wj-subitems"):"-"==i.innerHTML&&(i.innerHTML="",ae(i,"wj-separator"))},e.prototype._keydown=function(i){if(!i.defaultPrevented){var n=this._getKeyCode(i);if(this.isDroppedDown)switch(n){case at.Enter:case at.Right:if(this._showSubMenu())return void i.preventDefault();break;case at.Left:var r=li.getControl(this.owner);if(r instanceof e){var o=r.dropDown,s=r.selectedIndex;return(s>-1?o.children[s]:o).focus(),void i.preventDefault()}}n==at.Enter&&(this.isDroppedDown?this.selectedIndex>-1&&this._raiseCommand():(this.isDroppedDown=!0,i.preventDefault()))}t.prototype._keydown.call(this,i)},e.prototype._dropDownClick=function(e){if(!e.defaultPrevented&&e.target!=this.dropDown){if(this._clearHover(e),this._showSubMenu())return void e.preventDefault();this.selectedIndex>-1&&this._raiseCommand()}t.prototype._dropDownClick.call(this,e)},e.prototype._showSubMenu=function(){var t=this,i=this._getSubItems(this.selectedItem);if(!i)return null;var n=this.dropDown.children[this.selectedIndex].getBoundingClientRect(),r=new Re(n.right,n.top);if(0==n.height)return null;var o=this.rightToLeft||"rtl"==this.dropDown.getAttribute("dir");o&&(r.x=n.left);var s=this._subMenu;s&&(s.isDroppedDown=!1),s=new e(document.createElement("div"),{owner:this.hostElement,itemsSource:i,itemClicked:function(e,i){t.itemClicked.raise(e,i)},formatItem:function(e,i){t.formatItem.raise(e,i)}});var a=this.collectionView,l=s.collectionView;a&&a.filter&&l&&!l.filter&&(l.filter=a.filter),"displayMemberPath,selectedValuePath,isContentHtml,command,commandPath,commandParameterPath,maxDropDownWidth,maxDropDownHeight,dropDownCssClass,isAnimated,subItemsPath,openOnHover,closeOnLeave".split(",").forEach((function(e){s[e]=t[e]}));var h=s.dropDown;return ue(h,"dir",o?"rtl":null),s.show(r),h[li._OWNR_KEY]=this.dropDown,h.focus(),s},e.prototype._raiseCommand=function(t){var i=this.selectedItem,n=this._getSubItems(i),r=this._getCommand(i);if(r&&!n){var o=this._getCommandParm(i);if(!this._canExecuteCommand(r,o))return;this._executeCommand(r,o)}var s=this.headerPath;if(s){var a=new tt(s).getValue(i);a=null==a?"":a.toString(),this.header=this.isContentHtml?a:ee(a)}if(this.onItemClicked(t),this.containsFocus()){for(var l=this;l&&l.owner;){var h=li.getControl(l.owner);if(!(h instanceof e))break;l=h}var u=l.owner;if(!u&&l.dropDown&&(u=l.dropDown[li._OWNR_KEY]),l.isDroppedDown=!1,l.focus(),!l.containsFocus()&&u instanceof HTMLElement&&u.offsetHeight)if(D){var c=document.documentElement,d=c.scrollLeft,f=c.scrollTop;u.focus(),c.scrollLeft=d,c.scrollTop=f}else u.focus()}},e.prototype._getCommand=function(t){return(t&&this._cmdPath?t[this._cmdPath]:null)||this._cmd},e.prototype._getCommandParm=function(t){var e=this._cmdParamPath;return t&&e?t[e]:t},e.prototype._executeCommand=function(t,e){t&&!Ct(t)&&(t=t.executeCommand),Ct(t)&&t(e)},e.prototype._canExecuteCommand=function(t,e){if(t){var i=t.canExecuteCommand;if(Ct(i))return i(e)}return!0},e.prototype._enableDisableItems=function(){if(this.collectionView&&(this._cmd||this._cmdPath))for(var t=this.collectionView.items,e=0;e<t.length;e++){var i=t[e],n=this._getCommand(i);if(n){var r=this._lbx.hostElement.children[e],o=this._getCommandParm(i);he(r,"wj-state-disabled",!this._canExecuteCommand(n,o))}}},e.prototype._clearHover=function(t){this._toHover&&clearTimeout(this._toHover),this._toHover=null,e._evtHover=t},e.prototype._isTargetDisabled=function(t){return se(t.target,"wj-state-disabled")},e.prototype._hoverEnter=function(t){var e=this;this._clearHover(t),this._toHover=setTimeout((function(){e._toHover=null,e.isDroppedDown=!0}),li._HOVER_DELAY)},e.prototype._hoverOver=function(t){var e=this;this._clearHover(t),this._toHover=setTimeout((function(){e._toHover=null;var i=e.listBox.indexOf(t.target);i>-1&&!se(t.target,"wj-state-disabled")&&(e.selectedIndex=i,e._subMenu=e._showSubMenu())}),li._HOVER_DELAY)},e.prototype._hoverLeave=function(t){var i=this;this._clearHover(t),this.isDroppedDown&&(this._toHover=setTimeout((function(){var n=(t=e._evtHover)?document.elementFromPoint(t.clientX,t.clientY):null,r=Se(n,".wj-listbox.wj-menu-items"),o=i._subMenu;r||je(i.hostElement,n,!0)||(i.isDroppedDown=!1,o&&(o.isDroppedDown=!1))}),li._LEAVE_DELAY))},e.prototype._setIsDisabled=function(e){t.prototype._setIsDisabled.call(this,e),this.hostElement.tabIndex=this.isDisabled?-1:this._orgTabIndex},e.prototype._setTabOrder=function(e){t.prototype._setTabOrder.call(this,e),this.hostElement.tabIndex=this.isDisabled?-1:this._orgTabIndex},e}(cn),pn=function(t){function e(e,i){var n=t.call(this,e)||this;if(n._format="t",n.valueChanged=new it,ae(n.hostElement,"wj-inputtime"),n.isEditable=!0,n._value=Ie.newDate(),n._min=n._max=null,n._msk=new qe(n._tbx),M()||(n._tbx.type="tel"),"INPUT"==n._orgTag){var r=n._tbx.getAttribute("value");r&&(n.value=Ue.parseDate(r,"HH:mm:ss"))}return n.step=15,n.autoExpandSelection=!0,n.initialize(i),n}return Gi(e,t),Object.defineProperty(e.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=Ut(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){(t=qt(t,!this.isRequired))&&(t=this._clamp(t)),this._setText(t?Ue.format(t,this.format):"",!0),this.selectedItem&&this.selectedItem.value&&(t=Ie.fromDateTime(t,this.selectedItem.value)),t==this._value||Ie.equals(t,this._value)||(this._value=t,this.onValueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._tbx.value},set:function(t){t!=this.text&&(this._setText(t,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this._min},set:function(t){this._min=qt(t,!0),this.isDroppedDown=!1,this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},set:function(t){this._max=qt(t,!0),this.isDroppedDown=!1,this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"step",{get:function(){return this._step},set:function(t){t!=this.step&&(this._step=Gt(t,!0),this.isDroppedDown=!1,this._updateItems())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"format",{get:function(){return this._format},set:function(t){t!=this.format&&(this._format=Ut(t),this._tbx.value=Ue.format(this.value,this.format),$t(this.collectionView)&&this._updateItems())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._msk.mask},set:function(t){this._msk.mask=Ut(t)},enumerable:!0,configurable:!0}),e.prototype.onValueChanged=function(t){this.valueChanged.raise(this,t)},e.prototype.onItemsSourceChanged=function(e){t.prototype.onItemsSourceChanged.call(this,e),this._hasCustomItems=null!=this.itemsSource},e.prototype.refresh=function(e){void 0===e&&(e=!0),t.prototype.refresh.call(this,e),this.hostElement&&(this._msk.refresh(),this._tbx.value=Ue.format(this.value,this.format),this._updateItems())},e.prototype.onSelectedIndexChanged=function(e){if(this.selectedIndex>-1&&!this._settingText){var i=this.value?this.value:Ie.newDate(),n=null!=this.selectedItem.value?this.selectedItem.value:Ue.parseDate(this.text,this.format,this.value);this.value=Ie.fromDateTime(i,n)}t.prototype.onSelectedIndexChanged.call(this,e)},e.prototype._clamp=function(t){return null!=this._min&&this._getTime(t)<this._getTime(this._min)&&(t=Ie.fromDateTime(t,this._min)),null!=this._max&&this._getTime(t)>this._getTime(this._max)&&(t=Ie.fromDateTime(t,this._max)),t},e.prototype._wheel=function(e){if(!e.defaultPrevented&&!this.isDroppedDown&&!this.isReadOnly&&this.containsFocus()&&this.selectedIndex<0&&this.value&&vt(this.step)&&this.step>0){var i=Ie.addMinutes(this.value,this.step*zt(e.deltaY,-1,1));this.value=this._clamp(i),this.selectAll(),e.preventDefault()}t.prototype._wheel.call(this,e)},e.prototype._updateInputSelection=function(e){if(this._delKey)t.prototype._updateInputSelection.call(this,e);else{for(var i=this._tbx.value;e<i.length&&!i[e].match(/[a-z0-9]/i);)e++;fe(this._tbx,e,this._tbx.value.length)}},e.prototype._updateItems=function(){if(!this._hasCustomItems){var t=[],e=new Date(2020,0),i=new Date(2020,0,1,23,59,59),n=this.step;if(this.min&&e.setHours(this.min.getHours(),this.min.getMinutes(),this.min.getSeconds()),this.max&&i.setHours(this.max.getHours(),this.max.getMinutes(),this.max.getSeconds()),vt(n)&&n>=1)for(var r=e;r<=i;r=Ie.addMinutes(r,n))t.push({value:r,text:Ue.format(r,this.format)});var o=this.value;this._settingText=!0,this.displayMemberPath="text",this.selectedValuePath="text",this.itemsSource=t,this._hasCustomItems=!1,this._settingText=!1,!o&&this.isRequired||(this.value=o)}},e.prototype._getTime=function(t){return 3600*t.getHours()+60*t.getMinutes()+t.getSeconds()},e.prototype._keydown=function(e){if(t.prototype._keydown.call(this,e),!e.defaultPrevented)switch(e.keyCode){case at.Enter:this.isDroppedDown||(this._commitText(),this.selectAll());break;case at.Escape:this.text=Ue.format(this.value,this.format),this.selectAll()}},e.prototype._commitText=function(){if(this.text||this.isRequired){var t=this.value?Ue.format(this.value,this.format):"";if(this.text!=t){var e=this.selectedItem&&this.selectedItem.value?this.selectedItem.value:Ue.parseDate(this.text,this.format,this.value);e?(Ie.sameTime(e,this._clamp(e))||this.onInvalidInput(new rt))&&(this.value=Ie.fromDateTime(this.value,e)):this.onInvalidInput(new rt)&&(this.text=t)}}else this.value=null},e}(cn);We("InputDateTime",{ariaLabels:{tglDate:"Toggle Calendar",tglTime:"Toggle Time List"}});var gn=function(t){function e(e,i){var n=t.call(this,e)||this;ae(n.hostElement,"wj-inputdatetime");var r=Ve.InputDateTime.ariaLabels;de(n._btn,r.tglDate),de(n._btnTm,r.tglTime),n.value=new Date,n.format="g",n._inputTime=new pn(document.createElement("div"),{valueChanged:function(t){var e=n.rangeEnd;n.value=Ie.fromDateTime(n.value,t.value),n.calendar._rngMode()&&e&&(n.rangeEnd=Ie.fromDateTime(e,t.value))},isDroppedDownChanged:function(t){t.listBox.containsFocus()&&n.inputElement.focus(),n._selectAll()}});var o=n.addEventListener.bind(n);n._btnTm=n.hostElement.querySelector('[wj-part="btn-tm"]'),o(n._btnTm,"mousedown",(function(t){n._btnclick(t)})),n._ddDate=n._dropDown;var s=n._ddTime=n._inputTime.dropDown;return o(s,"keydown",n._keydown.bind(n),!0),o(s,"blur",(function(){n._updateFocusState()}),!0),o(s,"click",(function(t){t.defaultPrevented||t.target!=s&&n.hostElement.focus()}),!0),n.initialize(i),n.text=n._getText(),n}return Gi(e,t),Object.defineProperty(e.prototype,"timeMin",{get:function(){return this._inputTime.min},set:function(t){this._inputTime.min=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timeMax",{get:function(){return this._inputTime.max},set:function(t){this._inputTime.max=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timeFormat",{get:function(){return this._inputTime.format},set:function(t){this._inputTime.format=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timeStep",{get:function(){return this._inputTime.step},set:function(t){this._inputTime.step=t,this._btnTm.style.display=vt(t)&&t>0?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputTime",{get:function(){return this._inputTime},enumerable:!0,configurable:!0}),e.prototype._fromDateTime=function(t){return t},e.prototype._btnclick=function(e){var i=Se(e.target,"button")==this._btn?this._ddDate:this._ddTime;this._setDropdown(i),t.prototype._btnclick.call(this,e)},e.prototype.dispose=function(){this._setDropdown(this._ddDate),t.prototype.dispose.call(this),this._inputTime.dispose()},e.prototype.refresh=function(e){void 0===e&&(e=!0),this._inputTime.refresh(),t.prototype.refresh.call(this,e)},e.prototype._updateBtn=function(){t.prototype._updateBtn.call(this),this._btnTm&&(this._btnTm.tabIndex=this._btn.tabIndex,this._btnTm.parentElement.style.display=this._btn.style.display)},e.prototype._setDropdown=function(t){if(this._dropDown==t)return!1;this.isDroppedDown&&(this.isDroppedDown=!1);var e=this.dropDownCssClass;return this.dropDownCssClass="",this._dropDown=t,this.dropDownCssClass=e,!0},e.prototype._updateDropDown=function(){var e=this._inputTime;this._dropDown==e.dropDown?(this._commitText(),t.prototype._updateDropDown.call(this),e.isRequired=this.isRequired&&null!=this.value,e.value=this.value,this.isDroppedDown&&e.listBox.showSelection()):t.prototype._updateDropDown.call(this)},e.controlTemplate='<div class="wj-template"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control"/><span class="wj-input-group-btn"><button wj-part="btn" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-calendar"></span></button><button wj-part="btn-tm" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-clock"></span></button></span></div></div><div wj-part="dropdown" class="wj-content wj-dropdown-panel"></div></div>',e}(ln),_n=function(t){function e(e,i){var n=t.call(this,e)||this;return n._cssMatch="wj-state-match",n._minLength=2,n._maxItems=6,n._itemCount=0,n._beginsWith=!1,n._delay=li._SEARCH_DELAY,n._query="",n._inCallback=!1,n._srchProps=[],ae(n.hostElement,"wj-autocomplete"),n._bsCollapse=!1,n.isEditable=!0,n.isRequired=!1,n.listBox.formatItem.addHandler(n._formatListItem,n),n._itemsSourceFnCallbackBnd=n._itemSourceFunctionCallback.bind(n),n.initialize(i),n}return Gi(e,t),Object.defineProperty(e.prototype,"minLength",{get:function(){return this._minLength},set:function(t){this._minLength=Gt(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"beginsWithSearch",{get:function(){return this._beginsWith},set:function(t){this._beginsWith=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxItems",{get:function(){return this._maxItems},set:function(t){this._maxItems=Gt(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"delay",{get:function(){return this._delay},set:function(t){this._delay=Gt(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"searchMemberPath",{get:function(){return this._srchProp},set:function(t){this._srchProp=Ut(t),this._srchProps=t?t.trim().split(/\s*,\s*/):[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemsSourceFunction",{get:function(){return this._itemsSourceFn},set:function(t){this._itemsSourceFn=Xt(t),Ct(this._itemsSourceFn)&&this.itemsSourceFunction(this.text,this.maxItems,this._itemsSourceFnCallbackBnd)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cssMatch",{get:function(){return this._cssMatch},set:function(t){this._cssMatch=Ut(t)},enumerable:!0,configurable:!0}),e.prototype._keydown=function(e){if(!e.defaultPrevented&&this.isDroppedDown)switch(e.keyCode){case at.Up:case at.Down:this.selectAll()}t.prototype._keydown.call(this,e)},e.prototype._setText=function(t){var e=this;if(!(this._inCallback||this._composing||this._settingText)){if(this.selectedIndex>-1&&this.getDisplayText()!=t&&(this._settingText=!0,this.selectedIndex=-1,this._settingText=!1),t!=this._oldText){var i=this._tbx;i.value!=t&&(i.value=t),this._oldText=t,this.onTextChanged();var n=this.collectionView;if(!t&&n){(this._query||this.selectedIndex<0)&&(this.isDroppedDown=!1),this._query=this._rxHighlight=null,n.filter=null;var r=this.itemsSourceFunction;return void(Ct(r)&&(this.isDroppedDown=!1,r(this._query,this.maxItems,this._itemsSourceFnCallbackBnd)))}}this._toSearch&&clearTimeout(this._toSearch),t!=this.getDisplayText()&&(this._toSearch=setTimeout((function(){e._toSearch=null;var t=e.text.trim();if(t.length>=e._minLength&&t!=e._query){e._query=t;var i=ee(t=re(t)),n=e.caseSensitiveSearch?"":"i";e._beginsWith||(n+="g"),e._rxSrch=e._beginsWith?new RegExp("^"+t+".*",n):new RegExp("(?=.*"+t.replace(/ /g,")(?=.*")+")",n),e._rxHighlight=new RegExp("("+i.replace(/\s+/g,"|")+")",n);var r=e.itemsSourceFunction;Ct(r)?r(e._query,e.maxItems,e._itemsSourceFnCallbackBnd):e._updateItems()}}),this._delay))}},e.prototype._itemSourceFunctionCallback=function(t){this._inCallback=!0;var e=Qt(t||[]);if(e.moveCurrentToPosition(-1),this.itemsSource=e,this._inCallback=!1,this.containsFocus()){var i=this._tbx,n=i.selectionStart,r=i.selectionEnd,o=this.collectionView;this.isDroppedDown=null!=o&&o.items.length>0,fe(i,n,r),this.refresh()}},e.prototype.onIsDroppedDownChanged=function(e){if(t.prototype.onIsDroppedDownChanged.call(this,e),this.containsFocus()&&!this.isTouching){var i=this.collectionView;if(this.selectedIndex<0&&i){var n=i.items,r=this.text;1==n.length&&n[0]==r?this.selectedIndex=0:fe(this._tbx,r.length)}}this._query=""},e.prototype._updateItems=function(){var t=this.collectionView;if(t){this._inCallback=!0,t.beginUpdate(),this._itemCount=0,t.filter=this._filter.bind(this),t.moveCurrentToPosition(-1),t.endUpdate(),this._inCallback=!1;var e=t.items.length,i=this._tbx,n=i.selectionStart,r=i.selectionEnd;if(this.isDroppedDown=e>0&&this.containsFocus(),e||this.isEditable||(this.selectedIndex=-1),1==e&&this.selectedIndex<0){var o=this._getItemText(t.items[0],!1),s=i.value;this.caseSensitiveSearch||(o=o.toLowerCase(),s=s.toLowerCase()),o==s&&(this.selectedIndex=0)}this.isDroppedDown&&fe(i,n,r),this.refresh()}},e.prototype._filter=function(t){if(this._itemCount>=this._maxItems)return!1;var e=[this._getItemText(t,!1)];this._srchProps&&this._srchProps.forEach((function(i){var n=t[i];null!=n&&e.push(n)})),this.isContentHtml&&(e=e.map((function(t){return t.replace(/(<[^>]*>|&[^;]*;)/g,"")})));for(var i=0;i<e.length;i++)if(this._rxSrch.test(e[i]))return this._itemCount++,!0;return!1},e.prototype._getItemText=function(t,e){var i=t?t.toString():"",n=e&&this.headerPath?this._pathHdr:this._lbx._pathDisplay;return n&&(i=null!=(i=n.getValue(t))?i.toString():""),i},e.prototype._formatListItem=function(t,e){var i=this;this._cssMatch&&this._rxHighlight&&(e.item.innerHTML=e.item.innerHTML.replace(this._rxHighlight,(function(t,e,n,r){return i._enclosed(r,n,"<",">")||i._enclosed(r,n,"&",";")?t:'<span class="'+i._cssMatch+'">'+t+"</span>"})))},e.prototype._enclosed=function(t,e,i,n){for(var r=e;r>=0&&t[r]!=n;r--)if(t[r]==i)for(var o=e;o<t.length&&t[o]!=i;o++)if(t[o]==n)return!0;return!1},e}(cn),mn=function(t){function e(e,i){var n=t.call(this,e)||this;return n._selItems=[],n._maxSelItems=null,n._lastInputValue="",n._selPath=new tt(null),n._notAddItm=!1,n.selectedItemsChanged=new it,ae(n.hostElement,"wj-multi-autocomplete"),n._wjTpl=n.hostElement.querySelector(".wj-template"),n._wjInput=n.hostElement.querySelector(".wj-input"),n.showDropDownButton=!1,n.initialize(i),n.addEventListener(n.hostElement,"keyup",n._keyup.bind(n),!0),n.addEventListener(window,"resize",n._adjustInputWidth.bind(n)),n.addEventListener(n._tbx,"focus",(function(){n._itemOff()})),n._addHelperInput(),n._initSeltems(),n.listBox.itemsChanged.addHandler((function(){return n.selectedIndex=-1})),n._refreshHeader(),n._updateTabIndex(),n}return Gi(e,t),Object.defineProperty(e.prototype,"showDropDownButton",{set:function(t){this._showBtn=!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxSelectedItems",{get:function(){return this._maxSelItems},set:function(t){this._maxSelItems!=t&&(this._maxSelItems=Gt(t,!0),this._updateMaxItems(),this._refreshHeader(),this._clearSelIndex())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedMemberPath",{get:function(){return this._selPath.path},set:function(t){(t=Ut(t))!==this.selectedMemberPath&&(this._selPath.path=t,this._initSeltems(),this._refreshHeader(),this.onSelectedItemsChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedItems",{get:function(){return this._selItems},set:function(t){if(this._selItems=Kt(t),this.selectedMemberPath&&""!==this.selectedMemberPath&&this._selItems)for(var e=0;e<this._selItems.length;e++){var i=this._selItems[e];this._setSelItem(i,!1)}this._updateMaxItems(),this.onSelectedItemsChanged(),this._refreshHeader(),this._clearSelIndex()},enumerable:!0,configurable:!0}),e.prototype.onSelectedItemsChanged=function(t){this.selectedItemsChanged.raise(this,t)},e.prototype.onIsDroppedDownChanged=function(e){!this.isDroppedDown&&this.selectedIndex>-1&&!this._notAddItm&&this._addItem(!0),this._notAddItm=!1,t.prototype.onIsDroppedDownChanged.call(this,e)},e.prototype.refresh=function(e){void 0===e&&(e=!0),t.prototype.refresh.call(this,e),this.hostElement&&(this._initSeltems(),this.isDroppedDown||this._refreshHeader())},e.prototype._keydown=function(e){if(!this.isReadOnly){if(!e.defaultPrevented)switch(e.keyCode){case at.Back:this._lastInputValue=this._tbx.value;break;case at.Enter:this._itemOff(),this._addItem(!0),D()&&fe(this._tbx,this._tbx.textContent.length,this._tbx.textContent.length);break;case at.Tab:this.isDroppedDown?(this._addItem(!1),this._tbx.value="",this._lbx.selectedIndex=-1,e.preventDefault()):this._updateFocus();break;case at.Space:if(""!==this._tbx.value)return;this.isDroppedDown||this._tbx.disabled||(this.isDroppedDown=!0,this._clearSelIndex());break;case at.Escape:this.isDroppedDown&&(this._notAddItm=!0);break;case at.Left:this._itemOn(!this.rightToLeft);break;case at.Right:this._itemOn(!!this.rightToLeft);break;case at.Up:case at.Down:var i=_e();if(e.altKey){if(this._tbx==i)return this.isDroppedDown=!this.isDroppedDown,this.isDroppedDown||this._tbx.focus(),void e.preventDefault()}else if(this._tbx!==i)return;default:if(e.keyCode===at.Back||e.keyCode===at.Delete)return;this._itemOff(),null!=this._maxSelItems&&this._selItems.length>=this._maxSelItems&&e.preventDefault()}this._tbx.disabled||t.prototype._keydown.call(this,e)}},e.prototype._updateState=function(){t.prototype._updateState.call(this),this._wjTpl&&(se(this.hostElement,"wj-state-focused")||this._itemOff())},e.prototype._keyup=function(t){if(!this.isReadOnly&&!t.defaultPrevented)switch(t.keyCode){case at.Back:0===this._tbx.value.length&&0===this._lastInputValue.length&&this._delItem(!1);break;case at.Delete:this._delItem(!0)}},e.prototype._addHelperInput=function(){var t=document.createElement("input");t.type="text",t.tabIndex=-1,t.className="wj-token-helper",t.readOnly=!0,this._wjTpl.insertBefore(t,this._wjInput),this._helperInput=t},e.prototype._refreshHeader=function(){for(var t=this.hostElement.querySelectorAll(".wj-token"),e=0;e<t.length;e++)this._wjTpl.removeChild(t[e]);var i=this.selectedItems;if(i&&0!==i.length){for(e=0;e<i.length;e++)this._insertToken(i[e]);this._wjInput.style.cssFloat=this.rightToLeft?"right":"left",this._adjustInputWidth()}else this._wjInput.style.cssFloat=this.rightToLeft?"right":"left",this._adjustInputWidth()},e.prototype._insertToken=function(t){var e=this._getItemText(t,!0);this.isContentHtml||(e=ee(e)),this._wjTpl.insertBefore(this._createItem(e),this._wjInput)},e.prototype._updateMaxItems=function(){null!=this._maxSelItems&&this._selItems&&this._selItems.length>this._maxSelItems&&(this._selItems=this._selItems.slice(0,this._maxSelItems))},e.prototype._updateFocus=function(){var t=this,i=this._wjTpl.querySelector("."+e._clsActive);i?(le(i,e._clsActive),setTimeout((function(){t._tbx.focus()}))):this._clearSelIndex()},e.prototype._addItem=function(t){this.selectedItems.indexOf(this.selectedItem)>-1?this._clearSelIndex():this.selectedIndex>-1&&(this._updateSelItems(this.selectedItem,!0),this._refreshHeader(),t&&this._clearSelIndex(),this._disableInput(!0))},e.prototype._delItem=function(t){var i,n,r=this._wjTpl.querySelector("."+e._clsActive),o=!1;t&&!r||(r?(n=this._getItemIndex(r))>-1&&(i=this._selItems[n],o=!0):this._selItems.length>0&&(i=this._selItems[this._selItems.length-1],o=!0),o&&(this._updateSelItems(i,!1),this._refreshHeader(),this._clearSelIndex(),this._disableInput(!1)),this._tbx.focus())},e.prototype._updateSelItems=function(t,e){if(e){if(this._selItems&&0!==this._selItems.length||(this._selItems=[]),null!=this._maxSelItems&&this._selItems.length>=this._maxSelItems)return;this._selItems.push(t)}else{var i=this._selItems.indexOf(t);this._selItems.splice(i,1)}this._hasSelectedMemeberPath()&&this._setSelItem(t,e),this.onSelectedItemsChanged()},e.prototype._createItem=function(t){var i=this,n=document.createElement("div"),r=document.createElement("span"),o=document.createElement("a");return n.appendChild(r),n.appendChild(o),n.className="wj-token",r.className="wj-token-label",r.innerHTML=t,o.className="wj-token-close",o.href="#",o.tabIndex=-1,o.text="",n.style.cssFloat=this.rightToLeft?"right":"left",this.addEventListener(n,"click",(function(t){i._helperInput.focus();var r=i._wjTpl.querySelector("."+e._clsActive);r&&le(r,e._clsActive),ae(n,e._clsActive),t.stopPropagation(),t.preventDefault()})),this.addEventListener(o,"click",(function(t){if(!i.isReadOnly){var e=i._getItemIndex(n);if(e>-1){var r=i._selItems[e];i._updateSelItems(r,!1)}i._wjTpl.removeChild(n),i._adjustInputWidth(),i._disableInput(!1),i._tbx.focus(),t.stopPropagation(),t.preventDefault()}})),n},e.prototype._itemOn=function(t){var i,n,r,o=_e();if((this._tbx!=o||0===this._tbx.value.length)&&0!==(i=this._wjTpl.querySelectorAll(".wj-token")).length)if(n=this._wjTpl.querySelector("."+e._clsActive),r=this._getItemIndex(n),t){if(0===r)return;-1===r?(ae(i[i.length-1],e._clsActive),this._helperInput.focus()):(le(n,e._clsActive),ae(i[r-1],e._clsActive),this._helperInput.focus())}else if(!t){if(-1===r)return;r!==i.length-1?(le(n,e._clsActive),ae(i[r+1],e._clsActive),this._helperInput.focus()):(le(n,e._clsActive),this._tbx.focus())}},e.prototype._itemOff=function(){var t=this._wjTpl.querySelector("."+e._clsActive);t&&le(t,e._clsActive)},e.prototype._initSeltems=function(){if(this.selectedMemberPath){this._selItems.splice(0,this._selItems.length);var t=this.collectionView;if(t)for(var e=0;e<t.sourceCollection.length;e++)this._getSelItem(e)&&this._selItems.push(t.sourceCollection[e])}},e.prototype._getSelItem=function(t){var e=this.collectionView,i=e?e.sourceCollection[t]:null;return!(!kt(i)||!this.selectedMemberPath)&&this._selPath.getValue(i)},e.prototype._setSelItem=function(t,e){this.itemsSource,kt(t)&&this._selPath.getValue(t)!=e&&this._selPath.setValue(t,e)},e.prototype._clearSelIndex=function(){this.selectedIndex=-1},e.prototype._hasSelectedMemeberPath=function(){return this.selectedMemberPath&&""!==this.selectedMemberPath},e.prototype._disableInput=function(t){null!=this._maxSelItems&&(this._selItems.length<this._maxSelItems?(this._tbx.disabled=!1,this._tbx.focus()):(this._tbx.disabled=!0,this.hostElement.focus()))},e.prototype._adjustInputWidth=function(){this._tbx.style.width="60px";var t,e=Te(this.hostElement),i=Te(this._tbx),n=getComputedStyle(this._tbx),r=parseInt(n.paddingLeft,10),o=parseInt(n.paddingRight,10);t=this.rightToLeft?i.left+i.width-e.left-r-o-8:e.left+e.width-i.left-r-o-8,this._tbx.style.width=t+"px"},e.prototype._getItemIndex=function(t){for(var e=this.hostElement.querySelectorAll(".wj-token"),i=0;i<e.length;i++)if(t===e[i])return i;return-1},e.prototype._setIsDisabled=function(e){t.prototype._setIsDisabled.call(this,e),this._updateTabIndex()},e.prototype._setTabOrder=function(t){this._orgTabIndex=t,this._updateTabIndex()},e.prototype._updateTabIndex=function(){var t=this.hostElement;this._tbx.tabIndex=this.isDisabled?-1:this._orgTabIndex,t.tabIndex=-1},e._clsActive="wj-token-active",e}(_n);Le("wijmo.input",o);var wn,bn,vn=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),yn=null;function xn(){return yn}if(P()){var Cn=navigator.userAgent.match(/version\/([\d\.]+)/i);if(null!=Cn){var jn=Cn[1],Sn=(Cn=jn.match(/(\d+)/g)).map((function(t){return parseInt(t)}));yn={full:jn,major:Sn[0],minor:Sn[1]}}}!function(t){t[t.AutoComplete=0]="AutoComplete",t[t.DropDownList=1]="DropDownList",t[t.RadioButtons=2]="RadioButtons"}(bn||(bn={}));var En,kn=function(){function t(t,e,i){this._keyPath="",this._displayPath="",this._sortByVal=!0,this._editable=!1,this._serK=!0,this.mapChanged=new it,!Et(t)||e||i||(t=t.map((function(t){return{value:t}})),e=i="value"),this._cv=Qt(t),this._keyPath=Ut(e,!1),this._displayPath=Ut(i,!1),this._cv.collectionChanged.addHandler(this.onMapChanged,this)}return Object.defineProperty(t.prototype,"sortByDisplayValues",{get:function(){return this._sortByVal},set:function(t){this._sortByVal=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serializeKeys",{get:function(){return this._serK},set:function(t){if((t=Yt(t))!==this._serK){var e=this._map,i=e&&e.size;this._map=null,this._serK=t,i&&this.onMapChanged(nt.empty)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValuePath",{get:function(){return this._keyPath},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMemberPath",{get:function(){return this._displayPath},enumerable:!0,configurable:!0}),t.prototype.getDataItem=function(t){var e=this;if(!this._map){var i=this._cv.sourceCollection,n=new ze(this.serializeKeys);Et(i)&&this._keyPath&&i.forEach((function(t){var i=t[e._keyPath];n.has(i)||n.set(i,t)})),this._map=n}return this._map.get(t)},t.prototype.getDisplayValue=function(t){var e=this._displayPath,i=this.getDataItem(t);return e&&i?i[e]:t},t.prototype.getKeyValue=function(t,e){var i=this._displayPath,n=this._indexOf(t,i,e,!0);return n<0&&(n=this._indexOf(t,i,e,!1)),n>-1?this._cv.sourceCollection[n][this._keyPath]:null},t.prototype.getDisplayValues=function(t){var e=this;return this._cv&&this._displayPath?this._cv.items.map((function(t){return t[e._displayPath]})):[]},t.prototype.getKeyValues=function(){var t=this;return this._cv&&this._keyPath?this._cv.items.map((function(e){return e[t._keyPath]})):[]},Object.defineProperty(t.prototype,"isEditable",{get:function(){return this._editable},set:function(t){this._editable=Yt(t)},enumerable:!0,configurable:!0}),t.prototype.onMapChanged=function(t){this._map=null,this.mapChanged.raise(this,t)},t.prototype._indexOf=function(t,e,i,n){var r=-1,o=-1;if(this._cv&&e){var s=null!=t?t.toString():"";s&&i&&(t=oe(s));for(var a=n?s:s.toLowerCase(),l=this._cv.sourceCollection,h=0;h<l.length;h++){var u=l[h],c=u[e];if(i&&wt(c)&&(c=oe(c)),c==t?r=h:n||c.length!=a.length||c.toLowerCase()!=a?null!=c&&c.toString()==s&&(r=h):r=h,r==h){if(!this._cv.filter||this._cv.filter(u))return r;o<0&&(o=r)}}}return o},t}(),Tn=function(){function t(t,e,i,n){void 0===t&&(t=-1),void 0===e&&(e=-1),void 0===i&&(i=t),void 0===n&&(n=e),this.setRange(t,e,i,n)}return t.prototype.setRange=function(t,e,i,n){void 0===t&&(t=-1),void 0===e&&(e=-1),void 0===i&&(i=t),void 0===n&&(n=e),this._row=Wt(t),this._col=Wt(e),this._row2=Wt(i),this._col2=Wt(n)},Object.defineProperty(t.prototype,"row",{get:function(){return this._row},set:function(t){this._row=Wt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"col",{get:function(){return this._col},set:function(t){this._col=Wt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"row2",{get:function(){return this._row2},set:function(t){this._row2=Wt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"col2",{get:function(){return this._col2},set:function(t){this._col2=Wt(t)},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t(this._row,this._col,this._row2,this._col2)},t.prototype.copy=function(t){this.setRange(t._row,t._col,t._row2,t._col2)},Object.defineProperty(t.prototype,"rowSpan",{get:function(){return Math.abs(this._row2-this._row)+1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnSpan",{get:function(){return Math.abs(this._col2-this._col)+1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topRow",{get:function(){return Math.min(this._row,this._row2)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomRow",{get:function(){return Math.max(this._row,this._row2)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leftCol",{get:function(){return Math.min(this._col,this._col2)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightCol",{get:function(){return Math.max(this._col,this._col2)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isValid",{get:function(){return this._row>-1&&this._col>-1&&this._row2>-1&&this._col2>-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSingleCell",{get:function(){return this._row==this._row2&&this._col==this._col2},enumerable:!0,configurable:!0}),t.prototype.contains=function(e,i){var n=_t(e,t);if(n)return n.topRow>=this.topRow&&n.bottomRow<=this.bottomRow&&n.leftCol>=this.leftCol&&n.rightCol<=this.rightCol;if(yt(e)&&yt(i))return e>=this.topRow&&e<=this.bottomRow&&i>=this.leftCol&&i<=this.rightCol;throw"contains expects a CellRange or row/column indices."},t.prototype.containsRow=function(t){return Wt(t)>=this.topRow&&t<=this.bottomRow},t.prototype.containsColumn=function(t){return Wt(t)>=this.leftCol&&t<=this.rightCol},t.prototype.intersects=function(t){return this.intersectsRow(t)&&this.intersectsColumn(t)},t.prototype.intersectsRow=function(t){return t&&!(this.bottomRow<t.topRow||this.topRow>t.bottomRow)},t.prototype.intersectsColumn=function(t){return t&&!(this.rightCol<t.leftCol||this.leftCol>t.rightCol)},t.prototype.getRenderSize=function(t){var e=new Oe(0,0);if(this.isValid){for(var i=this.topRow;i<=this.bottomRow;i++)e.height+=t.rows[i].renderSize;for(var n=this.leftCol;n<=this.rightCol;n++)e.width+=t.columns[n].renderSize}return e},t.prototype.equals=function(e){return e instanceof t&&this._row==e._row&&this._col==e._col&&this._row2==e._row2&&this._col2==e._col2},t.prototype.combine=function(e){return e?new t(Math.min(this.topRow,e.topRow),Math.min(this.leftCol,e.leftCol),Math.max(this.bottomRow,e.bottomRow),Math.max(this.rightCol,e.rightCol)):this},t.prototype.toString=function(){return Mt("({row}, {col})-({row2}, {col2})",this)},t}();!function(t){t[t.None=0]="None",t[t.Cell=1]="Cell",t[t.ColumnHeader=2]="ColumnHeader",t[t.RowHeader=3]="RowHeader",t[t.TopLeft=4]="TopLeft",t[t.ColumnFooter=5]="ColumnFooter",t[t.BottomLeft=6]="BottomLeft"}(En||(En={}));var Pn,An,Rn,On=function(){function t(t,e,i,n,r){this._offsetY=0,this._rng=new Tn,this._g=Zt(t,$n),this._ct=Wt(e),this._rows=Zt(i,Xn),this._cols=Zt(n,qn),this._e=Zt(r,HTMLElement),this._vrb=new Tn}return Object.defineProperty(t.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cellType",{get:function(){return this._ct},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"viewRange",{get:function(){return this._getViewRange()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._cols.getTotalSize()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._rows.getTotalSize()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),t.prototype.getCellData=function(t,e,i){var n,r=this._g,o=this._rows[Gt(t,!1,!0)],s=null;if(!o)return null;e=this._toIndex(e),n=this._cols[Gt(e,!1,!0)];var a=r?r._getBindingColumn(this,t,n):n,l=null;if(o instanceof Wn&&o.dataItem instanceof ii&&!r.childItemsPath&&(l=o.dataItem),a.binding&&o.dataItem&&!l?s=a._binding.getValue(o.dataItem):o._ubv&&(s=o._ubv[n._hash]),null==s){var h=En;switch(this._ct){case h.TopLeft:case h.ColumnHeader:t!=this._rows.length-1&&a==n||(s=a.header);break;case h.ColumnFooter:if(o instanceof Wn&&a.aggregate!=Ye.None){var u=this._g.collectionView;if(u){var c=_t(u,ei);s=c?c.getAggregate(a.aggregate,a.binding):Ke(a.aggregate,u.items,a.binding)}}break;case h.Cell:o instanceof Wn&&(e==this._cols.firstVisibleIndex?s=o.getGroupHeader():l&&a.aggregate!=Ye.None&&(s=l.getAggregate(a.aggregate,a.binding,this._g.collectionView)))}}if(i){var d=a.dataMap||o.dataMap;this.cellType==En.Cell&&d&&(s=d.getDisplayValue(s)),s=null!=s?Ue.format(s,a.format||o.format):""}return s},t.prototype.setCellData=function(t,e,i,n,r){void 0===n&&(n=!0),void 0===r&&(r=!0);var o=this._g,s=this._rows[Gt(t,!1,!0)],a=this._cols[Gt(this._toIndex(e),!1,!0)],l=lt;if(!s)return!1;var h=o?o._getBindingColumn(this,t,a):a,u=h.dataMap||s.dataMap;if(this._ct==En.Cell){var c=h.getIsRequired(s),d=h.isContentHtml||s.isContentHtml;if(u&&null!=i){var f=u.getKeyValue(i,d);if(null==f&&null==u.getDisplayValue(null)){if(u.getDisplayValue(i)!=i);else if(!u.isEditable||u.displayMemberPath!=u.selectedValuePath){if(""!=i||c)return!1;i=null}}else i=f}var p=l.Object,g=h.dataType||s.dataType,_=this.getCellData(t,e,!1);if(p=g||Rt(_),null==i||""===i&&n&&!u){if(c)return!1;p!=l.String&&(i=null),n=!1}if(n){var m=h.format||s.format;if(m||p!=l.Date||(m="d"),h.mask&&wt(i)&&p!=l.String&&(i=i.replace(/_/g,"")),i=Dt(i,p,m,_),p!=l.Object&&Rt(i)!=p)return!1}}if(s.dataItem&&h.binding){var w=h._binding,b=s.dataItem,v=w.getValue(b);if(i!==v&&(u&&!u.serializeKeys||!Ie.equals(i,v))){var y=o.collectionView,x=y instanceof ei&&b!=y.currentEditItem&&y.trackChanges,C=null;if(x&&(C=y._extend({},b)),w.setValue(b,i),x){var j=new ht(Q.Change,b,y.items.indexOf(b));y.onCollectionChanged(j),y._trackItemChanged(b,C)}}}else s._ubv||(s._ubv={}),s._ubv[a._hash]=i;return r&&o&&o.invalidate(),!0},t.prototype.getCellBoundingRect=function(t,e,i){var n=this._g,r=this.rows[t],o=this.columns[this._toIndex(e)],s=new De(o.pos,r.pos,o.renderSize,r.renderSize);if(n.rightToLeft&&(s.left=this.hostElement.clientWidth-s.right,D()||(s.left-=n._root.offsetWidth-n._root.clientWidth)),!i){var a=this.hostElement.getBoundingClientRect();s.left+=a.left,s.top+=a.top-this._offsetY}return t<this.rows.frozen&&(s.top-=n.scrollPosition.y),e<this.columns.frozen&&(s.left-=n.scrollPosition.x*(n.rightToLeft?-1:1)),s},t.prototype.getCellElement=function(e,i){var n=this.hostElement.children,r=Math.min(e+2,n.length);i=this._toIndex(i);for(var o=0;o<r;o++)for(var s=n[o].children,a=Math.min(i+2,s.length),l=0;l<a;l++){var h=s[l],u=h[t._INDEX_KEY];if(u&&(u.row==e&&u.col==i||u.rng&&u.rng.contains(e,i)))return h}return null},t.prototype.getSelectedState=function(t,e,i){var n=this._g,r=n.selectionMode,o=n._selHdl.selection,s=Pn,a=An;if(r==s.None)return a.None;switch(e=this._toIndex(e),this._ct){case En.Cell:if(i||(i=n.getMergedRange(this,t,e)),i){if(i.contains(o.row,o.col))return n.showMarquee?a.Active:a.Cursor;if(i.intersects(o)&&r!=s.ListBox)return a.Selected;for(var l=i.leftCol;l<=i.rightCol;l++)if(n.columns[l].isSelected)return a.Selected;for(var h=i.topRow;h<=i.bottomRow;h++)if(n.rows[h].isSelected)return a.Selected}if(o.row==t&&o.col==e)return n.showMarquee?a.Active:a.Cursor;if(n.rows[t].isSelected||n.columns[e].isSelected)return a.Selected;if(r==s.MultiRange)for(var u=n._selHdl.extendedSelection,c=0;c<u.length;c++)if(u[c].contains(t,e)||i&&i.intersects(u[c]))return a.Selected;if(i)switch(r){case s.Row:case s.RowRange:if(i.containsRow(o.row))return a.Selected}return r==s.ListBox?a.None:(o=this._getAdjustedSelection(o)).containsRow(t)&&o.containsColumn(e)?a.Selected:a.None;case En.ColumnHeader:if(n.showSelectedHeaders&Bn.Column&&(n.columns[e].isSelected||o.containsColumn(e)||o.intersectsColumn(i))&&(i&&(t=i.bottomRow),t==this.rows.length-1))return a.Selected;break;case En.RowHeader:if(n.showSelectedHeaders&Bn.Row&&(n.rows[t].isSelected||o.containsRow(t)||o.intersectsRow(i))&&(i&&(e=i.rightCol),e==this.columns.length-1))return a.Selected}return a.None},Object.defineProperty(t.prototype,"hostElement",{get:function(){return this._e},enumerable:!0,configurable:!0}),t.prototype._toIndex=function(t){if(wt(t)&&(t=this._cols.indexOf(t))<0)throw"Invalid column name or binding.";return t},t.prototype._getAdjustedSelection=function(t){var e=this._g,i=this._rng,n=Pn;switch(e.selectionMode){case n.Cell:i.setRange(t.row,t.col,t.row,t.col);break;case n.Row:i.setRange(t.row,0,t.row,e.columns.length-1);break;case n.RowRange:case n.ListBox:i.setRange(t.row,0,t.row2,e.columns.length-1);break;default:i.copy(t)}return i},t.prototype._getOffsetY=function(){return this._offsetY},t.prototype._updateContent=function(t,e,i){var n=this._g,r=this._e,o=this._rows,s=this._cols,a=this._ct;if(a==En.ColumnHeader||a==En.ColumnFooter||a==En.RowHeader){var l=n._ptScrl,h=r.style;a==En.RowHeader?h.top=l.y+"px":n.rightToLeft?h.right=l.x+"px":h.left=l.x+"px"}this._offsetY!=i&&(t=!1,this._offsetY=i);var u=this._getViewRange(),c=u;if(c.isValid){var d=o.length<=n._vtRows?o.length:0,f=s.length<=n._vtCols?s.length:0;c=new Tn(Math.max(u.row-d,o.frozen),Math.max(u.col-f,s.frozen),Math.min(u.row2+d,o.length-1),Math.min(u.col2+f,s.length-1))}if(t&&!e&&this._vrb.contains(u)&&!o.frozen&&!s.frozen)return this._activeCell;t&&c.equals(this._vrb)||(e=!1),t&&!e&&this._ct!=En.TopLeft&&this._reorderCells(c,this._vrb),this._activeCell=null,this._vru=u,this._vrb=c,this._recycle=t;var p=0;this._ct==En.Cell&&(p=this._renderColHdrRow(c,e));for(var g=0;g<o.frozen&&g<o.length;g++)p=this._renderRow(g,c,e,p);for(g=c.topRow;g<=c.bottomRow&&g>-1;g++)p=this._renderRow(g,c,e,p);for(;r.childElementCount>p;){var _=r.lastElementChild;ge(_),this._removeExtraCells(_,0)}return this._activeCell},t.prototype._clearCells=function(){for(var t=this.hostElement,e=this._g.cellFactory,i=t.childElementCount-1;i>=0;i--){var n=t.children[i];ge(n);for(var r=n.childElementCount-1;r>=0;r--)e.disposeCell(n.children[r])}},t.prototype._reorderCells=function(t,e){var i=this;if(this._g._reorderCells&&e.isValid&&t.isValid&&t.intersects(e)){var n,r=function(t,e,n,r,o,s){Ht(n<0,"Scroll delta must be a negative number");var a,l,h=-n,u=e+(r-o+1),c=t.childElementCount-u;if(c<h?(a=c,l=h-c):(a=h,l=0),a>0){var d=i._createRange(t,u,u+a);d&&t.insertBefore(d.extractContents(),t.children[e])}if(l>0)for(var f=t.children[e],p=0;p<l;p++){var g=document.createElement("div");g.className=s,t.insertBefore(g,f)}};if(t.row!=e.row){var o=this._e;if(0!=(n=t.row-e.row)){var s=this._ct==En.Cell?1:0,a=o.childElementCount;if(s+=this.rows.frozen,n>0){var l=s,h=Math.min(s+n,a);(d=this._createRange(o,l,h))&&o.appendChild(d.extractContents())}else r(o,s,n,t.row2,e.row,"wj-row")}}if(t.col!=e.col)if(o=this._e,0!=(n=t.col-e.col)){s=this._ct==En.Cell&&this._g.rowHeaderPath?1:0,s+=this.columns.frozen;for(var u=0;u<o.children.length;u++){var c=o.children[u];if(a=c.children.length,se(c,"wj-row"))if(n>0){var d;l=s,h=Math.min(s+n,a),(d=this._createRange(c,l,h))&&c.appendChild(d.extractContents())}else r(c,s,n,t.col2,e.col,"wj-cell")}}}},t.prototype._createRange=function(t,e,i){if(i>e&&i<=t.children.length&&e>-1){this._docRange||(this._docRange=document.createRange());var n=this._docRange;return n.setStart(t,e),n.setEnd(t,i),n}return null},t.prototype._renderColHdrRow=function(t,e){if(e)return 1;var i=this._e.children[0];i||(i=xe('<div class="wj-row" role="row"></div>',this._e));var n=this._g;ue(i,"aria-label",n?n.columnHeaders.rows.ariaLabel:null),ue(i,"aria-selected",null);var r=0,o=this._g._getRowHeaderPath();o&&(r=this._renderRowHdrCell(i,-1,o.path));for(var s=0;s<this.columns.frozen&&s<this.columns.length;s++)r=this._renderColHdrCell(i,s,t,e,r);for(s=t.leftCol;s<=t.rightCol&&s>-1;s++)r=this._renderColHdrCell(i,s,t,e,r);return this._removeExtraCells(i,r),1},t.prototype._renderColHdrCell=function(e,i,n,r,o){var s=this.grid,a=this.columns[i];if(a.renderSize<=0)return o;if(r)return o+1;var l=e.children[o];if(l||(l=xe(t._HTML_CELL,e)),ue(l,"role","columnheader"),l&&this._recycle&&s._lazyRender){var h=l[t._INDEX_KEY];if(h&&-1==h.row&&h.col==i&&i>=this.columns.frozen)return o+1}(l.textContent=this.columns[i].header,Pe(l,{position:"fixed",left:a.pos,top:-32e3,width:a.renderSize,height:.1,overflow:"hidden",opacity:"0",pointerEvents:"none"}),a.describedById||this.columns.describedById)&&ue(l,"aria-describedby",[a.describedById,this.columns.describedById].join(" ").trim()||null);if(s.allowSorting){var u="none";switch(s._getBindingColumn(this,0,a).currentSort){case"+":u="ascending";break;case"-":u="descending"}ue(l,"aria-sort",u)}return s.isReadOnly||(ue(l,"aria-readonly",a.isReadOnly),ue(l,"aria-required",a.getIsRequired())),l[t._INDEX_KEY]={row:-1,col:i,panel:this},o+1},t.prototype._renderRowHdrCell=function(e,i,n){var r=e.children[0];return r||(r=xe(t._HTML_CELL,e)),r.setAttribute("role",i<0?"columnheader":"rowheader"),r.textContent=n?n.toString():"",Pe(r,{position:"fixed",left:-32e3,top:-32e3,width:.1,height:.1,overflow:"hidden",opacity:"0"}),r[t._INDEX_KEY]={row:i,col:-1,panel:this},1},t.prototype._renderRow=function(t,e,i,n){var r=this._g,o=this.rows[t];if(o.renderSize<=0)return n;var s=this._e.children[n];if(s||(s=xe('<div class="wj-row"></div>',this._e)),this._ct==En.Cell){s.setAttribute("role","row");var a=Pn,l=o.isSelected;switch(r.selectionMode){case a.Row:case a.RowRange:l=l||this._g._selHdl.selection.containsRow(t)}ue(s,"aria-selected",!!l||null),ue(s,"aria-level",o instanceof Wn?o.level+1:null),ue(s,"aria-expanded",o instanceof Wn?!o.isCollapsed:null),this.rows.ariaLabel&&ue(s,"aria-label",this.rows.ariaLabel)}var h=0;if(this._ct==En.Cell){var u=this._g._getRowHeaderPath();u&&(h=this._renderRowHdrCell(s,t,u.getValue(o.dataItem)))}for(var c=0;c<this.columns.frozen&&c<this.columns.length;c++)h=this._renderCell(s,t,c,e,i,h);for(c=e.leftCol;c<=e.rightCol&&c>-1;c++)h=this._renderCell(s,t,c,e,i,h);return this._removeExtraCells(s,h),n+1},t.prototype._renderCell=function(e,i,n,r,o,s){var a=this._g,l=a.getMergedRange(this,i,n);if(l){for(var h=Math.max(r.row,l.row);h<i;h++)if(this.rows[h].renderSize)return s;for(h=Math.max(r.col,l.col);h<n;h++)if(this.columns[h].renderSize)return s;var u=this.columns.frozen;if(u&&l.col<u&&l.col2>=u&&n>l.col)return s}var c=this.columns[n];if(c.renderSize<=0&&(!l||l.getRenderSize(this).width<=0))return s;var d=e.children[s];if(d&&!o&&this._recycle&&a._lazyRender&&!a.activeEditor){var f=d[t._INDEX_KEY];f&&f.row==i&&f.col==n&&f.rng==l&&i>=this.rows.frozen&&n>=this.columns.frozen&&(o=!0)}var p=An,g=this.getSelectedState(i,n,l),_=g==p.Cursor||g==p.Active;return d&&o?(he(d,"wj-state-active",_),he(d,"wj-state-selected",g==p.Cursor),he(d,"wj-state-multi-selected",g==p.Selected),ue(d,"aria-selected",!(!_&&g==p.None)||null),_&&(this._activeCell=d),s+1):(d||(d=xe(t._HTML_CELL,e)),_&&(this._activeCell=d),this._ct==En.Cell&&(ue(d,"role","gridcell"),ue(d,"aria-selected",!(g==p.None&&!_)||null),ue(d,"aria-readonly",!a.canEditCell(i,n)||null),ue(d,"aria-required",c.getIsRequired())),a.cellFactory.updateCell(this,i,n,d,l),d[t._INDEX_KEY]={row:i,col:n,rng:l,panel:this},s+1)},t.prototype._removeExtraCells=function(t,e){for(var i=this._g.cellFactory;t.childElementCount>e;){var n=t.lastElementChild;ge(n),i.disposeCell(n)}},t.prototype._getViewRange=function(){var t=this._g,e=t._ptScrl,i=t._szClientSB,n=this._rows,r=this._cols,o=new Tn(0,0,n.length-1,r.length-1);if(this._ct==En.Cell||this._ct==En.RowHeader){var s=-e.y+this._offsetY,a=i.height;(c=Math.min(n.frozen,n.length-1))>0&&(s+=d=n[c-1].pos,a-=d),c>0&&n[c].pos>i.height?o.row=o.row2=-1:(o.row=Math.min(n.length-1,Math.max(c,n.getItemAt(s))),o.row2=Math.max(o.row,n.getItemAt(s+a)));var l=t.hostElement;if(t._clipToScreen&&l){var h=l.getBoundingClientRect(),u=-h.top-t.cells._e.offsetTop;h.top<0&&(o.row=Math.max(o.row,n.getItemAt(u)-1)),h.bottom>innerHeight&&(o.row2=Math.min(o.row2,n.getItemAt(u+innerHeight)+1))}}if(this._ct==En.Cell||this._ct==En.ColumnHeader){var c,d,f=-e.x,p=i.width;if((c=Math.min(r.frozen,r.length-1))>0)f+=d=r[c-1].pos,p-=d;c>0&&r[c].pos>i.width?o.col=o.col2=-1:(o.col=Math.min(r.length-1,Math.max(c,r.getItemAt(f))),o.col2=Math.max(o.col,r.getItemAt(f+p)))}return n.length<=n.frozen&&(o.row=o.row2=-1),r.length<=r.frozen&&(o.col=o.col2=-1),o},t.prototype._getFrozenPos=function(){var t=this._rows.frozen,e=this._cols.frozen,i=t>0?this._rows[t-1]:null,n=e>0?this._cols[e-1]:null,r=i?i.pos+i.renderSize:0,o=n?n.pos+n.renderSize:0;return new Re(o,r)},t._INDEX_KEY="wj-cell-index",t._HTML_CELL='<div class="wj-cell" tabindex="-1"></div>',t}(),Dn=function(t){function e(e,i,n){var r=t.call(this)||this;return r._p=Zt(e,On,!0),r._rng=Zt(i,Tn,!0),r._data=n,r}return vn(e,t),Object.defineProperty(e.prototype,"panel",{get:function(){return this._p},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this._rng.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"row",{get:function(){return this._rng.row},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"col",{get:function(){return this._rng.col},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t},enumerable:!0,configurable:!0}),e.prototype.getRow=function(){return this._p&&this.row>-1?this._p.rows[this.row]:null},e.prototype.getColumn=function(t){var e=this._p,i=e&&this.col>-1?e.columns[this.col]:null;if(i&&t){var n=e.grid;i=e.cellType===En.ColumnHeader&&n._hasColumnGroups()?n._getColumnGroup(this.row,this.col):e.grid._getBindingColumn(e,this.row,i)}return i},e}(rt),In=function(t){function e(e,i,n,r){void 0===r&&(r=!0);var o=t.call(this,e,i)||this;return o._updateContent=!0,o._cell=Zt(n,HTMLElement),o}return vn(e,t),Object.defineProperty(e.prototype,"cell",{get:function(){return this._cell},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"updateContent",{get:function(){return this._updateContent},enumerable:!0,configurable:!0}),e}(Dn),Mn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._stayInEditMode=!1,e._refresh=!0,e}return vn(e,t),Object.defineProperty(e.prototype,"stayInEditMode",{get:function(){return this._stayInEditMode},set:function(t){this._stayInEditMode=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"refresh",{get:function(){return this._refresh},set:function(t){this._refresh=Yt(t)},enumerable:!0,configurable:!0}),e}(Dn);!function(t){t[t.None=0]="None",t[t.Cell=1]="Cell",t[t.CellRange=2]="CellRange",t[t.Row=3]="Row",t[t.RowRange=4]="RowRange",t[t.ListBox=5]="ListBox",t[t.MultiRange=6]="MultiRange"}(Pn||(Pn={})),function(t){t[t.None=0]="None",t[t.Selected=1]="Selected",t[t.Cursor=2]="Cursor",t[t.Active=3]="Active"}(An||(An={})),function(t){t[t.None=0]="None",t[t.Next=1]="Next",t[t.Prev=2]="Prev",t[t.NextPage=3]="NextPage",t[t.PrevPage=4]="PrevPage",t[t.Home=5]="Home",t[t.End=6]="End",t[t.NextCell=7]="NextCell",t[t.PrevCell=8]="PrevCell",t[t.NextEditableCell=9]="NextEditableCell",t[t.PrevEditableCell=10]="PrevEditableCell"}(Rn||(Rn={}));var Fn,Ln=function(){function t(t){this._sel=new Tn(0,0),this._xSel=new ti,this._mode=Pn.CellRange,this._g=t,this._e=new Dn(t.cells,new Tn(0,0)),this._xSel.collectionChanged.addHandler((function(){t.invalidate()}))}return Object.defineProperty(t.prototype,"selectionMode",{get:function(){return this._mode},set:function(t){t!=this._mode&&this._setSelectionMode(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selection",{get:function(){return this._sel},set:function(t){this.select(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extendedSelection",{get:function(){return this._xSel},enumerable:!0,configurable:!0}),t.prototype.select=function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1);var n=this._g,r=this._e.range,o=this._sel,s=r,a=!1,l=Pn;if(vt(t)&&wt(e)){var h=n.columns.indexOf(e);if(h<0)throw"Invalid column name or binding.";r.setRange(t,h),e=!0}else vt(t)&&vt(e)?(r.setRange(t,e),e=!0):t instanceof Tn?r.copy(t):Ht(!1,"CellRange expected");switch(n.selectionMode){case l.Cell:s.row2=s.row,s.col2=s.col;break;case l.Row:s.row2=s.row;break;case l.ListBox:a=!0}var u=s.equals(o);if(u&&a)for(var c=0;c<n.rows.length;c++)if(n.rows[c].isSelected!==s.containsRow(c)){u=!1;break}if(u)return e&&n.isRangeValid(s)&&this._showSelection(),!0;var d=li.getControl(Se(_e(),".wj-flexgrid"));if(d&&d.activeEditor&&!d.finishEditing())return!1;var f=this._e;if(f._rng=s,f.cancel=!1,!n.onSelectionChanging(f)&&!i)return!1;a&&n.rows.forEach((function(t,e){t._setFlag(Fn.Selected,s.containsRow(e),!0)})),s.row=Math.min(s.row,n.rows.length-1),s.row2=Math.min(s.row2,n.rows.length-1),this._sel.copy(s),n.refreshCells(!1,!0,!0),e&&this._showSelection();var p=n.collectionView;if(p){var g=n._getCvIndex(s.row);p.moveCurrentToPosition(g)}return n.onSelectionChanged(f),!0},t.prototype.moveSelection=function(t,e,i){var n=this._g,r=this._sel,o=i&&n.anchorCursor?new Tn(r.row2,r.col2):new Tn(r.row,r.col);this._adjustReferenceCell(o,t,e);var s=o.row,a=o.col,l=n.columns,h=Math.max(0,n._szClient.height-n.columnHeaders.height),u=Rn;switch(e){case u.NextCell:case u.NextEditableCell:(a=this._getNextColumnCell(s,a,e))==o.col&&(s=this._getNextRowCell(s,a,e))>o.row&&(a=this._getNextColumnCell(s,0,e),a=this._getNextColumnCell(s,a,e==u.NextCell?u.PrevCell:u.PrevEditableCell)),n.select(s,a);break;case u.PrevCell:case u.PrevEditableCell:(a=this._getNextColumnCell(s,o.col,e))==o.col&&(s=this._getNextRowCell(s,a,e))<o.row&&(a=this._getNextColumnCell(s,l.length-1,e),a=this._getNextColumnCell(s,a,e==u.PrevCell?u.NextCell:u.NextEditableCell)),n.select(s,a);break;default:s=this._getNextRowCell(s,a,t,h),a=this._getNextColumnCell(s,a,e,h),i?n.selection=n.anchorCursor?new Tn(r.row,r.col,s,a):new Tn(s,a,r.row2,r.col2):n.select(s,a)}},t.prototype._getNextColumnCell=function(t,e,i,n){return void 0===n&&(n=0),this._g.columns.getNextCell(e,i,n)},t.prototype._getNextRowCell=function(t,e,i,n){return void 0===n&&(n=0),this._g.rows.getNextCell(t,i,n)},t.prototype._setSelectionMode=function(t){var e=this._g,i=e.rows;this._mode=t,this._xSel.clear(),i.length&&(this._adjustSelection(this._sel,t,!0),e.invalidate())},t.prototype._adjustSelection=function(t,e,i){void 0===i&&(i=!1);for(var n=this._g.rows,r=Pn,o=0;o<n.length;o++)n[o]._setFlag(Fn.Selected,!1,!0);var s=t.clone();switch(e){case r.None:s=new Tn;break;case r.Cell:s=new Tn(t.row,t.col);break;case r.ListBox:for(o=0;o<n.length;o++)n[o]._setFlag(Fn.Selected,s.containsRow(o),!0)}this.select(s,!1,i)},t.prototype._expandSelection=function(){var t=this._g,e=t.selectionMode;if(t.expandSelectionOnCopyPaste&&e){var i=this.selection,n=Pn;switch(e){case n.Cell:case n.Row:break;case n.ListBox:this._expandSelectedRows();break;case n.RowRange:i=new Tn(i.topRow,0,i.bottomRow,t.columns.length-1);default:var r=this._expandSelectionRange(i);r&&this.select(r,!1)}}},t.prototype._deselectRange=function(t){var e=this.selection,i=this.extendedSelection;if(e.contains(t)){var n=i.length;return this._sel=n?i[n-1]:new Tn,n&&i.removeAt(n-1),!0}for(var r=0;r<i.length;r++)if(i[r].contains(t))return i.removeAt(r),!0;return!1},t.prototype._expandSelectedRows=function(){Ht(this.selectionMode==Pn.ListBox,"ListBox mode expected");for(var t=this._g,e=t.selectedRows.map((function(t){return t.index})),i=[],n=0;n<e.length;n++)for(var r=new Tn(e[n],0,e[n],t.columns.length-1),o=this._expandSelectionRange(r)||r,s=o.topRow;s<=o.bottomRow;s++)-1===i.indexOf(s)&&i.push(s);i.sort(),this._selectRows(i)},t.prototype._expandSelectionRange=function(t){var e=this._g,i=e.cells,n=e.getMergedRange(i,t.topRow,t.leftCol,!1),r=e.getMergedRange(i,t.bottomRow,t.leftCol,!1),o=e.getMergedRange(i,t.topRow,t.rightCol,!1),s=e.getMergedRange(i,t.bottomRow,t.rightCol,!1);return n||r||o||s?(n=n||new Tn(t.topRow,t.leftCol),r=r||new Tn(t.bottomRow,t.leftCol),o=o||new Tn(t.topRow,t.rightCol),s=s||new Tn(t.bottomRow,t.rightCol),new Tn(Math.min(n.topRow,r.topRow,o.topRow,s.topRow),Math.min(n.leftCol,r.leftCol,o.leftCol,s.leftCol),Math.max(n.bottomRow,r.bottomRow,o.bottomRow,s.bottomRow),Math.max(n.rightCol,r.rightCol,o.rightCol,s.rightCol))):null},t.prototype._selectRows=function(t){Ht(this.selectionMode==Pn.ListBox,"ListBox mode expected");for(var e=this._g,i=0,n=!0;i<e.rows.length;i++){var r=e.rows[i],o=t&&t.indexOf(r.index)>-1;o&&n&&(n=!1,this.select(i,this.selection.col)),r.isSelected=o}},t.prototype._showSelection=function(){var t=this._g,e=this._sel;t.anchorCursor?t.scrollIntoView(e.row2,e.col2):t.scrollIntoView(e.row,e.col)},t.prototype._adjustReferenceCell=function(t,e,i){var n=this._g,r=n.getMergedRange(n.cells,t.row,t.col);if(r&&!r.isSingleCell){var o=Rn;switch(e){case o.Next:case o.NextCell:case o.NextEditableCell:t.row=r.bottomRow;break;case o.Prev:case o.PrevCell:case o.PrevEditableCell:t.row=r.topRow}switch(i){case o.Next:case o.NextCell:case o.NextEditableCell:t.col=r.rightCol;break;case o.Prev:case o.PrevCell:case o.PrevEditableCell:t.col=r.leftCol}}},t}();!function(t){t[t.Visible=1]="Visible",t[t.AllowResizing=2]="AllowResizing",t[t.AllowDragging=4]="AllowDragging",t[t.AllowMerging=8]="AllowMerging",t[t.AllowSorting=16]="AllowSorting",t[t.AutoGenerated=32]="AutoGenerated",t[t.Collapsed=64]="Collapsed",t[t.ParentCollapsed=128]="ParentCollapsed",t[t.Selected=256]="Selected",t[t.ReadOnly=512]="ReadOnly",t[t.HtmlContent=1024]="HtmlContent",t[t.WordWrap=2048]="WordWrap",t[t.MultiLine=4096]="MultiLine",t[t.HasTemplate=8192]="HasTemplate",t[t.RowDefault=3]="RowDefault",t[t.ColumnDefault=23]="ColumnDefault"}(Fn||(Fn={}));var Nn,zn,Bn,Hn,Vn=function(){function t(){this._type=null,this._align=null,this._inpType=null,this._mask=null,this._maxLen=null,this._required=null,this._fmt=null,this._map=null,this._ddCssClass=null,this._cssClass=null,this._cssClassAll=null,this._szMin=null,this._szMax=null,this._sz=null,this._pos=0,this._idx=-1,this._idxVis=-1,this._idxData=-1,this.gridChanged=new it}return Object.defineProperty(t.prototype,"binding",{get:function(){return this._binding?this._binding.path:null},set:function(t){if(t!=this.binding){var e=Ut(t);if(this._binding=e?new tt(e):null,!this._type&&this.grid&&this._binding){var i=this.grid.collectionView;if(i&&i.sourceCollection&&i.sourceCollection.length){var n=i.sourceCollection[0];this._type=Rt(this._binding.getValue(n))}}this.onPropertyChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortMemberPath",{get:function(){return this._bindingSort?this._bindingSort.path:null},set:function(t){if(t!=this.sortMemberPath){var e=Ut(t);this._bindingSort=e?new tt(e):null,this.onPropertyChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataType",{get:function(){return this._type},set:function(t){t=Jt(t,lt,!0),this._type!=t&&(this._type=t,this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._inpType},set:function(t){this._inpType=Ut(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},set:function(t){this._mask=Ut(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxLength",{get:function(){return this._maxLen},set:function(t){this._maxLen=Gt(t,!0,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(t){this._align!=t&&(this._align=t,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this._fmt},set:function(t){this._fmt!=t&&(this._fmt=t,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataMap",{get:function(){return this._map},set:function(t){this._map!=t&&(this._map&&this._map.mapChanged.removeHandler(this.onPropertyChanged,this),Et(t)&&(t=new kn(t,null,null)),this._map=Zt(t,kn,!0),this._map&&this._map.mapChanged.addHandler(this.onPropertyChanged,this),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataMapEditor",{get:function(){return null!=this._mapEditor?this._mapEditor:bn.DropDownList},set:function(t){t!=this._mapEditor&&(this._mapEditor=Jt(t,bn),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showDropDown",{get:function(){return this.dataMapEditor==bn.DropDownList},set:function(t){Vt("showDropDown","dataMapEditor"),this.dataMapEditor=t?bn.DropDownList:bn.AutoComplete},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropDownCssClass",{get:function(){return this._ddCssClass},set:function(t){this._ddCssClass=Ut(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this._getFlag(Fn.Visible)},set:function(t){this._setFlag(Fn.Visible,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return!!this._getFlag(Fn.Visible)&&(!this._getFlag(Fn.ParentCollapsed)||this instanceof ir)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pos",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this._pos},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this._idx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visibleIndex",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this.isVisible?this._idxVis:-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._sz},set:function(t){t!=this._sz&&(this._sz=Gt(t,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderSize",{get:function(){var t=0,e=this._list;return this.isVisible&&((null==(t=this._sz)||t<0)&&(t=e?e.defaultSize:0),e&&null!=e.minSize&&t<e.minSize&&(t=e.minSize),e&&null!=e.maxSize&&t>e.maxSize&&(t=e.maxSize),null!=this._szMin&&t<this._szMin&&(t=this._szMin),null!=this._szMax&&t>this._szMax&&(t=this._szMax)),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowResizing",{get:function(){return this._getFlag(Fn.AllowResizing)},set:function(t){this._setFlag(Fn.AllowResizing,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowDragging",{get:function(){return this._getFlag(Fn.AllowDragging)},set:function(t){this._setFlag(Fn.AllowDragging,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowMerging",{get:function(){return this._getFlag(Fn.AllowMerging)},set:function(t){this._setFlag(Fn.AllowMerging,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSelected",{get:function(){return this._getFlag(Fn.Selected)},set:function(t){if(!!t!=this.isSelected){var e=this.grid;if(e){var i=this instanceof Gn?new Tn(this.index,-1):new Tn(-1,this.index),n=new Dn(e?e.cells:null,i);e.onSelectionChanging(n)&&this._setFlag(Fn.Selected,t,!0)&&(e.refreshCells(!1,!0,!0),e.onSelectionChanged(n))}else this._setFlag(Fn.Selected,t)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._getFlag(Fn.ReadOnly)},set:function(t){this._setFlag(Fn.ReadOnly,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRequired",{get:function(){return this._required},set:function(t){this._required=Yt(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isContentHtml",{get:function(){return this._getFlag(Fn.HtmlContent)},set:function(t){this.isContentHtml!=t&&(this._setFlag(Fn.HtmlContent,t),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._getFlag(Fn.WordWrap)},set:function(t){this._setFlag(Fn.WordWrap,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"multiLine",{get:function(){return this._getFlag(Fn.MultiLine)},set:function(t){this._setFlag(Fn.MultiLine,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cssClass",{get:function(){return this._cssClass},set:function(t){t!=this._cssClass&&(this._cssClass=Ut(t),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cssClassAll",{get:function(){return this._cssClassAll},set:function(t){t!=this._cssClassAll&&(this._cssClassAll=Ut(t),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"grid",{get:function(){return this._list?this._list._g:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this.grid?this.grid.collectionView:null},enumerable:!0,configurable:!0}),t.prototype.onPropertyChanged=function(){this._list&&(this._list._dirty=!0,this.grid.invalidate())},t.prototype.onGridChanged=function(t){this.gridChanged.raise(this,t)},t.prototype._setList=function(t){t!=this._list&&(this._list=t,this.onGridChanged())},t.prototype._getFlag=function(t){return 0!=(this._f&t)},t.prototype._setFlag=function(t,e,i){return!!e!=this._getFlag(t)&&(this._f=e?this._f|t:this._f&~t,i||this.onPropertyChanged(),!0)},t}(),Un=function(t){function e(i){var n=t.call(this)||this;return n._hdr=null,n._name=null,n._agg=null,n._quickSize=null,n._descById=null,n._tpl=null,n._f=Fn.ColumnDefault,n._hash=e._ctr.toString(36),e._ctr++,Bt(n,i),n}return vn(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return null!=this._szStar?this._szStar:this.size},set:function(t){null!=e._parseStarSize(t)?(this._szStar=t,this.onPropertyChanged()):(this._szStar=null,this.size=Gt(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minWidth",{get:function(){return this._szMin},set:function(t){t!=this._szMin&&(this._szMin=Gt(t,!0,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._szMax},set:function(t){t!=this._szMax&&(this._szMax=Gt(t,!0,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"quickAutoSize",{get:function(){return this._quickSize},set:function(t){this._quickSize=Yt(t,!0)},enumerable:!0,configurable:!0}),e.prototype._getQuickAutoSize=function(){return!!this.grid._getQuickAutoSize()&&(xt(this._quickSize)?this._quickSize:!(this.isContentHtml||this.wordWrap||this.multiLine||this._getFlag(Fn.HasTemplate)))},Object.defineProperty(e.prototype,"renderWidth",{get:function(){return this.renderSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"header",{get:function(){return this._hdr?this._hdr:this.binding},set:function(t){this._hdr!=t&&(this._hdr=t,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cellTemplate",{get:function(){return this._tpl},set:function(t){t!=this._tpl&&(Ht(null==t||wt(t)||Ct(t),"cellTemplate should be a string or an ICellTemplateFunction."),this._tpl=t,this._setFlag(Fn.HasTemplate,null!=t&&""!=t),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"editor",{get:function(){var t=this._edt;return t?t.control:null},set:function(t){t!=this.editor&&(this._edt&&(this._edt.dispose(),this._edt=null),null!=t&&(t=Zt(t,li),this._edt=new _r(this,t)))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowSorting",{get:function(){return this._getFlag(Fn.AllowSorting)},set:function(t){this._setFlag(Fn.AllowSorting,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentSort",{get:function(){var t=this.currentSortIndex;return t>-1?this.grid.collectionView.sortDescriptions[t].ascending?"+":"-":null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentSortIndex",{get:function(){var t=this.grid?this.grid.collectionView:null,e=t?t.sortDescriptions:null,i=e&&e.length?this._getBindingSort():null;if(i)for(var n=0;n<e.length;n++)if(e[n].property==i)return n;return-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"aggregate",{get:function(){return null!=this._agg?this._agg:Ye.None},set:function(t){(t=Jt(t,Ye))!=this._agg&&(this._agg=t,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"describedById",{get:function(){return this._descById},set:function(t){t!=this._descById&&(this._descById=Ut(t),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),e.prototype.getIsRequired=function(t){return null!=this._required?this._required:t&&null!=t.isRequired?t.isRequired:this.dataType==lt.String?null!=this.dataMap||null!=this._mask&&this._mask.length>0:!t||t.dataType!=lt.String||null!=t.dataMap||null!=t.mask&&t.mask.length>0},e.prototype.getAlignment=function(t){if(null!=this._align)return this._align;if(t&&null!=t.align)return t.align;if(!this._map)switch(this.dataType){case lt.Boolean:return"center";case lt.Number:return"right"}if(t&&!t.dataMap)switch(t.dataType){case lt.Boolean:return"center";case lt.Number:return"right"}return""},e.prototype._getBindingSort=function(){return this.sortMemberPath?this.sortMemberPath:this.binding?this.binding:null},e._parseStarSize=function(t){if(wt(t)){var e=t.length;if(e>0&&"*"==t[e-1]){var i=1==e?1:parseFloat(t);if(i>0&&!isNaN(i))return i}}return null},e._ctr=0,e}(Vn),Gn=function(t){function e(e){var i=t.call(this)||this;return i._f=Fn.ColumnDefault,i._data=e||null,i}return vn(e,t),Object.defineProperty(e.prototype,"dataItem",{get:function(){return this._data},set:function(t){this._data=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataIndex",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this._idxData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.size},set:function(t){this.size=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderHeight",{get:function(){return this.renderSize},enumerable:!0,configurable:!0}),e}(Vn),Wn=function(t){function e(e){var i=t.call(this,e)||this;return i._level=-1,i.level=e instanceof ii?e.level:-1,i.isReadOnly=!0,i}return vn(e,t),Object.defineProperty(e.prototype,"level",{get:function(){return this._level},set:function(t){Wt(t),t!=this._level&&(this._level=t,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasChildren",{get:function(){if(null!=this.grid&&null!=this._list){this._list._update();var t=this.index<this._list.length-1?this._list[this.index+1]:null,i=_t(t,e),n=_t(t,ir);return null!=t&&null==n&&(null==i||i.level>this.level)}return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCollapsed",{get:function(){return this._getFlag(Fn.Collapsed)},set:function(t){!!t!=this.isCollapsed&&null!=this._list&&this._setCollapsed(Yt(t))},enumerable:!0,configurable:!0}),e.prototype.getGroupHeader=function(){var t=this.grid,e=t.groupHeaderFormat||Ve.FlexGrid.groupHeaderFormat,i=this.dataItem;if(i instanceof ii&&e&&t.showGroups&&!t.childItemsPath){var n=i.groupDescription.propertyName,r=i.name,o=t.getColumn(n),s=this.isContentHtml;if(o){s=s||o.isContentHtml,o.header&&(n=o.header);var a=o.dataMap;a&&(r=a.getDisplayValue(r)),o.dataType==Rt(r)&&(r=Ue.format(r,o.format))}else n=te(n);var l=i.getAggregate(Ye.CntAll,null,t.collectionView);return Mt(e,{name:ee(n),value:s?r:ee(r),level:i.level,count:l})}return""},e.prototype._setCollapsed=function(t){var i=this,n=this.grid,r=n.rows,o=this.getCellRange(),s=new Dn(n.cells,new Tn(this.index,-1));n.onGroupCollapsedChanging(s)&&(n.deferUpdate((function(){r.deferUpdate((function(){i._setFlag(Fn.Collapsed,t,!0);for(var n=o.topRow+1;n<=o.bottomRow&&n>-1&&n<r.length;n++){r[n]._setFlag(Fn.ParentCollapsed,t,!0);var s=r[n];s instanceof e&&s.isCollapsed&&(n=s.getCellRange().bottomRow)}}))})),n.onGroupCollapsedChanged(s))},e.prototype.getCellRange=function(){for(var t=this._list,i=this.index,n=t.length-1,r=i+1;r<=n;r++){var o=t[r];if(o instanceof e&&o.level<=this.level){n=r-1;break}}return new Tn(i,0,n,this.grid.columns.length-1)},e}(Gn),Yn=function(t){function e(e,i){var n=t.call(this)||this;return n._frozen=0,n._lastFrozen=-1,n._firstVisible=-1,n._vlen=0,n._szDef=28,n._szTot=0,n._szCustom=!1,n._dirty=!1,n._g=Zt(e,$n),n._szDef=Gt(i,!1,!0),n}return vn(e,t),Object.defineProperty(e.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultSize",{get:function(){return this._szDef},set:function(t){this._szCustom=!0,this._szDef!=t&&(this._szDef=Gt(t,!1,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"frozen",{get:function(){return this._frozen},set:function(t){t!=this._frozen&&(this._frozen=Gt(t,!1,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),e.prototype.isFrozen=function(t){return t<this.frozen},Object.defineProperty(e.prototype,"minSize",{get:function(){return this._szMin},set:function(t){t!=this._szMin&&(this._szMin=Gt(t,!0,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxSize",{get:function(){return this._szMax},set:function(t){t!=this._szMax&&(this._szMax=Gt(t,!0,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),e.prototype.getTotalSize=function(){return this._dirty&&this._update(),this._szTot},Object.defineProperty(e.prototype,"visibleLength",{get:function(){return this._dirty&&this._update(),this._vlen},enumerable:!0,configurable:!0}),e.prototype.getItemAt=function(t){if(this._dirty&&this._update(),t<=0&&this.length>0&&this[0].renderSize)return 0;for(var e,i,n=this.length,r=0,o=n-1;r<=o;)if((i=this[e=r+o>>>1])._pos>=t&&e>0)o=e-1;else{if(!(i._pos+i.renderSize<=t&&e<n-1)){for(;e>0&&!this[e].renderSize;)e--;for(;e<n-1&&!this[e].renderSize;)e++;return e}r=e+1}return o},e.prototype.getNextCell=function(t,e,i){void 0===i&&(i=0);var n,r=Rn;switch(e){case r.Next:case r.NextCell:for(n=t+1;n<this.length;n++)if(this[n].renderSize>0)return n;break;case r.NextEditableCell:for(n=t+1;n<this.length;n++)if(this[n].renderSize>0&&!this[n].isReadOnly)return n;break;case r.Prev:case r.PrevCell:for(n=t-1;n>=0;n--)if(this[n].renderSize>0)return n;break;case r.PrevEditableCell:for(n=t-1;n>=0;n--)if(this[n].renderSize>0&&!this[n].isReadOnly)return n;break;case r.End:for(n=this.length-1;n>=0;n--)if(this[n].renderSize>0)return n;break;case r.Home:for(n=0;n<this.length;n++)if(this[n].renderSize>0)return n;break;case r.NextPage:return(n=this.getItemAt(this[t].pos+this[t].renderSize+i))<0?this.getNextCell(t,Rn.End,i):n==t&&n<this.length-1&&this[n+1].renderSize?n+1:n;case r.PrevPage:return(n=this.getItemAt(this[t].pos-i))<0?this.getNextCell(t,Rn.Home,i):n==t&&n>0&&this[n-1].renderSize?n-1:n}return t},e.prototype.canMoveElement=function(t,e,i){if(void 0===i&&(i=!0),e==t)return!1;if(t<0||t>=this.length||e>=this.length)return!1;if(i){e<0&&(e=this.length-1);for(var n=Math.min(t,e),r=Math.max(t,e),o=n;o<=r;o++)if(!this[o].allowDragging)return!1}return!(this[e]instanceof ir)},e.prototype.moveElement=function(t,e,i){if(void 0===i&&(i=!0),this.canMoveElement(t,e,i)){var n=this[t];if(this.removeAt(t),e<0&&(e=this.length),this.insert(e,n),i){var r=this.frozen;t<r&&e>=r?this.frozen--:t>=r&&e<r&&this.frozen++}return!0}return!1},e.prototype.onCollectionChanged=function(e){void 0===e&&(e=ht.reset),this._dirty=!0,this._g.invalidate(),t.prototype.onCollectionChanged.call(this,e)},e.prototype.push=function(e){return e._setList(this),t.prototype.push.call(this,e)},e.prototype.splice=function(e,i){for(var n=this,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];for(var s=e;s<e+i&&s<this.length;s++){var a=this[s];a instanceof Vn&&a._setList(null)}return r.forEach((function(t){return t._setList(n)})),t.prototype.splice.apply(this,[e,i].concat(r))},e.prototype.beginUpdate=function(){this._update(),t.prototype.beginUpdate.call(this)},e.prototype._setDefaultSize=function(t){this._szCustom||(this.defaultSize=t,this._szCustom=!1)},e.prototype._update=function(){if(this._dirty&&!this.isUpdating){this._dirty=!1,this._lastFrozen=-1,this._firstVisible=-1;for(var t=0,e=0,i=void 0,n=void 0,r=0;r<this.length;r++)(n=this[r])._idx=r,n._idxVis=t,n._pos=e,n._setList(this),(i=n.renderSize)>0&&(e+=i,t++,r<this._frozen&&(this._lastFrozen=r)),this._firstVisible<0&&n.visible&&(this._firstVisible=r);return this._vlen=t,this._szTot=e,!0}return!1},e}(ti),qn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vn(e,t),e.prototype.getColumn=function(t){var e=vt(t)?t:this.indexOf(t);return e>-1?this[e]:null},e.prototype.indexOf=function(e){if(e instanceof Un)return t.prototype.indexOf.call(this,e);for(var i=0;i<this.length;i++)if(this[i].name==e)return i;for(i=0;i<this.length;i++)if(this[i].binding==e)return i;return-1},Object.defineProperty(e.prototype,"describedById",{get:function(){return this._descById},set:function(t){t!=this._descById&&(this._descById=Ut(t),this._g&&this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstVisibleIndex",{get:function(){return this._dirty&&this._update(),this._firstVisible},enumerable:!0,configurable:!0}),e.prototype._updateStarSizes=function(t){var e,i=!1,n=0;t-=.5;for(var r=0;r<this.length;r++)(s=this[r]).isVisible&&(s._szStar?(n+=Un._parseStarSize(s._szStar),e=s):t-=s.renderWidth);if(e){var o=t;for(r=0;r<this.length;r++){var s;if((s=this[r]).isVisible&&s._szStar){var a=s._sz;s==e&&o>0?a=o:o-=a=Math.max(0,Math.round(Un._parseStarSize(s._szStar)/n*t)),a!=s._sz&&(s._sz=a,i=!0)}}return i&&(this._dirty=!0,this._update()),i}return!1},e}(Yn),Xn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._maxLevel=-1,e}return vn(e,t),Object.defineProperty(e.prototype,"ariaLabel",{get:function(){return this._ariaLabel},set:function(t){t!=this.ariaLabel&&(this._ariaLabel=Ut(t),this._g&&this._g.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxGroupLevel",{get:function(){return this._dirty&&this._update(),this._maxLevel},enumerable:!0,configurable:!0}),e.prototype._update=function(){var e=this;if(t.prototype._update.call(this)){var i=this.grid?this.grid.collectionView:null,n=i?i.items:null,r=0;return this._maxLevel=-1,this.forEach((function(t){t instanceof Wn&&t.level>e._maxLevel&&(e._maxLevel=t.level);var i=t.dataItem;i&&n?i===n[r]?t._idxData=r:i===n[r+1]?t._idxData=++r:i!==n[t._idxData]&&(t._idxData=-1):t._idxData=-1})),!0}return!1},e}(Yn),Kn=function(){function t(t){this._updatingCollection=0,this._initialized=!1,this._grid=t,this._initializeColumnGroups(),this._initialized=!0}return Object.defineProperty(t.prototype,"columnGroups",{get:function(){return this._colGroups},enumerable:!0,configurable:!0}),t.prototype.createColumnGroups=function(t){this._initialized=!1,this._createColumnGroups(t),this._initialized=!0},t.prototype.hasColumnGroups=function(){return null!=this._colGroups&&this._colGroups.length>0},t.prototype.getGroupDefinitions=function(){return this._groupDefs},t.prototype.getColumnGroup=function(t,e){return this._getColumnGroup(t,e)},t.prototype.canMoveColumnGroup=function(t,e,i,n){if(t==i&&e==n)return!1;var r=this._grid,o=r.columnHeaders.rows,s=r.columns;if(t<0||t>=o.length||e<0||e>=s.length||i<0||i>=o.length||n<0||n>=s.length)return!1;var a=this._getColumnGroup(t,e),l=this._getColumnGroup(i,n);if(!a||!l||a==l)return!1;if(a.level<l.level&&a._containsGroup(l))return!1;var h=a.parentGroup,u=l.parentGroup;return!h||h===u||!h._isCollapseTo(a)},t.prototype.moveColumnGroup=function(t,e,i,n,r){if(this.canMoveColumnGroup(t,e,i,n)){var o=this._getColumnGroup(t,e),s=this._getColumnGroup(i,n);if(!o||!s||o==s)return!1;if(r&&!s.isEmpty)return!1;var a=this._getCollection(o),l=r?s.columns:this._getCollection(s);if(!a||!l)return!1;var h=r?0:l.indexOf(s);return!(h<0)&&(!r&&a!=l&&n>e&&h++,this._deferCollectionUpdate((function(){if(!a.remove(o))return!1;l.insert(h,o)})),!0)}return!1},t.prototype.handleCollectionChange=function(){this._initialized&&!this._updatingCollection&&(this._initialized=!1,this._buildColumnGroups(),this._initialized=!0)},t.prototype.handlePropertyChange=function(t){if(t&&this._initialized){var e=this._grid,i=t._rng,n=t.header;if(n!=t._curr_header)for(var r=i.topRow;r<=i.bottomRow;r++)for(var o=i.leftCol;o<=i.rightCol;o++)e.columnHeaders.setCellData(r,o,n),t._curr_header=n;t.columns.length>0&&e.invalidate()}},t.prototype._initializeColumnGroups=function(){var t=this._grid,e=new Jn;this._groupDefs=e,this._colGroups=e,this._colGroups._setOwner(t),this._colGroups._setChangeHandler(this)},t.prototype._createColumnGroups=function(t){this._grid,this._groupDefs=Kt(t),this._colGroups&&this._colGroups._setOwner(null),this._colGroups=Jn._parse(t),this._buildColumnGroups()},t.prototype._buildColumnGroups=function(){var t=this,e=this._grid;this._colGroups._removeChangeHandler(),this._assertColumnGroups(this._colGroups),e.autoGenerateColumns=!1,e.columns.clear(),this._colGroups._setOwner(e),this._colGroups.forEach((function(t){t._beginBuild()}));var i=0;this._colGroups.forEach((function(e){t._addColumnGroup(e),i=Math.max(i,e._getMaxLevel())})),this._colGroups.forEach((function(t){t._expandRange(i)}));var n=e.columnHeaders.rows;n.clear();for(var r=0;r<=i;r++){var o=new Gn;n.splice(r,0,o),r<i&&(o.cssClassAll="wj-colgroup")}for(r=0;r<n.length;r++)for(var s=0;s<e.columns.length;s++){var a=this._getColumnGroup(r,s);if(a){var l=a.header||te(a.binding);e.columnHeaders.setCellData(r,s,l),a._curr_header=a.header}}this._colGroups._setChangeHandler(this),this._colGroups.forEach((function(t){t._checkIfCollapsed()}))},t.prototype._getColumnGroup=function(t,e){var i=this._grid;if(t<i.columnHeaders.rows.length&&e<i.columns.length)for(var n=this._colGroups;n;){for(var r=n,o=0;o<n.length;o++){var s=n[o],a=s._rng;if(a.containsColumn(e)){if(a.containsRow(t)||0==s.columns.length)return s;n=s.columns;break}}if(n==r)break}return null},t.prototype._getCollection=function(t){var e=t.parentGroup;return e?e.columns:this._colGroups},t.prototype._assertColumnGroups=function(t){var e=this;Ht(t instanceof Jn,"column groups contain items of invalid collection type"),t.forEach((function(t){Ht(t instanceof Zn,"column groups contain items of invalid type"),e._assertColumnGroups(t.columns)}))},t.prototype._addColumnGroup=function(t){var e=this,i=this._grid;t._rng.col=i.columns.length,0==t.columns.length?i.columns.push(t):t.columns.forEach((function(t){e._addColumnGroup(t)})),t._rng.col2=i.columns.length-1},t.prototype._beginCollectionUpdate=function(){this._updatingCollection++},t.prototype._endCollectionUpdate=function(){this._updatingCollection--,this._updatingCollection<=0&&this.handleCollectionChange()},t.prototype._deferCollectionUpdate=function(t){try{this._beginCollectionUpdate(),t()}finally{this._endCollectionUpdate()}},t}(),Zn=function(t){function e(e,i){var n=t.call(this)||this;n._rng=new Tn(0,-1),n._lvl=0,n._collapsed=!1,n._cols=new Jn,Bt(n,e);var r=i&&i.columns;return r&&r.indexOf(n)<0&&r.push(n),n}return vn(e,t),e.prototype._copy=function(t,e){if("columns"==t){var i=Kt(e);return this._cols=Jn._parse(i),!0}return!1},Object.defineProperty(e.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnGroups",{get:function(){return this._cols},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this._cols.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentGroup",{get:function(){var t=this._ownerList,i=t&&t.owner;return i instanceof e?i:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){for(var t=this,e=0;t.parentGroup;)t=t.parentGroup,e++;return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collapseTo",{get:function(){return this._collTo},set:function(t){var e=Ut(t);this._collTo!=e&&(this._collTo=e,this._updateCollapsedState())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCollapsed",{get:function(){return this._collapsed},set:function(t){var e=this.grid,i=null;t!=this._collapsed&&(e?(i=new Dn(e.columnHeaders,this._rng,this),e.onColumnGroupCollapsedChanging(i)?this._collapsed=Yt(t):i=null):this._collapsed=Yt(t)),this._updateCollapsedState(),e&&i&&e.onColumnGroupCollapsedChanged(i)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"grid",{get:function(){var t=this._ownerList,i=t&&t.owner;return i instanceof e?i.grid:i instanceof $n?i:null},enumerable:!0,configurable:!0}),e.prototype._beginBuild=function(){this._lvl=0;for(var t=this.parentGroup;t;t=t.parentGroup)this._lvl++;this._rng=new Tn(0,-1),this._rng.row=this._rng.row2=this._lvl,this._cols.forEach((function(t){t._beginBuild()}))},e.prototype._setChangeHandler=function(t){this._changeHdl=t,this._cols._setChangeHandler(t)},e.prototype._removeChangeHandler=function(){this._changeHdl=null,this._cols._removeChangeHandler()},e.prototype._setOwnerList=function(t){t!=this._ownerList&&(this._ownerList=t)},e.prototype._checkIfCollapsed=function(){var t=this.grid;t&&t.columns&&(this._collapsed?this._updateCollapsedState():this._cols.forEach((function(t){t._checkIfCollapsed()})))},e.prototype._updateCollapsedState=function(){var t=this.grid,i=t?t.columns:null,n=this._rng,r=this._collapsed;if(i){this._cols.forEach((function(t){t instanceof e&&(t._collapsed=r,t._updateCollapsedState())}));var o=n.rightCol;if(this.collapseTo)switch(this.collapseTo){case"$first":o=n.leftCol;break;case"$last":o=n.rightCol;break;default:var s=i.getColumn(this.collapseTo),a=i.indexOf(s);s&&n.containsColumn(a)&&(o=a)}for(var l=n.leftCol;l<=n.rightCol;l++){var h=!r||l==o;i[l]._setFlag(Fn.ParentCollapsed,!h)}}},e.prototype._getMaxLevel=function(){var t=this._lvl;return this.columns.forEach((function(e){t=Math.max(t,e._getMaxLevel())})),t},e.prototype._expandRange=function(t){var e=t-this._getMaxLevel();e>0&&(this._rng.row2+=e,this._cols.forEach((function(t){t._shiftRange(e)})));for(var i=this.grid.columns,n=this._rng,r=n.col;r<=n.col2;r++)i[r]._rng.row2=t},e.prototype._shiftRange=function(t){this._rng.row+=t,this._rng.row2+=t,this._cols.forEach((function(e){e._shiftRange(t)}))},e.prototype._containsGroup=function(t){for(var e=0;e<this._cols.length;e++){var i=this._cols[e];if(i==t||i._containsGroup(t))return!0}return!1},e.prototype._isCollapseTo=function(t){var e=this.grid,i=e?e.columns:null;if(!t||!i)return!1;if(this.collapseTo)switch(this.collapseTo){case"$first":case"$last":return!1;default:return t===i.getColumn(this.collapseTo)}return!1},e.prototype.onPropertyChanged=function(){var e=this._changeHdl;e&&e.handlePropertyChange(this),t.prototype.onPropertyChanged.call(this)},e}(Un),Jn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vn(e,t),e.prototype.getColumn=function(t){return vt(t)?this._getColByIdx(t):this._findColByProp("name",t)||this._findColByProp("binding",t)},Object.defineProperty(e.prototype,"owner",{get:function(){return this._owner},enumerable:!0,configurable:!0}),e.prototype.push=function(e){return e._setOwnerList(this),t.prototype.push.call(this,e)},e.prototype.splice=function(e,i){for(var n=this,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];for(var s=e;s<e+i&&s<this.length;s++){var a=this[s];a instanceof Zn&&a._setOwnerList(null)}return r.forEach((function(t){return t._setOwnerList(n)})),t.prototype.splice.apply(this,[e,i].concat(r))},e._parse=function(t){var i=null;return t?t instanceof e?i=t:(i=new e,t.forEach((function(t){var e=t instanceof Zn?t:new Zn(t);i.indexOf(e)<0&&i.push(e)}))):i=new e,i},e.prototype._setChangeHandler=function(t){this._changeHdl=t,this.forEach((function(e){return e._setChangeHandler(t)}))},e.prototype._removeChangeHandler=function(){this._changeHdl=null,this.forEach((function(t){return t._removeChangeHandler()}))},e.prototype._setOwner=function(t){this._owner=t,this.forEach((function(t){return t.columns._setOwner(t)}))},e.prototype._getColByIdx=function(t){return t>-1&&t<this.length?this[t]:null},e.prototype._findColByProp=function(t,e){for(var i=0;i<this.length;i++){var n=this[i];if(n[t]===e)return n;if(null!==(n=n.columns._findColByProp(t,e)))return n}return null},e.prototype.onCollectionChanged=function(e){void 0===e&&(e=ht.reset);var i=this._changeHdl;i&&i.handleCollectionChange(),t.prototype.onCollectionChanged.call(this,e)},e}(ti);We("FlexGrid",{groupHeaderFormat:"{name}: <b>{value}</b> ({count:n0} items)",ariaLabels:{toggleDropDown:"Toggle Dropdown",toggleGroup:"Toggle Group"}}),function(t){t[t.None=0]="None",t[t.SingleColumn=1]="SingleColumn",t[t.MultiColumn=2]="MultiColumn"}(Nn||(Nn={})),function(t){t[t.None=0]="None",t[t.SingleColumn=1]="SingleColumn",t[t.ColumnRange=2]="ColumnRange",t[t.Both=3]="Both"}(zn||(zn={})),function(t){t[t.None=0]="None",t[t.Column=1]="Column",t[t.Row=2]="Row",t[t.All=3]="All"}(Bn||(Bn={})),function(t){t[t.Default=0]="Default",t[t.CSV=1]="CSV",t[t.QuoteAll=2]="QuoteAll",t[t.SkipMerged=4]="SkipMerged",t[t.Unformatted=8]="Unformatted",t[t.InvisibleRows=16]="InvisibleRows",t[t.InvisibleColumns=32]="InvisibleColumns",t[t.InvisibleCells=48]="InvisibleCells"}(Hn||(Hn={}));var Qn,$n=function(t){function e(e,i){var n=t.call(this,e,null,!0)||this;n._activeCell=null,n._szClient=new Oe(0,0),n._szClientSB=new Oe(0,0),n._offsetY=0,n._cssPage=0,n._ptScrl=new Re(0,0),n._cellPadLeft=3,n._cellPadHorz=3,n._cellPadVert=0,n._clipToScreen=!1,n._autoGenCols=!0,n._autoClipboard=!0,n._xOnCopyPaste=!0,n._autoScroll=!0,n._autoSearch=!1,n._caseSensitive=!1,n._readOnly=!1,n._indent=14,n._autoSizeMode=wr.Both,n._autoHeights=!1,n._quickSize=null,n._hdrVis=Bn.All,n._alSorting=Nn.SingleColumn,n._alPinning=zn.None,n._alAddNew=!1,n._alDelete=!1,n._alResizing=mr.Columns,n._alDragging=br.Columns,n._alMerging=Qn.None,n._ssHdr=Bn.None,n._shSort=!0,n._shGroups=!0,n._shMarquee=!1,n._shPlcHld=!1,n._altStep=1,n._shErr=!0,n._shDropDown=!0,n._valEdt=!0,n._gHdrFmt=null,n._childItemsPath=null,n._sortRowIndex=null,n._editColIndex=null,n._deferResizing=!1,n._pSel=!0,n._pOutline=!0,n._stickyHdr=!1,n._anchorCursor=!1,n._copyHeaders=Bn.None,n._bigChecks=!1,n._fzClone=null,n._vt=0,n._vtRows=0,n._vtCols=0,n._lazyRender=!0,n._refreshOnEdit=!0,n._reorderCells=!0,n._isISChanging=!1,n._touchEdit=!1,n.itemsSourceChanging=new it,n.itemsSourceChanged=new it,n.scrollPositionChanged=new it,n.selectionChanging=new it,n.selectionChanged=new it,n.loadingRows=new it,n.loadedRows=new it,n.updatingLayout=new it,n.updatedLayout=new it,n.resizingColumn=new it,n.resizedColumn=new it,n.autoSizingColumn=new it,n.autoSizedColumn=new it,n.starSizedColumns=new it,n.draggingColumn=new it,n.draggingColumnOver=new it,n.draggedColumn=new it,n.pinningColumn=new it,n.pinnedColumn=new it,n.resizingRow=new it,n.resizedRow=new it,n.autoSizingRow=new it,n.autoSizedRow=new it,n.draggingRow=new it,n.draggingRowOver=new it,n.draggedRow=new it,n.groupCollapsedChanging=new it,n.groupCollapsedChanged=new it,n.columnGroupCollapsedChanging=new it,n.columnGroupCollapsedChanged=new it,n.sortingColumn=new it,n.sortedColumn=new it,n.beginningEdit=new it,n.prepareCellForEdit=new it,n.cellEditEnding=new it,n.cellEditEnded=new it,n.rowEditStarting=new it,n.rowEditStarted=new it,n.rowEditEnding=new it,n.rowEditEnded=new it,n.rowAdded=new it,n.deletingRow=new it,n.deletedRow=new it,n.copying=new it,n.copied=new it,n.pasting=new it,n.pasted=new it,n.pastingCell=new it,n.pastedCell=new it,n.formatItem=new it((function(){n._clearCells()})),n.updatingView=new it,n.updatedView=new it,n._mappedColumns=null;var r=n.hostElement;D()&&(r.style.borderRadius="0");var o=n.getTemplate();if(n.applyTemplate("wj-control wj-content wj-flexgrid",o,{_root:"root",_eSz:"sz",_eCt:"cells",_fCt:"fcells",_eTL:"tl",_eBL:"bl",_eCHdr:"ch",_eRHdr:"rh",_eCFtr:"cf",_eTLCt:"tlcells",_eBLCt:"blcells",_eCHdrCt:"chcells",_eCFtrCt:"cfcells",_eRHdrCt:"rhcells",_eMarquee:"marquee",_eFocus:"focus"}),Pe(n._root.parentElement,{position:"relative",left:"0",top:"0",width:"100%",height:"100%",overflow:"hidden",minWidth:"inherit",minHeight:"inherit",maxWidth:"inherit",maxHeight:"inherit"}),Pe(n._root,{position:"absolute",left:"0",top:"0",width:"100%",height:"100%",minWidth:"inherit",minHeight:"inherit",maxWidth:"inherit",maxHeight:"inherit",overflow:"auto",webkitOverflowScrolling:"touch"}),Pe(n._eCt,{position:"absolute"}),Pe(n._eMarquee,{display:"none"}),Pe(n._eMarquee.firstChild,{width:"100%",height:"100%"}),Pe(n._fCt,{position:"absolute",left:"0",top:"0",overflow:"hidden",pointerEvents:"none"}),Pe(n._eFocus,{position:"fixed",left:"-32000px"}),Pe(n._eSz,{position:"relative",visibility:"hidden"}),[n._eRHdr,n._eCFtr,n._eCHdr,n._eBL,n._eTL].forEach((function(t){ue(t,"aria-hidden",!0),Pe(t,{position:"absolute",overflow:"hidden",outline:"none"}),Pe(t.firstElementChild,{position:"relative"})})),[n._eFocus,n._eMarquee,n._fCt,n._eSz].forEach((function(t){ue(t,"aria-hidden",!0)})),M()||L()){var s=n._eMarquee;["click","dblclick","mousedown","mouseup"].forEach((function(t){n.addEventListener(s,t,(function(e){var i=s.style.display;s.style.display="none";var n=document.elementFromPoint(e.clientX,e.clientY);s.style.display=i;var r=document.createEvent("Event");for(var o in r.initEvent(t,!0,!0),e)try{r[o]=e[o]}catch(t){}n.dispatchEvent(r)}))}))}return r.tabIndex=-1,n.deferUpdate((function(){var t=n._getDefaultRowHeight();n._rows=new Xn(n,t),n._cols=new qn(n,4*t),n._hdrRows=new Xn(n,t),n._hdrCols=new qn(n,Math.round(1.25*t)),n._ftrRows=new Xn(n,t);var e=En;n._gpTL=new On(n,e.TopLeft,n._hdrRows,n._hdrCols,n._eTLCt),n._gpCHdr=new On(n,e.ColumnHeader,n._hdrRows,n._cols,n._eCHdrCt),n._gpRHdr=new On(n,e.RowHeader,n._rows,n._hdrCols,n._eRHdrCt),n._gpCells=new On(n,e.Cell,n._rows,n._cols,n._eCt),n._gpBL=new On(n,e.BottomLeft,n._ftrRows,n._hdrCols,n._eBLCt),n._gpCFtr=new On(n,e.ColumnFooter,n._ftrRows,n._cols,n._eCFtrCt),n._hdrRows.push(new Gn),n._hdrCols.push(new Un({align:"center"})),n._cf=new sr,n._keyHdl=new vr(n),n._mouseHdl=new Cr(n),n._edtHdl=new gr(n),n._selHdl=n._createSelHdl(),n._addHdl=new er(n),n._grpHdl=new Kn(n),n._mrgMgr=new nr,n._bndSortConverter=n._sortConverter.bind(n),n._errorTip=new yi({isContentHtml:!1,showDelay:0,cssClass:"wj-error-tip"}),ue(n.cells.hostElement,"role","grid"),n.selectionMode=Pn.CellRange,n._root.tabIndex=-1,n.initialize(i)})),n.addEventListener(n._root,"scroll",(function(t){if(n._updateScrollPosition()||n._forceScrollUpdate){var e=n.activeEditor,i=n.activeCell,r=i?i.className:null;n._forceScrollUpdate||n.finishEditing(),n._forceScrollUpdate=!1,n._updateContent(!0);var o=n.activeEditor,s=n.activeCell;o&&s&&e&&r?(o.value=e.value,s.className=r,n._setFocusNoScroll(o)):o&&!s&&n.finishEditing(!0),n.frozenColumns&&setTimeout((function(){var t=n.columnHeaders.hostElement.style,e=parseInt(t.left),i=n._ptScrl.x;Math.abs(e-i)>1&&n.invalidate()}))}})),n.addEventListener(r,"focus",(function(t){if(r.tabIndex>-1){var e=t.target;e instanceof HTMLElement&&e.tabIndex<0&&n._setFocus(!0)}}),!0),n}return vn(e,t),e.prototype._handleResize=function(){var e=this;this._rcBounds=null,this.activeEditor&&this.isTouching||this._touchEdit?setTimeout((function(){e.activeEditor||(e._touchEdit=!0,e.startEditing(!0))}),50):t.prototype._handleResize.call(this),this._touchEdit=!1},Object.defineProperty(e.prototype,"headersVisibility",{get:function(){return this._hdrVis},set:function(t){(t=Jt(t,Bn))!=this._hdrVis&&(this._hdrVis=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stickyHeaders",{get:function(){return this._stickyHdr},set:function(t){t!=this._stickyHdr&&(this._stickyHdr=Yt(t),this._updateStickyHeaders(),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"preserveSelectedState",{get:function(){return this._pSel},set:function(t){this._pSel=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"preserveOutlineState",{get:function(){return this._pOutline},set:function(t){this._pOutline=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchorCursor",{get:function(){return this._anchorCursor},set:function(t){this._anchorCursor=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"copyHeaders",{get:function(){return this._copyHeaders},set:function(t){this._copyHeaders=Jt(t,Bn)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lazyRender",{get:function(){return this._lazyRender},set:function(t){this._lazyRender=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"refreshOnEdit",{get:function(){return this._refreshOnEdit},set:function(t){this._refreshOnEdit=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"virtualizationThreshold",{get:function(){return this._vt},set:function(t){this._vt=t,vt(t)?this._vtRows=this._vtCols=Gt(t):t?Et(t)&&2==t.length?(this._vtRows=Gt(t[0]),this._vtCols=Gt(t[1])):Ht(!1,"virtualizationThreshold should be a number or an array with two numbers."):this._vtRows=this._vtCols=0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoGenerateColumns",{get:function(){return this._autoGenCols},set:function(t){this._autoGenCols=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoClipboard",{get:function(){return this._autoClipboard},set:function(t){this._autoClipboard=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"expandSelectionOnCopyPaste",{get:function(){return this._xOnCopyPaste},set:function(t){this._xOnCopyPaste=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoScroll",{get:function(){return this._autoScroll},set:function(t){this._autoScroll=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoSearch",{get:function(){return this._autoSearch},set:function(t){this._autoSearch=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"caseSensitiveSearch",{get:function(){return this._caseSensitive},set:function(t){this._caseSensitive=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnLayout",{get:function(){var t,i=this._hasColumnGroups(),n=i?Zn:Un,r=i?"columnGroups":"columns",o=e._getSerializableProperties(n),s=new n,a=i?this.getColumnGroups():this.columns,l=function(t){var e=[];return t.forEach((function(t){var n={};if(o.forEach((function(e){var i=t[e];i!=s[e]&&mt(i)&&"size"!=e&&(n[e]=i)})),i){var r=t.columns;r.length&&(n.columns=l(r))}e.push(n)})),e},h=l(a);return JSON.stringify(((t={})[r]=h,t))},set:function(t){var e=this,i=JSON.parse(Ut(t));Ht(i,"Invalid columnLayout data."),this.columns.deferUpdate((function(){e.columns.clear(),e._hasColumnGroups()&&(e.columnGroups=new Jn),e.initialize(i)}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnGroups",{get:function(){return this._grpHdl.getGroupDefinitions()},set:function(t){this.columns.clear(),this._grpHdl.createColumnGroups(Kt(t))},enumerable:!0,configurable:!0}),e.prototype.getColumnGroups=function(){return this._grpHdl.columnGroups},Object.defineProperty(e.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){t!=this._readOnly&&(this._readOnly=Yt(t),this.finishEditing(),this.invalidate(!0),this._addHdl.updateNewRowTemplate(),he(this.hostElement,"wj-state-readonly",this.isReadOnly),this._setAria("readonly",this.isReadOnly?"true":null))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bigCheckboxes",{get:function(){return this._bigChecks},set:function(t){this._bigChecks=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisabled",{get:function(){return this._e&&null!=this._e.getAttribute("disabled")},set:function(t){if((t=Yt(t,!0))!=this.isDisabled){var e=this._e;e&&(ke(e,!t),this._updateTabIndex(),this.invalidate())}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imeEnabled",{get:function(){return null!=this._imeHdl},set:function(t){if(Yt(t)!=this.imeEnabled&&this.finishEditing()){var e=this.containsFocus();this._imeHdl&&(this._imeHdl.dispose(),this._imeHdl=null),t&&(this._imeHdl=new tr(this)),e&&this.focus()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowResizing",{get:function(){return this._alResizing},set:function(t){this._alResizing=Jt(t,mr)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deferResizing",{get:function(){return this._deferResizing},set:function(t){this._deferResizing=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoSizeMode",{get:function(){return this._autoSizeMode},set:function(t){this._autoSizeMode=Jt(t,wr)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoRowHeights",{get:function(){return this._autoHeights},set:function(t){this._autoHeights=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"quickAutoSize",{get:function(){return this._quickSize},set:function(t){this._quickSize=Yt(t,!0)},enumerable:!0,configurable:!0}),e.prototype._getQuickAutoSize=function(){return xt(this._quickSize)?this._quickSize:!this.formatItem.hasHandlers&&null==this.itemFormatter},Object.defineProperty(e.prototype,"allowSorting",{get:function(){return this._alSorting},set:function(t){xt(t)&&(t=t?Nn.SingleColumn:Nn.None),this._alSorting=Jt(t,Nn)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowPinning",{get:function(){return this._alPinning},set:function(t){t!=this._alPinning&&(xt(t)&&(t=t?zn.SingleColumn:zn.None),this._alPinning=Jt(t,zn),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowAddNew",{get:function(){return this._alAddNew},set:function(t){t!=this._alAddNew&&(this._alAddNew=Yt(t),this._addHdl.updateNewRowTemplate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"newRowAtTop",{get:function(){return this._addHdl.newRowAtTop},set:function(t){this._addHdl.newRowAtTop=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowDelete",{get:function(){return this._alDelete},set:function(t){t!=this._alDelete&&(this._alDelete=Yt(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowMerging",{get:function(){return this._alMerging},set:function(t){(t=Jt(t,Qn))!=this._alMerging&&(this._alMerging=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showSelectedHeaders",{get:function(){return this._ssHdr},set:function(t){(t=Jt(t,Bn))!=this._ssHdr&&(this._ssHdr=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showMarquee",{get:function(){return this._shMarquee},set:function(t){t!=this._shMarquee&&(this._shMarquee=Yt(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showPlaceholders",{get:function(){return this._shPlcHld},set:function(t){this._shPlcHld=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showSort",{get:function(){return this._shSort},set:function(t){t!=this._shSort&&(this._shSort=Yt(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showGroups",{get:function(){return this._shGroups},set:function(t){t!=this._shGroups&&(this._shGroups=Yt(t),this._bindGrid(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alternatingRowStep",{get:function(){return this._altStep},set:function(t){t!=this._altStep&&(this._altStep=Wt(t,!1,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showAlternatingRows",{get:function(){return this._altStep>0},set:function(t){Vt("showAlternatingRows","alternatingRowStep"),this.alternatingRowStep=t?1:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showErrors",{get:function(){return this._shErr},set:function(t){t!=this._shErr&&(this._clearCells(),this._shErr=Yt(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errorTip",{get:function(){return this._errorTip},set:function(t){t!=this._errorTip&&(this._clearCells(),this._errorTip=Zt(t,yi,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemValidator",{get:function(){return this._itemValidator},set:function(t){t!=this.itemValidator&&(this._itemValidator=Xt(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validateEdits",{get:function(){return this._valEdt},set:function(t){this._valEdt=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupHeaderFormat",{get:function(){return this._gHdrFmt},set:function(t){t!=this._gHdrFmt&&(this._gHdrFmt=Ut(t),this._bindGrid(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowDragging",{get:function(){return this._alDragging},set:function(t){(t=Jt(t,br))!=this._alDragging&&(this._alDragging=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemsSource",{get:function(){return this._items},set:function(t){var e=this;if(t!=this._items){var i=new rt;if(this.onItemsSourceChanging(i)){var n;if(this._cv&&((n=this._cv).currentChanged.removeHandler(null,this),n.collectionChanged.removeHandler(null,this),n instanceof ei&&n.sortConverter==this._bndSortConverter&&(n.sortConverter=null),this._cv=null),this._items=t,this._cv=this._getCollectionView(t),this._lastCount=0,this._cv)(n=this._cv).currentChanged.addHandler((function(t,i){return e._cvCurrentChanged(t,i)}),this),n.collectionChanged.addHandler((function(t,i){return e._cvCollectionChanged(t,i)}),this),n instanceof ei&&!n.sortConverter&&(n.sortConverter=this._bndSortConverter);this._isISChanging=!0,this._bindGrid(!0),this._isISChanging=!1,this.onItemsSourceChanged(i)}}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"editableCollectionView",{get:function(){return _t(this._cv,"IEditableCollectionView")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"childItemsPath",{get:function(){return this._childItemsPath},set:function(t){t!=this._childItemsPath&&(Ht(null==t||Et(t)||wt(t),"childItemsPath should be an array or a string."),this._childItemsPath=t,this._bindGrid(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowHeaderPath",{get:function(){return this._rowHdrPath?this._rowHdrPath.path:null},set:function(t){t!=this.rowHeaderPath&&(t=Ut(t),this._rowHdrPath=t?new tt(t):null,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cells",{get:function(){return this._gpCells},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnHeaders",{get:function(){return this._gpCHdr},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnFooters",{get:function(){return this._gpCFtr},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowHeaders",{get:function(){return this._gpRHdr},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topLeftCells",{get:function(){return this._gpTL},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomLeftCells",{get:function(){return this._gpBL},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),e.prototype.getColumn=function(t,e){if(this._hasColumnGroups()&&e){var i=this.getColumnGroups();return null!==i?i.getColumn(t):null}return this.columns.getColumn(t)},Object.defineProperty(e.prototype,"frozenRows",{get:function(){return this.rows.frozen},set:function(t){this.rows.frozen=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"frozenColumns",{get:function(){return this.columns.frozen},set:function(t){this.columns.frozen=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cloneFrozenCells",{get:function(){return this._fzClone},set:function(t){t!=this._fzClone&&(Ce(this._fCt,null),this._fzClone=Yt(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortRowIndex",{get:function(){return this._sortRowIndex},set:function(t){t!=this._sortRowIndex&&(this._sortRowIndex=Gt(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"editColumnIndex",{get:function(){return this._editColIndex},set:function(t){t!=this._editColIndex&&(this._editColIndex=Gt(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollPosition",{get:function(){return this._ptScrl.clone()},set:function(t){var i=this._root,n=-t.x;if(this.rightToLeft)switch(e._getRtlMode()){case"rev":n=i.scrollWidth-i.clientWidth+t.x;break;case"neg":n=t.x;break;default:n=-t.x}i.scrollLeft=n,i.scrollTop=-t.y,this._updateScrollPosition()&&(this._forceScrollUpdate=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clientSize",{get:function(){return this._szClient},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controlRect",{get:function(){return this._rcBounds||(this._rcBounds=Te(this._root)),this._rcBounds},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollSize",{get:function(){return new Oe(this._gpCells.width,this._heightBrowser)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewRange",{get:function(){return this._gpCells.viewRange},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cellFactory",{get:function(){return this._cf},set:function(t){t!=this._cf&&(this._clearCells(),this._cf=Zt(t,sr,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._clearCells(),this._itemFormatter=Xt(t))},enumerable:!0,configurable:!0}),e.prototype.canEditCell=function(t,e){return this._edtHdl._allowEdit(t,e)},e.prototype.getCellData=function(t,e,i){return this.cells.getCellData(t,e,i)},e.prototype.getCellBoundingRect=function(t,e,i){return this.cells.getCellBoundingRect(t,e,i)},e.prototype.setCellData=function(t,e,i,n,r){return void 0===n&&(n=!0),void 0===r&&(r=!0),this.cells.setCellData(t,e,i,n,r)},e.prototype.hitTest=function(t,e){return vt(t)&&vt(e)&&(t=new Re(t,e)),xt(e)&&e&&(this._rcBounds=null),new rr(this,t)},e.prototype.getClipString=function(t,e,i,n){var r;return Ht(vt(r=null==e||xt(e)?e?Hn.CSV:Hn.Default:e),"Unexpected value for ClipStringOptions parameter."),this._edtHdl.getClipString(t,r,i,n)},e.prototype.setClipString=function(t,e){this._edtHdl.setClipString(t,e)},e.prototype.focus=function(t){this.isDisabled||this._setFocus(t)},e.prototype.dispose=function(){this.finishEditing(!0),this.itemsSource=null,t.prototype.dispose.call(this)},e.prototype.refresh=function(e){void 0===e&&(e=!0),t.prototype.refresh.call(this,e),this.finishEditing(),e&&(this._updateColumnTypes(),this.scrollPosition=this._ptScrl,this._updateDefaultSizes(),clearTimeout(this._toInv),this._toInv=null),this.refreshCells(e);var i=this._e;i&&(this._szCtl=new Oe(i.offsetWidth,i.offsetHeight))},e.prototype.refreshCells=function(t,e,i){this.isUpdating||(t?this._updateLayout():this._updateContent(e,i))},e.prototype.refreshRange=function(t){for(var e=t.topRow;e<=t.bottomRow;e++)for(var i=t.leftCol;i<=t.rightCol;i++){var n=this.cells.getCellElement(e,i);if(n){var r=n[On._INDEX_KEY];this.cellFactory.updateCell(this.cells,e,i,n,r.rng)}}},e.prototype.autoSizeColumn=function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=4),this.autoSizeColumns(t,t,e,i)},e.prototype.autoSizeColumns=function(t,i,n,r){var o=this;void 0===n&&(n=!1),void 0===r&&(r=4);var s=0,a=n?this.topLeftCells:this.columnHeaders,l=n?this.bottomLeftCells:this.columnFooters,h=n?this.rowHeaders:this.cells,u=this.viewRange;t=null==t?0:Wt(t),i=null==i?h.columns.length-1:Wt(i),u.row=Math.max(0,u.row-1e3),u.row2=Math.min(u.row2+1e3,this.rows.length-1),this.finishEditing()&&this.columns.deferUpdate((function(){Pe(o._eCt,{width:o._gpCells.width});for(var n=xe("<div "+e._WJS_MEASURE+'="true"/>',h.hostElement,{visibility:"hidden"}),c=o._getCanvasContext(),d=t;d<=i&&d>-1&&d<h.columns.length;d++){var f=h.columns[d];if(f.isVisible){if(s=0,o.autoSizeMode&wr.Headers){for(var p=0;p<a.rows.length;p++)a.rows[p].isVisible&&(s=Math.max(o._getDesiredWidth(a,p,d,n),s));for(p=0;p<l.rows.length;p++)l.rows[p].isVisible&&(s=Math.max(o._getDesiredWidth(l,p,d,n),s))}if(o.autoSizeMode&wr.Cells&&u.row>-1&&u.row2>-1)if(f._getQuickAutoSize())p=o._getWidestRow(h,u,d,c),s=Math.max(o._getDesiredWidth(h,p,d,n),s);else for(p=u.row;p<=u.row2&&p<h.rows.length;p++)h.rows[p].isVisible&&(s=Math.max(o._getDesiredWidth(h,p,d,n),s));s>0&&(f.width=s+r+2)}}o.cellFactory.disposeCell(n),ge(n)}))},e.prototype.autoSizeRow=function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=0),this.autoSizeRows(t,t,e,i)},e.prototype.autoSizeRows=function(t,i,n,r){var o=this;void 0===n&&(n=!1),void 0===r&&(r=0);var s=0,a=1==n?this.topLeftCells:null==n?this.bottomLeftCells:this.rowHeaders,l=1==n?this.columnHeaders:null==n?this.columnFooters:this.cells;if(r=Gt(r),t=null==t?0:Wt(t),(i=null==i?l.rows.length-1:Wt(i))>=t&&this.finishEditing()){Pe(this._eCt,{width:this._gpCells.width});var h=xe("<div "+e._WJS_MEASURE+'="true"/>',l.hostElement,{visibility:"hidden"});this.rows.deferUpdate((function(){for(var e={},n=o._autoSizeMode,u=wr,c=t;c<=i&&c>-1&&c<l.rows.length;c++)l.rows[c].isVisible&&(s=0,n&u.Headers&&(s=o._getDesiredRowHeight(a,c,h,e)),n&u.Cells&&(s=Math.max(o._getDesiredRowHeight(l,c,h,e),s)),s>0&&(l.rows[c].height=s+r))})),this.cellFactory.disposeCell(h),ge(h)}},Object.defineProperty(e.prototype,"treeIndent",{get:function(){return this._indent},set:function(t){t!=this._indent&&(this._indent=Gt(t,!1,!0),this.columns.onCollectionChanged())},enumerable:!0,configurable:!0}),e.prototype.collapseGroupsToLevel=function(t){var e=this;this.finishEditing()&&this.deferUpdate((function(){var i=e.rows;i.deferUpdate((function(){for(var e=0;e<i.length;e++){var n=i[e];n instanceof Wn&&(n.isCollapsed=n.level>=t)}}))}))},Object.defineProperty(e.prototype,"selectionMode",{get:function(){return this._selHdl.selectionMode},set:function(t){(t=Jt(t,Pn))!=this.selectionMode&&(this._selHdl.selectionMode=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selection",{get:function(){return this._selHdl.selection.clone()},set:function(t){this._selHdl.selection=t},enumerable:!0,configurable:!0}),e.prototype.select=function(t,e){return void 0===e&&(e=!0),this._selHdl.select(t,e)},e.prototype.selectAll=function(){var t=this.rows.length,e=this.columns.length;return!(!t||!e)&&this.select(new Tn(0,0,t-1,e-1),!1)},e.prototype.getSelectedState=function(t,e){return this.cells.getSelectedState(t,e)},Object.defineProperty(e.prototype,"selectedRows",{get:function(){var t=this,e=this.selectionMode,i=this.rows.filter((function(t){return t.isSelected}));if(0==i.length&&e!=Pn.None){var n=[];this.selectedRanges.forEach((function(e){for(var i=e.topRow;i<=e.bottomRow&&i>-1&&i<t.rows.length;i++)n.indexOf(i)<0&&n.push(i)})),n.sort(),i=n.map((function(e){return t.rows[e]}))}return i},set:function(t){var e=this;Ht(this.selectionMode==Pn.ListBox,"This property can be set only in ListBox mode."),t=Kt(t),this.deferUpdate((function(){for(var i=0,n=!0;i<e.rows.length;i++){var r=e.rows[i],o=t&&t.indexOf(r)>-1;o&&n&&(n=!1,e.select(i,e.selection.col)),r.isSelected=o}}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedItems",{get:function(){var t=[];return this.selectedRows.forEach((function(e){var i=e?e.dataItem:null;i&&t.indexOf(i)<0&&t.push(i)})),t},set:function(t){var e=this;Ht(this.selectionMode==Pn.ListBox,"This property can be set only in ListBox mode."),t=Kt(t),this.deferUpdate((function(){for(var i=0,n=!0;i<e.rows.length;i++){var r=e.rows[i],o=t&&t.indexOf(r.dataItem)>-1;o&&n&&(n=!1,e.select(i,e.selection.col)),r.isSelected=o}}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedRanges",{get:function(){var t=[this.selection];return this._selHdl.extendedSelection.forEach((function(e){t.push(e)})),t},set:function(t){if((t=Kt(t))&&t.length>0&&(this.select(t[0]),this.selectionMode==Pn.MultiRange)){var e=this._selHdl.extendedSelection;e.deferUpdate((function(){e.clear();for(var i=1;i<t.length;i++)e.push(t[i])}))}},enumerable:!0,configurable:!0}),e.prototype.scrollIntoView=function(t,e,i){(null==this._maxOffsetY||this._rows._dirty||this._cols._dirty)&&this._updateLayout();var n=this.scrollPosition,r=this._szClient,o=r.width,s=r.height-this._gpCFtr.rows.getTotalSize(),a=this.cells._getFrozenPos();if((t=Wt(t))>-1&&t<this._rows.length&&t>=this._rows.frozen){var l=this._rows[t],h=this._getCssPage(l.pos);if(h!=this._cssPage){for(var u=this._maxOffsetY,c=Math.round(u*h);c>l.pos;h-=.1)c=Math.round(u*h);this._offsetY=c}var d=l.pos-this._offsetY,f=d+l.renderSize;f>s-n.y&&(n.y=Math.max(-d,s-f)),d-a.y<-n.y&&(n.y=-(d-a.y)),h!=this._cssPage&&(this._cssPage=this._getCssPage(-n.y))}if(wt(e)&&(e=this.columns.indexOf(e)),(e=Wt(e))>-1&&e<this._cols.length&&e>=this._cols.frozen){var p=this._cols[e],g=p.pos+p.renderSize;g>-n.x+o&&(n.x=Math.max(-p.pos,o-g)),p.pos-a.x<-n.x&&(n.x=-(p.pos-a.x))}if(!n.equals(this._ptScrl))return this.scrollPosition=n,i&&(this._updateScrollPosition(),this._forceScrollUpdate=!1,this.refresh()),!0;if(this._activeCell&&t>-1&&e>-1){var _=this._root,m=_.scrollWidth==_.clientWidth,w=_.scrollHeight==_.clientHeight;if(m||w){var b=this._activeCell.getBoundingClientRect(),v=innerWidth,y=innerHeight,x=b.right<0||b.left>v,C=b.bottom<0||b.top>y;n.x=pageXOffset+(b.left<0?b.left:b.right>v?b.right-v:0),n.y=pageYOffset+(b.top<0?b.top:b.bottom>y?b.bottom-y:0),x&&m&&C&&w?scrollTo(n.x,n.y):x&&m?scrollTo(n.x,document.documentElement.scrollLeft):C&&w&&scrollTo(document.documentElement.scrollTop,n.y)}}return!1},e.prototype.isRangeValid=function(t){return t&&t.isValid&&t.bottomRow<this.rows.length&&t.rightCol<this.columns.length},e.prototype.startEditing=function(t,e,i,n,r){return void 0===t&&(t=!0),this._edtHdl.startEditing(t,e,i,n,r)},e.prototype.finishEditing=function(t){return this._edtHdl.finishEditing(t)},Object.defineProperty(e.prototype,"activeCell",{get:function(){return this._activeCell},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeEditor",{get:function(){var t=this._edtHdl;return t?t.activeEditor:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"editRange",{get:function(){var t=this._edtHdl.editRange;return t?t.clone():null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mergeManager",{get:function(){return this._mrgMgr},set:function(t){t!=this._mrgMgr&&(this._mrgMgr=Zt(t,nr,!0),this.invalidate())},enumerable:!0,configurable:!0}),e.prototype.getMergedRange=function(t,e,i,n){return void 0===n&&(n=!0),this._mrgMgr?this._mrgMgr.getMergedRange(t,e,i,n):null},Object.defineProperty(e.prototype,"keyActionTab",{get:function(){return this._keyHdl._kaTab},set:function(t){this._keyHdl._kaTab=Jt(t,pr)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keyActionEnter",{get:function(){return this._keyHdl._kaEnter},set:function(t){this._keyHdl._kaEnter=Jt(t,pr)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"preserveWhiteSpace",{get:function(){return se(this.hostElement,e._WJS_WSPRE)},set:function(t){he(this.hostElement,e._WJS_WSPRE,Yt(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showDropDown",{get:function(){return this._shDropDown},set:function(t){t!=this._shDropDown&&(this._shDropDown=Yt(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),e.prototype.toggleDropDownList=function(){return this._tglDropDown||(this._tglDropDown=!0,this._edtHdl._toggleListBox(null),this._tglDropDown=!1),null!=this._edtHdl._lbx},Object.defineProperty(e,"defaultTypeWidth",{get:function(){return e._defTypeWidth},enumerable:!0,configurable:!0}),e.prototype.onItemsSourceChanging=function(t){return this.itemsSourceChanging.raise(this,t),!t.cancel},e.prototype.onItemsSourceChanged=function(t){this.itemsSourceChanged.raise(this,t)},e.prototype.onScrollPositionChanged=function(t){this.scrollPositionChanged.raise(this,t)},e.prototype.onSelectionChanging=function(t){return this.selectionChanging.raise(this,t),!t.cancel},e.prototype.onSelectionChanged=function(t){this.selectionChanged.raise(this,t)},e.prototype.onLoadingRows=function(t){return this.loadingRows.raise(this,t),!t.cancel},e.prototype.onLoadedRows=function(t){this.loadedRows.raise(this,t),this._autoRowHeights()},e.prototype.onUpdatingLayout=function(t){return this.updatingLayout.raise(this,t),!t.cancel},e.prototype.onUpdatedLayout=function(t){this.updatedLayout.raise(this,t)},e.prototype.onResizingColumn=function(t){return this.resizingColumn.raise(this,t),!t.cancel},e.prototype.onResizedColumn=function(t){this.resizedColumn.raise(this,t),this._autoRowHeights()},e.prototype.onAutoSizingColumn=function(t){return this.autoSizingColumn.raise(this,t),!t.cancel},e.prototype.onAutoSizedColumn=function(t){this.autoSizedColumn.raise(this,t)},e.prototype.onStarSizedColumns=function(t){this.starSizedColumns.raise(this,t),this._autoRowHeights()},e.prototype.onDraggingColumn=function(t){return this.draggingColumn.raise(this,t),!t.cancel},e.prototype.onDraggingColumnOver=function(t){return this.draggingColumnOver.raise(this,t),!t.cancel},e.prototype.onDraggedColumn=function(t){this.draggedColumn.raise(this,t)},e.prototype.onPinningColumn=function(t){return this.pinningColumn.raise(this,t),!t.cancel},e.prototype.onPinnedColumn=function(t){this.pinnedColumn.raise(this,t)},e.prototype.onResizingRow=function(t){return this.resizingRow.raise(this,t),!t.cancel},e.prototype.onResizedRow=function(t){this.resizedRow.raise(this,t)},e.prototype.onAutoSizingRow=function(t){return this.autoSizingRow.raise(this,t),!t.cancel},e.prototype.onAutoSizedRow=function(t){this.autoSizedRow.raise(this,t)},e.prototype.onDraggingRow=function(t){return this.draggingRow.raise(this,t),!t.cancel},e.prototype.onDraggingRowOver=function(t){return this.draggingRowOver.raise(this,t),!t.cancel},e.prototype.onDraggedRow=function(t){this.draggedRow.raise(this,t)},e.prototype.onGroupCollapsedChanging=function(t){return this.groupCollapsedChanging.raise(this,t),!t.cancel},e.prototype.onGroupCollapsedChanged=function(t){this.groupCollapsedChanged.raise(this,t)},e.prototype.onColumnGroupCollapsedChanging=function(t){return this.columnGroupCollapsedChanging.raise(this,t),!t.cancel},e.prototype.onColumnGroupCollapsedChanged=function(t){this.columnGroupCollapsedChanged.raise(this,t)},e.prototype.onSortingColumn=function(t){return this.sortingColumn.raise(this,t),!t.cancel},e.prototype.onSortedColumn=function(t){this.sortedColumn.raise(this,t)},e.prototype.onBeginningEdit=function(t){return this._addHdl._beginningEdit(this,t),t.cancel||this.beginningEdit.raise(this,t),!t.cancel},e.prototype.onPrepareCellForEdit=function(t){this.prepareCellForEdit.raise(this,t)},e.prototype.onCellEditEnding=function(t){return this.cellEditEnding.raise(this,t),!t.cancel&&!t.stayInEditMode},e.prototype.onCellEditEnded=function(t){this.cellEditEnded.raise(this,t),this._autoRowHeights()},e.prototype.onRowEditStarting=function(t){return this._addHdl._rowEditStarting(this,t),t.cancel||this.rowEditStarting.raise(this,t),!t.cancel},e.prototype.onRowEditStarted=function(t){this.rowEditStarted.raise(this,t)},e.prototype.onRowEditEnding=function(t){this._addHdl._rowEditEnding(this,t),this.rowEditEnding.raise(this,t)},e.prototype.onRowEditEnded=function(t){this.rowEditEnded.raise(this,t),this._addHdl._rowEditEnded(this,t),this._autoRowHeights()},e.prototype.onRowAdded=function(t){return this.rowAdded.raise(this,t),!t.cancel},e.prototype.onDeletingRow=function(t){return this.deletingRow.raise(this,t),!t.cancel},e.prototype.onDeletedRow=function(t){this.deletedRow.raise(this,t)},e.prototype.onCopying=function(t){return this.copying.raise(this,t),!t.cancel},e.prototype.onCopied=function(t){this.copied.raise(this,t)},e.prototype.onPasting=function(t){return this.pasting.raise(this,t),!t.cancel},e.prototype.onPasted=function(t){this.pasted.raise(this,t)},e.prototype.onPastingCell=function(t){return this.pastingCell.raise(this,t),!t.cancel},e.prototype.onPastedCell=function(t){this.pastedCell.raise(this,t)},e.prototype.onFormatItem=function(t){this.formatItem.raise(this,t)},e.prototype.onUpdatingView=function(t){return this.updatingView.raise(this,t),!t.cancel},e.prototype.onUpdatedView=function(t){this.updatedView.raise(this,t)},e.prototype._createSelHdl=function(){return new Ln(this)},e.prototype._getTabIndex=function(){return this._orgTabIndex},e.prototype._setTabOrder=function(t){this._orgTabIndex=t,this._updateTabIndex()},e.prototype._updateTabIndex=function(){var t=this.isDisabled?-1:this._orgTabIndex,e=this._imeHdl;e&&e._updateImeFocus();var i=this._activeCell,n=this._eFocus;i?(i.tabIndex=t,n.tabIndex=-1):n.tabIndex=t},e.prototype._autoRowHeights=function(){var t=this;this._autoHeights&&(this.rows.length>100&&[this.columnHeaders,this.rowHeaders].forEach((function(t){t._updateContent(!0,!1,t._getOffsetY())})),clearTimeout(this._toAutoHeights),this._toAutoHeights=setTimeout((function(){if(t._toAutoHeights=null,!t.editRange){var e=t.autoSizeMode,i=wr;e&i.Headers&&(t._autoSizeMode=i.Both,t.autoSizeRows(0,t.columnHeaders.rows.length-1,!0),t._autoSizeMode=e),e&i.Cells&&t.autoSizeRows()}}),li._REFRESH_INTERVAL))},e.prototype._getShowErrors=function(){return this.showErrors&&this._hasValidation},e.prototype._getHasValidation=function(){return this._hasValidation},e.prototype._getError=function(t,e,i,n){if(Ct(this.itemValidator)){if(t==this.cells)return this.itemValidator(e,i,n);if(t==this.rowHeaders)for(i=0;i<this.columns.length;i++)if(h=this.itemValidator(e,i,n))return h}var r=this._cv,o=r?r.getError:null;if(Ct(o)){var s=t.rows,a=this.columns,l=s[e].dataItem;if(l&&!(l instanceof ii))if(t==this.cells)for(;e<s.length&&s[e].dataItem==l;e++)return o(l,this._getBindingColumn(this.cells,e,a[i]).binding,n);else if(t==this.rowHeaders){var h;if(!(h=o(l,null,!1))){for(var u=[];e<s.length&&s[e].dataItem==l;e++)for(i=0;i<a.length;i++)(h=o(l,this._getBindingColumn(this.cells,e,a[i]).binding,!1))&&u.indexOf(h)<0&&u.push(h);if(u.length){var c=this.errorTip,d=!!c&&c.isContentHtml;h=u.join(d?"<br/>":"\n")}}return h}}return null},e.prototype._setAria=function(t,e){ue(this.cells.hostElement,"aria-"+t,e)},e.prototype._setFocus=function(t){if(this.hostElement&&(t||!this.containsFocus())){var e=_e(),i=this.activeEditor,n=this._activeCell,r=this._eFocus,o=this._root,s=this._getTabIndex();i?je(i,e)||(i.focus(),r.tabIndex=-1):n?je(n,e)||e==this._root||(D()&&se(n,"wj-group")&&(n=n.querySelector("."+sr._WJC_COLLAPSE)||n),n.tabIndex=s,this._setFocusNoScroll(n),r.tabIndex=-1):je(r,e)||e==o||(r.tabIndex=s,this._setFocusNoScroll(r)),this.containsFocus()||(r.tabIndex=s,this._setFocusNoScroll(r))}},e.prototype._setFocusNoScroll=function(t){if(_e()!=t){if(H())t.focus({preventScroll:!0});else{var e=this.scrollPosition,i=t.style,n=i.position;i.position="fixed",t.focus(),i.position=n,this.scrollPosition=e}this._fixScroll()}},e.prototype._updateDefaultSizes=function(){var t=this._getDefaultRowHeight();return this._rows._setDefaultSize(t),this._cols._setDefaultSize(4*t),this._hdrRows._setDefaultSize(t),this._hdrCols._setDefaultSize(Math.round(1.25*t)),this._ftrRows._setDefaultSize(t),t},e.prototype._getDefaultRowHeight=function(){var t=this.hostElement,e=this._eFocus,i=null;e.offsetHeight||(i=xe('<div><div class="wj-cell">0</div></div>',document.body),t&&i.setAttribute("class",t.getAttribute("class")),e=i.children[0]);var n=e.offsetHeight;return(isNaN(n)||n<=6)&&(n=28),ge(i),n},e.prototype._getCollectionView=function(t){return Qt(t)},e.prototype._getCanvasContext=function(){var t=document.createElement("canvas").getContext("2d"),e=getComputedStyle(this.hostElement);return t.font=e.fontSize+" "+e.fontFamily.split(",")[0],t},e.prototype._getWidestRow=function(t,e,i,n){for(var r=0,o=0,s=1===this._getRowsPerItem()&&t.columns[i].dataType==lt.Boolean,a=e.row;a<=e.row2;a++)if(t.rows[a].isVisible){var l=t.getCellData(a,i,!0),h=n.measureText(l).width,u=this.getMergedRange(t,a,i,!1);if(u&&u.columnSpan>1&&(h/=u.columnSpan),h>o&&(o=h,r=a),s)break;a+=u?u.rowSpan-1:0}return r},e.prototype._getDesiredWidth=function(t,e,i,n){var r=this.getMergedRange(t,e,i,!1),o=n.style;return this.cellFactory.updateCell(t,e,i,n,r),o.width=o.top=o.left="",n.offsetWidth/(r&&r.columnSpan>1?r.columnSpan:1)},e.prototype._getDesiredHeight=function(t,e,i,n){var r=n.style,o=this.getMergedRange(t,e,i,!1),s=o?o.rowSpan:1;return this.cellFactory.updateCell(t,e,i,n,o),n.innerHTML.trim()||(n.innerHTML="&nbsp;"),r.height=r.top=r.left="",n.offsetHeight/s},e.prototype._getDesiredRowHeight=function(t,e,i,n){for(var r=0,o=(t.rows[e],this._getQuickAutoSize()),s=0;s<t.columns.length;s++)if(t.columns[s].isVisible){var a=this.getMergedRange(t,e,s,!1),l=void 0;if(o){var h={ct:t.cellType,col:s,spr:a&&a.rowSpan>1?a.rowSpan:1,spc:a&&a.columnSpan>1?a.columnSpan:1,data:t.getCellData(e,s,!0)||"1"},u=JSON.stringify(h);null==(l=n[u])&&(l=this._getDesiredHeight(t,e,s,i),n[u]=l)}else l=this._getDesiredHeight(t,e,s,i);r=Math.max(l,r),s+=a?a.columnSpan-1:0}return r},e.prototype._getSortRowIndex=function(){return null!=this._sortRowIndex?this._sortRowIndex:this.columnHeaders.rows.length-1},e.prototype._getDeleteColumnIndex=function(){return 0},e.prototype._getEditColumnIndex=function(){return null!=this._editColIndex?this._editColIndex:this.rowHeaders.columns.length-1},e.prototype._sortConverter=function(t,e,i,n){var r,o=this;if(n&&(this._mappedColumns=null,this._cv&&this._cv.sortDescriptions.forEach((function(t){(r=o.getColumn(t.property))&&r.dataMap&&(o._mappedColumns||(o._mappedColumns={}),o._mappedColumns[r.binding]=r.dataMap)})),this._mouseHdl._htDown&&this._mouseHdl._htDown.col>-1&&(r=this.columns[this._mouseHdl._htDown.col],this._mappedColumns&&r.dataMap&&(this._mappedColumns[r.binding]=r.dataMap))),this._mappedColumns){var s=this._mappedColumns[t.property];s&&s.sortByDisplayValues&&(i=s.getDisplayValue(i))}return i},e.prototype._bindGrid=function(t){var e=this;if(this.finishEditing(),this.deferUpdate((function(){var i,n;if(e.autoGenerateColumns&&0==e._lastCount&&$t(e._cv)&&(t=!0),e.preserveSelectedState&&(i=e._getMap())&&e.rows.forEach((function(t){t.isSelected&&t.dataItem&&i.set(t.dataItem,!0)})),e.preserveOutlineState&&e.rows.maxGroupLevel>-1&&(n=e._getMap()))for(var r=0;r<e.rows.length;r++){var o=e.rows[r];if(o instanceof Wn&&o.isCollapsed&&o.dataItem){var s=o.dataItem;s instanceof ii&&(s=s._path),n.set(s,!0)}}t&&e.columns.deferUpdate((function(){e._bindColumns()}));var a=new rt;e.onLoadingRows(a)&&(e.rows.deferUpdate((function(){e._bindRows()})),e.onLoadedRows(a)),e._selHdl.extendedSelection.clear();var l=0;if(i&&i.size&&e.rows.forEach((function(t){var e=t.dataItem;e&&i.has(e)&&(t.isSelected=!0,l++)})),0==l&&e.selectionMode==Pn.ListBox){var h=e.selection;for(r=h.topRow;r<=h.bottomRow&&r>-1&&r<e.rows.length;r++)e.rows[r]._setFlag(Fn.Selected,!0,!0)}if(n&&n.size&&e.rows.deferUpdate((function(){e.rows.forEach((function(t){if(t instanceof Wn){var e=t.dataItem;e instanceof ii&&(e=e._path),n.has(e)&&(t.isCollapsed=!0)}}))})),!e._lastCount){var u=e._cv;u&&u.items&&(e._lastCount=u.items.length)}})),this._cv){var i=t&&!this._toInv;this._syncSelection(i)}else{var n=this.selection,r=new Tn(-1,n.col,-1,n.col2);this._selHdl._adjustSelection(r,this.selectionMode)}},e.prototype._getMap=function(){return window.Map?new Map:null},e.prototype._cvCollectionChanged=function(t,e){if(this.autoGenerateColumns&&0==this.columns.length)this._bindGrid(!0);else{var i=Q;if(this.childItemsPath&&e.action!=i.Change)this._bindGrid(!1);else{switch(e.action){case i.Change:return void this.invalidate();case i.Add:if(e.index==this._cv.items.length-1){var n=this.rows.length;return this.rows[n-1]instanceof ir&&n--,void this.rows.insert(n,new Gn(e.item))}Ht(!1,"added item should be the last one.");break;case i.Remove:var r=this._findRow(e.item);if(r>-1)return this.rows.removeAt(r),void this._syncSelection(!1);Ht(!1,"removed item not found on grid.")}this._bindGrid(!1)}}},e.prototype._cvCurrentChanged=function(t,e){this._syncSelection(!1)},e.prototype._syncSelection=function(t){if(this._cv&&this.selectionMode!=Pn.None){var e=this._selHdl,i=e.selection,n=i.row>-1&&i.row<this.rows.length?this.rows[i.row]:null,r=n?n.dataItem:null,o=this._cv;if(o instanceof ei&&o.isUpdating)return;if(this.newRowAtTop&&n instanceof ir)return;r instanceof ii&&(r=null);var s=this._isISChanging;if(t||r!=o.currentItem||i.row>=this.rows.length||s&&i.row!==i.row2){var a=this.editableCollectionView;if(!this.childItemsPath||!a||!a.currentAddItem){var l=this._getRowIndex(o.currentPosition);if(l!=i.row||!this.childItemsPath){var h=s?i.col:i.col2;i=new Tn(l,i.col,l,h),e._adjustSelection(i,this.selectionMode),this.selectionMode&&!this._updating&&this.scrollIntoView(i.row,-1)}}}}},e.prototype._getRowIndex=function(t){if(this._cv){var e=this.rows;if(t>-1){for(var i=this._cv.items[t];t<e.length;t++)if(e[t].dataItem===i)return t;return-1}if(1==e.length&&e[0]instanceof ir)return 0;var n=this.selection.row,r=n>-1?e[n]:null;return r&&(r instanceof Wn||null==r.dataItem)?n:-1}return this.selection.row},e.prototype._getCvIndex=function(t){return t>-1&&t<this.rows.length?this.rows[t].dataIndex:-1},e.prototype._findRow=function(t){for(var e=0;e<this.rows.length;e++)if(this.rows[e].dataItem==t)return e;return-1},e.prototype._updateLayout=function(){var t=new rt;if(this.onUpdatingLayout(t)){var i=this._hdrVis&Bn.Row?this._hdrCols.getTotalSize():0,n=this._hdrVis&Bn.Column?this._hdrRows.getTotalSize():0,r=this._ftrRows.getTotalSize(),o=this._rows.getTotalSize()+r;o<1&&(o=1),this._heightReal=o,this._heightBrowser=Math.min(o,e._getMaxSupportedCssHeight()),this._maxOffsetY=Math.max(0,o-this._heightBrowser);var s=getComputedStyle(this._eFocus);this._cellPadVert=parseInt(s.paddingTop)+parseInt(s.paddingBottom),this._cellPadHorz=parseInt(s.paddingLeft)+parseInt(s.paddingRight),this._cellPadLeft=parseInt(this.rightToLeft?s.paddingRight:s.paddingLeft);var a=this._heightBrowser+n-r,l=this._gpCells.width,h=this._heightBrowser;!l&&this.rows.length&&(l=.1),!h&&this.columns.length&&(h=.1),this.rightToLeft?(Pe(this._eTL,{right:0,top:0,width:i,height:n}),Pe(this._eCHdr,{right:i,top:0,height:n}),Pe(this._eRHdr,{right:0,top:n,width:i}),Pe(this._eCt,{right:i,top:n,width:l,height:h}),Pe(this._fCt,{right:i,top:n}),Pe(this._eBL,{right:0,top:a,width:i,height:r}),Pe(this._eCFtr,{right:i,top:a,height:r})):(Pe(this._eTL,{left:0,top:0,width:i,height:n}),Pe(this._eCHdr,{left:i,top:0,height:n}),Pe(this._eRHdr,{left:0,top:n,width:i}),Pe(this._eCt,{left:i,top:n,width:l,height:h}),Pe(this._fCt,{left:i,top:n}),Pe(this._eBL,{left:0,top:a,width:i,height:r}),Pe(this._eCFtr,{left:i,top:a,height:r})),this._stickyHdr&&this._updateStickyHeaders();var u=this.frozenRows||this.frozenColumns?"3":"";Pe([this._eTL,this._eBL,this._eCHdr,this._eCFtr,this._eRHdr,this._eMarquee],{zIndex:u}),D()&&(this._fCt.style.zIndex=u?"2":"");var c=this._root,d=c.offsetWidth-c.clientWidth,f=c.offsetHeight-c.clientHeight;Pe(this._eSz,{width:i+d+this._gpCells.width,height:n+f+this._heightBrowser});var p=null;this.columns._updateStarSizes(c.clientWidth-i)&&(p=c.clientWidth,Pe(this._eCt,{width:this._gpCells.width}),this.onStarSizedColumns()),this._szClient=new Oe(c.clientWidth-i,c.clientHeight-n),this._szClientSB=new Oe(c.offsetWidth-i,c.offsetHeight-n),this._rcBounds=null,this._updateScrollHandler(),this._updateContent(!1),d=c.offsetWidth-c.clientWidth,f=c.offsetHeight-c.clientHeight,Pe(this._eSz,{width:i+d+this._gpCells.width,height:n+f+this._heightBrowser}),this._szClient=new Oe(c.clientWidth-i,c.clientHeight-n),p&&p!=c.clientWidth&&this.columns._updateStarSizes(c.clientWidth-i)&&(Pe(this._eCt,{width:this._gpCells.width}),this._updateContent(!1)),Pe([this._eCHdr,this._eCFtr,this._fCt],{width:this._szClient.width}),Pe([this._eRHdr,this._fCt],{height:this._szClient.height}),r&&(a=Math.min(a,this._szClient.height+n-r),Pe([this._eBL,this._eCFtr],{top:a})),this.onUpdatedLayout(t)}},e.prototype._updateStickyHeaders=function(){var t=!1,i=0;if(this._stickyHdr){for(var n=0,r=null,o=this.hostElement;o;o=o.parentElement)if("inline"!=getComputedStyle(o).display){var s=o.getBoundingClientRect();null==r&&(r=s.top),n=Math.max(n,s.top)}i=-(r=Math.max(0,n-r-1)),t=r>0,this._rcBounds=null}this._eTL.style.top=this._eCHdr.style.top=t?-i+"px":"",he(this._eTL,e._WJS_STICKY,t),he(this._eCHdr,e._WJS_STICKY,t)},e.prototype._updateScrollHandler=function(){this._clipToScreen=this._getClipToScreen();var t=this._stickyHdr||this._clipToScreen;t!=this._scrollHandlerAttached&&(this._scrollHandlerAttached=t,t?this.addEventListener(window,"scroll",this._scroll.bind(this),!0):this.removeEventListener(window,"scroll"))},e.prototype._getClipToScreen=function(){if(this.rows.length<=e._MIN_VIRT_ROWS)return!1;if(this._root.scrollHeight>this._root.clientHeight)return!1;for(var t=this.hostElement;t&&t!=document.documentElement;t=t.parentElement)if("auto"==getComputedStyle(t).overflow)return!1;return!0},e.prototype._scroll=function(t){var e=this;je(t.target,this.hostElement)&&(this._clipToScreen&&(this._afClip&&cancelAnimationFrame(this._afClip),this._afClip=requestAnimationFrame((function(){e._afClip=null,e.finishEditing(),e._updateContent(!0)}))),this._stickyHdr&&(this._afSticky&&cancelAnimationFrame(this._afSticky),this._afSticky=requestAnimationFrame((function(){e._afSticky=null;var t=new rt;e.onUpdatingLayout(t)&&(e._updateStickyHeaders(),e.onUpdatedLayout(t))}))))},e.prototype._getCssPage=function(t){if(this._heightReal>this._heightBrowser){var e=this._szClient.height-this._gpCFtr.rows.getTotalSize();if(this._heightBrowser>e)return zt(Math.round(t/(this._heightBrowser-e)*10)/10,0,1)}return 0},e.prototype._updateScrollPosition=function(){var t=this._root,i=t.scrollTop,n=t.scrollLeft;this.rightToLeft&&"rev"==e._getRtlMode()&&(n=t.scrollWidth-t.clientWidth-n);var r=new Re(-Math.abs(n),-i);return!this._ptScrl.equals(r)&&(this._ptScrl=r,this.onScrollPositionChanged(),!0)},e.prototype._updateContent=function(t,e){var i=this,n=this._root,r=this.hostElement,o=this.cells.hostElement,s=this._activeCell,a=_e(),l=je(r,a),h=Se(a,".wj-flexgrid")==r?a:null,u=new rt;if(this.onUpdatingView(u)){ue(o,"role",this.rows.maxGroupLevel<0?"grid":"treegrid"),this._hasValidation=Ct(this._itemValidator)||this._cv&&Ct(this._cv.getError);var c=!e&&this._errorTip&&this._errorTip._tips.length,d=this._getCssPage(-this._ptScrl.y);d!=this._cssPage&&(this._cssPage=d,this._offsetY=Math.round(this._maxOffsetY*d)),this._updateScrollPosition(),this._updateMarquee();var f=this._gpCells._updateContent(t,e,this._offsetY),p=this._hdrVis;if(p&Bn.Column&&(!e||this._ssHdr&p)&&(this._gpCHdr._updateContent(t,e,0),this.rightToLeft||(this._eCHdr.scrollLeft=0)),p&Bn.Row&&(!e||this._ssHdr&p)&&(this._gpRHdr._updateContent(t,e,this._offsetY),this._eRHdr.scrollTop=0),p&&!e&&this._gpTL._updateContent(t,e,0),this._gpCFtr.rows.length&&(this._gpBL._updateContent(t,e,0),this._gpCFtr._updateContent(t,e,0)),c&&this._errorTip&&this._errorTip._tips.length&&(clearTimeout(this._toErrorTips),this._toErrorTips=setTimeout((function(){var t=i._errorTip;if(t){t.hide();for(var e=t._tips,n=0;n<e.length;n++){var r=e[n].element;r.offsetHeight&&se(r,"wj-state-invalid")||(t.setTooltip(r,null),n--)}}}),250)),this._useFrozenDiv()&&(this._updateFrozenCells(e),f&&se(f,"wj-frozen")&&(f=null)),this._fCt.style.display=this._fCt.childElementCount?"":"none",this._activeCell=f,h)if(h!=n&&h!=this._eFocus&&je(r,h)&&!je(o,h)){if(_e()!==h&&h.focus(),D()&&h instanceof HTMLInputElement&&!h.type.match(/checkbox|radio|range/i)){var g=h.selectionStart,_=h.selectionEnd;h.setSelectionRange(g,_)}}else{var m=f!==s;this._setFocus(m)}!h&&f&&(f.tabIndex=this.isDisabled?-1:this._orgTabIndex),s&&s!=f&&(s.tabIndex=-1),this._eFocus.tabIndex=null!=f||this.isDisabled?-1:this._orgTabIndex,l&&this.focus(),this._fixScroll(),this._rcBounds=null,this.onUpdatedView(u)}},e.prototype._fixScroll=function(){var t=this._root;if(!this._updating){var e=this.hostElement,i=t?t.parentElement:null,n=this.rightToLeft;e&&(e.scrollTop&&(e.scrollTop=0),e.scrollLeft&&!n&&(e.scrollLeft=0)),i&&(i.scrollTop&&(i.scrollTop=0),i.scrollLeft&&!n&&(i.scrollLeft=0))}var r=xn();t&&r&&14==r.major&&r.minor>=1&&(t.style.transform="",t.style.transform="translateZ(0)")},e.prototype._clearCells=function(){for(var t in this)if("_"==t[0]){var e=this[t];e instanceof On&&e._clearCells()}this.invalidate()},e.prototype._useFrozenDiv=function(){return xt(this._fzClone)?this._fzClone:D()||k()||P()||C()},e.prototype._updateFrozenCells=function(t){var e=this._fCt;if(this.frozenRows||this.frozenColumns){var i=this._eCt.querySelectorAll(".wj-frozen");if(t&&e.children.length==i.length){for(var n=0;n<i.length;n++)e.children[n].className=i[n].className;return}if(Ce(e,null),!this.activeEditor){var r=this._errorTip,o=navigator.userAgent.indexOf("MSIE")>=0;for(n=0;n<i.length;n++){var s=i[n];if(Se(s,".wj-flexgrid")==this.hostElement){var a=s[On._INDEX_KEY],l=s.firstElementChild,h=null;if(a&&l){var u=a.panel;h=Ct(this._getBindingColumn(u,a.row,u.columns[a.col]).cellTemplate)?l.onclick:null}if(o){var c="input[type=checkbox]",d=s.querySelector(c);s=s.cloneNode(!0),d&&(s.querySelector(c).checked=d.checked)}else s=s.cloneNode(!0);if(l=s.firstElementChild,h&&l&&(l.onclick=h),s[On._INDEX_KEY]=a,r){var f=r.getTooltip(i[n]);f&&r.setTooltip(s,f)}e.appendChild(s)}}}}else Ce(e,null)},e.prototype._updateMarquee=function(){var t=this._eMarquee,e=this._getMarqueeRect();if(e&&e.width&&e.height){var i=t.firstChild,n=t.offsetWidth-i.offsetWidth,r=t.offsetHeight-i.offsetHeight,o=this.cells.hostElement;Pe(t,{left:e.left+o.offsetLeft-n/2,top:e.top+o.offsetTop-r/2,width:e.width+n,height:e.height+r,display:""})}else t.style.display="none"},e.prototype._getMarqueeRect=function(){if(!this._shMarquee||!this.selectionMode)return null;var t=this._selHdl.selection;if(!this.isRangeValid(t))return null;t=(t=(t=this.cells._getAdjustedSelection(t)).combine(this.getMergedRange(this.cells,t.topRow,t.leftCol,!1))).combine(this.getMergedRange(this.cells,t.bottomRow,t.rightCol,!1));var e=this.cells.getCellBoundingRect(t.topRow,t.leftCol,!0),i=this.cells.getCellBoundingRect(t.bottomRow,t.rightCol,!0);if(this.rows.frozen){var n=Math.min(this.rows.length,this.rows.frozen),r=this.cells.getCellBoundingRect(n-1,0,!0);t.topRow>=n&&e.top<r.bottom&&(e.top=r.bottom),t.bottomRow>=n&&i.bottom<r.bottom&&(i.height=r.bottom-i.top)}if(this.columns.frozen){var o=Math.min(this.columns.length,this.columns.frozen);r=this.cells.getCellBoundingRect(0,o-1,!0),this.rightToLeft?(t.leftCol>=o&&e.right>r.left&&(e.left=r.left-e.width),t.rightCol>=o&&i.left>r.left&&(i.left=r.left)):(t.leftCol>=o&&e.left<r.right&&(e.left=r.right),t.rightCol>=o&&i.right<r.right&&(i.width=r.right-i.left))}return this.rightToLeft?new De(i.left,e.top,e.right-i.left,i.bottom-e.top):new De(e.left,e.top,i.right-e.left,i.bottom-e.top)},e.prototype._bindColumns=function(){for(var t=this.columns,i=0;i<t.length;i++)t[i]._getFlag(Fn.AutoGenerated)&&(t.removeAt(i),i--);var n=this._cv,r=n?n.items:null;r&&r.length&&this.autoGenerateColumns&&this._getColumnTypes(r).forEach((function(i){var n=new Un(i);n._setFlag(Fn.AutoGenerated,!0),n.name=n.binding,n.header=te(n.binding);var r=e._defTypeWidth[n.dataType];if(null!=r){if(wt(r)){var o=Math.round(parseFloat(r));r=r.indexOf("*")>-1?o*t.defaultSize:o}vt(r)&&r>0&&(n.width=r)}t.push(n)})),this._updateColumnTypes()},e.prototype._getColumnTypes=function(t){return Ot(t)},e.prototype._updateColumnTypes=function(){var t=this._cv;if($t(t)){var e=t.items[0];this.columns.forEach((function(t){null==t.dataType&&t._binding&&(t.dataType=Rt(t._binding.getValue(e)))}))}},e.prototype._getMapEditor=function(t,e){return e.editor?null!=e.editor.isDroppedDown?e.dataMapEditor:null:!t.dataMap||t instanceof Wn?e.dataMap?e.dataMapEditor:null:t.dataMapEditor},e.prototype._getBindingColumn=function(t,e,i){return i},e.prototype._getBindingColumns=function(){return this.columns},e.prototype._getRowsPerItem=function(){return 1},e.prototype._isTransposed=function(){return!1},e.prototype._getRowHeaderPath=function(){return this._rowHdrPath},e.prototype._bindRows=function(){this.rows.clear();var t=this._cv;if(t&&t.items){var e=t.items,i=t.groups;if(this.childItemsPath)for(var n=0;n<e.length;n++)this._addNode(e,n,0);else if(null!=i&&i.length>0&&this.showGroups)for(n=0;n<i.length;n++)this._addGroup(i[n]);else for(n=0;n<e.length;n++)this._addBoundRow(e,n)}},e.prototype._addBoundRow=function(t,e){var i=new Gn(t[e]),n=this.rows;i._list=n,n[n.length++]=i},e.prototype._addGroupRow=function(t){this.rows.push(new Wn(t))},e.prototype._addNode=function(t,e,i){var n=t[e],r=this.childItemsPath,o=n[Et(r)?r[i]:r],s=new Wn(n);if(s.level=i,this.rows.push(s),Et(o))for(var a=0;a<o.length;a++)this._addNode(o,a,i+1)},e.prototype._addGroup=function(t){if(this._addGroupRow(t),t.isBottomLevel)for(var e=t.items,i=0;i<e.length;i++)this._addBoundRow(e,i);else for(i=0;i<t.groups.length;i++)this._addGroup(t.groups[i])},e._getSerializableProperties=function(t){var e=[];for(t=t.prototype;t!=Object.prototype;t=Object.getPrototypeOf(t))for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],o=Object.getOwnPropertyDescriptor(t,r);o&&o.set&&o.get&&"_"!=r[0]&&!r.match(/^(disabled|required|showDropDown)$/)&&e.push(r)}return e},e.prototype._hasColumnGroups=function(){return this._grpHdl.hasColumnGroups()},e.prototype._getColumnGroup=function(t,e){return this._grpHdl.getColumnGroup(t,e)},e.prototype._canMoveColumnGroup=function(t,e,i,n){return this._grpHdl.canMoveColumnGroup(t,e,i,n)},e.prototype._moveColumnGroup=function(t,e,i,n,r){return this._grpHdl.moveColumnGroup(t,e,i,n,r)},e.prototype._copy=function(t,e){var i=this;if("columns"==t){var n=Kt(e);return n.some((function(t){return null!=t.columns}))?this.columnGroups=n:(this.columns.clear(),n.forEach((function(t){var e=new Un(t);i.columns.push(e)}))),!0}return!1},e.prototype._isInputElement=function(t){return t instanceof HTMLElement&&!se(t,"wj-btn-glyph")&&("true"==t.contentEditable||null!=t.tagName.match(/^(INPUT|TEXTAREA|BUTTON|A|SELECT|OPTION)$/i))},e.prototype._isNativeCheckbox=function(t){return t instanceof HTMLInputElement&&"checkbox"==t.type&&!t.disabled&&!t.readOnly&&se(t,sr._WJC_CHECKBOX)&&Se(t,".wj-flexgrid")==this.hostElement},e.prototype._wantsInput=function(t){return this._isInputElement(t)&&!this.activeEditor&&!this._isNativeCheckbox(t)&&!se(t,"wj-grid-ime")&&je(document.body,t)},e._getMaxSupportedCssHeight=function(){if(!e._maxCssHeight){var t=265e5;D()?t=15e5:k()&&(t=175e5),e._maxCssHeight=t}return e._maxCssHeight},e._getRtlMode=function(){if(!e._rtlMode){var t=xe('<div dir="rtl"><div></div></div>');Pe(t,{visibility:"hidden",width:100,height:100,overflow:"auto"}),Pe(t.firstChild,{width:2e3,height:2e3}),document.body.appendChild(t);var i=t.scrollLeft;t.scrollLeft=-1e3;var n=t.scrollLeft;ge(t),e._rtlMode=n<0?"neg":i>0?"rev":"std"}return e._rtlMode},e._WJS_STICKY="wj-state-sticky",e._WJS_MEASURE="wj-state-measuring",e._WJS_UPDATING="wj-state-updating",e._WJS_WSPRE="wj-whitespace-pre",e._MIN_VIRT_ROWS=200,e._defTypeWidth=((wn={})[lt.Number]="0.714285714*",wn),e.controlTemplate='<div><div wj-part="root"><div wj-part="cells" class="wj-cells"></div><div wj-part="marquee" class="wj-marquee"><div></div></div></div><div wj-part="fcells" aria-hidden="true" class="wj-cells wj-frozen-clone"></div><div wj-part="rh"><div wj-part="rhcells" class="wj-rowheaders"></div></div><div wj-part="cf"><div wj-part="cfcells" class="wj-colfooters"></div></div><div wj-part="ch"><div wj-part="chcells" class="wj-colheaders"></div></div><div wj-part="bl"><div wj-part="blcells" class="wj-bottomleft"></div></div><div wj-part="tl"><div wj-part="tlcells" class="wj-topleft"></div></div><div wj-part="focus" class="wj-cell">0</div><div wj-part="sz"></div></div>',e}(li),tr=function(){function t(e){this._updateImeFocusAsyncBnd=this._updateImeFocusAsync.bind(this),this._cmpstartBnd=this._compositionstart.bind(this),this._keypressBnd=this._keypress.bind(this),this._g=e;var i=xe('<textarea class="wj-grid-editor wj-form-control wj-grid-ime" aria-hidden="true"/>');Pe(i,t._cssHidden),pe(i),i.tabIndex=-1,this._tbx=i,this._maskProvider=new qe(i),e._root.appendChild(i),this._updateImeFocus();var n=e.hostElement,r=e.addEventListener.bind(e),o=this._updateImeFocusAsyncBnd;r(n,"blur",o,!0),r(n,"focus",o,!0),r(i,"compositionstart",this._cmpstartBnd),S()&&r(n,"keypress",this._keypressBnd),e.selectionChanged.addHandler(o,this),e.cellEditEnded.addHandler(this._cellEditEnded,this),e.cellEditEnding.addHandler(this._cellEditEnding,this)}return t.prototype.dispose=function(){var t=this._g,e=t.hostElement,i=this._tbx,n=t.removeEventListener.bind(t),r=this._updateImeFocusAsyncBnd;n(e,"blur",r),n(e,"focus",r),n(e,"keypress",this._keypressBnd),n(i,"compositionstart",this._cmpstartBnd),t.selectionChanged.removeHandler(r),t.cellEditEnded.removeHandler(this._cellEditEnded),t.cellEditEnding.removeHandler(this._cellEditEnding),ge(i)},t.prototype._compositionstart=function(t){var e=this._g;if(!e.activeEditor){var i=e._selHdl.selection;if(e.startEditing(!1,i.row,i.col,!1,t)&&e.activeEditor&&"checkbox"!=e.activeEditor.type){i=e.editRange;var n=e._getBindingColumn(e.cells,i.row,e.columns[i.col]),r=n&&n._edt,o=e.activeEditor,s=this._tbx,a=e.cells.hostElement,l=e.columns[i.col].pos+a.offsetLeft,h=e.rows[i.row].pos+a.offsetTop,u=e.getCellBoundingRect(i.row,i.col),c=Se(o,".wj-cell");u.width=c.offsetWidth,u.height=c.offsetHeight,i.row<e.frozenRows&&(h+=e._root.scrollTop),i.col<e.frozenColumns&&(l+=e._root.scrollLeft);var d=c.querySelector(".wj-btn.wj-right");d&&(u.width-=d.offsetWidth),"minLength,maxLength,pattern".split(",").forEach((function(t){ue(s,t,o.getAttribute(t))}));var f=o instanceof HTMLTextAreaElement;ue(s,"wrap",f?"soft":"off");var p=getComputedStyle(c),g=p.paddingTop;if(i.rowSpan>1&&!f){var _=parseFloat(p.lineHeight);isNaN(_)&&(_=1.2*parseFloat(p.fontSize)),g=Math.max(0,(u.height-_)/2)+"px"}var m={position:"absolute",left:l,top:h,width:u.width-1,height:u.height-1,paddingTop:g,paddingLeft:p.paddingLeft,paddingRight:p.paddingRight,textAlign:p.textAlign,zIndex:c.style.zIndex};if(e.rightToLeft&&(m.right=parseInt(c.style.right)+parseInt(e.cells.hostElement.style.right),m.left=""),Pe(s,m),r){var w=r._tbx.getBoundingClientRect(),b=s.getBoundingClientRect(),v=window.getComputedStyle(s),y=parseFloat(v.left),x=parseFloat(v.top);Pe(s,{left:y+w.left-b.left+"px",top:x+w.top-b.top+"px",width:w.width+"px",height:w.height+"px"})}e._edtHdl._edt=s,s.select();var C=o.value;setTimeout((function(){""!=s.value&&" "!=s.value||(s.value=C),fe(s,s.value.length)}),20),s.placeholder=o.placeholder,o.placeholder="",o.value=""}}},t.prototype._cellEditEnding=function(){var t=this._maskProvider;t&&t.mask&&t._valueChanged()},t.prototype._cellEditEnded=function(){var e=this._tbx;e.value="",Pe(e,t._cssHidden),this._updateImeFocus()},t.prototype._keypress=function(t){t.defaultPrevented||t.target!=this._tbx||t.ctrlKey||t.altKey||t.metaKey||27==t.keyCode||this._g.activeEditor||(this._tbx.value="",this._compositionstart(t),t.stopPropagation())},t.prototype._updateImeFocus=function(){var t=this._g,e=this._tbx,i=_e(),n=t._getTabIndex();if(t.activeEditor||Se(i,".wj-flexgrid")!=t.hostElement)(t.isDisabled||n<0)&&e.tabIndex>=0&&(e.tabIndex=-1);else if(this._enableIme()&&!t._wantsInput(i)){i!=e&&(t.activeCell&&(t.activeCell.tabIndex=-1),e.tabIndex=n,e.disabled=!1,e.value="",fe(e,0),e.focus());var r=t._selHdl.selection,o=r.isValid?t._getBindingColumn(t.cells,r.row,t.columns[r.col]):null;this._maskProvider.mask=o?o.mask:null}else if(e.tabIndex=-1,e.disabled=!0,e.value="",i==e){e.blur();var s=t.activeCell;s?(s.tabIndex=n,s.focus()):t.focus()}},t.prototype._updateImeFocusAsync=function(){var t=this;this._toFocus&&clearTimeout(this._toFocus),this._toFocus=setTimeout((function(){t._toFocus=null,t._updateImeFocus()}),100)},t.prototype._enableIme=function(){var t=this._g,e=t._selHdl.selection;if(!t.canEditCell(e.row,e.col))return!1;var i=e.isValid?t._getBindingColumn(t.cells,e.row,t.columns[e.col]):null;return!(!i||i.dataType==lt.Boolean||i&&i.dataMap&&i.dataMapEditor==bn.RadioButtons)},t._cssHidden={position:"fixed",width:"1px",left:-32e3,top:-32e3,overflow:"hidden"},t}(),er=function(){function t(t){this._nrt=new ir,this._top=!1,this._keydownBnd=this._keydown.bind(this),this._committing=!1,this._pasting=!1,this._g=t,this._attach()}return Object.defineProperty(t.prototype,"newRowAtTop",{get:function(){return this._top},set:function(t){if(t!=this.newRowAtTop){this._top=Yt(t),this.updateNewRowTemplate();var e=this._g;this._top&&e.selectionMode==Pn.ListBox&&(e.rows.forEach((function(t,e){t._setFlag(Fn.Selected,0==e,!0)})),e.select(0,e.selection.col))}},enumerable:!0,configurable:!0}),t.prototype.updateNewRowTemplate=function(){var t=this._g,e=t.editableCollectionView,i=t.rows,n=this._nrt,r=e&&e.canAddNew&&t.allowAddNew&&!t.isReadOnly,o=i.indexOf(n),s=this._top?0:i.length-1,a=!1;if(!r&&o>-1){var l=t.selection;l.row==o&&t.select(l.row-1,l.col),i.removeAt(o)}else r&&(o<0?a=!0:o!=s&&(i.removeAt(o),a=!0),a&&(this._top?i.insert(0,n):i.push(n)),n&&(n._ubv=null,n._setFlag(Fn.ParentCollapsed,!1),this._top&&t.selectionMode==Pn.ListBox||n._setFlag(Fn.Selected,!1)))},t.prototype._attach=function(){var t=this._g;t&&(t.pasting.addHandler(this._pastingData,this),t.pasted.addHandler(this._pastedData,this),t.loadedRows.addHandler(this.updateNewRowTemplate,this),t.hostElement.addEventListener("keydown",this._keydownBnd,!0))},t.prototype._detach=function(){var t=this._g;t&&(t.pasting.removeHandler(this._pastingData,this),t.pasted.removeHandler(this._pastedData,this),t.loadedRows.removeHandler(this.updateNewRowTemplate),t.hostElement.removeEventListener("keydown",this._keydownBnd,!0))},t.prototype._keydown=function(t){!t.defaultPrevented&&t.keyCode==at.Escape&&null==this._g.activeEditor&&this._top&&this._nrt.dataItem&&(this._nrt.dataItem=null,this._g.invalidate())},t.prototype._beginningEdit=function(t,e){if(!e.cancel){var i=t.rows[e.row];i instanceof ir&&this._handleEditStarting(t,e,i)}},t.prototype._pastingData=function(t,e){e.cancel||(this._pasting=!0)},t.prototype._pastedData=function(t,e){this._pasting=!1},t.prototype._rowEditStarting=function(t,e){if(this._pasting){var i=t.rows[e.row];i instanceof ir&&this._handleEditStarting(t,e,i)}},t.prototype._rowEditEnding=function(t,e){var i=t.editableCollectionView,n=this._nrt.dataItem;if(i&&this._top&&n&&!e.cancel){var r=i.currentAddItem;if(!r||r!=n)for(var o in r=i.addNew(),n)r[o]=n[o]}},t.prototype._rowEditEnded=function(t,e){var i=this,n=t.editableCollectionView;if(n&&!this._committing)if(this._top){if(e.cancel)return;var r=this._nrt.dataItem;if(r){this._committing=!0,this._nrt.dataItem=null;var o=this._g.rows,s=n.items.indexOf(r)+1;s<o.length&&e._rng.setRange(s,-1),t.onRowAdded(e)?n.commitNew():n.cancelNew(),this._committing=!1}var a=t.rows[e.row];setTimeout((function(){a instanceof ir&&t.select(0,t.columns.firstVisibleIndex),i.updateNewRowTemplate()}),20)}else n.isAddingNew&&n.commitNew()},t.prototype._handleEditStarting=function(t,e,i){var n=t.editableCollectionView;if(n&&n.canAddNew)if(this._top)if(null==this._nrt.dataItem){var r=null,o=n.sourceCollection,s=n.newItemCreator;r=Ct(s)?s():o&&o.length?new o[0].constructor:{},this._nrt.dataItem=r}else n.currentAddItem&&(t.onRowAdded(e)||n.cancelNew());else{r=n.currentAddItem&&n.currentAddItem==i.dataItem?n.currentAddItem:n.addNew(),n.moveCurrentTo(r);var a=this._nrt.isSelected;this.updateNewRowTemplate(),a&&e.row>-1&&(t.rows[e.row].isSelected=!0),t.isUpdating||t.refresh(!0),t.onRowAdded(e)||n.cancelNew()}},t}(),ir=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vn(e,t),e}(Gn);!function(t){t[t.None=0]="None",t[t.Cells=1]="Cells",t[t.ColumnHeaders=2]="ColumnHeaders",t[t.RowHeaders=4]="RowHeaders",t[t.AllHeaders=6]="AllHeaders",t[t.All=7]="All"}(Qn||(Qn={}));var nr=function(){function t(t){null!=t&&console.error('** WARNING: the "grid" parameter has been deprecated. Please remove it.')}return t.prototype.getMergedRange=function(t,e,i,n){void 0===n&&(n=!0);var r=t.grid,o=t.cellType,s=t.columns,a=t.rows,l=a[e],h=s[i];if(l instanceof ir)return null;if(!(l instanceof Gn&&h instanceof Un))return null;if(t==r.columnHeaders){var u=r._getColumnGroup(e,i);if(u){var c=u._rng,d=t.columns;return d.isFrozen(c.col)!=d.isFrozen(c.col2)&&(c=c.clone(),d.isFrozen(i)?c.col2=d.frozen-1:c.col=d.frozen),c}}if(r.showGroups&&!r.childItemsPath&&l instanceof Wn&&l.dataItem instanceof ii&&o==En.Cell){if(c=new Tn(e,i),h.aggregate==Ye.None){for(;c.col>0&&s[c.col-1].aggregate==Ye.None&&c.col!=s.frozen;)c.col--;for(;c.col2<s.length-1&&s[c.col2+1].aggregate==Ye.None&&c.col2+1!=s.frozen;)c.col2++}for(;c.col<i&&!s[c.col].visible;)c.col++;return c.isSingleCell?null:c}var f=!1,p=Qn,g=En;switch(r.allowMerging){case p.None:f=!0;break;case p.Cells:f=o!=g.Cell;break;case p.ColumnHeaders:f=o!=g.ColumnHeader&&o!=g.TopLeft;break;case p.RowHeaders:f=o!=g.RowHeader&&o!=g.TopLeft;break;case p.AllHeaders:f=o==g.Cell}if(f)return null;if(o==g.Cell){var _=r.editableCollectionView,m=_?_.currentAddItem:null;if(m&&l.dataItem==m)return null}if(s[i].allowMerging){c=new Tn(e,i);var w=t._vrb,b=0,v=a.length-1;e>=a.frozen?n&&(o==En.Cell||o==En.RowHeader)&&r._vtRows<a.length&&w&&(b=w.topRow,v=w.bottomRow):a.length>a.frozen&&(v=a.frozen-1);for(var y=e-1;y>=b&&this._mergeCell(t,y,i,e,i);y--)c.row=y;for(var x=e+1;x<=v&&this._mergeCell(t,e,i,x,i);x++)c.row2=x;for(;c.row<e&&!a[c.row].visible;)c.row++;if(!c.isSingleCell)return c}if(a[e].allowMerging){c=new Tn(e,i),w=t._vrb;var C=0,j=s.length-1;i>=s.frozen?n&&(o==En.Cell||o==En.ColumnHeader)&&r._vtCols<s.length&&w&&(C=w.leftCol,j=w.rightCol):j=s.frozen-1;for(var S=i-1;S>=C&&this._mergeCell(t,e,S,e,i);S--)c.col=S;for(var E=i+1;E<=j&&this._mergeCell(t,e,i,e,E);E++)c.col2=E;for(;c.col<i&&!s[c.col].visible;)c.col++;if(!c.isSingleCell)return c}return null},t.prototype._mergeCell=function(t,e,i,n,r){var o=t.rows[e],s=t.rows[n];if(!o||!s)return!1;if(o instanceof Wn||o instanceof ir||s instanceof Wn||s instanceof ir)return!1;var a=t.grid.editableCollectionView,l=a?a.currentAddItem:null;if(l&&(o.dataItem==l||s.dataItem==l))return!1;if(e!=n&&t.rows.isFrozen(e)!=t.rows.isFrozen(n))return!1;if(i!=r&&t.columns.isFrozen(i)!=t.columns.isFrozen(r))return!1;if(e!=n){if(i>0&&(o.allowMerging&&this._mergeCell(t,e,i-1,e,i)||s.allowMerging&&this._mergeCell(t,n,i-1,n,i)))return!1;if(r<t.columns.length-1&&(o.allowMerging&&this._mergeCell(t,e,r,e,r+1)||s.allowMerging&&this._mergeCell(t,n,r,n,r+1)))return!1}return t.getCellData(e,i,!0)==t.getCellData(n,r,!0)},t}(),rr=function(){function t(e,i){var n;if(this._row=-1,this._col=-1,this._edge=0,i instanceof Element){if(Se(i,".wj-flexgrid")!=e.hostElement)return;e=i,this._target=i}if(!(e instanceof Element)||e instanceof $n){if(e instanceof $n)this._target=e.hostElement,n=this._g=e;else{if(!(e instanceof On))throw"First parameter should be a FlexGrid or GridPanel.";this._target=e.hostElement,this._p=e,n=this._g=this._p.grid}i instanceof MouseEvent&&(this._target=i.target,"mousedown"==i.type&&(n._rcBounds=null)),i=At(i),this._pt=i.clone();var r=n.controlRect,o=n._szClient,s=n.topLeftCells,a=n._eTL,l=n.headersVisibility,h=Bn,u=l&h.Row?s.columns.getTotalSize():0,c=l&h.Column?s.rows.getTotalSize():0,d=l&h.Column?c+a.offsetTop:0,f=n._eBL,p=f.offsetHeight;if(i.x-=r.left,i.y-=r.top,n.rightToLeft&&(i.x=r.width-i.x),this._p||i.x>=0&&i.y>=a.offsetTop&&o&&i.x<=o.width+u&&i.y<=o.height+c&&(i.y<d?this._p=i.x<u?n.topLeftCells:n.columnHeaders:i.y<f.offsetTop?this._p=i.x<u?n.rowHeaders:n.cells:this._p=i.x<u?n.bottomLeftCells:n.columnFooters),null!=this._p){var g=this._p.rows,_=this._p.columns,m=this._p.cellType,w=En,b=this._p._getFrozenPos(),v=m==w.TopLeft||m==w.ColumnHeader?c:m==w.BottomLeft||m==w.ColumnFooter?p:g.getTotalSize(),y=m==w.TopLeft||m==w.BottomLeft||m==w.RowHeader?u:_.getTotalSize();m==w.RowHeader||m==w.Cell?(i.y-=c,(i.y>b.y||b.y<=0)&&(i.y-=n._ptScrl.y,i.y+=this._p._getOffsetY())):m!=w.BottomLeft&&m!=w.ColumnFooter||(i.y-=f.offsetTop),m!=w.ColumnHeader&&m!=w.Cell&&m!=w.ColumnFooter||(i.x-=u,(i.x>b.x||b.x<=0)&&(i.x-=n._ptScrl.x)),m!=w.ColumnHeader&&m!=w.TopLeft||(i.y-=d-c),this._edge=0;var x=t._SZEDGE[this._g.isTouching?1:0];if(this._g.isTouching&&(x=t._SZEDGE[1],i.x-=x/2),this._row=i.y>v?-1:g.getItemAt(i.y),this._col=i.x>y?-1:_.getItemAt(i.x),this._row<0||this._col<0)return void(this._p=null);if(this._col>-1){var C=_[this._col];i.x-C.pos<=x&&(this._edge|=1);var j=C.pos+C.renderSize-i.x;j<=x&&(this._edge|=4,j<=x/2&&(this._edge|=16))}if(this._row>-1){var S=g[this._row];i.y-S.pos<=x&&(this._edge|=2);var E=S.pos+S.renderSize-i.y;E<=x&&(this._edge|=8,E<=x/2&&(this._edge|=32))}}}else{var k=Se(e,".wj-cell"),T=k?k[On._INDEX_KEY]:null;T&&(this._target=e,this._row=T.row,this._col=T.col,this._rng=T.rng,this._p=T.panel,this._g=T.panel.grid)}}return Object.defineProperty(t.prototype,"point",{get:function(){return this._pt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cellType",{get:function(){return this._p?this._p.cellType:En.None},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"panel",{get:function(){return this._p},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"grid",{get:function(){return this._p?this._p.grid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"row",{get:function(){return this._row},enumerable:!0,configurable:!0}),t.prototype.getRow=function(){return this._p&&this._row>-1?this._p.rows[this._row]:null},Object.defineProperty(t.prototype,"col",{get:function(){return this._col},enumerable:!0,configurable:!0}),t.prototype.getColumn=function(t){var e=this._p,i=e&&this._col>-1?e.columns[this._col]:null;if(i&&t){var n=e.grid;i=e.cellType===En.ColumnHeader&&n._hasColumnGroups()?n._getColumnGroup(this._row,this._col):n._getBindingColumn(e,this._row,i)}return i},Object.defineProperty(t.prototype,"range",{get:function(){return this._rng||(this._rng=new Tn(this._row,this._col)),this._rng},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"edgeLeft",{get:function(){return 0!=(1&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"edgeTop",{get:function(){return 0!=(2&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"edgeRight",{get:function(){return 0!=(4&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"edgeFarRight",{get:function(){return 0!=(16&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"edgeBottom",{get:function(){return 0!=(8&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"edgeFarBottom",{get:function(){return 0!=(32&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),t._SZEDGE=[6,30],t}();function or(){return Ne("wijmo.input")}var sr=function(){function t(){}return t.prototype.updateCell=function(e,i,n,r,o,s){var a=e.grid,l=a.rightToLeft,h=e.rows,u=e.columns,c=h[i],d=u[n],f=i,p=n,g=c instanceof Wn?c:null,_=c instanceof ir?c:null,m=d.renderWidth,w=c.renderHeight,b=e.cellType,v="wj-cell",y="",x={display:""},C=En;0!=s&&r.firstElementChild&&(1==r.childNodes.length&&"checkbox"==r.firstElementChild.type||(r.textContent="")),o&&!o.isSingleCell&&(i=o.row,n=o.col,f=o.row2,p=o.col2,c=h[i],d=u[n],g=c instanceof Wn?c:null,w=(M=o.getRenderSize(e)).height,m=M.width);var j=a._getBindingColumn(e,i,d),S=j.dataType||c.dataType,E=j.dataMap||c.dataMap,k=b==C.Cell?a._getMapEditor(c,j):null,T=b==C.RowHeader||b==C.Cell&&(!g||a.childItemsPath),P=T&&k==bn.RadioButtons,A=S==lt.Boolean&&!E,R=j.isContentHtml||c.isContentHtml,O=d.pos,D=c.pos,I=a._ptScrl;if(a._useFrozenDiv()&&b==C.Cell&&!a.editRange)n<u.frozen&&f>=h.frozen?D+=I.y:i<h.frozen&&p>=u.frozen&&(O+=I.x);else{var M=a._szClient;f<h.frozen&&(D=Math.min(D,M.height),w=Math.min(w,Math.max(0,M.height-D)),D-=I.y),p<u.frozen&&(O=Math.min(O,M.width),m=Math.min(m,Math.max(0,M.width-O)),O-=I.x)}l?x.right=O+"px":x.left=O+"px",f>=h.frozen&&(D-=e._getOffsetY()),x.top=D+"px",x.width=m+"px",x.height=w+"px",x.zIndex="",(i<h.frozen||n<u.frozen)&&(x.zIndex=i<h.frozen&&n<u.frozen?2:1);var F=!1,L=a.alternatingRowStep;if(!L||o&&o.row!=o.row2||(F=c.visibleIndex%(L+1)==0,1==L&&(F=!F)),b==C.Cell)g&&(v+=" wj-group"),F&&(v+=" wj-alt"),(i<h.frozen||n<u.frozen)&&(v+=" wj-frozen"),_&&(v+=" wj-new"),c.cssClass&&(v+=" "+c.cssClass),j.cssClass&&(v+=" "+j.cssClass);else{v+=" wj-header",F&&(v+=" wj-header-alt"),c.cssClass&&b==C.ColumnHeader&&(v+=" "+c.cssClass),j.cssClass&&b==C.RowHeader&&(v+=" "+j.cssClass);var N=!1;b!=C.ColumnHeader&&b!=C.TopLeft||a.allowResizing&mr.Columns&&(N=null!=a._mouseHdl._getResizeCol(e,p)),N||b!=C.RowHeader||a.allowResizing&mr.Rows&&(N=null!=a._mouseHdl._getResizeRow(e,f)),N&&(v+=" wj-big-header")}c.cssClassAll&&(v+=" "+c.cssClassAll),j.cssClassAll&&(v+=" "+j.cssClassAll);var z=An,B=e.getSelectedState(i,n,o);switch(B!=z.None&&b==C.Cell&&!A&&a.editRange&&a.editRange.contains(i,n)&&(B=z.None),B){case z.Active:v+=" wj-state-active";break;case z.Cursor:v+=" wj-state-selected wj-state-active";break;case z.Selected:v+=" wj-state-multi-selected"}f==h._lastFrozen&&(v+=" wj-frozen-row"),p==u._lastFrozen&&(v+=" wj-frozen-col"),(j.wordWrap||c.wordWrap)&&(v+=" wj-wrap"),(j.multiLine||c.multiLine)&&(v+=" wj-multiline");var H=j.getAlignment(c);H&&(y=" wj-align-"+H);var V=b,U=a._isTransposed(),G=(V==C.ColumnHeader&&!U||V==C.RowHeader&&U)&&a._hasColumnGroups()?a._getColumnGroup(i,n):null;if(G&&G.align&&(y=" wj-align-"+G.align),x.paddingLeft=x.paddingRight=x.paddingTop=x.paddingBottom="",b==C.Cell&&a.rows.maxGroupLevel>-1&&n==u.firstVisibleIndex&&a.treeIndent){var W=g?Math.max(0,g.level):h.maxGroupLevel+1,Y=Math.min(a.treeIndent*W+a._cellPadLeft,m-a._cellPadHorz)+"px";l?x.paddingRight=Y:x.paddingLeft=Y}m<=a._cellPadHorz&&null==r.getAttribute($n._WJS_MEASURE)&&(x.paddingLeft=x.paddingRight=0);var q=b==C.Cell&&n==u.firstVisibleIndex&&g&&g.hasChildren&&!lr(a,i,n);if(q&&(y=""),0!=s){var X=e.getCellData(i,n,!1),K=e.getCellData(i,n,!0);if(q){var Z=cr(g);K=g.getGroupHeader()||ee(K),r.innerHTML=Z.outerHTML+" "+K}else if(b!=C.ColumnHeader||f!=a._getSortRowIndex()&&j==d)if(b==C.RowHeader&&!K&&function(){var t=!1;if(n==a._getEditColumnIndex()){var e=a.editableCollectionView,i=e?e.currentEditItem:null;K=r.innerHTML=i&&c.dataItem==i?dr("pencil"):c instanceof ir?dr("asterisk"):"",t=!0}var o=j._tpl;return o&&(ar(o,r,X,K,c,j),t=!0),t}());else if(b!=C.Cell||S!=lt.Boolean||E||g&&!xt(X))if(b==C.Cell&&!P&&lr(a,i,n)){var J=j.inputType||c.inputType;if(J||(J=S!=lt.Number||E?"text":"tel"),!E&&!j.mask&&!c.mask){var Q=e.getCellData(i,n,!1);vt(Q)&&(K=function(t,e){e=e||"n";var i=Ue._parseNumericFormat(e);switch(i.spec){case"d":case"x":break;case"e":e=e.replace(/[0-9]/g,"");break;default:e="p"==i.spec?"P15":"r",i.scale&&(e+=Array(i.scale/3+1).join(","))}return Ue.formatNumber(t,e,!0)}(Q,j.format||c.format))}r.innerHTML=(j.multiLine||c.multiLine)&&"checkbox"!=J?'<textarea wrap="soft"></textarea>':'<input type="'+J+'"/>';var $=r.children[0];ae($,"wj-grid-editor wj-form-control"),pe($),R&&E&&!E.isEditable&&(K=oe(K)),$.value=K,$.tabIndex=-1,$.required=j.getIsRequired(c),ue($,"aria-required",$.required);var tt=j.maxLength||c.maxLength;tt&&($.maxLength=tt),$.style.textAlign=j.getAlignment(c);var et=j.mask||c.mask;et&&($["$WJ-MSKP"]=new qe($,et)),a.showPlaceholders&&($.placeholder=j.header),a._edtHdl._edt=$}else{if(P){var it=[],nt=e.getCellData(i,n,!1);E.getDisplayValues(c.dataItem).forEach((function(t){var e=E.getKeyValue(t)==nt?" checked":"",i=a.isReadOnly||c.isReadOnly||d.isReadOnly?" disabled":"",n=ee(t);it.push('<label><input type="radio" tabindex="-1"'+e+i+' value="'+n+'"><span>'+n+"</span></label>")})),r.innerHTML=it.join(" "),v+=" "+t._WJC_RADIOMAP}var rt=T?j._tpl:null;if(rt?ar(rt,r,X,K,c,j):P||(b==C.Cell&&R?r.innerHTML=K:r.textContent=K||""),G&&G.collapseTo){var ot=G._rng;if(ot&&(b==C.ColumnHeader&&ot.columnSpan>1||b==C.RowHeader&&ot.rowSpan>1)){var st=G.isCollapsed;r.innerHTML='<div role="button" class="'+t._WJC_COLLAPSE+'">'+dr(st?"plus":"minus")+"</div>&nbsp;"+r.innerHTML,st&&ae(r,"wj-state-collapsed")}}}else{var at=r.firstChild;a._isNativeCheckbox(at)||(r.innerHTML='<label><input type="checkbox" class="'+t._WJC_CHECKBOX+'" tabindex="-1"/><span></span></label>',at=r.querySelector("input")),ce(at,X),at.disabled=!a.canEditCell(i,n),at.disabled&&(at.style.cursor="default"),a.editRange&&a.editRange.contains(i,n)&&(a._edtHdl._edt=at)}else{r.innerHTML=ee(K);var ht=j.currentSort;ht&&a.showSort&&(v+=" wj-sort-"+("+"==ht?"asc":"desc"),r.innerHTML+="&nbsp;"+function(t){var e=dr("+"==t.currentSort?"up":"down"),i=t.grid.collectionView;if(i&&i.sortDescriptions.length>1){var n=t.currentSortIndex;n>-1&&(e+='<span class="wj-sort-index">'+(n+1)+"</span>")}return e}(j)),a.allowPinning&&je(a.hostElement,r)&&ur(r,n<a.frozenColumns)}if(k==bn.DropDownList&&a.showDropDown&&a.canEditCell(i,n)&&or()){var ut=hr();r.insertBefore(ut,r.firstChild),lr(a,i,n)&&(v+=" wj-hasdropdown")}}if(b==C.RowHeader||b==C.ColumnHeader){var ct=b==C.RowHeader?!g&&!_&&c.allowDragging&&0!=(a.allowDragging&br.Rows):(G||d).allowDragging&&0!=(a.allowDragging&br.Columns);ue(r,"draggable",ct?"true":null)}v+=y,r.className!=v&&(r.className=v);var dt=r.style;for(var ft in x)dt[ft]!==x[ft]&&(dt[ft]=x[ft]);if(a._edtHdl._edt&&a._edtHdl._edt.parentElement==r){var pt=a._root,gt=pt.getBoundingClientRect(),_t=r.getBoundingClientRect(),mt=gt.top+pt.clientHeight-_t.top,wt=gt.left+pt.clientWidth-_t.left;_t.height>mt&&(r.style.height=mt+"px"),_t.width>wt&&(r.style.width=wt+"px")}if((b==C.Cell||b==C.RowHeader)&&a._getShowErrors()){var bt=a._getError(e,i,n,!1);a._edtHdl._setCellError(r,bt)}if(a.itemFormatter&&a.itemFormatter(e,i,n,r),a.formatItem.hasHandlers){var yt=t._fmtItemArgs;yt?(yt._p=e,yt._rng.setRange(i,n,f,p),yt._cell=r):yt=t._fmtItemArgs=new In(e,new Tn(i,n,f,p),r),yt._updateContent=!1!==s,a.onFormatItem(yt)}},t.prototype.disposeCell=function(t){},t.prototype.getEditorValue=function(t){var e=t._edtHdl._edt;if(e instanceof HTMLInputElement)switch(e.type){case"checkbox":return e.checked;case"radio":return e.value}if(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement){var i=e["$WJ-MSKP"],n=i?i._applyMask():e.value,r=e.maxLength;if(vt(r)&&r>-1&&n.length>r){var o=Ve.Globalize.numberFormat["%"]||"%",s=n.length&&n[n.length-1]==o;n=n.substr(0,r),s&&n.indexOf(o)<0&&(n+=o)}return n}return null},t._WJC_RADIOMAP="wj-radio-map",t._WJC_CHECKBOX="wj-cell-check",t._WJC_COLLAPSE="wj-elem-collapse",t._WJC_DROPDOWN="wj-elem-dropdown",t._WJC_PIN="wj-elem-pin",t._tplDdBtn=fr(t._WJC_DROPDOWN,"down"),t._tplCtx={row:null,col:null,value:null,text:null,item:null},t}();function ar(t,e,i,n,r,o){var s=sr._tplCtx;s.value=i,s.text=n,s.item=r.dataItem,s.row=r,s.col=o;var a=wt(t)?Lt(t,s):t(s,e);null!=a&&(e.innerHTML=a)}function lr(t,e,i){return t.editRange&&t.editRange.contains(e,i)}function hr(){var t=sr._ddBtn;return t||(de(t=sr._ddBtn=xe(sr._tplDdBtn),Ve.FlexGrid.ariaLabels.toggleDropDown),ue(t,"aria-expanded",!1)),t.cloneNode(!0)}function ur(t,e){var i=xe(fr(sr._WJC_PIN,"pin"));he(i,"wj-state-pinned",e),ue(i,"aria-pressed",e),t.insertBefore(i,t.firstChild)}function cr(t){var e=xe('<button class="wj-btn wj-btn-glyph '+sr._WJC_COLLAPSE+'" type="button" tabindex="-1">'+dr((t.isCollapsed?"":"down-")+(t.grid.rightToLeft?"left":"right"))+"</button>");return de(e,Ve.FlexGrid.ariaLabels.toggleGroup),ue(e,"aria-expanded",!t.isCollapsed),e}function dr(t){return'<span class="wj-glyph-'+t+'"></span>'}function fr(t,e){return'<button class="wj-btn wj-btn-glyph wj-right {cls}" type="button" tabindex="-1">{glyph}</button>'.replace("{cls}",t).replace("{glyph}",dr(e))}var pr,gr=function(){function t(t){var e=this;this._rng=null,this._edt=null,this._edItem=null,this._edtCanceled=!1,this._list=null,this._fullEdit=!1,this._evtInput=null,this._evtChange=null,this._cstEdtValue=null,this._validating=!1,this._g=t,this._evtInput=document.createEvent("HTMLEvents"),this._evtInput.initEvent("input",!0,!1),this._evtChange=document.createEvent("HTMLEvents"),this._evtChange.initEvent("change",!0,!1),t.selectionChanging.addHandler((function(i,n){if(e.finishEditing()){var r=t._selHdl.selection.row;if(r!=n.row){var o=t.rows.length;(r>-1&&r<o?t.rows[r].dataItem:null)!=(n.row>-1&&n.row<o?t.rows[n.row].dataItem:null)&&e._commitRowEdits()}}else n.cancel=!0})),t.lostFocus.addHandler((function(){var t=_e();t&&"fixed"==getComputedStyle(t).position?e.finishEditing():e._commitRowEdits()}));var i=t.hostElement;t.addEventListener(i,"mousedown",(function(i){if(!i.defaultPrevented&&0==i.button&&!t._mouseHdl._szRowCol){var n=t.hitTest(i);n.cellType!=En.Cell&&n.cellType!=En.None&&(e.finishEditing()||e.finishEditing(!0))}}),!0),t.addEventListener(i,"compositionend",this._keypress.bind(this))}return t.prototype.startEditing=function(t,e,i,n,r){void 0===t&&(t=!0);var o=this._g,s=o._selHdl.selection;if(e=Gt(e,!0,!0),i=wt(i)?o.columns.indexOf(i):Gt(i,!0,!0),null==e&&(e=s.row),null==i&&(i=s.col),null==n&&(n=!0),!this._allowEdit(e,i))return!1;var a=o.getMergedRange(o.cells,e,i,!1);a||(a=new Tn(e,i));var l=o.rows[e].dataItem;if(o.scrollIntoView(a.row,a.col,!0),!o.select(a,!0))return!1;if(!o.rows[e]||l!=o.rows[e].dataItem)return!1;if(this.activeEditor){if(a.equals(this._rng))return!0;if(!this.finishEditing())return!1}var h=new Dn(o.cells,a,r);if(!o.onBeginningEdit(h))return!1;var u=o.editableCollectionView,c=!1;u&&((c=(l=o.rows[e].dataItem)!=u.currentEditItem)&&o.onRowEditStarting(h),u.editItem(l),c&&(o.onRowEditStarted(h),this._edItem=l));var d=o.rows[e],f=o._getBindingColumn(o.cells,e,o.columns[i]),p=f.dataMap||d.dataMap,g=bn.RadioButtons,_=d.dataMap&&d.dataMapEditor==g||f.dataMap&&f.dataMapEditor==g;if(this._fullEdit=Yt(t),this._rng=a,this._list=null,p&&!_&&!f.editor){var m=p.getDisplayValues(l);(f.isContentHtml||d.isContentHtml)&&(m=m.map((function(t){return oe(t)}))),this._list=m}if(_){var w=o._activeCell||o.hostElement.querySelector(".wj-cell.wj-state-active");if(w){var b=r?r.target:null;b instanceof HTMLSpanElement&&(b=Se(b,"label")),b instanceof HTMLLabelElement&&(b=b.querySelector("input")),this._edt=b instanceof HTMLInputElement?b:w.querySelector("input"),this._updateRowHeaderCell(e)}}else a.isSingleCell?this._updateEditorCell(e,i,c):o.refresh(!1);var v=this._edt;if(v){if("checkbox"==v.type||"radio"==v.type)this._fullEdit=!1;else if(n){var y=0,x=v.value.length,C=!1,j=Ve.Globalize.numberFormat["%"]||"%",S=o.getCellData(e,i,!1);if(vt(S)?C=v.value.indexOf(j)>-1:null==S&&(C=/^p/i.test(f.format))&&v.value.indexOf(j)<0&&(v.value+=j),C){var E=v.value;for(y=0,x=E.length;x>0&&(E[x-1]==j||" "==E[x-1]);)x--;for(;y<x&&E[y]==j;)y++}r&&"keydown"==r.type&&r.keyCode==at.Space&&(y=x),fe(v,y,x),D()&&"right"==v.style.textAlign&&(v.style.paddingRight="1px")}o.onPrepareCellForEdit(h)}return n&&!o.containsFocus()&&o.focus(),null!=v&&!v.disabled&&!v.readOnly},t.prototype.finishEditing=function(t){var e=this._edt;if(!e)return this._removeListBox(),!0;var i=this._g,n=this._rng,r=new Mn(i.cells,n),o=i.containsFocus();if(!t){var s=i.hostElement.querySelector(".wj-control.wj-state-focused");if(s){var a=li.getControl(s);a&&(a.containsFocus()||a._focus)&&a.onLostFocus(r)}}if(r.cancel=t,!t&&i.validateEdits&&(f=this._getValidationError())){r.cancel=!0;var l=i.cells.getCellElement(n.row,n.col);l&&(this._setCellError(l,f),r.stayInEditMode=!0)}if(this._cstEdtValue=null,r.data=i.cells.getCellData(n.topRow,n.leftCol,!1),!i.onCellEditEnding(r)&&r.stayInEditMode)return o?setTimeout((function(){e.select()})):e.select(),this._fullEdit=!0,!1;if(!r.cancel){for(var h=this._cstEdtValue,u=h&&!jt(h.value)?h.value:i.cellFactory.getEditorValue(i),c=n.topRow;c<=n.bottomRow&&c<i.rows.length;c++)for(var d=n.leftCol;d<=n.rightCol&&d<i.columns.length;d++){var f,p=i._getBindingColumn(i.cells,c,i.columns[d]),g=i.rows[c],_=p&&p.dataMap||g&&g.dataMap,m=!_||_.serializeKeys;if(!i.cells.setCellData(c,d,u,m,!1)&&i.validateEdits)if(f=this._getValidationError(!0)){r.cancel=!0;var w=i.cells.getCellElement(n.row,n.col);return w&&(this._setCellError(w,f),r.stayInEditMode=!0),!1}}e.value==this._edtValue&&e.dispatchEvent(this._evtChange)}this._edt=null,this._rng=null,this._list=null,this._edtValue=null,this._edtCanceled=r.cancel,this._removeListBox();var b=Se(e,".wj-cell");return je(b,_e())&&i._setFocusNoScroll(b),!r.cancel&&r.refresh&&i._refreshOnEdit?i.refresh(!1):this._updateEditorCell(n.row,n.col,!1),o&&i.focus(),i.onCellEditEnded(r),!0},t.prototype._setCustomEditorValue=function(t){this._cstEdtValue={value:t}},t.prototype._setCellError=function(t,e){var i=this._g;""==e&&(e=null),he(t,"wj-state-invalid",null!=e);var n=i.errorTip,r=i.activeEditor;n?(n.setTooltip(t,e),r&&je(t,r)&&ue(r,"title","")):ue(t,"title",e),r&&t==i.activeCell&&!je(t,r)&&n&&n.setTooltip(r,e)},Object.defineProperty(t.prototype,"activeEditor",{get:function(){return this._edt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editRange",{get:function(){return this._rng},enumerable:!0,configurable:!0}),t.prototype.getClipString=function(t,e,i,n){var r,o=this,s=this._g,a=s.selectionMode,l=[],h=0!=(e&Hn.CSV),u=h?"\r\n":"\n",c=h?",":"\t",d=0!=(e&Hn.InvisibleRows),f=Pn,p=null!=t;if(!t&&a!=f.ListBox)for(var g=s.rows,_=0;_<g.length;_++)if(g[_].isSelected){a=f.ListBox;break}if(!t)switch(s._selHdl._expandSelection(),t=s.selection,a){case f.Row:case f.RowRange:case f.ListBox:t.col=0,t.col2=s.columns.length-1;break;case f.MultiRange:var m=s.selectedRanges;if(m.length>1){var w=this._sameCols(m),b=this._sameRows(m);if(w||b){(m=m.slice()).sort((function(t,e){return t.topRow-e.topRow||t.leftCol-e.leftCol}));for(var v=0;v<m.length;v++)for(var y=m[v],x=v+1;x<m.length;x++)y.contains(m[x])&&(m.splice(x,1),x--);if(w){var C=[];return m.forEach((function(t){C.push(o.getClipString(t,e,i,n)),i=!1})),C.join(u)}var j;if(b)return m.forEach((function(t){var r=o.getClipString(t,e,i,n).split(u);null==j?(j=r,n=!1):r.forEach((function(t,e){j[e]+=c+t}))})),j.join(u)}}}var S=t.col>-1&&t.col2>-1;if(i&&S&&(r=s.columnHeaders).rows.forEach((function(i,s){if(d||i.isVisible){var a=o._getRowClipString(r,s,t,e,n);l.push(a)}})),t.row>-1&&t.row2>-1)if(r=s.cells,a!=f.ListBox||p){for(Ht(t.bottomRow<r.rows.length,"Row index must be less than the number of rows."),v=t.topRow;v<=t.bottomRow;v++)if(d||r.rows[v].isVisible){var E=this._getRowClipString(r,v,t,e,n);l.push(E)}}else r.rows.forEach((function(i,s){if(i.isSelected&&(d||i.isVisible)){var a=o._getRowClipString(r,s,t,e,n);l.push(a)}}));return l.join(u)},t.prototype._getRowClipString=function(t,e,i,n,r){var o=[],s=t.rows[e],a=Hn,l=0!=(n&a.CSV),h=0!=(n&a.InvisibleColumns),u=0==(n&a.Unformatted),c=0!=(n&a.SkipMerged);if(s.isVisible){if(r)for(var d=t.cellType==En.ColumnHeader?t.grid.topLeftCells:t.grid.rowHeaders,f=0;f<d.columns.length;f++)if(h||d.columns[f].isVisible){var p=d.getCellData(e,f,!0);c&&this._skipMergedCell(t,null,e,f)&&(p=""),o.push(this._getCellClipString(p,n))}if(i.col>-1&&i.col2>-1)for(Ht(i.rightCol<t.columns.length,"Column index must be less than the number of columns."),f=i.leftCol;f<=i.rightCol;f++)(h||t.columns[f].isVisible)&&(!(p=t.getCellData(e,f,u))&&s instanceof Wn&&f==t.columns.firstVisibleIndex&&(p=oe(s.getGroupHeader())),c&&this._skipMergedCell(t,null,e,f)&&(p=""),o.push(this._getCellClipString(p,n)))}return o.join(l?",":"\t")},t.prototype._skipMergedCell=function(t,e,i,n){var r=t.grid.getMergedRange(t,i,n,!1);return!(!r||(e&&(r.row=Math.max(e.topRow,r.row),r.col=Math.max(e.leftCol,r.col)),r.row==i&&r.col==n))},t.prototype._getCellClipString=function(t,e){wt(t)||(t=St(t)?t.toJSON():null!=t?t.toString():""),t=t.replace(/\t/g," ");var i=0!=(e&Hn.QuoteAll);return(i=i||/\n|^"|"$/.test(t))||0==(e&Hn.CSV)||(i=t.indexOf(",")>-1),i&&(t='"'+(t=t.replace(/"/g,'""'))+'"'),t},t.prototype._sameRows=function(t){for(var e=t[0],i=1;i<t.length;i++)if(t[i].topRow!=e.topRow||t[i].bottomRow!=e.bottomRow)return!1;return!0},t.prototype._sameCols=function(t){for(var e=t[0],i=1;i<t.length;i++)if(t[i].leftCol!=e.leftCol||t[i].rightCol!=e.rightCol)return!1;return!0},t.prototype.setClipString=function(t,e){var i=this,n=this._g,r=n.editableCollectionView,o=null==e,s=Pn;if(o)switch(n._selHdl._expandSelection(),e=n.selection,n.selectionMode){case s.Row:case s.RowRange:case s.ListBox:e.col=0,e.col2=n.columns.length-1;break;case s.MultiRange:var a=n.selectedRanges;if(a.length>1)return r&&r.beginUpdate(),a.forEach((function(e){n.setClipString(t,e)})),r&&r.endUpdate(),void(n.selectedRanges=a)}e=Zt(e,Tn);var l=this._parseClipString(Ut(t));!o&&l.length>e.rowSpan&&(l=l.slice(0,e.rowSpan)),this._expandClipRows(l,e);var h=o?new Tn(e.topRow,e.leftCol,e.topRow+l.length-1,e.leftCol+l[0].length-1):e,u=new Dn(n.cells,h,t);if(!n.onPasting(u))return!1;h=new Tn(e.topRow,e.leftCol);var c=new Dn(n.cells,new Tn(e.topRow,-1)),d=!1,f=0,p=e.topRow,g=n.rows,_=n.columns,m=n._getRowsPerItem(),w=l.length>m,b=this._deferPaste(e,l.length);if(Ht(m>=1,"Invalid RPI value = "+m),n.deferUpdate((function(){var t=-1;r&&b&&(t=r.currentPosition,r.beginUpdate());for(var o=0;o<l.length&&p<g.length;o++,p++){var s=g[p];if(s.isVisible){var a=s.dataItem,u=r?r.currentEditItem:null;if(u&&a!=u&&(n.onRowEditEnding(c),n.onRowEditEnded(c)),s instanceof ir&&r){if(b){if(s.dataItem=r.addNew(),c._rng.setRange(n.newRowAtTop?0:p,-1),!n.onRowEditStarting(c)){p--,r.cancelNew();continue}n.onRowEditStarted(c)}else if(1==m||(p+1)%m==1){if(c._rng.setRange(n.newRowAtTop?p%m:p,-1),!n.onRowEditStarting(c)){p--;continue}n.onRowEditStarted(c)}}else a!=u&&(c._rng.setRange(p,-1),n.onRowEditStarting(c),n.onRowEditStarted(c));for(var v=l[o],y=e.leftCol,x=0;x<v.length&&y<_.length;x++,y++){var C=_[y];if(C.isVisible){if(i._allowEdit(p,y)){var j=v[x],S=j.length;S>1&&'"'==j[0]&&'"'==j[S-1]&&j.indexOf("\n")>-1&&(j=j.substr(1,S-2));var E=C.maxLength||s.maxLength;E&&(j=j.substr(0,E));var k=new Dn(n.cells,new Tn(p+f,y),j);if(n.onPastingCell(k)){r&&(r.editItem(a),i._edItem=r.currentEditItem);var T=n.getCellData(p,y,!1),P=k.data,A=or();if(A){var R=n._getBindingColumn(n.cells,p,n.columns[y]),O=R.editor,D=null,I=null;O instanceof A.InputNumber?(D=O.clamp.bind(O),I=lt.Number):(O instanceof A.InputDate||O instanceof A.InputTime)&&(D=O._clamp.bind(O),I=lt.Date),D&&Rt(P=Dt(P,I,R.format,T))==I&&(P=D(P))}n.setCellData(p,y,P)&&(k.data=T,n.onPastedCell(k),d=!0)}h.row2=Math.max(h.row2,p+f),h.col2=Math.max(h.col2,y)}}else x--}if(i._edItem&&r instanceof ei){var M=new ht(Q.Change,i._edItem,p);r.onCollectionChanged(M)}s instanceof ir&&r&&(b?(s.dataItem=null,d?(c._rng.setRange(n.newRowAtTop?0:p,-1),n.onRowEditEnding(c),n.onRowEditEnded(c),p--,f++,r.commitNew()):r.cancelNew()):w&&m>1&&(p+1)%m==0&&d&&(c._rng.setRange(n.newRowAtTop?p%m:p,-1),n.onRowEditEnding(c),n.onRowEditEnded(c),p-=m,f++))}else o--}if(r)if(b)r.currentEditItem&&(r.commitEdit(),n.onRowEditEnding(c),n.onRowEditEnded(c)),r.moveCurrentToPosition(t),r.endUpdate(!0);else{var F=r.currentAddItem;!F&&0==e.row&&n.newRowAtTop&&g[0]instanceof ir&&(F=g[0].dataItem),F&&(r.editItem(F),i._edItem=F)}h.rowSpan>1&&0==h.topRow&&g[0]instanceof ir&&(h.row=h.row2=0),n.select(h)})),n.onPasted(u),d&&Se(n.hostElement,"form")){var v=document.createEvent("HTMLEvents"),y=xe("<input>",n.hostElement);v.initEvent("change",!0,!1),y.dispatchEvent(v),ge(y)}},t.prototype._deferPaste=function(t,e){var i=this._g.rows,n=i.length;if(e>1){if(n>1&&i[0].dataItem!=i[1].dataItem)return!0;if(1==n&&i[0]instanceof ir)return!0}return!1},t.prototype._parseClipString=function(t){var e=[],i=(t=(t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n")).replace(/\n$/,"")).length,n=function(t){return"\n"===t||"\t"===t},r=0,o=0;for(r=0;r<i;r++){var s=!1,a=!1,l=!1;if('"'===t[r]){for(var h=!1,u=!1,c=r+1;c<i;c++){var d=t[c];if('"'===d){var f=c+1;f<i?n(t[f])&&(u=!0):u=!0}else!h&&n(d)&&(h=!0);if(u)break}u&&h&&(s=!0)}for(o=r;o<i&&!l;o++){var p=t[o];'"'===p?s&&(a=!a):n(p)&&!a&&(this._parseClipCell(e,t,r,o,"\n"==p),r=o,o==i-1&&(r=o+1),l=!0)}if(o==i){this._parseClipCell(e,t,r,o,!1);break}}return 0==e.length&&e.push([""]),e},t.prototype._parseClipCell=function(t,e,i,n,r){t.length||t.push([]);var o=e.substr(i,n-i),s=o.length;if(s>2&&'"'==o[0]&&'"'==o[s-1]){var a=o.substr(1,s-2),l=function(t){return a.indexOf(t)>-1};(l('""')||l("\t")||l("\n"))&&(o=a.replace(/""/g,'"'))}else"\t"==o&&(o="");t[t.length-1].push(o),r&&t.push([])},t.prototype._expandClipRows=function(t,e){for(var i=t.length,n=0,r=0;r<i;r++)n=Math.max(n,t[r].length);for(var o=this._g,s=0,a=0,l=e.topRow;l<=e.bottomRow;l++)o.rows[l].isVisible&&s++;for(var h=e.leftCol;h<=e.rightCol;h++)o.columns[h].isVisible&&a++;if((s>1||a>1)&&(1==s&&(s=i),1==a&&(a=n),a%n==0&&s%i==0)){for(h=n;h<a;h++)for(l=0;l<i;l++)t[l].push(t[l%i][h%n]);for(l=i;l<s;l++)t.push(t[l%i])}},t.prototype._updateEditorCell=function(t,e,i){var n=this._g,r=n.cells.getCellElement(t,e),o=n._useFrozenDiv()&&(t<n.frozenRows||e<n.frozenColumns);!r||o||n._hasPendingUpdates()?n.refresh(!1):n.onUpdatingView(new rt)&&(this._updateCell(r),(i||n._getHasValidation())&&this._updateRowHeaderCell(t),n.onUpdatedView())},t.prototype._updateRowHeaderCell=function(t){var e=this._g;if(e.headersVisibility&Bn.Row){var i=e.rowHeaders,n=e._getEditColumnIndex(),r=i.getCellElement(t,n);r&&this._updateCell(r)}},t.prototype._updateCell=function(t){var e=new rr(t,null),i=$n._WJS_UPDATING;e.panel&&(ae(t,i),e.grid.cellFactory.updateCell(e.panel,e.row,e.col,t,e.range),le(t,i))},t.prototype._getValidationError=function(t){var e=this,i=this._g,n="";if(i&&this._rng&&!this._validating){var r=this._rng.row,o=this._rng.col,s=i.activeEditor,a=i.cellFactory.getEditorValue(i),l=i.getCellData(r,o,!1);if(t&&(n=i._getError(i.cells,r,o,!0)),!n&&i._getHasValidation()){if(s&&(n=s.validationMessage),!n){var h=i.columns[o],u=i.rows[r];!i._getBindingColumn(i.cells,r,h).getIsRequired(u)||null!=a&&""!==a||(n=this._getRequiredMsg())}!n&&i.setCellData(r,o,a,!0,!1)&&(n=i._getError(i.cells,r,o,!1),i.setCellData(r,o,l,!1,!1))}if(!n){var c=li.getControl(Se(s,".wj-control"));if(c&&c!=i&&c.invalidInput.hasHandlers){var d=function(t,s){s.cancel&&(n=i._getError(i.cells,r,o,!0)||e._getBadInputMsg(),s.cancel=!1)};this._validating=!0;var f=s.value;if(c.invalidInput.addHandler(d),c._containsFocus()){var p=Se(c.hostElement,".wj-cell");p&&p.focus()}c.onLostFocus(),c.invalidInput.removeHandler(d),s.value=f,s.select(),this._validating=!1}}}return n},t.prototype._getRequiredMsg=function(){if(!t._msgRequired){var e=document.createElement("input");e.required=!0,t._msgRequired=e.validationMessage}return t._msgRequired},t.prototype._getBadInputMsg=function(){if(!t._msgBadInput){var e=document.createElement("input");e.pattern="x",e.value="a",t._msgBadInput=e.validationMessage||"Bad Input"}return t._msgBadInput},t.prototype._allowEdit=function(t,e){var i=this._g;if(i.isReadOnly||i.selectionMode==Pn.None)return!1;if(i.collectionView&&!i.editableCollectionView)return!1;if(null!=t){if(t<0||t>=i.rows.length)return!1;var n=i.rows[t];if(!n||n.isReadOnly||!n.isVisible)return!1}if(null!=e){if(e<0||e>=i.columns.length)return!1;var r=i._getBindingColumn(i.cells,t,i.columns[e]);if(!r||r.isReadOnly||!r.isVisible)return!1}return!0},t.prototype._commitRowEdits=function(){var t=this._g;if(this.finishEditing()&&this._edItem){var e=t.editableCollectionView;if(e&&(e.currentEditItem||e.currentAddItem)){var i=new Dn(t.cells,t.selection);t.onRowEditEnding(i),e.commitEdit(),t.onRowEditEnded(i)}this._edItem=null}},t.prototype._keydown=function(t){var e=this._edt;switch(t.keyCode){case at.F2:return this._fullEdit=!this._fullEdit,t.preventDefault(),!0;case at.F4:return this._toggleListBox(t),t.preventDefault(),!0;case at.Space:return!e||"checkbox"!=e.type||e.disabled||e.readOnly||(ce(e,e.indeterminate||!e.checked),this.finishEditing(),t.preventDefault()),!0;case at.Enter:if(t.preventDefault(),e&&t.altKey){var i=t.target;if(i instanceof HTMLTextAreaElement&&"soft"==i.wrap){i.style.setProperty("ime-mode","auto","important");var n=i.value,r=i.selectionStart,o=i.selectionEnd;i.value=n.substr(0,r)+"\n"+n.substr(o),fe(i,r+1),i.style.imeMode=""}return!0}return e&&this._lbx?(this._toggleListBox(t),!0):!this.finishEditing();case at.Tab:return t.preventDefault(),!this.finishEditing();case at.Escape:return t.preventDefault(),this.finishEditing(!0),!0;case at.Up:case at.Down:case at.Left:case at.Right:case at.PageUp:case at.PageDown:case at.Home:case at.End:if(this._lbx)return this._keydownListBox(t);if(t.altKey)switch(t.keyCode){case at.Up:case at.Down:return this._toggleListBox(t),t.preventDefault(),!0}if(this._fullEdit)switch(t.keyCode){case at.PageUp:case at.PageDown:t.preventDefault()}else if(this.finishEditing())return!1}return!0},t.prototype._keydownListBox=function(t){var e=!0;if(this._lbx)switch(t.keyCode){case at.Up:t.altKey?this._toggleListBox(t):this._lbx.selectedIndex>0&&this._lbx.selectedIndex--;break;case at.Down:t.altKey?this._toggleListBox(t):this._lbx.selectedIndex++;break;case at.Home:case at.PageUp:this._lbx.selectedIndex=0;break;case at.End:case at.PageDown:this._lbx.selectedIndex=this._lbx.collectionView.items.length-1;break;default:e=!1}return!!e&&(t.preventDefault(),!0)},t.prototype._keypress=function(t){if("AltLeft"!=t.code&&"AltRight"!=t.code){var e=this._edt,i=t.charCode||32,n=this._list;if(e&&"checkbox"!=e.type&&_e()==e&&n&&n.length>0&&i>=32){var r=e.selectionStart,o=e.value.substr(0,r);t.target==e&&t.charCode&&(o+=String.fromCharCode(t.charCode),r++);var s=this._findString(n,o,!0);if(s<0&&!this._g.caseSensitiveSearch&&(s=this._findString(n,o,!1)),s>-1){var a=this._lbx;a&&(a.selectedIndex=s),e.value=n[s],fe(e,r,e.value.length),e.dispatchEvent(this._evtInput),t.preventDefault&&t.preventDefault()}}}else t.preventDefault()},t.prototype._findString=function(t,e,i){i||(e=e.toLowerCase());for(var n=0;n<t.length;n++){var r=t[n];if(null!=r&&(r=r.toString(),i||(r=r.toLowerCase()),0==r.indexOf(e)))return n}return-1},t.prototype._toggleListBox=function(t,e){var i=this._g,n=i._selHdl.selection,r=i.isTouching;if(e||(e=n),this._lbx&&(this._removeListBox(),n.intersects(e)))return i.activeEditor?i.activeEditor.focus():i.containsFocus()||i.focus(),!0;if(!e.isValid)return!1;var o=i.rows[e.row],s=i._getBindingColumn(i.cells,e.row,i.columns[e.col]),a=o.dataMap||s.dataMap,l=i._getMapEditor(o,s);if(!a||l!=bn.DropDownList||!or())return!1;if(null!=s.editor)return!1;if(!e.intersects(i.editRange)&&!this.startEditing(!0,e.row,e.col,!r,t))return!1;var h=this._lbx=this._createListBox();return requestAnimationFrame((function(){return h.showSelection()})),r&&h.focus(),!0},t.prototype._createListBox=function(){var t=this,e=this._g,i=e.activeEditor,n=this._rng,r=e.rows[n.row],o=e._getBindingColumn(e.cells,n.row,e.columns[n.col]),s=o.isContentHtml||r.isContentHtml,a=o.dataMap||r.dataMap,l=o.dropDownCssClass||r.dropDownCssClass,h=document.createElement("div");this._removeListBox(),ae(h,"wj-dropdown-panel wj-grid-listbox"),ae(h,l);var u=i?i.value:e.getCellData(n.row,n.col,!0),c=new Ki(h,{maxHeight:4*r.renderHeight,isContentHtml:s,itemsSource:a.getDisplayValues(r.dataItem),selectedValue:u});c.addEventListener(h,"keydown",(function(i){switch(i.keyCode){case at.Enter:case at.Escape:t._removeListBox(),e.focus()}})),c.addEventListener(h,"click",(function(){t._removeListBox(),e.focus(),t.finishEditing()})),c.gotFocus.addHandler((function(){c.containsFocus()&&i&&i.focus()})),c.selectedIndexChanged.addHandler((function(){var i=e.activeEditor;i&&(i.value=t._list[c.selectedIndex],i.dispatchEvent(t._evtInput),fe(i,0,i.value.length))}));var d=e.cells.getCellElement(n.row,n.col);d?(_i(h,d,!1,!1,!1),ue(d.querySelector("."+sr._WJC_DROPDOWN),"aria-expanded",!0)):(_i(h,e.getCellBoundingRect(n.row,n.col)),h[li._OWNR_KEY]=e.hostElement);return c},t.prototype._removeListBox=function(){var t=this._lbx;t&&(this._lbx=null,mi(t.hostElement,(function(){t.dispose()})))},t._msgRequired="",t._msgBadInput="",t}(),_r=function(){function t(t,e){this._col=Zt(t,Un),this._ctl=e,this._tbx=e.hostElement.querySelector("input"),Ht(this._col instanceof Un,"Invalid Column"),Ht(this._ctl instanceof li,"Invalid edit control"),Ht(this._tbx instanceof HTMLInputElement,"Input element not found in editor");var i=this._ctl;this._prop=jt(i.value)?jt(i.checkedItems)?jt(i.text)?null:"text":"checkedItems":"value",Ht(null!=this._prop,"value, text properties not found in editor");var n=or();n&&(this._isDropDown=i instanceof n.DropDown,this._isComboBox=i instanceof n.ComboBox,this._isAutoComplete=i instanceof n.AutoComplete,this._isInputDateTime=i instanceof n.InputDateTime,this._isInputMask=i instanceof n.InputMask),this._updateFocusBnd=this._updateFocus.bind(this),this._keydownBnd=this._keydown.bind(this),this._cmpstartBnd=this._cmpstart.bind(this),this._mousedownBnd=this._mousedown.bind(this),this._connect(),this._col.gridChanged.addHandler(this._connect,this),this._hideEditor(),this._updateFocus()}return Object.defineProperty(t.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"control",{get:function(){return this._ctl},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._disconnect(),this._isDropDown&&(this._isDropDown=!1),this._g=this._col=this._ctl=this._tbx=null},t.prototype._connect=function(){var t=this._col?this._col.grid:null;if(t!=this._g&&(this._disconnect(),t)){var e=t.hostElement,i=t.addEventListener.bind(t),n=this._updateFocusBnd;this._g=t,this._hideEditor(),this._updateFocus(),i(e,"keydown",this._keydownBnd,!0),i(e,"mousedown",this._mousedownBnd,!0),i(e,"mouseup",n,!0),i(e,"blur",n,!0),i(e,"focus",n),i(this._tbx,"compositionstart",this._cmpstartBnd),t.gotFocus.addHandler(n,this),t.selectionChanged.addHandler(n,this),t.prepareCellForEdit.addHandler(this._prepareCellForEdit,this),t.cellEditEnding.addHandler(this._cellEditEnding,this),t.cellEditEnded.addHandler(this._cellEditEnded,this)}},t.prototype._disconnect=function(){var t=this._g;if(t){var e=t.hostElement,i=t.removeEventListener.bind(t),n=this._updateFocusBnd;i(e,"keydown",this._keydownBnd),i(e,"mousedown",this._mousedownBnd),i(e,"mouseup",n),i(e,"blur",n),i(e,"focus",n),i(this._tbx,"compositionstart",this._cmpstartBnd),t.gotFocus.removeHandler(n,this),t.selectionChanged.removeHandler(n,this),t.prepareCellForEdit.removeHandler(this._prepareCellForEdit,this),t.cellEditEnding.removeHandler(this._cellEditEnding,this),t.cellEditEnded.removeHandler(this._cellEditEnded,this),this._g=null}},t.prototype._prepareCellForEdit=function(t,e){if(!e.cancel&&e.getColumn(!0)==this._col){var i=this.grid,n=this._ctl,r=this._tbx,o=this._prop,s=e.range,a=e.data,l=a?a.type:"",h=i.getCellData(s.row,s.col,"text"==o||this._isInputMask),u=!1;switch(this._isComboBox&&(this._isAutoComplete&&(n._oldText=""),n.isRequired||(n.selectedIndex=-1,r.value=""),this._isInputDateTime&&n._setDropdown(n._ddDate)),"checkedItems"==o&&(n.showFilterInput&&(n.showFilterInput=!1,n.showFilterInput=!0),null!=h&&0!=h.length||(n[o]=[],n.selectedIndex=0)),null==h&&n.isRequired||(n[o]=h,this._isAutoComplete&&(clearTimeout(n._toSearch),(c=n.collectionView)&&(c.filter||n._rxHighlight)&&(n._rxHighlight=null,c.filter=null),h&&(n.selectedIndex=n._findNext(h,1,-1)))),l){case"keydown":case"mousedown":var c;if(jt(a.keyCode)||a.keyCode==at.F4||a.altKey)if(u=this._isDropDown,this._isAutoComplete&&(null==h||wt(h)))(c=n.collectionView)&&((c.filter||n._rxHighlight)&&(n._rxHighlight=null,c.filter=null),n.selectedIndex=h?n._findNext(h,1,-1):-1)}if(i.showPlaceholders&&!n.placeholder&&(r.placeholder=this._col.header),this._showEditor(),i._edtHdl._fullEdit=!0,0==l.indexOf("key")&&32==a.keyCode&&(fe(r,r.value.length),a.preventDefault()),D()&&!i.imeEnabled)if("keypress"==l&&a.key)setTimeout((function(){r.value=a.key,fe(r,1);var t=document.createEvent("HTMLEvents");t.initEvent("input",!0,!1),r.dispatchEvent(t)})),a.preventDefault();else if("compositionstart"==l){var d=r.value.length;fe(r,d)}this._isDropDown&&(n.isDroppedDown=u)}},t.prototype._cellEditEnding=function(t,e){if(!e.cancel&&e.getColumn(!0)==this._col){var i=this.grid,n=this._ctl,r=this._prop;if(this._isAutoComplete){var o=n.selectedIndex;if(vt(o)&&o<0){var s=n.collectionView;s&&1==s.items.length?n.selectedIndex=0:this._col.isRequired&&(e.cancel=!0)}}!e.cancel&&r&&i._edtHdl._setCustomEditorValue(n[r])}},t.prototype._cellEditEnded=function(t,e){this._hideEditor(),this._updateFocus()},t.prototype._cmpstart=function(t){var e=this;D()?setTimeout((function(){e._activateEditor(t)})):this._activateEditor(t)},t.prototype._keydown=function(t){if(!t.defaultPrevented&&this._checkColumn(t.target))if(this.grid.activeEditor){if(t.keyCode==at.Enter&&this._isDropDown){var e=this._ctl;e.isDroppedDown&&(e.isDroppedDown=!1,t.preventDefault(),t.stopImmediatePropagation())}}else if(this._isDropDown){var i=t.keyCode;switch(i){case at.F4:case at.Up:case at.Down:(i==at.F4||t.altKey)&&(this._activateEditor(t),t.preventDefault())}}},t.prototype._checkColumn=function(t){var e=this._g;if(je(t,this._tbx)||null!=t&&this._imeEditor()===t){var i=e._selHdl.selection;return e._getBindingColumn(e.cells,i.row,e.columns[i.col])==this._col}return!1},t.prototype._mousedown=function(t){if(!t.defaultPrevented&&0==t.button&&!t.shiftKey&&!t.ctrlKey&&!t.metaKey&&this._isDropDown&&Ee(t.target,sr._WJC_DROPDOWN)){var e=this.grid,i=e.hitTest(t);i.getColumn(!0)==this._col&&(e.select(i.range),e.refresh(),this._activateEditor(t),t.preventDefault())}},t.prototype._activateEditor=function(t){var e=this.grid;if(!e.activeEditor){var i=e._selHdl.selection;if(i.isValid)return e.startEditing(!0,i.row,i.col,!0,t)}return!1},t.prototype._showEditor=function(){var e=this.grid,i=e.activeEditor,n=Se(i,".wj-cell");if(n){var r=this._tbx,o=this._ctl.hostElement;Pe(o,t._cssVisible),he(r,"wj-grid-ime",!1),n.innerHTML="",n.appendChild(o),e._edtHdl._edt=r,this._imeEditor()?this._initImeEditInput():(r.select(),r.focus(),i.value="")}},t.prototype._hideEditor=function(){var e=this.grid,i=this._ctl.hostElement,n=this._tbx;this._isDropDown&&(this._ctl.isDroppedDown=!1),n.setCustomValidity("");var r=n.value;n.value=r+" ",n.value=r,Pe(i,t._cssHidden),he(n,"wj-grid-ime",!0),e&&i.parentElement!=e._root&&e._root.appendChild(i)},t.prototype._updateFocus=function(){var t=this.grid;if(t&&!t.activeEditor){var e=t.hostElement,i=".wj-flexgrid",n=this._tbx,r=_e(),o=t._getTabIndex();if(Se(r,i)==e)if(Se(n,i)!=e)this._hideEditor();else if(!t.imeEnabled){var s=t._selHdl.selection,a=t._getBindingColumn(t.cells,s.row,t.columns[s.col]);a&&a==this._col&&t.canEditCell(s.row,s.col)?r!==n&&(n.tabIndex=o,n.select(),n.focus()):n.tabIndex>-1&&(n.tabIndex=-1,r==n&&t.focus(!0))}}},t.prototype._initImeEditInput=function(){var e=this,i=this._imeEditor();if(i){var n=this._tbx,r=n&&n.style.color,o=this._ctl,s=function(){if(i.removeEventListener("compositionend",s),Pe(i,tr._cssHidden),n){n.style.color=r;var a=function(){o.gotFocus.removeHandler(a),e._g._edtHdl._edt=n;var r=i.value;if(r){n.value=r,t._setSelectionRange(n,r.length,r.length);var s=document.createEvent("HTMLEvents");s.initEvent("input",!0,!1),n.dispatchEvent(s)}};o.gotFocus.addHandler(a),n.focus()}};i.addEventListener("compositionend",s),n&&(n.style.color="transparent")}},t._setSelectionRange=function(t,e,i){if(void 0===i&&(i=e),je(document.body,t)&&!t.disabled&&"none"!=t.style.display)try{t.setSelectionRange(Gt(e),Gt(i),D()?null:"backward"),t.focus()}catch(t){}},t.prototype._imeEditor=function(){var t=this.grid;if(t&&t.imeEnabled){var e=_e();if(e&&(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)&&se(e,"wj-grid-ime"))return e}return null},t._cssHidden={position:"fixed",left:-32e3,top:-32e3,width:"1px",height:"1px",overflow:"hidden",border:"none"},t._cssVisible={position:"absolute",left:0,top:0,width:"100%",height:"100%"},t}();!function(t){t[t.None=0]="None",t[t.MoveDown=1]="MoveDown",t[t.MoveAcross=2]="MoveAcross",t[t.Cycle=3]="Cycle",t[t.CycleOut=4]="CycleOut",t[t.CycleEditable=5]="CycleEditable"}(pr||(pr={}));var mr,wr,br,vr=function(){function t(t){this._kaTab=pr.None,this._kaEnter=pr.MoveDown,this._g=t;var e=t.hostElement;t.addEventListener(e,"keypress",this._keypress.bind(this)),t.addEventListener(e,"keydown",this._keydown.bind(this))}return t.prototype._keydown=function(t){var e=this._g,i=e._edtHdl,n=e.selection,r=t.ctrlKey||t.metaKey,o=t.shiftKey,s=t.altKey,a=t.target,l=t.char||t.key,h=!0;if(!r&&!s&&l&&1==l.length&&Se(a,".wj-cell")&&a.firstElementChild&&(" "!=l||!o)){var u=a.querySelectorAll("."+sr._WJC_RADIOMAP+" label input");if(u&&u.length){for(var c=-1,d=0;d<u.length;d++)if(u[d].checked){c=d;break}for(l=l.toLowerCase(),d=0;d<u.length;d++){var f=u[(c+d+1)%u.length];if(" "==l||f.value.toLowerCase()[0]==l){f.click();break}}return void t.preventDefault()}}if(!e._wantsInput(a)){var p=_t(e.rows[n.row],Wn),g=e.editableCollectionView,_=e._getKeyCode(t),m=Rn,w=Pn,b=t.defaultPrevented&&!(a instanceof HTMLInputElement);if((e.isRangeValid(n)&&!b||r&&65==_)&&(!e.activeEditor||!i._keydown(t)||e._isNativeCheckbox(e.activeEditor))){if(e.autoClipboard){if(r&&(67==_||45==_)){var v=new Dn(e.cells,n);if(e.onCopying(v)){var y=Bn,x=0!=(e.copyHeaders&y.Column),C=0!=(e.copyHeaders&y.Row),j=e.getClipString(null,!1,x,C)+"\r\n";e._eFocus.focus(),pi.copy(j),e.onCopied(v)}return void t.stopPropagation()}if(r&&86==_||o&&45==_)return e.isReadOnly||pi.paste((function(t){e.setClipString(t)})),void t.stopPropagation()}switch((o||r)&&"Space"==t.code&&(_=at.Space),_){case at.Space:if(o&&n.isValid)switch(e.selectionMode){case w.CellRange:case w.MultiRange:case w.Row:case w.RowRange:case w.ListBox:e.select(new Tn(n.row,0,n.row,e.columns.length-1),!1)}else if(r&&n.isValid)switch(e.selectionMode){case w.CellRange:case w.MultiRange:e.select(new Tn(0,n.col,e.rows.length-1,n.col),!1)}else(h=this._startEditing(!0,t))&&setTimeout((function(){var t=e.activeEditor;t&&(t.disabled||t.readOnly&&!Se(t,".wj-control")?e.finishEditing():"checkbox"==t.type&&(ce(t,t.indeterminate||!t.checked),e.finishEditing()))})),h=!0;break;case 65:if(r)switch(e.selectionMode){case w.None:case w.Cell:break;default:e.selectAll()}else h=!1;break;case at.Left:r||s?h=!1:n.isValid&&0==n.leftCol&&p&&!p.isCollapsed&&p.hasChildren?p.isCollapsed=!0:this._moveSel(m.None,r?m.Home:m.Prev,o);break;case at.Right:r||t.altKey?h=!1:n.isValid&&0==n.leftCol&&p&&p.isCollapsed?p.isCollapsed=!1:this._moveSel(m.None,r?m.End:m.Next,o);break;case at.Up:r?h=!1:t.altKey&&i._toggleListBox(t)?h=!0:this._moveSel(m.Prev,m.None,o);break;case at.Down:r?h=!1:t.altKey&&i._toggleListBox(t)?h=!0:this._moveSel(m.Next,m.None,o);break;case at.PageUp:if(this._moveSel(t.altKey?m.Home:m.PrevPage,m.None,o),e.rows.frozen&&e.selection.row<e.rows.frozen){var S=e.scrollPosition;S.y&&(e.scrollPosition=new Re(S.x,0))}break;case at.PageDown:this._moveSel(t.altKey?m.End:m.NextPage,m.None,o);break;case at.Home:this._moveSel(r?m.Home:m.None,m.Home,o);break;case at.End:this._moveSel(r?m.End:m.None,m.End,o);break;case at.Tab:h=this._performKeyAction(e.keyActionTab,o);break;case at.Enter:h=this._performKeyAction(e.keyActionEnter,o),!o&&g&&null!=g.currentEditItem&&i._commitRowEdits();break;case at.Escape:if(h=!1,g&&(g.currentAddItem||g.currentEditItem)){var E=new Dn(e.cells,e.selection);E.cancel=!0,e.onRowEditEnding(E),g.currentAddItem&&g.cancelNew(),g.currentEditItem&&g.cancelEdit(),e.onRowEditEnded(E),h=!0}e._mouseHdl.resetMouseState();break;case at.Delete:case at.Back:h=this._deleteSel(t);break;case at.F2:h=this._startEditing(!0,t);break;case at.F4:h=i._toggleListBox(t);break;default:h=!1}h&&(e.containsFocus()||e.focus(),t.preventDefault(),t.stopPropagation())}}},t.prototype._performKeyAction=function(t,e){var i=pr,n=Rn;switch(t){case i.MoveDown:return this._moveSel(e?n.Prev:n.Next,n.None,!1),!0;case i.MoveAcross:return this._moveSel(n.None,e?n.Prev:n.Next,!1),!0;case i.Cycle:return this._moveSel(n.None,e?n.PrevCell:n.NextCell,!1),!0;case i.CycleEditable:return this._moveSel(n.None,e?n.PrevEditableCell:n.NextEditableCell,!1),!0;case i.CycleOut:var r=this._g.selection;return this._moveSel(n.None,e?n.PrevCell:n.NextCell,!1),!r.equals(this._g.selection)}return!1},t.prototype._keypress=function(t){var e=this,i=this._g;if(!i._wantsInput(t.target)&&!t.defaultPrevented){var n=i._edtHdl;if(i.activeEditor)n._keypress(t);else if(t.charCode>at.Space&&"AltLeft"!=t.code&&"AltRight"!=t.code)if(this._startEditing(!1,t)&&i.activeEditor){var r=_e();if(r instanceof HTMLInputElement&&"checkbox"!=r.type||r instanceof HTMLTextAreaElement){var o=i._selHdl.selection,s=i.getCellData(o.row,o.col,!0),a=i.getCellData(o.row,o.col,!1),l=Ve.Globalize.numberFormat["%"]||"%",h=String.fromCharCode(t.charCode),u=vt(a)&&s.indexOf(l)>-1||""==s&&r.value==l,c=!0,d=function(){r.value=u?h+l:h,fe(r,1),r.dispatchEvent(n._evtInput),n._keypress(t),n._edtValue=r.value!=s?r.value:null};if(i.imeEnabled){var f=i._getBindingColumn(i.cells,o.row,i.columns[o.col]),p=f&&f._edt,g=p&&p.control;if(g&&!g._focus){var _=function(){g.gotFocus.removeHandler(_),c=!1,d()};g.gotFocus.addHandler(_)}}c&&d(),t.preventDefault()}}else if(i.autoSearch){var m=!1;if(o=i._selHdl.selection,t.charCode>32||32==t.charCode&&this._search){t.preventDefault(),this._search+=String.fromCharCode(t.charCode),this._toSearch&&clearTimeout(this._toSearch),this._toSearch=setTimeout((function(){e._toSearch=null,e._search=""}),li._SEARCH_DELAY);var w=this._findNext(o.row,o.col);w<0&&this._search.length>1&&(this._search=this._search[this._search.length-1],w=this._findNext(o.row,o.col)),w>-1&&(m=!0,i.select(w,o.col))}m||(this._search="")}}},t.prototype._findNext=function(t,e){var i=this._g,n=i.rows.length;(t<0||1==this._search.length)&&t++;var r=this._search,o=i.caseSensitiveSearch;o||(r=r.toLowerCase());for(var s=i.columns[e].isContentHtml,a=0;a<n;a++){var l=(t+a)%n,h=i.getCellData(l,e,!0).trim();if(s&&(h=oe(h)),o||(h=h.toLowerCase()),0==h.indexOf(r))return l}return-1},t.prototype._moveSel=function(t,e,i){var n=this._g,r=n.selectionMode,o=n._selHdl;r!=Pn.None&&(r==Pn.MultiRange&&o.extendedSelection.clear(),o.moveSelection(t,e,i))},t.prototype._deleteSel=function(t){var e=this,i=this._g,n=i.rows,r=i.editableCollectionView,o=i.selection,s=[],a=new Tn,l=new Mn(i.cells,a,t),h=Pn;if(!i._edtHdl._allowEdit())return!1;if(i.allowDelete&&(null==r||r.canRemove&&!r.isAddingNew&&!r.isEditingItem)&&0==(s=n.filter((function(t){return t.isSelected}))).length)switch(i.selectionMode){case h.CellRange:case h.MultiRange:var u=i._getDeleteColumnIndex();i.selectedRanges.forEach((function(t){if(t.leftCol==u&&t.rightCol==i.columns.length-1)for(var e=t.topRow;e>-1&&e<=t.bottomRow;e++){var r=n[e];s.indexOf(r)<0&&s.push(r)}}));break;case h.Row:o.topRow>-1&&s.push(n[o.topRow]);break;case h.RowRange:for(var c=o.topRow;c>-1&&c<=o.bottomRow;c++)s.push(n[c])}if(s.length>0){var d=0;if(i.deferUpdate((function(){r&&r.beginUpdate();for(var t=s.length-1;t>=0;t--){var e=s[t];e instanceof ir||(a.setRange(e.index,-1),i.onDeletingRow(l)&&(r&&e.dataItem?r.remove(e.dataItem):i.rows.removeAt(e.index),d++,i.onDeletedRow(l)))}r&&r.endUpdate(!1)})),d>0){var f=o.topRow;for(f=Math.min(f,i.rows.length-1);f>0&&i.rows[f]instanceof ir;)f--;o.row=o.row2=f,i.select(o,!1),i.childItemsPath&&r&&r.refresh()}return!0}return 0==s.length&&(i.deferUpdate((function(){var a=i.scrollPosition,l=-1;s=n.filter((function(t){return t.isSelected}));var u=i.selectedRanges.length>1||s.length>1||o.isValid&&n[o.row].dataItem!=n[o.row2].dataItem;if(r&&r.beginUpdate(),s.length){var c=new Tn(0,0,0,i.columns.length-1);s.forEach((function(i){c.row=c.row2=i.index,e._deleteRange(t,c),l=c.bottomRow}))}else e._deleteRange(t,o),l=o.bottomRow,i.selectionMode==h.MultiRange&&i._selHdl.extendedSelection.forEach((function(i){e._deleteRange(t,i),l=i.bottomRow}));if(i.select(o,!1),i.scrollPosition=a,r){if(u&&r.currentEditItem){r.commitEdit();var d=new Dn(i.cells,new Tn(l,-1));i.onRowEditEnding(d),i.onRowEditEnded(d)}r.endUpdate(!1)}})),!0)},t.prototype._deleteRange=function(t,e){for(var i=this._g,n=i.editableCollectionView,r=new Tn,o=new Mn(i.cells,r,t),s=new Dn(i.cells,new Tn(e.topRow,-1)),a=e.topRow;a<=e.bottomRow;a++){var l=i.rows[a];if(!l.isReadOnly)for(var h=e.leftCol;h<=e.rightCol;h++){var u=i._getBindingColumn(i.cells,a,i.columns[h]);if(!u.getIsRequired(l)&&!u.isReadOnly&&i.getCellData(a,h,!0)&&(r.setRange(a,h),o.cancel=!1,i.onBeginningEdit(o))){var c=l.dataItem,d=n?n.currentEditItem:null;d&&c!=d&&(i.onRowEditEnding(s),i.onRowEditEnded(s)),c!=d&&(s._rng.setRange(a,-1),i.onRowEditStarting(s),i.onRowEditStarted(s)),n&&(n.editItem(c),i._edtHdl._edItem=c),i.setCellData(a,h,"",!0,!1),i.onCellEditEnding(o),i.onCellEditEnded(o)}}}},t.prototype._startEditing=function(t,e,i,n){return this._g._edtHdl.startEditing(t,i,n,!0,e)},t}(),yr="wj-state-dragsrc",xr="wj-flexgrid";!function(t){t[t.None=0]="None",t[t.Columns=1]="Columns",t[t.Rows=2]="Rows",t[t.Both=3]="Both",t[t.ColumnsAllCells=4|t.Columns]="ColumnsAllCells",t[t.RowsAllCells=4|t.Rows]="RowsAllCells",t[t.BothAllCells=4|t.Both]="BothAllCells"}(mr||(mr={})),function(t){t[t.None=0]="None",t[t.Headers=1]="Headers",t[t.Cells=2]="Cells",t[t.Both=3]="Both"}(wr||(wr={})),function(t){t[t.None=0]="None",t[t.Columns=1]="Columns",t[t.Rows=2]="Rows",t[t.Both=3]="Both"}(br||(br={}));var Cr=function(){function t(t){var e=this,i=t.hostElement,n=t.addEventListener.bind(t),r=t.removeEventListener.bind(t);this._g=t,this._dvMarker=xe('<div class="wj-marker">&nbsp;</div>'),n(i,"mousedown",(function(i){if(t._rcBounds=null,!i.defaultPrevented&&0==i.button){var a=i.target;if(!t.containsFocus()){var l=a instanceof HTMLElement&&a.tabIndex>-1?a:t._eFocus;t._setFocusNoScroll(l)}setTimeout((function(){i.defaultPrevented||t.focus()}));var h=Ee(a,xr);if(h&&h!=t.hostElement||!t.activeEditor&&t._isInputElement(a)&&!e._hasRadioMap(i)&&!t._isNativeCheckbox(a)){var u=t.hitTest(i),c=En;switch(u.cellType){case c.Cell:t.select(u.range,!1),a instanceof HTMLElement&&"root"!=a.getAttribute("wj-part")&&a.focus();break;case c.ColumnHeader:case c.ColumnFooter:t.scrollIntoView(-1,u.col);break;case c.RowHeader:t.scrollIntoView(u.row,-1)}return void(D()&&u.cellType!=c.Cell&&t._isInputElement(a)&&a.focus())}var d=document;r(d,"mousemove"),r(d,"mouseup"),n(d,"mousemove",o),n(d,"mouseup",s),e._isDown=!0,e._mousedown(i)}}));var o=function(t){e._mousemove(t)},s=function(t){e._isDown=!1,r(document,"mousemove"),r(document,"mouseup"),e._mouseup(t)};n(i,"mouseenter",(function(e){t._rcBounds=null})),n(i,"mousemove",this._hover.bind(this)),n(i,"dblclick",this._dblclick.bind(this)),n(i,"click",this._click.bind(this)),n(i,"selectstart",(function(e){t._isInputElement(e.target)||e.preventDefault()})),n(i,"wheel",(function(e){if(!e.defaultPrevented&&e.deltaY&&!e.ctrlKey&&!e.metaKey){var i=t._root,n=e.deltaY;if((e.shiftKey?i.scrollWidth>i.clientWidth:i.scrollHeight>i.clientHeight)&&Ee(e.target,xr)==t.hostElement){switch(e.deltaMode){case 1:n=t.rows.defaultSize*(n<0?-1:1);break;case 2:n=(e.shiftKey?i.clientWidth:i.clientHeight)*(n<0?-1:1);break;default:P()&&(n=zt(n,-150,150))}t.containsFocus()||t._eFocus.focus(),t.finishEditing(!1)&&(e.shiftKey?i.scrollLeft+=n:i.scrollTop+=n),e.preventDefault(),e.stopImmediatePropagation()}}})),n(i,"dragstart",this._dragstart.bind(this)),n(i,"dragover",this._dragover.bind(this)),n(i,"dragleave",this._dragover.bind(this)),n(i,"drop",this._drop.bind(this)),n(i,"dragend",this._dragend.bind(this))}return t.prototype.resetMouseState=function(){var t=this._g,e=t.hostElement;this._updating&&(this._updating=!1,t.endUpdate()),this._dragSrc&&le(this._dragSrc,yr),this._showDragMarker(null),e&&(e.style.cursor=""),P()&&this._szRowCol&&t.invalidate(),t.removeEventListener(document,"mousemove"),t.removeEventListener(document,"mouseup"),this._eMouse=null,this._isDown=null,this._htDown=null,this._lbSelState=null,this._szRowCol=null,this._szArgs=null,t._rcBounds=null},t.prototype._mousedown=function(t){var e=this._g,i=t.target,n=e.hitTest(t),r=n.cellType,o=En,s=t.ctrlKey||t.metaKey;if(this._selDown=e.selection,this._ignoreClick=!1,n.panel==e.cells){if(Ee(i,sr._WJC_DROPDOWN)){var a=e.hitTest(i);return e._edtHdl._toggleListBox(t,a.range),t.preventDefault(),void(this._ignoreClick=!0)}var l=e.editRange;if(l&&l.contains(n.range))return}var h=_e();if(i!=h||!e._isInputElement(i))if(r!=o.None)if(this._htDown=n,this._eMouse=t,null==this._szRowCol){var u=e.allowResizing,c=mr;if((r==o.RowHeader||r==o.TopLeft)&&n.edgeBottom&&u&c.Rows&&this._getResizeRowHt(n))this._ignoreClick=!0;else if((r==o.ColumnHeader||r==o.TopLeft)&&n.edgeRight&&u&c.Columns&&this._getResizeColHt(n))this._ignoreClick=!0;else{var d=e.allowDragging,f=br;switch(r){case o.Cell:case o.RowHeader:s&&e.selectionMode==Pn.ListBox&&(this._lbSelState=e.rows[n.row].isSelected,Se(i,".wj-elem-collapse")&&(this._lbSelState=!1)),this._mouseSelect(t,t.shiftKey),r!=o.RowHeader||d&f.Rows||(t.preventDefault(),e.focus());break;case o.ColumnHeader:e.allowSorting||d&f.Columns||Se(i,"button")||this._mouseSelect(t,t.shiftKey)}}}else{var p=e._eFocus;h!=p&&(p.tabIndex=0,p.focus()),this._ignoreClick=!0,this._handleResizing(t)}else e.finishEditing(),i!=e._root&&i!=e._fCt&&e._edtHdl._commitRowEdits()},t.prototype._mousemove=function(t){if(this._htDown&&!t.defaultPrevented){if(0==t.buttons&&this._eMouse&&t.timeStamp-this._eMouse.timeStamp>600)return void this.resetMouseState();if(this._eMouse=t,this._szRowCol)this._handleResizing(t);else{var e=this._g,i=e.allowDragging,n=br,r=En;switch(this._htDown.cellType){case r.Cell:this._mouseSelect(t,!0);break;case r.RowHeader:i&n.Rows||this._mouseSelect(t,!0);break;case r.ColumnHeader:i&n.Columns||e.allowSorting||this._mouseSelect(t,!0)}}}},t.prototype._mouseup=function(t){var e=this._g;if(!e.isTouching||!(this._dragSrc||t.target instanceof HTMLHtmlElement)){var i=e.hitTest(t),n=this._htDown;if(n&&!t.defaultPrevented&&(this._szArgs&&this._finishResizing(t),!this._szArgs&&i.panel==n.panel&&i.row==n.row&&i.col==n.col)){var r=i.getColumn();if(r&&(!r._getFlag(Fn.HasTemplate)||r.cellTemplate)){var o=i.target;if(o!=n.target&&o instanceof HTMLElement){if(n.target instanceof HTMLInputElement){var s=i.point,a=n.point;Math.abs(s.x-a.x)+Math.abs(s.y-a.y)<10&&(o=o.querySelector("input")||o)}var l=document.createEvent("Event");for(var h in l.initEvent("click",!0,!0),t)/Key$|X$|Y$|^button|^(x|y|which)$/.test(h)&&(l[h]=t[h]);o.dispatchEvent(l)}}}this.resetMouseState()}},t.prototype._click=function(t){if(this._ignoreClick&&(this._ignoreClick=!1,t.preventDefault()),!t.defaultPrevented){var e=this._g,i=t.target,n=e.hitTest(i),r=_t(i,HTMLInputElement),o="input."+sr._WJC_CHECKBOX;if(!r){var s=Se(i,"label");s&&(r=s.querySelector(o))}if(!r&&e.bigCheckboxes&&(r=i.querySelector(o)),r!=e.activeEditor&&e._isNativeCheckbox(r)){if(n.panel==e.cells){var a=e.getCellData(n.row,n.col,!1);e.startEditing(!1,n.row,n.col,!1,t)?(e.activeEditor.checked=!a,e.finishEditing(),e.focus()):r.checked=a}return}if(this._hasRadioMap(t))return void this._handleClick(t);var l=t.ctrlKey||t.metaKey;if(e.rows.maxGroupLevel>-1&&Ee(i,sr._WJC_COLLAPSE)){var h=e.rows[n.row];if(n.panel==e.cells&&h instanceof Wn)return void(l?e.collapseGroupsToLevel(h.isCollapsed?h.level+1:h.level):h.isCollapsed=!h.isCollapsed)}if(!l&&!t.shiftKey&&!e.activeEditor&&n.panel==e.cells){var u=e._selHdl.selection;if(u.equals(this._selDown)&&n.range.contains(u))return void e.startEditing(!0,null,null,!0,t)}this._handleClick(t)}},t.prototype._handleClick=function(t){var e=this._g,i=t.target,n=e.hitTest(i),r=t.ctrlKey||t.metaKey,o=n.panel;if(!t.defaultPrevented&&n.grid==e){if(o==e.cells&&this._hasRadioMap(t)){var s=Se(i,"label"),a=s&&s.querySelector("input");return void(a&&!a.disabled&&e.startEditing(!1,n.row,n.col,!1,t)&&e.finishEditing()&&(e._edtHdl._edtCanceled?t.preventDefault():e.setCellData(n.row,n.col,s.textContent,!0,e.refreshOnEdit)))}if(!e._isInputElement(i)){if(o==e.topLeftCells){var l=Pn;switch(e.selectionMode){case l.None:case l.Cell:break;default:e.selectAll()}return}if(o==e.columnHeaders){if(e.allowPinning&&Ee(i,sr._WJC_PIN))this._clickPin(t,n);else if(!e._isTransposed()&&Ee(t.target,sr._WJC_COLLAPSE)){if(f=e._getColumnGroup(n.row,n.col))if(r)for(var h=f.isCollapsed,u=f.level,c=[],d=0;d<e.columns.length;d++)(f=e._getColumnGroup(n.row,d))&&f.collapseTo&&f.level==u&&c.indexOf(f)<0&&(c.push(f),f.isCollapsed=!h);else f.isCollapsed=!f.isCollapsed}else i instanceof HTMLSpanElement&&i.parentElement instanceof HTMLLabelElement&&(i=i.parentElement.querySelector("input")),i instanceof HTMLInputElement||this._clickSort(t,n),e.focus();return}if(o==e.rowHeaders){var f;if(e._isTransposed()&&Ee(t.target,sr._WJC_COLLAPSE))if(f=e._getColumnGroup(n.row,n.col))if(r){h=f.isCollapsed,u=f.level,c=[];for(var p=0;p<e.rows.length;p++)(f=e._getColumnGroup(p,n.col))&&f.collapseTo&&f.level==u&&c.indexOf(f)<0&&(c.push(f),f.isCollapsed=!h)}else f.isCollapsed=!f.isCollapsed;return}if(o==e.cells){if(n.row<0)return void this._clickSort(t,n);if(Ee(i,sr._WJC_COLLAPSE)){var g=e.rows[n.row];return void(g instanceof Wn&&(r?e.collapseGroupsToLevel(g.isCollapsed?g.level+1:g.level):g.isCollapsed=!g.isCollapsed))}Ee(i,sr._WJC_DROPDOWN)&&e._edtHdl._toggleListBox(t,n.range)}}}},t.prototype._hasRadioMap=function(t){var e=t.target;if(Se(e,"label")){var i=Ee(e,sr._WJC_RADIOMAP);return Ee(i,xr)==this._g.hostElement}return!1},t.prototype._clickSort=function(t,e){var i=this._g,n=i.allowSorting,r=i.collectionView,o=r?r.sortDescriptions:null,s=t.ctrlKey||t.metaKey,a=t.shiftKey;if(r&&r.canSort&&n!=Nn.None){var l=e.panel.columns[e.col],h=i._getBindingColumn(e.panel,e.row,l),u=h?h._getBindingSort():null;if(h.allowSorting&&u){if(l==h){var c=i.getMergedRange(e.panel,e.row,e.col,!1);if(c&&c.columnSpan>1)return}var d=new Dn(e.panel,e.range,t);if(i.onSortingColumn(d)){i._edtHdl._commitRowEdits();for(var f=-1,p=null,g=0;g<o.length;g++)if(o[g].property==u){f=g,p=o[g];break}o.deferUpdate((function(){if(s&&a)o.clear();else if(p){var t=s;!t&&i.isTouching&&(t=0==p.ascending),t?o.removeAt(f):o[f]=new ut(u,!p.ascending)}else{n!=Nn.MultiColumn&&o.clear();var e=new ut(u,!0);o.push(e)}})),i.onSortedColumn(d)}}}},t.prototype._clickPin=function(t,e){var i=this._g,n=i.columns,r=n.frozen,o=i.allowPinning;o==zn.Both&&(o=t.shiftKey?zn.ColumnRange:zn.SingleColumn);var s=new Dn(i.cells,e.range);i.onPinningColumn(s)&&(o==zn.SingleColumn&&(e.col>=r?(n.moveElement(e.col,r,!1),n.frozen++):(n.moveElement(e.col,r-1,!1),n.frozen--)),o==zn.ColumnRange&&(e.col+1!=r?n.frozen=e.col+1:n.frozen=0),i.onPinnedColumn(s))},t.prototype._dblclick=function(t){if(!t.defaultPrevented){var e,i=this._g,n=i.hitTest(t),r=t.ctrlKey||t.metaKey,o=n.range,s=n.cellType,a=En,l=i.selection,h=i.allowResizing,u=mr;if(n.edgeRight&&h&u.Columns){if(s==a.TopLeft)n.panel.columns[n.col].allowResizing&&(e=new Dn(n.panel,new Tn(-1,n.col)),i.onAutoSizingColumn(e)&&i.onResizingColumn(e)&&(this._ignoreClick=!0,i.autoSizeColumn(n.col,!0),i.onAutoSizedColumn(e),i.onResizedColumn(e),t.preventDefault()));else if(s==a.ColumnHeader||4&h){s==a.ColumnHeader&&r&&l.containsColumn(n.col)&&(o=l);for(var c=s==a.RowHeader||s==a.BottomLeft,d=o.leftCol;d<=o.rightCol;d++)n.panel.columns[d].allowResizing&&(e=new Dn(n.panel,new Tn(-1,d)),i.onAutoSizingColumn(e)&&i.onResizingColumn(e)&&(this._ignoreClick=!0,i.autoSizeColumn(d,c),i.onResizedColumn(e),i.onAutoSizedColumn(e),t.preventDefault()))}this.resetMouseState()}else if(n.edgeBottom&&h&u.Rows){if(s==a.TopLeft||s==a.BottomLeft)n.getRow().allowResizing&&(c=s==a.TopLeft||null,e=new Dn(n.panel,new Tn(n.row,-1)),i.onAutoSizingRow(e)&&i.onResizingRow(e)&&(this._ignoreClick=!0,i.autoSizeRow(n.row,c),i.onResizedRow(e),i.onAutoSizedRow(e),t.preventDefault()));else if(s==a.RowHeader||4&h){var f=n.panel;c=f==i.columnHeaders||f==i.columnFooters&&null,r&&l.containsRow(n.row)&&f==i.cells&&(o=l);for(var p=o.topRow;p<=o.bottomRow;p++)f.rows[p].allowResizing&&(e=new Dn(f,new Tn(p,-1)),i.onAutoSizingRow(e)&&i.onResizingRow(e)&&(this._ignoreClick=!0,i.autoSizeRow(p,c),i.onResizedRow(e),i.onAutoSizedRow(e),t.preventDefault()))}this.resetMouseState()}}},t.prototype._hover=function(t){if(!this._isDown){var e=this._g,i=e.hitTest(t),n="";return this._szRowCol=this._getResizeColHt(i)||this._getResizeRowHt(i),this._szRowCol instanceof Un?n="col-resize":this._szRowCol instanceof Gn&&(n="row-resize"),this._szStart=this._szRowCol?this._szRowCol.renderSize:0,e.hostElement.style.cursor=n,i}return null},t.prototype._getResizeColHt=function(t){var e,i=this._g.allowResizing,n=t.cellType,r=En;return i&mr.Columns&&(n==r.ColumnHeader||n==r.TopLeft||4&i)&&(t.edgeRight&&(e=t.getColumn()),t.edgeFarRight&&(e=this._getResizeCol(t.panel,t.col)||t.getColumn()),t.edgeLeft&&(e=this._getResizeCol(t.panel,t.col,!0)||e)),e&&e.allowResizing?e:null},t.prototype._getResizeRowHt=function(t){var e,i=this._g.allowResizing,n=mr,r=t.cellType,o=En;return i&n.Rows&&(r==o.RowHeader||r==o.TopLeft||4&i)&&(t.edgeBottom&&(e=t.getRow()),t.edgeFarBottom&&(e=this._getResizeRow(t.panel,t.row)||t.getRow()),t.edgeTop&&(e=this._getResizeRow(t.panel,t.row,!0)||e)),e&&e.allowResizing?e:null},t.prototype._getResizeCol=function(t,e,i){void 0===i&&(i=!1);var n=this._g,r=t.columns;if(i){for(var o=e-1;o>=0;o--)if((s=r[o]).isVisible)return this._asResizable(s);if(r==n.columns&&0!=(n.headersVisibility&Bn.Row))for(o=(r=n.rowHeaders.columns).length-1;o>=0;o--)if((s=r[o]).isVisible)return this._asResizable(s);return null}for(o=e+1;o<r.length;o++)if((s=r[o]).isVisible)return this._asResizable(s);if(e==r.length-1&&r==n.rowHeaders.columns)for(r=n.columns,o=0;o<r.length;o++){var s;if((s=r[o]).isVisible)return this._asResizable(s)}return null},t.prototype._getResizeRow=function(t,e,i){void 0===i&&(i=!1);var n=this._g,r=t.rows;if(i){for(var o=e-1;o>=0;o--)if((s=r[o]).isVisible)return this._asResizable(s);if(r==n.rows&&0!=(n.headersVisibility&Bn.Column))for(o=(r=n.columnHeaders.rows).length-1;o>=0;o--)if((s=r[o]).isVisible)return this._asResizable(s);return null}for(o=e+1;o<r.length;o++)if((s=r[o]).isVisible)return this._asResizable(s);if(e==r.length-1&&r==n.columnHeaders.rows)for(r=n.rows,o=0;o<r.length;o++){var s;if((s=r[o]).isVisible)return this._asResizable(s)}return null},t.prototype._asResizable=function(t){return 0==t.renderSize&&t.allowResizing?t:null},t.prototype._mouseSelect=function(t,e){var i=this,n=this._g;if(t&&this._htDown&&this._htDown.panel&&n.selectionMode!=Pn.None){var r=new rr(this._htDown.panel,t);this._handleSelection(r,e),!M()&&t.button>=0&&t.target!=n._root&&((r=new rr(n,t)).panel||setTimeout((function(){i._isDown&&i._eMouse&&i._mouseSelect(i._eMouse,e)}),100))}},t.prototype._handleResizing=function(e){"mousedown"==e.type&&(P()?ue(e.target,"draggable",null):e.preventDefault());var i=this._szRowCol;if(i instanceof Un){var n=this._g,r=At(e).x,o=Math.round(Math.max(t._SZ_MIN,this._szStart+(r-this._htDown.point.x)*(n.rightToLeft?-1:1)));if(i.renderSize!=o){if(null==this._szArgs){var s=n.rowHeaders.columns.indexOf(i)>-1?n.rowHeaders:n.cells;this._szArgs=new Dn(s,new Tn(-1,i.index))}this._szArgs.cancel=!1,n.onResizingColumn(this._szArgs)&&(n.deferResizing?this._showResizeMarker(o):i.width=o)}}var a=this._szRowCol;if(a instanceof Gn){n=this._g;var l=At(e).y;o=Math.round(Math.max(t._SZ_MIN,this._szStart+(l-this._htDown.point.y))),a.renderSize!=o&&(null==this._szArgs&&(s=n.columnHeaders.rows.indexOf(a)>-1?n.columnHeaders:n.columnFooters.rows.indexOf(a)>-1?n.columnFooters:n.cells,this._szArgs=new Dn(s,new Tn(a.index,-1))),this._szArgs.cancel=!1,n.onResizingRow(this._szArgs)&&(n.deferResizing?this._showResizeMarker(o):a.height=o))}this._szArgs&&e.preventDefault()},t.prototype._dragstart=function(t){var e=this._g,i=this._htDown,n=br,r=En;if(i){if(this._dragSrc=null,this._htDrag=null,this._chldColGrpMarker=!1,!this._szRowCol){var o=new Dn(i.panel,i.range),s=e.allowDragging,a=i.cellType,l=i.panel.rows,h=i.getColumn(!0);if(h&&h.allowDragging&&(a==r.ColumnHeader||a==r.TopLeft)&&s&n.Columns&&(e.onDraggingColumn(o)?this._dragSrc=t.target:t.preventDefault()),!this._dragSrc&&i.row>-1&&l[i.row].allowDragging){var u=l[i.row];u instanceof Wn||u instanceof ir||a==r.RowHeader&&s&n.Rows&&(e.onDraggingRow(o)?this._dragSrc=t.target:t.preventDefault())}}this._dragSrc&&t.dataTransfer&&!t.defaultPrevented&&(this._htDrag=i,V(t.dataTransfer,"move"),t.stopPropagation(),ae(this._dragSrc,yr),e.beginUpdate(),this._updating=!0)}},t.prototype._dragend=function(t){this._dragSrc=null,this._htDrag=null,this.resetMouseState()},t.prototype._dragover=function(t){var e=this._g,i=this._hitTest(t),n=this._dragSrc?this._htDrag:null,r=En,o=!1;if(n&&i.cellType==n.cellType){var s=new Dn(i.panel,i.range,n);i.cellType==r.ColumnHeader&&e._hasColumnGroups()?(s.cancel=!e._canMoveColumnGroup(n.row,n.col,i.row,i.col),o=e.onDraggingColumnOver(s)):i.cellType==r.ColumnHeader?(s.cancel=!e.columns.canMoveElement(n.col,i.col),o=e.onDraggingColumnOver(s)):i.cellType==r.RowHeader?(s.cancel=!e.rows.canMoveElement(n.row,i.row),o=e.onDraggingRowOver(s)):i.cellType==r.TopLeft&&(s.cancel=!e.topLeftCells.columns.canMoveElement(n.col,i.col),o=e.onDraggingColumnOver(s))}if(o?(t.dataTransfer.dropEffect="move",t.preventDefault(),t.stopPropagation(),this._showDragMarker(i)):this._showDragMarker(null),n&&e.autoScroll){var a=e.controlRect,l=e.scrollPosition,h=li._DRAG_SCROLL_EDGE,u=li._DRAG_SCROLL_STEP;n.panel==e.columnHeaders?(t.pageX-a.left<h&&(l.x+=u),a.right-t.pageX<h&&(l.x-=u)):n.panel==e.rowHeaders&&(t.pageY-a.top<h&&(l.y+=u),a.bottom-t.pageY<h&&(l.y-=u)),l.equals(e._ptScrl)||(e.scrollPosition=l,e._rcBounds=null)}},t.prototype._drop=function(t){var e=this._g,i=this._hitTest(t),n=this._dragSrc?this._htDrag:null,r=En;if(n&&i.cellType==n.cellType){var o=e.selection,s=new Dn(i.panel,i.range,n);i.cellType==r.ColumnHeader&&e._hasColumnGroups()?(e._moveColumnGroup(n.row,n.col,i.row,i.col,this._chldColGrpMarker),e.select(o.row,i.col),e.onDraggedColumn(s)):i.cellType==r.ColumnHeader?(e.columns.moveElement(n.col,i.col),e.select(o.row,i.col),e.onDraggedColumn(s)):i.cellType==r.RowHeader?(e.rows.moveElement(n.row,i.row),e.select(i.row,o.col),e.onDraggedRow(s)):i.cellType==r.TopLeft&&(e.topLeftCells.columns.moveElement(n.col,i.col),e.onDraggedColumn(s))}this.resetMouseState()},t.prototype._hitTest=function(t){var e=this._g;return e._rcBounds=null,e.hitTest(t)},t.prototype._showResizeMarker=function(t){var e,i=this._g,n=i._ptScrl,r=this._szArgs.panel.cellType,o=En,s=this._dvMarker,a=i.cells.hostElement;s.parentElement!=a&&a.appendChild(s),this._szRowCol instanceof Un?(e={left:this._szRowCol.pos+t-1,top:-1e3,right:"",bottom:0,width:3,height:""},r!=o.TopLeft&&r!=o.RowHeader||(e.left-=i._eTL.offsetWidth+n.x),r==o.Cell&&this._szRowCol.index<i.frozenColumns&&(e.left-=n.x),i.rightToLeft&&(e.left=a.clientWidth-e.left-e.width)):(e={left:-1e3,top:this._szRowCol.pos+t-1,right:0,bottom:"",width:"",height:3},r!=o.TopLeft&&r!=o.ColumnHeader||(e.top-=i._eTL.offsetHeight+n.y),r==o.Cell&&this._szRowCol.index<i.frozenRows&&(e.top-=n.y)),Pe(s,e)},t.prototype._showDragMarker=function(e){var i=this._dvMarker;if(e&&e.panel){if(!e.range.equals(this._rngTarget)){this._rngTarget=e.range;var n=e.panel.hostElement;i.parentElement!=n&&n.appendChild(i);var r=this._g,o=r._ptScrl,s=En,a={left:0,top:0,width:6,height:6,right:"",bottom:""};switch(e.cellType){case s.ColumnHeader:var l=r._getColumnGroup(e.row,e.col);if(l){var h=l._rng,u=e.panel.rows,c=e.panel.columns;if(l.isEmpty&&null===l.binding){var d=u[h.bottomRow],f=c[h.leftCol],p=r.rightToLeft,g=p?i.parentElement.clientWidth-e.point.x:e.point.x,_=Math.max(f.renderWidth/5,t._SZ_MAX_COLGRP_EDGE),m=f.pos+_,w=f.pos+f.renderWidth-_,b=this._htDown&&e.col>this._htDown.col;if(!b&&g>m||b&&g<w){a.top=d.pos-a.height/2+d.renderHeight,a.left=p?i.parentElement.clientWidth-f.pos-f.renderWidth:f.pos,a.width=f.renderWidth,this._chldColGrpMarker=!0;break}}this._chldColGrpMarker=!1,a.top=0,a.height=0;for(var v=0;v<h.topRow;v++)a.top+=u[v].renderHeight;for(v=h.topRow;v<=h.bottomRow;v++)a.height+=u[v].renderHeight;if(a.left=0,this._htDown&&e.col>this._htDown.col){var y=c[h.rightCol];a.left=y.pos-a.width/2+y.renderWidth}else{var x=c[h.leftCol];a.left=x.pos-a.width/2}r.rightToLeft&&(a.left=i.parentElement.clientWidth-a.left-a.width);break}case s.TopLeft:case s.ColumnHeader:var C=e.panel.columns[e.col];a.left=C.pos-a.width/2,a.height=e.panel.height,this._htDown&&e.col>this._htDown.col&&(a.left+=C.renderWidth),e.cellType==s.ColumnHeader&&e.col<r.frozenColumns&&(a.left-=o.x),r.rightToLeft&&(a.left=i.parentElement.clientWidth-a.left-a.width);break;case s.RowHeader:var j=e.getRow();a.top=j.pos-a.height/2,a.width=e.panel.width,e.row>this._htDown.row&&(a.top+=j.renderHeight),e.row<r.frozenRows&&(a.top-=o.y)}Pe(i,a)}}else ge(i),this._rngTarget=null},t.prototype._finishResizing=function(e){var i=this._g,n=i.selection,r=this._szArgs,o=this._eMouse,s=o&&(o.ctrlKey||o.metaKey),a=En;if(r&&!r.cancel){if(r.col>-1){var l=r.col,h=At(e).x,u=Math.round(Math.max(t._SZ_MIN,this._szStart+(h-this._htDown.point.x)*(this._g.rightToLeft?-1:1)));if(r.panel.columns[l].width=Math.round(u),i.onResizedColumn(r),s&&this._htDown.cellType==a.ColumnHeader&&n.containsColumn(l))for(var c=n.leftCol;c<=n.rightCol;c++)i.columns[c].allowResizing&&c!=l&&(r=new Dn(i.cells,new Tn(-1,c)),i.onResizingColumn(r)&&(i.columns[c].size=i.columns[l].size,i.onResizedColumn(r)));e.preventDefault()}if(r.row>-1){var d=r.row,f=At(e).y;if(u=Math.round(Math.max(t._SZ_MIN,this._szStart+(f-this._htDown.point.y))),r.getRow().height=Math.round(u),i.onResizedRow(r),s&&this._htDown.cellType==a.RowHeader&&n.containsRow(d))for(var p=n.topRow;p<=n.bottomRow;p++)i.rows[p].allowResizing&&p!=d&&(r=new Dn(i.cells,new Tn(p,-1)),i.onResizingRow(r)&&(i.rows[p].size=i.rows[d].size,i.onResizedRow(r)));e.preventDefault()}}},t.prototype._handleSelection=function(t,e){var i=this._g,n=i._selHdl.selection,r=new Tn(t.row,t.col),o=En,s=Pn;if(r.isValid)if(null==this._lbSelState){switch(t.cellType){case o.RowHeader:r.col=0,r.col2=i.columns.length-1;break;case o.ColumnHeader:switch(i.selectionMode){case s.Row:case s.Cell:r.row=r.row2=n.row,e=!1;break;default:r.row=0,r.row2=i.rows.length-1}}if(e&&(i.anchorCursor?(r.row=n.row,r.col=n.col):(r.row2=n.row2,r.col2=n.col2),!r.isValid)){var a=this._htDown;a&&(r=new Tn(a.row,a.col))}if(i.selectionMode==Pn.MultiRange){var l=i._mouseHdl._eMouse,h=l&&(l.ctrlKey||l.metaKey),u=i._selHdl,c=u.selection,d=u.extendedSelection,f=t.panel!=i.cells;Se(l.target,".wj-elem-collapse")&&(h=!1),h?!e&&u._deselectRange(r)?u.selection.isValid&&(r=null):!c.isValid||!f&&c.intersects(r)||(f?this._splitRange(c):[c.clone()]).forEach((function(t){for(var e=!1,i=0;i<d.length&&!e;i++)d[i].equals(t)&&(e=!0);e||d.push(t)})):d.clear()}if(r)switch(i.select(r,!1),t.cellType){case o.RowHeader:i.scrollIntoView(t.row,-1);break;case o.ColumnHeader:i.scrollIntoView(-1,t.col);break;default:i.scrollIntoView(t.row,t.col)}else{var p=new Dn(i.cells,new Tn(t.row,t.col));i.onSelectionChanging(p),i.onSelectionChanged(p),i.invalidate()}}else i.rows[t.row].isSelected=!this._lbSelState,i.scrollIntoView(t.row,t.col)},t.prototype._splitRange=function(t){var e=this._g,i=e.columns.length,n=e.rows.length,r=[];if(t.columnSpan==i)for(var o=t.topRow;o<=t.bottomRow;o++)r.push(new Tn(o,0,o,i-1));else if(t.rowSpan==n)for(var s=t.leftCol;s<=t.rightCol;s++)r.push(new Tn(0,s,n-1,s));else r.push(t.clone());return r},t._SZ_MIN=0,t._SZ_MAX_COLGRP_EDGE=50,t}();Le("wijmo.grid",s);var jr,Sr=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();!function(t){t[t.None=0]="None",t[t.Condition=1]="Condition",t[t.Value=2]="Value",t[t.Both=3]="Both"}(jr||(jr={}));var Er,kr=function(){function t(t,e){this._showIcons=!0,this._showSort=!0,this._defFilterType=jr.Both,this._xValueSearch=!0,this.filterApplied=new it,this.editingFilter=new it,this.filterChanging=new it,this.filterChanged=new it,this._filters=[],this._g=Zt(t,$n,!1),this._g.formatItem.addHandler(this._formatItem.bind(this)),this._g.itemsSourceChanged.addHandler(this.clear.bind(this));var i=this._g.hostElement;t.addEventListener(i,"mousedown",this._mousedown.bind(this),!0),t.addEventListener(i,"click",this._click.bind(this),!0),t.addEventListener(i,"keydown",this._keydown.bind(this),!0),this._g.invalidate(),Bt(this,e)}return Object.defineProperty(t.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterColumns",{get:function(){return this._filterColumns},set:function(t){this._filterColumns=Kt(t),this.clear()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showFilterIcons",{get:function(){return this._showIcons},set:function(t){t!=this.showFilterIcons&&(this._showIcons=Yt(t),this._g&&this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSortButtons",{get:function(){return this._showSort},set:function(t){this._showSort=Yt(t)},enumerable:!0,configurable:!0}),t.prototype.getColumnFilter=function(t,e){if(void 0===e&&(e=!0),t=this._asColumn(t)){for(var i=0;i<this._filters.length;i++)if(this._filters[i].column==t)return this._filters[i];if(e&&t.binding){var n=new Dr(this,t);return this._filters.push(n),n}}return null},Object.defineProperty(t.prototype,"defaultFilterType",{get:function(){return this._defFilterType},set:function(t){(t=Jt(t,jr,!1))!=this.defaultFilterType&&(this._defFilterType=t,this._g.invalidate(),this.clear())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exclusiveValueSearch",{get:function(){return this._xValueSearch},set:function(t){this._xValueSearch=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterDefinition",{get:function(){var t=this,e={defaultFilterType:this.defaultFilterType,filters:[]};return this._filters.forEach((function(i){var n=i.conditionFilter,r=i.valueFilter,o=r.uniqueValues&&r.uniqueValues.length;if(i&&i.column&&i.column.binding&&(i.isActive||o||i.filterType!=t.defaultFilterType)){var s={binding:i.column.binding};if(n.isActive){var a=n.condition1,l=n.condition2;s={binding:i.column.binding,type:"condition",condition1:{operator:a.operator,value:a.value},and:n.and,condition2:{operator:l.operator,value:l.value}}}else(r.isActive||o)&&(s={binding:i.column.binding,type:"value",uniqueValues:r.uniqueValues,sortValues:r.sortValues,maxValues:r.maxValues,exclusiveValueSearch:r.exclusiveValueSearch,showValues:r.showValues});i.filterType!=t.defaultFilterType&&(s.filterType=i.filterType),e.filters.push(s)}})),JSON.stringify(e)},set:function(t){if(t=Ut(t),this.clear(),t){var e=JSON.parse(t);this.defaultFilterType=e.defaultFilterType;for(var i=function(t){var i=e.filters[t],r=n._asColumn(i.binding);r||(r=new Un({binding:i.binding}));var o=n.getColumnFilter(r,!0);if(o)switch(null!=i.filterType&&(o.filterType=Jt(i.filterType,jr)),i.type){case"condition":var s=o.conditionFilter;s.condition1.value=r.dataType==lt.Date?Dt(i.condition1.value,r.dataType,null):i.condition1.value,s.condition1.operator=i.condition1.operator,s.and=i.and,s.condition2.value=r.dataType==lt.Date?Dt(i.condition2.value,r.dataType,null):i.condition2.value,s.condition2.operator=i.condition2.operator;break;case"value":var a=o.valueFilter;a.uniqueValues=i.uniqueValues,["sortValues","maxValues","exclusiveValueSearch"].forEach((function(t){null!=i[t]&&(a[t]=i[t])})),a.showValues=i.showValues}},n=this,r=0;r<e.filters.length;r++)i(r)}this.apply()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeEditor",{get:function(){return li.getControl(this._divEdt)},enumerable:!0,configurable:!0}),t.prototype.editColumnFilter=function(t,e,i){var n=this,r=this._g;this.closeEditor(),t=this._asColumn(t);var o=new Dn(r.cells,new Tn(-1,t.index));if(this.onEditingFilter(o)){var s=xe('<div class="wj-dropdown-panel"></div>'),a=this.getColumnFilter(t),l=new Ir(s,a,this.showSortButtons);if(this._divEdt=s,this._edtCol=t,r.rightToLeft&&(s.dir="rtl"),this.onFilterChanging(o)){o.cancel=!0,l.filterChanged.addHandler((function(){o.cancel=!1,setTimeout((function(){o.cancel||n.apply()}))})),l.buttonClicked.addHandler((function(){n.closeEditor(),r.focus(),n.onFilterChanged(o)})),l.lostFocus.addHandler((function(){setTimeout((function(){var t=li.getControl(n._divEdt);t&&!t.containsFocus()&&n.closeEditor()}),10)}));var h=e?e.col:t.index,u=r.columns[h];e||u&&u.binding==t.binding||(h=r.selection.leftCol),r._edtHdl._commitRowEdits(),r.scrollIntoView(-1,h,!0);var c=r.columnHeaders,d=e&&e.panel==c?e.row:c.rows.length-1,f=h,p=i||c.getCellElement(d,f),g=p?null:c.getCellBoundingRect(d,f);p?_i(s,p,!1,!1,!1):_i(s,g),this._setAriaExpanded(p,!0),this._setAriaExpanded(r.cells.getCellElement(-1,f),!0);for(var _=l.hostElement.querySelectorAll("input"),m=0;m<_.length;m++){var w=_[m];if(w.offsetHeight>0&&w.tabIndex>-1&&!w.disabled){w.focus();break}}l.containsFocus()||l.focus()}else this._divEdt=this._edtCol=null}},t.prototype._setAriaExpanded=function(e,i){e&&ue(e.querySelector("."+t._WJC_FILTER),"aria-expanded",i)},t.prototype.closeEditor=function(){var t=this._g,e=li.getControl(this._divEdt),i=this._edtCol;if(e&&mi(e.hostElement,(function(){e.dispose()})),i){var n=t.columnHeaders,r=n.rows.length?n.getCellElement(n.rows.length-1,i.index):null;this._setAriaExpanded(r,!1),r=t.cells.getCellElement(-1,i.index),this._setAriaExpanded(r,!1)}this._divEdt=null,this._edtCol=null},t.prototype.apply=function(){var t=this._g.collectionView;if(t){var e=this._g.editableCollectionView;e&&(e.commitEdit(),e.commitNew()),t.filter=this._filter.bind(this)}var i=t?t.updateFilterDefinition:null;Ct(i)&&i.call(t,this),this.onFilterApplied()},t.prototype.clear=function(){this._filters.length&&(this._filters=[],this.apply())},t.prototype.onFilterApplied=function(t){this.filterApplied.raise(this,t)},t.prototype.onEditingFilter=function(t){return this.editingFilter.raise(this,t),!t.cancel},t.prototype.onFilterChanging=function(t){return this.filterChanging.raise(this,t),!t.cancel},t.prototype.onFilterChanged=function(t){this.filterChanged.raise(this,t)},t.prototype._asColumn=function(t){return wt(t)?this._g.getColumn(t,!0):vt(t)?this._g.columns[t]:Zt(t,Un,!1)},t.prototype._filter=function(e){for(var i=this._filters,n=0;n<i.length;n++){var r=i[n];if(r.column!=t._skipColumn&&!r.apply(e))return!1}return!0},t.prototype._formatItem=function(t,e){if(e.panel==t.columnHeaders){var i=this._g,n=i.getMergedRange(e.panel,e.row,e.col)||new Tn(e.row,e.col),r=i.columns[n.col],o=i._getBindingColumn(e.panel,e.row,r),s=e.cell;if(n.row2==e.panel.rows.length-1||r!=o){var a=this.getColumnFilter(o,this.defaultFilterType!=jr.None),l=this._filterColumns;l&&l.length&&l.indexOf(o.binding)<0&&l.indexOf(o.name)<0&&(a=null),a?(he(s,"wj-filter-on",a.isActive),he(s,"wj-filter-off",!a.isActive)):(le(s,"wj-filter-on"),le(s,"wj-filter-off")),a&&a.filterType!=jr.None&&(this._showIcons&&this._addFilterButton(o,a,s),0==e.row&&(s=i.cells.getCellElement(-1,e.col))&&this._addFilterButton(r,a,s))}}},t.prototype._addFilterButton=function(e,i,n){var r=t._WJC_FILTER,o=xe('<button class="wj-btn wj-btn-glyph wj-right '+r+'" type="button" tabindex="-1"><span class="wj-glyph-filter"></span></button>');de(o,Ve.FlexGridFilter.ariaLabels.edit+" "+e.header),ue(o,"aria-haspopup","dialog"),ue(o,"aria-expanded",!1),ue(o,"aria-describedby",e.describedById),ue(o,"aria-pressed",i.isActive),n.querySelector("."+r)||(1==n.children.length&&(n=n.querySelector("div")||n),n.insertBefore(o,n.firstChild))},t.prototype._mousedown=function(t){this._edtColPrev=this._edtCol},t.prototype._click=function(t){this._toggleEditor(t)&&(t.stopPropagation(),t.preventDefault())},t.prototype._toggleEditor=function(e){var i=this;if(!e.defaultPrevented&&0==e.button)if(Ee(e.target,t._WJC_FILTER)){var n=this._g,r=n.hitTest(e.target);if(r.panel||(r=n.hitTest(e)),r.panel==n.columnHeaders||r.panel==n.cells&&-1==r.row){var o=n.getMergedRange(r.panel,r.row,r.col)||new Tn(r.row,r.col),s=n.columns[o.col],a=n._getBindingColumn(r.panel,r.row,s);return this._divEdt&&this._edtCol==a?(this.closeEditor(),n.focus()):a!=this._edtColPrev&&setTimeout((function(){i.editColumnFilter(a,r)}),this._divEdt?100:0),!0}}else this.closeEditor();return!1},t.prototype._keydown=function(t){if(!t.defaultPrevented&&!t.ctrlKey&&t.altKey&&(t.keyCode==at.Down||t.keyCode==at.Up)){var e=this.grid,i=e.selection,n=i.col>-1?e.columns[i.col]:null,r=n?e._getBindingColumn(e.cells,i.row,n):null,o=r&&r.dataMap&&r.dataMapEditor==bn.DropDownList;if(r&&r.editor instanceof on&&(o=!0),r&&!o){var s=this.getColumnFilter(r,!1);s&&s.filterType!=jr.None&&(this.editColumnFilter(r),t.preventDefault(),t.stopPropagation())}}},t._WJC_FILTER="wj-elem-filter",t}(),Tr=function(){function t(t){this._c1=new Ar(this),this._c2=new Ar(this),this._and=!0,this._col=t}return Object.defineProperty(t.prototype,"condition1",{get:function(){return this._c1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"condition2",{get:function(){return this._c2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"and",{get:function(){return this._and},set:function(t){this._and=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataMap",{get:function(){return this._map},set:function(t){this._map=Zt(t,kn,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isActive",{get:function(){return this._c1.isActive||this._c2.isActive},enumerable:!0,configurable:!0}),t.prototype.apply=function(t){var e=this._col,i=this._c1,n=this._c2,r=!1,o=!1;if(!e||!e._binding||!this.isActive)return!0;t=e._binding.getValue(t);var s=this.dataMap||e.dataMap;if(s)t=s.getDisplayValue(t);else if(St(t)){r=!this._hasTimePart(),o=!this._hasDatePart();var a=Ar._refDateTime;r?t=Ie.fromDateTime(t,a):o&&(t=Ie.fromDateTime(a,t))}else if(vt(t)){var l=Ue,h=e.format,u=l.formatNumber(t,h);t=l.parseFloat(u,h)}var c=i.apply(t,r,o),d=n.apply(t,r,o);return i.isActive&&n.isActive?this._and?c&&d:c||d:i.isActive?c:!n.isActive||d},t.prototype.clear=function(){this._c1.clear(),this._c2.clear(),this.and=!0},t.prototype._hasDatePart=function(){var t=this._col.format;return!t||(t=Ve.Globalize.calendar.patterns[t]||t,/[yMd]+/.test(t))},t.prototype._hasTimePart=function(){var t=this._col.format;return!!t&&(t=Ve.Globalize.calendar.patterns[t]||t,/[Hmst]+/.test(t))},t.prototype.implementsInterface=function(t){return"IColumnFilter"==t},t}(),Pr=function(t){function e(e,i){var n=t.call(this,e)||this;n._canApply=!1,n.canApplyChanged=new it,n._filter=Zt(i,Tr,!1);var r=n.getTemplate();n.applyTemplate("wj-control wj-conditionfilter-editor",r,{_divHdr:"div-hdr",_divCmb1:"div-cmb1",_divVal1:"div-val1",_btnAnd:"btn-and",_btnOr:"btn-or",_spAnd:"sp-and",_spOr:"sp-or",_divCmb2:"div-cmb2",_divVal2:"div-val2"});var o=Ve.FlexGridFilter,s=o.ariaLabels;de(n._btnAnd,s.and),de(n._btnOr,s.or),Ce(n._divHdr,o.header),Ce(n._spAnd,o.and),Ce(n._spOr,o.or),n._cmb1=n._createOperatorCombo(n._divCmb1,s.op1),n._cmb2=n._createOperatorCombo(n._divCmb2,s.op2),n._val1=n._createValueInput(n._divVal1,s.val1),n._val2=n._createValueInput(n._divVal2,s.val2),n._val1.isDisabled=!0,n._cmb1.selectedIndexChanged.addHandler((function(t,e){n._val1.isDisabled=null==t.selectedValue,n.canApply=!n._val1.isDisabled||!n._val2.isDisabled})),n._val2.isDisabled=!0,n._cmb2.selectedIndexChanged.addHandler((function(t,e){n._val2.isDisabled=null==t.selectedValue,n.canApply=!n._val1.isDisabled||!n._val2.isDisabled}));var a=n.hostElement;return n.addEventListener(a,"change",n._btnAndOrChanged.bind(n)),n.addEventListener(a,"keydown",n._keydown.bind(n)),setTimeout((function(){n.updateEditor()})),n}return Sr(e,t),Object.defineProperty(e.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canApply",{get:function(){return this._canApply},set:function(t){t!=this._canApply&&(this._canApply=t,this.onCanApplyChanged())},enumerable:!0,configurable:!0}),e.prototype.updateEditor=function(){var t=this._filter.condition1,e=this._filter.condition2;this._cmb1.selectedValue=t.operator,this._cmb2.selectedValue=e.operator,this._val1 instanceof cn&&!(this._val1 instanceof pn)?(this._val1.text=Dt(t.value,lt.String),this._val2.text=Dt(e.value,lt.String)):(this._val1.value=t.value,this._val2.value=e.value);var i=this._filter.and;this._checkRadio(this._btnAnd,i),this._checkRadio(this._btnOr,!i)},e.prototype.clearEditor=function(){this._cmb1.selectedValue=this._cmb2.selectedValue=null,this._val1.text=this._val2.text=null,this._checkRadio(this._btnAnd,!0),this._checkRadio(this._btnOr,!1)},Object.defineProperty(e.prototype,"isEditorClear",{get:function(){return null==this._cmb1.selectedValue&&!this._val1.text&&null==this._cmb2.selectedValue&&!this._val2.text},enumerable:!0,configurable:!0}),e.prototype.updateFilter=function(){var t=this._filter.condition1,e=this._filter.condition2;t.operator=this._cmb1.selectedValue,e.operator=this._cmb2.selectedValue,"value"in this._val1?(t.value=this._val1.value,e.value=this._val2.value):(t.value=this._getComboValue(this._val1),e.value=this._getComboValue(this._val2)),this._filter.and=this._btnAnd.checked},e.prototype.onCanApplyChanged=function(t){this.canApplyChanged.raise(this,t)},e.prototype._getComboValue=function(t){return t.selectedIndex>-1?t.selectedValue:t.text},e.prototype._createOperatorCombo=function(t,e){var i=this._filter.column,n=Ve.FlexGridFilter,r=n.stringOperators,o=lt;this._filter.dataMap||i.dataMap||(i.dataType==o.Date?r=n.dateOperators:i.dataType==o.Number?r=n.numberOperators:i.dataType==o.Boolean&&(r=n.booleanOperators));var s=new cn(t,{itemsSource:r,displayMemberPath:"name",selectedValuePath:"op"});return de(s.inputElement,e),s},e.prototype._createValueInput=function(t,e){var i=this._filter,n=i.column,r=i.dataMap||n.dataMap,o=null,s=lt;return n.dataType==s.Date?(o=i._hasDatePart()?i._hasTimePart()?new gn(t):new ln(t):new pn(t)).format=n.format:n.dataType!=s.Number||r?(o=new cn(t),r?(o.itemsSource=r.getDisplayValues(),o.isEditable=!0,o.caseSensitiveSearch=!!n.grid&&n.grid.caseSensitiveSearch):n.dataType==s.Boolean&&(o.itemsSource=[!0,!1])):(o=new Wi(t)).format=n.format,o.isRequired=!1,de(o.inputElement,e),o},e.prototype._btnAndOrChanged=function(t){var e=t.target==this._btnAnd,i=t.target==this._btnOr;(e||i)&&(this._checkRadio(this._btnAnd,e),this._checkRadio(this._btnOr,i))},e.prototype._checkRadio=function(t,e){t.checked=e,ue(t,"aria-checked",e.toString()),ue(t,"tabindex",e?null:"-1")},e.prototype._keydown=function(t){var e=t.target==this._btnAnd,i=t.target==this._btnOr;if(e||i)switch(t.keyCode){case at.Left:case at.Right:case at.Up:case at.Down:var n=e?this._btnOr:this._btnAnd;n.click(),n.focus(),t.preventDefault()}},e.controlTemplate='<div><div wj-part="div-hdr"></div><div wj-part="div-cmb1"></div><br/><div wj-part="div-val1"></div><br/><div role="radiogroup" style="text-align:center"><label><input wj-part="btn-and" type="radio" role="radio"> <span wj-part="sp-and"></span> </label>&nbsp;&nbsp;&nbsp;<label><input wj-part="btn-or" type="radio" role="radio"> <span wj-part="sp-or"></span> </label></div><div wj-part="div-cmb2"></div><br/><div wj-part="div-val2"></div><br/></div>',e}(li),Ar=function(){function t(t){this._op=null,this._filter=t}return Object.defineProperty(t.prototype,"operator",{get:function(){return this._op},set:function(t){this._op=Jt(t,Er,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._val},set:function(t){this._val=t,this._strVal=wt(t)?this._getCaseString(t):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isActive",{get:function(){switch(this._op){case null:return!1;case Er.EQ:case Er.NE:return!0;default:return null!=this._val||null!=this._strVal}},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.operator=null,this.value=null},t.prototype.apply=function(e,i,n){var r=this._strVal||this._val;wt(e)&&(e=this._getCaseString(e)),wt(r)&&null==e&&(e=""),St(r)&&(i?r=Ie.fromDateTime(r,t._refDateTime):n&&(r=Ie.fromDateTime(t._refDateTime,r)));var o=Er;switch(this._op){case null:return!0;case o.EQ:return null!=e&&null!=r?e.valueOf()==r.valueOf():e==r;case o.NE:return null!=e&&null!=r?e.valueOf()!=r.valueOf():e!=r;case o.GT:return e>r;case o.GE:return e>=r;case o.LT:return e<r;case o.LE:return e<=r;case o.BW:return!(null==this._strVal||!wt(e))&&0==e.indexOf(this._strVal);case o.EW:return!!(null!=this._strVal&&wt(e)&&e.length>=this._strVal.length)&&e.substr(e.length-this._strVal.length)==r;case o.CT:return!(null==this._strVal||!wt(e))&&e.indexOf(this._strVal)>-1;case o.NC:return!(null==this._strVal||!wt(e))&&e.indexOf(this._strVal)<0}throw"Unknown operator"},t.prototype._getCaseString=function(t){var e=this._filter.column,i=e?e.grid:null;return i&&i.caseSensitiveSearch?t:t.toLowerCase()},t._refDateTime=new Date(2e3,0,1,0,0,0),t}();!function(t){t[t.EQ=0]="EQ",t[t.NE=1]="NE",t[t.GT=2]="GT",t[t.GE=3]="GE",t[t.LT=4]="LT",t[t.LE=5]="LE",t[t.BW=6]="BW",t[t.EW=7]="EW",t[t.CT=8]="CT",t[t.NC=9]="NC"}(Er||(Er={}));var Rr=function(){function t(t){this._values=null,this._filterText=null,this._xValueSearch=!0,this._maxValues=250,this._uniqueValues=null,this._sortValues=!0,this._col=t}return Object.defineProperty(t.prototype,"showValues",{get:function(){return this._values},set:function(t){this._values=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterText",{get:function(){return this._filterText},set:function(t){this._filterText=Ut(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exclusiveValueSearch",{get:function(){return this._xValueSearch},set:function(t){this._xValueSearch=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxValues",{get:function(){return this._maxValues},set:function(t){this._maxValues=Gt(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"uniqueValues",{get:function(){return this._uniqueValues},set:function(t){this._uniqueValues=Kt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortValues",{get:function(){return this._sortValues},set:function(t){this._sortValues=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataMap",{get:function(){return this._map},set:function(t){this._map=Zt(t,kn,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isActive",{get:function(){return null!=this._values&&Object.keys(this._values).length>0},enumerable:!0,configurable:!0}),t.prototype.apply=function(t){var e=this.column;return!(e&&e._binding&&this._values&&Object.keys(this._values).length)||(t=e._binding.getValue(t),t=this.dataMap?this.dataMap.getDisplayValue(t)||"":e.dataMap?e.dataMap.getDisplayValue(t)||"":Ue.format(t,e.format),null!=this._values[t])},t.prototype.clear=function(){this.showValues=null,this.filterText=null},t.prototype.getUniqueValues=function(t){void 0===t&&(t=!0);var e=[],i=this.column,n=Ue.format;if(this.uniqueValues)return this.uniqueValues.forEach((function(t){e.push({value:t,text:n(t,i.format)})})),e;var r={},o=i.collectionView,s=o?o.sourceCollection:[];if(t&&o&&o.sourceCollection&&o.filter)try{kr._skipColumn=this._col;for(var a=[],l=0;l<s.length;l++)o.filter(s[l])&&a.push(s[l]);s=a}finally{kr._skipColumn=null}for(l=0;l<s.length;l++){var h=i._binding.getValue(s[l]),u=this.dataMap?this.dataMap.getDisplayValue(h)||"":i.dataMap?i.dataMap.getDisplayValue(h)||"":n(h,i.format);r[u]||(r[u]=!0,e.push({value:h,text:u}))}return e},t.prototype.implementsInterface=function(t){return"IColumnFilter"==t},t}(),Or=function(t){function e(e,i){var n=t.call(this,e)||this;n._canApply=!1,n.canApplyChanged=new it,n._filter=Zt(i,Rr,!1);var r=n.getTemplate();n.applyTemplate("wj-control wj-valuefilter-editor",r,{_divFilter:"div-filter",_cbSelectAll:"cb-select-all",_spSelectAll:"sp-select-all",_divValues:"div-values"}),n._cbSelectAll.tabIndex=0;var o=Ve.FlexGridFilter;Ce(n._spSelectAll,o.selectAll);var s=n._view=new ei(null,{sortNulls:$e.First,filter:n._filterValues.bind(n)});if(i.sortValues){var a=i.column.dataMap||i.dataMap?"text":"value",l=i.column.dataType!=lt.Boolean;s.sortDescriptions.push(new ut(a,l))}return s.collectionChanged.addHandler(n._updateSelectAllCheck,n),n._filterText="",n._rxFilter=null,n._cmbFilter=new cn(n._divFilter,{isRequired:!1,placeholder:o.search}),n._lbValues=new Ki(n._divValues,{displayMemberPath:"text",checkedMemberPath:"show",itemsSource:n._view,itemFormatter:function(t,e){return e||o.null},checkedItemsChanged:function(t){return n._updateSelectAllCheck()}}),de(n._cmbFilter.inputElement,o.ariaLabels.search),n._cmbFilter.inputElement.addEventListener("input",n._filterTextChanged.bind(n)),n._cbSelectAll.addEventListener("click",n._cbSelectAllClicked.bind(n)),n.updateEditor(),n._initialItems=n._lbValues.checkedItems,n}return Sr(e,t),Object.defineProperty(e.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canApply",{get:function(){return this._canApply},set:function(t){t!=this._canApply&&(this._canApply=t,this.onCanApplyChanged())},enumerable:!0,configurable:!0}),e.prototype.updateEditor=function(){var t=this,e=this._filter.column,i=this._filter.getUniqueValues(!0);this._lbValues.isContentHtml=e.isContentHtml;var n=this._filter.showValues;if(n&&0!=Object.keys(n).length){for(var r in n)for(var o=0;o<i.length;o++)if(i[o].text==r){i[o].show=!0;break}}else i.forEach((function(t){return t.show=!0}));var s=this._filter.filterText||"",a=this._getCaseSensitive();this._cmbFilter.text=s,this._filterText=a?s:s.toLowerCase(),this._rxFilter=s?new RegExp(re(s),a?"":"i"):null;var l=this._view;l.pageSize=this._filter.maxValues,l.sourceCollection=i,setTimeout((function(){t._adjustWidths()}),0)},e.prototype.clearEditor=function(t){void 0===t&&(t=!0),this._cmbFilter.text="",this._filterText="",this._rxFilter=null;var e=this._view;e.pageSize=0,e.items.forEach((function(e){e.show=t})),e.moveCurrentTo(-1),e.refresh(),e.pageSize=this._filter.maxValues},Object.defineProperty(e.prototype,"isEditorClear",{get:function(){return!this._filterText&&!this._cbSelectAll.indeterminate},enumerable:!0,configurable:!0}),e.prototype.updateFilter=function(){var t=null,e=this._getItems();if(this._filterText||this._cbSelectAll.indeterminate){t={};for(var i=0;i<e.length;i++){var n=e[i];n.show&&(t[n.text]=!0)}}var r=this._filter;r.showValues=t,r.filterText=this._filterText},e.prototype.onCanApplyChanged=function(t){this.canApplyChanged.raise(this,t)},e.prototype._getCaseSensitive=function(){var t=this._filter.column,e=t?t.grid:null;return e&&e.caseSensitiveSearch},e.prototype._getItems=function(){return this._filter.exclusiveValueSearch?this._view.items:this._view.sourceCollection},e.prototype._filterTextChanged=function(){var t=this;this._toFilter&&clearTimeout(this._toFilter),this._toFilter=setTimeout((function(){var e=t._cmbFilter.text,i=t._getCaseSensitive();if(i||(e=e.toLowerCase()),e!=t._filterText){if(t._filterText=e,t._rxFilter=e?new RegExp(re(e),i?"":"i"):null,t._view.refresh(),!e){var n=t._initialItems;if(n.length&&t._view.sourceCollection.indexOf(n[0])>-1)return t._lbValues.checkedItems=t._initialItems,void t._updateSelectAllCheck()}t._filter.exclusiveValueSearch?(t._cbSelectAll.checked=!0,t._cbSelectAllClicked()):t._updateSelectAllCheck()}}),li._SEARCH_DELAY)},e.prototype._filterValues=function(t){var e=this._rxFilter;return null==e||null==t||e.test(t.text)},e.prototype._cbSelectAllClicked=function(){for(var t=this._cbSelectAll.checked,e=this._divValues.scrollTop,i=this._getItems(),n=0;n<i.length;n++)i[n].show=t;this._view.refresh(),this._divValues.scrollTop=e},e.prototype._updateSelectAllCheck=function(){for(var t=this._getItems(),e=0,i=0,n=0;n<t.length&&(t[n].show?e++:i++,!e||!i);n++);ce(this._cbSelectAll,e&&i?null:e>0),this.canApply=e>0},e.prototype._adjustWidths=function(){var t=this._lbValues.hostElement;if(t.offsetHeight>0){var e=0,i=t.querySelectorAll(".wj-listbox-item label");if(i.length){for(var n=0;n<i.length;n++)e=Math.max(e,i[n].scrollWidth);if(e){var r=t.querySelectorAll(".wj-listbox-item");if(r.length){var o=r[0],s=getComputedStyle(o),a=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight);for(n=0;n<r.length;n++)r[n].style.width=e+a+"px"}}}}},e.controlTemplate='<div><div wj-part="div-filter"></div><div class="wj-listbox-item"><label><input wj-part="cb-select-all" type="checkbox"> <span wj-part="sp-select-all"></span></label></div><div wj-part="div-values"></div></div>',e}(li),Dr=function(){function t(t,e){this._owner=t,this._col=e,this._valueFilter=new Rr(e),this._valueFilter.exclusiveValueSearch=t.exclusiveValueSearch,this._conditionFilter=new Tr(e)}return Object.defineProperty(t.prototype,"filterType",{get:function(){return null!=this._filterType?this._filterType:this._owner.defaultFilterType},set:function(t){if((t=Jt(t,jr,!0))!=this._filterType){var e=this.isActive;this.clear(),this._filterType=t,e?this._owner.apply():this._col.grid&&this._col.grid.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataMap",{get:function(){return this.conditionFilter.dataMap||this.valueFilter.dataMap},set:function(t){this.conditionFilter.dataMap=t,this.valueFilter.dataMap=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueFilter",{get:function(){return this._valueFilter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"conditionFilter",{get:function(){return this._conditionFilter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isActive",{get:function(){return this._conditionFilter.isActive||this._valueFilter.isActive},enumerable:!0,configurable:!0}),t.prototype.apply=function(t){return this._conditionFilter.apply(t)&&this._valueFilter.apply(t)},t.prototype.clear=function(){this._valueFilter.clear(),this._conditionFilter.clear()},t.prototype.implementsInterface=function(t){return"IColumnFilter"==t},t}();We("FlexGridFilter",{ariaLabels:{edit:"Edit Filter for Column",dialog:"Filter Editor for Column",asc:"Sort Column in Ascending Order",dsc:"Sort Column in Descending Order",search:"Search Item List",op1:"First Condition Operator",val1:"First Condition Value",and:"Require both Conditions",or:"Require either Condition",op2:"Second Condition Operator",val2:"Second Condition Value"},ascending:" Ascending",descending:" Descending",apply:"Apply",cancel:"Cancel",clear:"Clear",conditions:"Filter by Condition",values:"Filter by Value",search:"Search",selectAll:"Select All",null:"(nothing)",header:"Show items where the value",and:"And",or:"Or",stringOperators:[{name:"(not set)",op:null},{name:"Equals",op:Er.EQ},{name:"Does not equal",op:Er.NE},{name:"Begins with",op:Er.BW},{name:"Ends with",op:Er.EW},{name:"Contains",op:Er.CT},{name:"Does not contain",op:Er.NC}],numberOperators:[{name:"(not set)",op:null},{name:"Equals",op:Er.EQ},{name:"Does not equal",op:Er.NE},{name:"Is Greater than",op:Er.GT},{name:"Is Greater than or equal to",op:Er.GE},{name:"Is Less than",op:Er.LT},{name:"Is Less than or equal to",op:Er.LE}],dateOperators:[{name:"(not set)",op:null},{name:"Equals",op:Er.EQ},{name:"Is Before",op:Er.LT},{name:"Is After",op:Er.GT}],booleanOperators:[{name:"(not set)",op:null},{name:"Equals",op:Er.EQ},{name:"Does not equal",op:Er.NE}]});var Ir=function(t){function e(e,i,n){void 0===n&&(n=!0);var r=t.call(this,e,null,!0)||this;r.filterChanged=new it,r.buttonClicked=new it,r._filter=Zt(i,Dr);var o=r.getTemplate();r.applyTemplate("wj-control wj-content wj-columnfiltereditor",o,{_divSort:"div-sort",_btnAsc:"btn-asc",_btnDsc:"btn-dsc",_divType:"div-type",_aVal:"a-val",_aCnd:"a-cnd",_divEdtVal:"div-edt-val",_divEdtCnd:"div-edt-cnd",_btnApply:"btn-apply",_btnCancel:"btn-cancel",_btnClear:"btn-clear"});var s=Ve.FlexGridFilter,a=s.ariaLabels,l=r.hostElement,h=r.filter.column,u=h.grid.collectionView;ue(l,"role","dialog"),de(l,a.dialog+" "+h.header),de(r._btnAsc,a.asc),de(r._btnDsc,a.dsc),Ce(r._btnAsc,s.ascending),Ce(r._btnDsc,s.descending),Ce(r._aVal,s.values),Ce(r._aCnd,s.conditions),Ce(r._btnApply,s.apply),Ce(r._btnCancel,s.cancel),Ce(r._btnClear,s.clear);var c=r.filter.conditionFilter.isActive||0==(i.filterType&jr.Value)?jr.Condition:jr.Value;r._showFilter(c),n&&u&&u.canSort||(r._divSort.style.display="none"),r._updateSortButtonState();var d=r._btnClicked.bind(r);return r._btnApply.addEventListener("click",d),r._btnCancel.addEventListener("click",d),r._btnClear.addEventListener("click",d),r._btnAsc.addEventListener("click",d),r._btnDsc.addEventListener("click",d),r._aVal.addEventListener("click",d),r._aCnd.addEventListener("click",d),r.addEventListener(l,"keydown",(function(t){if(!t.defaultPrevented){var e=t.target.tagName.match(/^(a|button)$/i);switch(t.keyCode){case at.Space:e&&(r._btnClicked(t),t.preventDefault());break;case at.Enter:e?r._btnClicked(t):(r.updateFilter(),r.onFilterChanged(),r.onButtonClicked()),t.preventDefault();break;case at.Escape:r.onButtonClicked(),t.preventDefault();break;case at.Tab:we(r.hostElement,t.shiftKey?-1:1),t.preventDefault()}}})),r.addEventListener(window,"resize",(function(){r.isTouching||r._wasTouching||r.onButtonClicked()})),r}return Sr(e,t),Object.defineProperty(e.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),e.prototype.updateEditor=function(){this._edtVal&&this._edtVal.updateEditor(),this._edtCnd&&this._edtCnd.updateEditor()},e.prototype.updateFilter=function(){switch(this._getFilterType()){case jr.Value:this._edtVal.updateFilter(),this.filter.conditionFilter.clear();break;case jr.Condition:this._edtCnd.updateFilter(),this.filter.valueFilter.clear()}},e.prototype.onFilterChanged=function(t){this.filterChanged.raise(this,t)},e.prototype.onButtonClicked=function(t){this.buttonClicked.raise(this,t)},e.prototype._showFilter=function(t){var e=this;this._wasTouching=this.isTouching,t==jr.Value&&null==this._edtVal&&(this._edtVal=new Or(this._divEdtVal,this.filter.valueFilter),this._edtVal.canApplyChanged.addHandler((function(t){ke(e._btnApply,e._edtVal.canApply)}))),t==jr.Condition&&null==this._edtCnd&&(this._edtCnd=new Pr(this._divEdtCnd,this.filter.conditionFilter),this._edtCnd.canApplyChanged.addHandler((function(t){ke(e._btnApply,e._edtCnd.canApply)}))),0!=(t&this.filter.filterType)&&(t==jr.Value?(this._divEdtVal.style.display="",this._divEdtCnd.style.display="none",this._enableLink(this._aVal,!1),this._enableLink(this._aCnd,!0),this._edtVal.focus(),ke(this._btnApply,this._edtVal.canApply)):(this._divEdtVal.style.display="none",this._divEdtCnd.style.display="",this._enableLink(this._aVal,!0),this._enableLink(this._aCnd,!1),this._edtCnd.focus(),ke(this._btnApply,this._edtCnd.canApply)));var i=this._divType.style;switch(this.filter.filterType){case jr.None:case jr.Condition:case jr.Value:i.display="none";break;default:i.display=""}},e.prototype._enableLink=function(t,e){he(t,"wj-state-disabled",!e),ue(t,"href",e?"":null),ue(t,"disabled",e?null:"disabled")},e.prototype._updateSortButtonState=function(){var t=this.filter.column,e=t?t.currentSort:"",i="wj-state-active";he(this._btnAsc,i,"+"==e),he(this._btnDsc,i,"-"==e)},e.prototype._getFilterType=function(){var t=jr;return"none"!=this._divEdtVal.style.display?t.Value:t.Condition},e.prototype._btnClicked=function(t){var e=this,i=t.target;if(t.preventDefault(),t.stopPropagation(),!se(i,"wj-state-disabled"))if(i!=this._aVal)if(i!=this._aCnd){if(i==this._btnAsc||i==this._btnDsc){var n=this.filter.column,r=n.sortMemberPath||n.binding,o=n.grid.collectionView.sortDescriptions;o.deferUpdate((function(){o.clear(),o.push(new ut(r,t.target==e._btnAsc))})),this._updateSortButtonState()}i==this._btnApply?(this.updateFilter(),this.onFilterChanged()):i==this._btnClear?this.filter.isActive&&(this.filter.clear(),this.onFilterChanged()):this.updateEditor(),this.onButtonClicked()}else this._showFilter(jr.Condition),we(this._edtCnd.hostElement,0);else this._showFilter(jr.Value),we(this._edtVal.hostElement,0)},e.controlTemplate='<div><div wj-part="div-sort" class="wj-sort-buttons"><button wj-part="btn-asc" class="wj-btn"></button>&nbsp;&nbsp;&nbsp;<button wj-part="btn-dsc" class="wj-btn"></button></div><div wj-part="div-type" class="wj-filtertype"><a wj-part="a-cnd" href="" draggable="false"></a>&nbsp;|&nbsp;<a wj-part="a-val" href="" draggable="false"></a></div><div wj-part="div-edt-val" tabindex="-1"></div><div wj-part="div-edt-cnd" tabindex="-1"></div><div style="text-align:right;margin-top:10px"><button wj-part="btn-apply" class="wj-btn"></button>&nbsp;&nbsp;<button wj-part="btn-cancel" class="wj-btn"></button>&nbsp;&nbsp;<button wj-part="btn-clear" class="wj-btn"></button></div></div>',e}(li);Le("wijmo.grid.filter",a);var Mr,Fr,Lr=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Nr=function(){function t(t,e,i,n,r){this._volumes=Kt(t),this._xVals=Kt(e),this._xDataMin=Gt(i,!0,!1),this._xDataMax=Gt(n,!0,!1),this._xDataType=Jt(r,lt,!0),this._calcData=[],this._init()}return t.prototype.convert=function(e,i,n){var r=void 0,o=this._calcData.length,s=-1;if(this._hasXs&&this._xDataType===lt.Date){if(-1===(s=this._xVals.indexOf(e)))for(var a=0;a<this._xVals.length;a++){if(a<this._xVals.length-1&&this._xVals[a]<=e&&e<=this._xVals[a+1]){s=a;break}if(0===a&&e<=this._xVals[a]){s=a;break}if(a===this._xVals.length-1&&this._xVals[a]<=e){s=a;break}}-1===s&&(s=zt(s=this._xVals.indexOf(Math.floor(e)),0,o-1))}else this._hasXs?-1===(s=this._xVals.indexOf(e))&&(s=zt(s=this._xVals.indexOf(Math.floor(e)),0,o-1)):s=zt(Math.round(e),0,o-1);return 0<=s&&s<o&&(this._hasXs&&(e=t.convertToRange(e,0,o-1,this._xDataMin,this._xDataMax)),r=((r=this._calcData[s].value+(e-s)*this._calcData[s].width-.5*this._calcData[s].width)-(i=this._getXVolume(i)))/((n=this._getXVolume(n))-i)),r},t.prototype.convertBack=function(e,i,n){var r,o=void 0,s=this._calcData.length,a=-1;for(r=0;r<s;r++)if(this._calcData[r].x1<=e&&e<=this._calcData[r].x2||0===r&&e<=this._calcData[r].x2||r===s-1&&this._calcData[r].x1<=e){a=r;break}return 0<=a&&a<s&&(o=e/this._calcData[a].width-this._calcData[a].value/this._calcData[a].width+.5+r,this._hasXs&&(o=t.convertToRange(o,this._xDataMin,this._xDataMax,0,s-1))),o},t.prototype._init=function(){this._hasXs=null!==this._xVals&&this._xVals.length>0,this._hasXs&&!vt(this._xDataMin)&&(this._xDataMin=Math.min.apply(null,this._xVals)),this._hasXs&&!vt(this._xDataMax)&&(this._xDataMax=Math.max.apply(null,this._xVals)),this._hasXs&&(this._hasXs=vt(this._xDataMin)&&vt(this._xDataMax)),this._hasXs&&this._xDataType===lt.Date&&this._fillGaps();var t=0,e=0,i=null!==this._volumes&&this._volumes.length>0?this._volumes.length:0;for(e=0;e<i;e++)t+=this._volumes[e]||0;var n,r,o=0;for(e=0;e<i;e++)n=o+(r=(this._volumes[e]||0)/t),this._calcData.push({value:n,width:r,x1:o,x2:n}),o=this._calcData[e].value},t.prototype._getXVolume=function(e){var i=this._calcData.length,n=-1;if(this._hasXs){n=this._xVals.indexOf(e);for(var r=0;r<this._xVals.length;r++){if(r<this._xVals.length-1&&this._xVals[r]<=e&&e<=this._xVals[r+1]){n=r;break}if(0===r&&e<=this._xVals[r]){n=r;break}if(r===this._xVals.length-1&&this._xVals[r]<=e){n=r;break}}}return this._hasXs&&(e=t.convertToRange(e,0,i-1,this._xDataMin,this._xDataMax)),-1===n&&(n=zt(Math.round(e),0,i-1)),this._calcData[n].value+(e-n)*this._calcData[n].width-.5*this._calcData[n].width},t.convertToRange=function(t,e,i,n,r){return e===i||n===r?0:(t-n)*(i-e)/(r-n)+e},t.prototype._fillGaps=function(){if(!(this._xDataType!==lt.Date||null===this._xVals||this._xVals.length<=0)){var t,e=this._xDataMin,i=this._xDataMax;for(t=1;e<i;t++)(e=new Date(e)).setDate(e.getDate()+1),(e=e.valueOf())!==this._xVals[t]&&(this._xVals.splice(t,0,e),this._volumes.splice(t,0,0))}},t}(),zr=function(){function t(t,e,i){this.k=.002,this._a=[],this._b=[],this._c=[],this._d=[],this.m=[[-.5,1.5,-1.5,.5],[1,-2.5,2,-.5],[-.5,0,.5,0],[0,1,0,0]],this._x=t,this._y=e;var n=this._len=i||Math.min(t.length,e.length);if(n>3)for(var r=0;r<n-1;r++){var o=0==r?new Re(t[r],e[r]):new Re(t[r-1],e[r-1]),s=new Re(t[r],e[r]),a=new Re(t[r+1],e[r+1]),l=r==n-2?new Re(t[r+1],e[r+1]):new Re(t[r+2],e[r+2]),h=new Re,u=new Re,c=new Re,d=new Re;h.x=o.x*this.m[0][0]+s.x*this.m[0][1]+a.x*this.m[0][2]+l.x*this.m[0][3],u.x=o.x*this.m[1][0]+s.x*this.m[1][1]+a.x*this.m[1][2]+l.x*this.m[1][3],c.x=o.x*this.m[2][0]+s.x*this.m[2][1]+a.x*this.m[2][2]+l.x*this.m[2][3],d.x=o.x*this.m[3][0]+s.x*this.m[3][1]+a.x*this.m[3][2]+l.x*this.m[3][3],h.y=o.y*this.m[0][0]+s.y*this.m[0][1]+a.y*this.m[0][2]+l.y*this.m[0][3],u.y=o.y*this.m[1][0]+s.y*this.m[1][1]+a.y*this.m[1][2]+l.y*this.m[1][3],c.y=o.y*this.m[2][0]+s.y*this.m[2][1]+a.y*this.m[2][2]+l.y*this.m[2][3],d.y=o.y*this.m[3][0]+s.y*this.m[3][1]+a.y*this.m[3][2]+l.y*this.m[3][3],this._a.push(h),this._b.push(u),this._c.push(c),this._d.push(d)}}return t.prototype.calculatePoint=function(t){var e=Math.floor(t);e<0&&(e=0),e>this._len-2&&(e=this._len-2);var i=t-e;return{x:((this._a[e].x*i+this._b[e].x)*i+this._c[e].x)*i+this._d[e].x,y:((this._a[e].y*i+this._b[e].y)*i+this._c[e].y)*i+this._d[e].y}},t.prototype.calculate=function(){if(this._len<=3)return{xs:this._x,ys:this._y};var t=[],e=[],i=this.calculatePoint(0);t.push(i.x),e.push(i.y);for(var n=this._len*this.k,r=n;r<=this._len-1;r+=n){var o=this.calculatePoint(r);(Math.abs(i.x-o.x)>=3||Math.abs(i.y-o.y)>=3)&&(t.push(o.x),e.push(o.y),i=o)}return{xs:t,ys:e}},t}(),Br=function(){function t(){}return t._isExtended=function(e){return-1!==this._values(t.Diverging).indexOf(e)||-1!==this._values(t.Qualitative).indexOf(e)||-1!==this._values(t.SequentialSingle).indexOf(e)||-1!==this._values(t.SequentialMulti).indexOf(e)},t._values=function(t){return Object.keys(t).map((function(e){return t[e]}))},t.standard=["#88bde6","#fbb258","#90cd97","#f6aac9","#bfa554","#bc99c7","#eddd46","#f07e6e","#8c8c8c"],t.cocoa=["#466bb0","#c8b422","#14886e","#b54836","#6e5944","#8b3872","#73b22b","#b87320","#141414"],t.coral=["#84d0e0","#f48256","#95c78c","#efa5d6","#ba8452","#ab95c2","#ede9d0","#e96b7d","#888888"],t.dark=["#005fad","#f06400","#009330","#e400b1","#b65800","#6a279c","#d5a211","#dc0127","#000000"],t.highcontrast=["#ff82b0","#0dda2c","#0021ab","#bcf28c","#19c23b","#890d3a","#607efd","#1b7700","#000000"],t.light=["#ddca9a","#778deb","#cb9fbb","#b5eae2","#7270be","#a6c7a7","#9e95c7","#95b0c7","#9b9b9b"],t.midnight=["#83aaca","#e37849","#14a46a","#e097da","#a26d54","#a584b7","#d89c54","#e86996","#2c343b"],t.modern=["#2d9fc7","#ec993c","#89c235","#e377a4","#a68931","#a672a6","#d0c041","#e35855","#68706a"],t.organic=["#9c88d9","#a3d767","#8ec3c0","#e9c3a9","#91ab36","#d4ccc0","#61bbd8","#e2d76f","#80715a"],t.slate=["#7493cd","#f99820","#71b486","#e4a491","#cb883b","#ae83a4","#bacc5c","#e5746a","#505d65"],t.zen=["#7bb5ae","#e2d287","#92b8da","#eac4cb","#7b8bbd","#c7d189","#b9a0c8","#dfb397","#a9a9a9"],t.cyborg=["#2a9fd6","#77b300","#9933cc","#ff8800","#cc0000","#00cca3","#3d6dcc","#525252","#000000"],t.superhero=["#5cb85c","#f0ad4e","#5bc0de","#d9534f","#9f5bde","#46db8c","#b6b86e","#4e5d6c","#2b3e4b"],t.flatly=["#18bc9c","#3498db","#f39c12","#6cc1be","#99a549","#8f54b5","#e74c3c","#8a9899","#2c3e50"],t.darkly=["#375a7f","#00bc8c","#3498db","#f39c12","#e74c3c","#8f61b3","#b08725","#4a4949","#000000"],t.cerulan=["#033e76","#87c048","#59822c","#53b3eb","#fc6506","#d42323","#e3bb00","#cccccc","#222222"],t.Qualitative={Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"]},t.Diverging={BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},t.SequentialSingle={Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},t.SequentialMulti={BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},t}(),Hr=function(){function t(t){this._row=0,this._col=0,this._rect=new De(0,0,0,0),Bt(this,t)}return Object.defineProperty(t.prototype,"row",{get:function(){return this._row},set:function(t){t!=this._row&&(this._row=Wt(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"column",{get:function(){return this._col},set:function(t){t!=this._col&&(this._col=Wt(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){t!=this._name&&(this._name=Ut(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(t){t!=this._width&&(this._width=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){t!=this._height&&(this._height=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(t){t!=this._style&&(this._style=t,this._invalidate())},enumerable:!0,configurable:!0}),t.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},t.prototype._render=function(t){t.drawRect(this._rect.left,this._rect.top,this._rect.width,this._rect.height,null,this.style)},t.prototype._setPlotX=function(t,e){this._rect.left=t,this._rect.width=e},t.prototype._setPlotY=function(t,e){this._rect.top=t,this._rect.height=e},t}(),Vr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Lr(e,t),e.prototype.getPlotArea=function(t){var e=this.indexOf(t);return e>-1?this[e]:null},e.prototype.indexOf=function(t){for(var e=0;e<this.length;e++)if(this[e].name==t)return e;return-1},e.prototype._getWidth=function(t){for(var e=0;e<this.length;e++){var i=this[e];if(i.column==t&&0==i.row)return i.width}},e.prototype._getHeight=function(t){for(var e=0;e<this.length;e++){var i=this[e];if(i.row==t&&0==i.column)return i.height}},e.prototype._calculateWidths=function(t,e){if(e<=0)throw"ncols";for(var i=[],n=0;n<e;n++){var r=this._getWidth(n);i[n]=new qr(r)}return this._calculateLengths(t,e,i)},e.prototype._calculateHeights=function(t,e){if(e<=0)throw"nrows";for(var i=[],n=0;n<e;n++){var r=this._getHeight(n);i[n]=new qr(r)}return this._calculateLengths(t,e,i)},e.prototype._calculateLengths=function(t,e,i){for(var n=[e],r=0,o=0,s=0;s<e;s++)i[s].isAbsolute?(n[s]=i[s].value,r+=n[s]):i[s].isStar?o+=i[s].value:i[s].isAuto&&o++;var a=(t-r)/o;for(s=0;s<e;s++)i[s].isStar?n[s]=a*i[s].value:i[s].isAuto&&(n[s]=a),n[s]<0&&(n[s]=0);return n},e}(ti);(Fr=Mr||(Mr={}))[Fr.Auto=0]="Auto",Fr[Fr.Pixel=1]="Pixel",Fr[Fr.Star=2]="Star";var Ur,Gr,Wr,Yr,qr=function(){function t(t){void 0===t&&(t=null),this._unitType=Mr.Auto,t&&((t=t.toString()).indexOf("*")>=0?(this._unitType=Mr.Star,t=t.replace("*",""),this._value=parseFloat(t),isNaN(this._value)&&(this._value=1)):(this._unitType=Mr.Pixel,this._value=parseFloat(t),isNaN(this._value)&&(this._unitType=Mr.Auto,this._value=1)))}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isStar",{get:function(){return this._unitType==Mr.Star},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAbsolute",{get:function(){return this._unitType==Mr.Pixel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAuto",{get:function(){return this._unitType==Mr.Auto},enumerable:!0,configurable:!0}),t}(),Xr=function(){function t(e){this._strokeWidth=1,this._fontSize=null,this._fontFamily=null,this._savedGradient={},this._bbCache={},this._baseUrl="",this._cssPriority=!0,this._readOnly=!1,this._isRtl=!1,this._precision=1,this._element=e,this._create(),this._element&&this._element.appendChild(this._svg);var i=navigator.userAgent.toLowerCase();void 0===t._isff&&(t._isff=i.indexOf("firefox")>=0),void 0===t._isSafari&&(t._isSafari=i.indexOf("safari")>-1&&-1==i.indexOf("chrome")),this._baseUrl=window.location.pathname.replace(window.location.hash,""),"file:"==window.location.protocol&&(D()||R())&&(this._baseUrl="file:"+this._baseUrl)}return t.prototype.attach=function(t){this._element=t,t&&(t.insertBefore(this._svg,t.childNodes[0]),t.appendChild(this._svg))},t.prototype.detach=function(){for(this._element&&this._element.removeChild(this._svg);this._svg.firstChild;)ge(this._svg.firstChild)},t.prototype.beginRender=function(){for(;this._svg.firstChild;)ge(this._svg.firstChild);this._savedGradient={},this._bbCache={},this._svg.appendChild(this._defs),this._svg.appendChild(this._textGroup),this._isRtl=this._checkRtl()},t.prototype.endRender=function(){ge(this._textGroup)},t.prototype.setViewportSize=function(t,e){this._svg.setAttribute("width",t.toString()),this._svg.setAttribute("height",e.toString())},Object.defineProperty(t.prototype,"element",{get:function(){return this._svg},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(t){this._fill=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this._fontFamily=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(t){this._stroke=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(t){this._strokeWidth=void 0===t?null:t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textFill",{get:function(){return this._textFill},set:function(t){this._textFill=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cssPriority",{get:function(){return this._cssPriority},set:function(t){this._cssPriority=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readOnly",{get:function(){return this._readOnly},set:function(t){this._readOnly=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"precision",{get:function(){return this._precision},set:function(t){this._precision=Gt(t)},enumerable:!0,configurable:!0}),t.prototype.addClipRect=function(e,i){if(e&&i){var n=this.precision,r=document.createElementNS(t.svgNS,"clipPath"),o=document.createElementNS(t.svgNS,"rect");o.setAttribute("x",(e.left-1).toFixed(n)),o.setAttribute("y",(e.top-1).toFixed(n)),o.setAttribute("width",(e.width+2).toFixed(n)),o.setAttribute("height",(e.height+2).toFixed(n)),r.appendChild(o),r.setAttribute("id",i),this._svg.appendChild(r)}},t.prototype.drawEllipse=function(e,i,n,r,o,s){var a=document.createElementNS(t.svgNS,"ellipse"),l=this.precision;return this._applyColor(a,"stroke",this._stroke),null!==this._strokeWidth&&this._setAttribute(a,"stroke-width",this._strokeWidth.toString()),this._applyColor(a,"fill",this._fill),a.setAttribute("cx",e.toFixed(l)),a.setAttribute("cy",i.toFixed(l)),a.setAttribute("rx",n.toFixed(l)),a.setAttribute("ry",r.toFixed(l)),o&&a.setAttribute("class",o),this._applyStyle(a,s),this._appendChild(a),a},t.prototype.drawRect=function(e,i,n,r,o,s,a){var l=document.createElementNS(t.svgNS,"rect"),h=this.precision;return this._applyColor(l,"fill",this._fill),this._applyColor(l,"stroke",this._stroke),null!==this._strokeWidth&&this._setAttribute(l,"stroke-width",this._strokeWidth.toString()),l.setAttribute("x",e.toFixed(h)),l.setAttribute("y",i.toFixed(h)),n>0&&n<.05?l.setAttribute("width","0.1"):l.setAttribute("width",n.toFixed(h)),r>0&&r<.05?l.setAttribute("height","0.1"):l.setAttribute("height",r.toFixed(h)),a&&this._setClipPath(l,a),o&&l.setAttribute("class",o),this._applyStyle(l,s),this._appendChild(l),l},t.prototype.drawLine=function(e,i,n,r,o,s){var a=document.createElementNS(t.svgNS,"line"),l=this.precision;return this._applyColor(a,"stroke",this._stroke),null!==this._strokeWidth&&this._setAttribute(a,"stroke-width",this._strokeWidth.toString()),a.setAttribute("x1",e.toFixed(l)),a.setAttribute("x2",n.toFixed(l)),a.setAttribute("y1",i.toFixed(l)),a.setAttribute("y2",r.toFixed(l)),o&&a.setAttribute("class",o),this._applyStyle(a,s),this._appendChild(a),a},t.prototype.drawLines=function(e,i,n,r,o,s){if(e&&i){var a=s||Math.min(e.length,i.length);if(a>0){var l=document.createElementNS(t.svgNS,"polyline"),h=this.precision;this._applyColor(l,"stroke",this._stroke),null!==this._strokeWidth&&this._setAttribute(l,"stroke-width",this._strokeWidth.toString()),l.setAttribute("fill","none");for(var u="",c=0;c<a;c++)u+=e[c].toFixed(h)+","+i[c].toFixed(h)+" ";return l.setAttribute("points",u),n&&l.setAttribute("class",n),o&&this._setClipPath(l,o),this._applyStyle(l,r),this._appendChild(l),l}}return null},t.prototype.drawSplines=function(e,i,n,r,o,s){if(e&&i){var a=new zr(e,i,s).calculate(),l=a.xs,h=a.ys,u=Math.min(l.length,h.length);if(u>0){var c=document.createElementNS(t.svgNS,"polyline"),d=this.precision;this._applyColor(c,"stroke",this._stroke),null!==this._strokeWidth&&this._setAttribute(c,"stroke-width",this._strokeWidth.toString()),c.setAttribute("fill","none");for(var f="",p=0;p<u;p++)f+=l[p].toFixed(d)+","+h[p].toFixed(d)+" ";return c.setAttribute("points",f),n&&c.setAttribute("class",n),o&&this._setClipPath(c,o),this._applyStyle(c,r),this._appendChild(c),c}}return null},t.prototype.drawPolygon=function(e,i,n,r,o){if(e&&i){var s=Math.min(e.length,i.length);if(s>0){var a=document.createElementNS(t.svgNS,"polygon"),l=this.precision;this._applyColor(a,"stroke",this._stroke),null!==this._strokeWidth&&this._setAttribute(a,"stroke-width",this._strokeWidth.toString()),this._applyColor(a,"fill",this._fill);for(var h="",u=0;u<s;u++)h+=e[u].toFixed(l)+","+i[u].toFixed(l)+" ";return a.setAttribute("points",h),n&&a.setAttribute("class",n),o&&this._setClipPath(a,o),this._applyStyle(a,r),this._appendChild(a),a}}return null},t.prototype.drawPieSegment=function(e,i,n,r,o,s,a,l){if(o>=2*Math.PI)return this.drawEllipse(e,i,n,n,s,a);var h=document.createElementNS(t.svgNS,"path"),u=this.precision;this._applyColor(h,"fill",this._fill),this._applyColor(h,"stroke",this._stroke),null!==this._strokeWidth&&this._setAttribute(h,"stroke-width",this._strokeWidth.toString());var c=new Re(e,i);c.x+=n*Math.cos(r),c.y+=n*Math.sin(r);var d=r+o,f=new Re(e,i);f.x+=n*Math.cos(d),f.y+=n*Math.sin(d);var p=" 0 0,1 ";Math.abs(o)>Math.PI&&(p=" 0 1,1 ");var g="M "+c.x.toFixed(u)+","+c.y.toFixed(u);return g+=" A "+n.toFixed(u)+","+n.toFixed(u)+p,g+=f.x.toFixed(u)+","+f.y.toFixed(u),g+=" L "+e.toFixed(u)+","+i.toFixed(u)+" z",h.setAttribute("d",g),l&&this._setClipPath(h,l),s&&h.setAttribute("class",s),this._applyStyle(h,a),this._appendChild(h),h},t.prototype.drawDonutSegment=function(e,i,n,r,o,s,a,l,h){var u=!1;s>=2*Math.PI&&(u=!0,s-=.001);var c=document.createElementNS(t.svgNS,"path"),d=this.precision+2;this._applyColor(c,"fill",this._fill),this._applyColor(c,"stroke",this._stroke),null!==this._strokeWidth&&this._setAttribute(c,"stroke-width",this._strokeWidth.toString());var f=new Re(e,i);f.x+=n*Math.cos(o),f.y+=n*Math.sin(o);var p=o+s,g=new Re(e,i);g.x+=n*Math.cos(p),g.y+=n*Math.sin(p);var _=new Re(e,i);_.x+=r*Math.cos(p),_.y+=r*Math.sin(p);var m=new Re(e,i);m.x+=r*Math.cos(o),m.y+=r*Math.sin(o);var w=" 0 0,1 ",b=" 0 0,0 ";Math.abs(s)>Math.PI&&(w=" 0 1,1 ",b=" 0 1,0 ");var v="M "+f.x.toFixed(d)+","+f.y.toFixed(d);return v+=" A "+n.toFixed(d)+","+n.toFixed(d)+w,v+=g.x.toFixed(d)+","+g.y.toFixed(d),v+=u?" M "+_.x.toFixed(d)+","+_.y.toFixed(d):" L "+_.x.toFixed(d)+","+_.y.toFixed(d),v+=" A "+r.toFixed(d)+","+r.toFixed(d)+b,v+=m.x.toFixed(d)+","+m.y.toFixed(d),u||(v+=" z"),c.setAttribute("d",v),h&&this._setClipPath(c,h),a&&c.setAttribute("class",a),this._applyStyle(c,l),this._appendChild(c),c},t.prototype.drawString=function(t,e,i,n){var r=this._createText(e,t),o=this.precision;i&&r.setAttribute("class",i),this._applyStyle(r,n),this._appendChild(r);var s,a=this._getKey(t,i,this._groupCls);return this._bbCache[a]?(s=this._bbCache[a],r.setAttribute("y",(e.y-(s.y+s.height)).toFixed(o))):(s=this._getBBox(r),r.setAttribute("y",(e.y-(s.y+s.height-e.y)).toFixed(o))),this._isRtl&&!D()&&r.setAttribute("x",(e.x+s.width).toFixed(o)),r},t.prototype.drawStringRotated=function(e,i,n,r,o,s){var a=this._createText(i,e),l=this.precision;o&&a.setAttribute("class",o),this._applyStyle(a,s);var h=document.createElementNS(t.svgNS,"g");h.setAttribute("transform","rotate("+r.toFixed(l)+","+n.x.toFixed(l)+","+n.y.toFixed(l)+")"),h.appendChild(a),this._appendChild(h);var u=this._getBBox(a);return a.setAttribute("y",(i.y-(u.y+u.height-i.y)).toFixed(l)),this._isRtl&&!D()&&a.setAttribute("x",(i.x+u.width).toFixed(l)),a},t.prototype.measureString=function(t,e,i,n){var r=new Oe(0,0);if(!this._fontFamily&&!this._fontSize){var o=this._getKey(t,e,i);if(this._bbCache[o])return this._bbCache[o]}if(this.cssPriority)this._fontSize&&this._text.setAttribute("font-size",this._fontSize),this._fontFamily&&this._text.setAttribute("font-family",this._fontFamily);else{var s="";this._fontSize&&(s+="font-size:"+this._fontSize+";"),this._fontFamily&&(s+="font-family:"+this._fontFamily+";"),s.length>0&&this._text.setAttribute("style",s)}e&&this._text.setAttribute("class",e),i&&this._textGroup.setAttribute("class",i),this._applyStyle(this._text,n),this._setText(this._text,t);var a=this._getBBox(this._text);if(r.width=a.width,r.height=a.height,this._text.removeAttribute("font-size"),this._text.removeAttribute("font-family"),this._text.removeAttribute("class"),this._text.removeAttribute("style"),n)for(var l in n)this._text.removeAttribute(this._deCase(l));if(this._textGroup.removeAttribute("class"),this._text.textContent=null,!this._fontFamily&&!this._fontSize){var h=this._getKey(t,e,i);this._bbCache[h]={x:a.x,y:a.y+1e3,width:a.width,height:a.height}}return r},t.prototype.startGroup=function(e,i,n){void 0===n&&(n=!1);var r=document.createElementNS(t.svgNS,"g");return e&&(r.setAttribute("class",e),this._groupCls=e),i&&this._setClipPath(r,i),this._appendChild(r),n&&r.transform.baseVal.appendItem(this._svg.createSVGTransform()),this._group=r,r},t.prototype.endGroup=function(){if(this._group){var t=this._group.parentNode;t==this._svg?(this._group=null,this._groupCls=null):(this._group=t,this._groupCls=this._getClass(this._group))}},t.prototype.drawImage=function(e,i,n,r,o){var s=document.createElementNS(t.svgNS,"image"),a=this.precision;return s.setAttributeNS(t.xlinkNS,"href",e),s.setAttribute("x",i.toFixed(a)),s.setAttribute("y",n.toFixed(a)),s.setAttribute("width",r.toFixed(a)),s.setAttribute("height",o.toFixed(a)),this._appendChild(s),s},t.prototype._setClipPath=function(e,i){e.setAttribute("clip-path","url(#"+i+")"),t._isSafari&&Pe(e,{"-webkit-clip-path":"url(#"+i+")"})},t.prototype._appendChild=function(t){if(!this.readOnly){var e=this._group;e||(e=this._svg),e.appendChild(t)}},t.prototype._create=function(){this._svg=document.createElementNS(t.svgNS,"svg"),this._defs=document.createElementNS(t.svgNS,"defs"),this._svg.appendChild(this._defs),this._text=this._createText(new Re(-1e3,-1e3),""),this._textGroup=document.createElementNS(t.svgNS,"g"),this._textGroup.appendChild(this._text),this._svg.appendChild(this._textGroup)},t.prototype._setText=function(t,e){var i=e?e.toString():null;if(i&&i.indexOf("tspan")>=0)try{t.textContent=null;for(var n=new DOMParser,r='<svg xmlns="http://www.w3.org/2000/svg">'+i+"</svg>",o=n.parseFromString(r,"text/xml").documentElement.firstChild;o;)t.appendChild(t.ownerDocument.importNode(o,!0)),o=o.nextSibling}catch(t){throw new Error("Error parsing XML string.")}else t.textContent=i},t.prototype._getKey=function(t,e,i){return t+(e||"")+(i||"")},t.prototype._createText=function(e,i){var n=document.createElementNS(t.svgNS,"text"),r=this.precision;if(this._setText(n,i),n.setAttribute("x",e.x.toFixed(r)),n.setAttribute("y",e.y.toFixed(r)),this.cssPriority)null!=this._textFill&&n.setAttribute("fill",this._textFill),this._fontSize&&n.setAttribute("font-size",this._fontSize),this._fontFamily&&n.setAttribute("font-family",this._fontFamily);else{var o="";null!=this._textFill&&(o+="fill:"+this._textFill+";"),this._fontSize&&(o+="font-size:"+this._fontSize+";"),this._fontFamily&&(o+="font-family:"+this._fontFamily+";"),o.length>0&&n.setAttribute("style",o)}return n},t.prototype._applyStyle=function(t,e){if(e)for(var i in e)"fill"===i||"stroke"===i?this._applyColor(t,i,e[i]):t.setAttribute(this._deCase(i),e[i])},t.prototype._deCase=function(t){return t.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()}))},t.prototype._getClass=function(t){var e;if(t)for(var i=t;i&&!(e=i.getAttribute("class"));i=i.parentNode);return e},t.prototype._getBBox=function(e){if(!t._isff)return e.getBBox();try{return e.getBBox()}catch(e){return{x:0,y:0,width:0,height:0}}},t.prototype._applyColor=function(e,i,n){var r=Kr.tryParse(n);if(null!=r){if(!wt(r)){if(null==this._savedGradient[n]){var o,s="gc"+(1e6*Math.random()).toFixed();null!=r.x1?(o=document.createElementNS(t.svgNS,"linearGradient"),["x1","y1","x2","y2","gradientUnits"].forEach((function(t){null!=r[t]&&o.setAttribute(t,r[t])}))):null!=r.r&&(o=document.createElementNS(t.svgNS,"radialGradient"),["cx","cy","r","fx","fy","fr","gradientUnits"].forEach((function(t){null!=r[t]&&o.setAttribute(t,r[t])}))),r.colors&&r.colors&&r.colors.length>0&&r.colors.forEach((function(e){var i=document.createElementNS(t.svgNS,"stop");null!=e.color&&i.setAttribute("stop-color",e.color),null!=e.offset&&i.setAttribute("offset",e.offset),null!=e.opacity&&i.setAttribute("stop-opacity",e.opacity),o.appendChild(i)})),o.setAttribute("id",s),this._defs.appendChild(o),this._savedGradient[n]=s}r="url("+this._baseUrl+"#"+this._savedGradient[n]+")"}this.cssPriority?e.setAttribute(i,r):this._addInlineStyle(e,i,r)}},t.prototype._addInlineStyle=function(t,e,i){var n=t.getAttribute("style");n?t.setAttribute("style",n+e+":"+i+";"):t.setAttribute("style",e+":"+i+";")},t.prototype._setAttribute=function(t,e,i){this.cssPriority?t.setAttribute(e,i):this._addInlineStyle(t,e,i)},t.prototype._checkRtl=function(){return this._element&&se(this._element,"wj-rtl")},t.svgNS="http://www.w3.org/2000/svg",t.xlinkNS="http://www.w3.org/1999/xlink",t}(),Kr=function(){function t(){}return t.tryParse=function(e){if(t.parsedColor[e])return t.parsedColor[e];if(null==e||-1===e.indexOf("-")||-1!==e.indexOf("var("))return e;var i,n=e.replace(/\s+/g,"").split(/\-/g),r=n[0][0],o=!1,s=n[0].match(/\(\S+\)/);if(!s||0==s.length)return e;var a=s[0].replace(/[\(\\)]/g,"").split(/\,/g);"l"===r||"L"===r?(i={x1:"0",y1:"0",x2:"0",y2:"0",colors:[]},"l"===r&&(o=!0),["x1","y1","x2","y2"].forEach((function(t,e){null!=a[e]&&(i[t]=o?100*+a[e]+"%":a[e]+"")}))):"r"!==r&&"R"!==r||(i={cx:"0",cy:"0",r:"0",colors:[]},"r"===r&&(o=!0),["cx","cy","r","fx","fy","fr"].forEach((function(t,e){null!=a[e]&&""!==a[e]&&(i[t]=o?100*+a[e]+"%":a[e]+"")}))),o||(i.gradientUnits="userSpaceOnUse"),t.parsedColor[e]=i;var l=n.length-1;return n.forEach((function(t,e){t.indexOf(")")>-1&&(t=t.match(/\)\S+/)[0].replace(")",""));var n=t.split(":"),r={color:"black"};null!=n[0]&&(r.color=n[0]),null!=n[1]?r.offset=o?100*+n[1]+"%":n[1]+"":r.offset=e/l*100+"%",null!=n[2]&&(r.opacity=n[2]),i.colors.push(r)})),i},t.parsedColor={},t}(),Zr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Lr(e,t),e}(Xr),Jr=function(){function t(t){this._position=Wr.Right,this._title="",this._titleAlign="left",this._titlePadding=5,this._areas=new Array,this._sz=new Oe,this._colRowLens=[],this._orient=Yr.Auto,this._chart=t}return Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(t){(t=Jt(t,Wr))!=this._position&&(this._position=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(t){t!=this._title&&(this._title=Ut(t,!1),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"titleAlign",{get:function(){return this._titleAlign},set:function(t){if(t!=this._titleAlign){var e=Ut(t,!1);this._titleAlign="right"===e?"right":"center"===e?"center":"left",this._invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this._orient},set:function(t){(t=Jt(t,Yr))!=this._orient&&(this._orient=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxSize",{get:function(){return this._maxSz},set:function(t){if(t!=this._maxSz){if(vt(t))this._maxSz=t;else if(wt(t)){var e=Ut(t);Ht(no._endsWith(e,"px")||no._endsWith(e,"%"),"number with unit (px or %) expected."),this._maxSz=e}else t&&Ht(!1,"number or string expected.");this._invalidate()}},enumerable:!0,configurable:!0}),t.prototype._getDesiredSize=function(t,e,i,n){if(e==Wr.None)return null;var r=this.orientation==Yr.Auto?e==Wr.Right||e==Wr.Left:this.orientation==Yr.Vertical,o=this._chart._getDesiredLegendSize(t,r,i,n);if(null!=o){if(this.title.length>0){var s=t.measureString(this.title,"wj-title","wj-legend");o.height+=s.height+this._titlePadding,s.width>o.width&&(o.width=s.width)}this._sz=o}return o},t.prototype._getPosition=function(t,e){return this.position==Wr.Auto?t>=e?Wr.Right:Wr.Bottom:this.position},t.prototype._render=function(t,e,i,n,r){this._areas=[];var o=this.orientation==Yr.Auto?i==Wr.Right||i==Wr.Left:this.orientation==Yr.Vertical;if(t.fill="transparent",t.stroke=null,t.drawRect(e.x,e.y,this._sz.width,this._sz.height),this.title.length){var s=e.clone(),a=t.measureString(this.title,"wj-title`");s.y+=a.height,"right"===this.titleAlign?s.x=e.x+n-a.width:"center"===this.titleAlign&&(s.x=e.x+.5*(n-a.width)),t.drawString(this.title,s,"wj-title");var l=a.height+this._titlePadding;e.y+=l,r-=l}this._chart._renderLegend(t,e,this._areas,o,n,r)},t.prototype._hitTest=function(t){for(var e=this._areas,i=0;i<e.length;i++)if(e[i]&&no._contains(e[i],t))return i;return null},t.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},t.prototype._getMaxSize=function(t){var e=this.maxSize;if(vt(e)){if((n=Gt(e,!0))>0)return Math.min(n,t)}else{var i=Ut(e,!0);if(i)if(no._endsWith(i,"px")){if((n=parseFloat(i.replace("px","")))>0)return Math.min(n,t)}else if(no._endsWith(i,"%")){var n;if((n=parseFloat(i.replace("%","")))>0)return t*Math.min(n,100)/100}}return.5*t},t}(),Qr=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e},$r=function(t){function e(e){var i=t.call(this)||this;return i._engine=e,i}return Lr(e,t),Object.defineProperty(e.prototype,"engine",{get:function(){return this._engine},enumerable:!0,configurable:!0}),e}(rt),to=function(t){function e(e,i,n){var r=t.call(this,e)||this;return r._index=i,r._count=n,r}return Lr(e,t),Object.defineProperty(e.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this._count},enumerable:!0,configurable:!0}),e}($r);!function(t){t[t.Png=0]="Png",t[t.Jpeg=1]="Jpeg",t[t.Svg=2]="Svg"}(Ur||(Ur={})),function(t){t[t.None=0]="None",t[t.Series=1]="Series",t[t.Point=2]="Point"}(Gr||(Gr={})),function(t){t[t.None=0]="None",t[t.Left=1]="Left",t[t.Top=2]="Top",t[t.Right=3]="Right",t[t.Bottom=4]="Bottom",t[t.Auto=5]="Auto"}(Wr||(Wr={})),function(t){t[t.Auto=0]="Auto",t[t.Vertical=1]="Vertical",t[t.Horizontal=2]="Horizontal"}(Yr||(Yr={}));var eo,io,no=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._palette=null,e._selectionMode=Gr.None,e._defPalette=Br.standard,e._notifyCurrentChanged=!0,e._legendHost=null,e._needBind=!1,e._skipLightClr=!1,e.rendering=new it,e.rendered=new it,e.itemsSourceChanging=new it,e.itemsSourceChanged=new it,e.selectionChanged=new it,e}return Lr(e,t),Object.defineProperty(e.prototype,"itemsSource",{get:function(){return this._items},set:function(t){if(this._items!=t){var e=new rt;if(!this.onItemsSourceChanging(e))return;this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=t,this._cv=Qt(t),null!=this._cv&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._clearCachedValues(),this.onItemsSourceChanged(e),this._bindChart()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"palette",{get:function(){return this._palette},set:function(t){t!=this._palette&&(this._palette=Kt(t),this._skipLightClr=Br._isExtended(this._palette),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"plotMargin",{get:function(){return this._plotMargin},set:function(t){t!=this._plotMargin&&(this._plotMargin=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"legend",{get:function(){return this._legend},set:function(t){t!=this._legend&&(this._legend=Zt(t,Jr),null!=this._legend&&(this._legend._chart=this))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"header",{get:function(){return this._header},set:function(t){t!=this._header&&(this._header=Ut(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"footer",{get:function(){return this._footer},set:function(t){t!=this._footer&&(this._footer=Ut(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerStyle",{get:function(){return this._headerStyle},set:function(t){t!=this._headerStyle&&(this._headerStyle=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"footerStyle",{get:function(){return this._footerStyle},set:function(t){t!=this._footerStyle&&(this._footerStyle=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectionMode",{get:function(){return this._selectionMode},set:function(t){(t=Jt(t,Gr))!=this._selectionMode&&(this._selectionMode=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._itemFormatter=Xt(t),this.invalidate())},enumerable:!0,configurable:!0}),e.prototype.onRendering=function(t){this.rendering.raise(this,t)},e.prototype.onRendered=function(t){this.rendered.raise(this,t)},e.prototype.onItemsSourceChanging=function(t){return this.itemsSourceChanging.raise(this,t),!t.cancel},e.prototype.onItemsSourceChanged=function(t){this.itemsSourceChanged.raise(this,t)},e.prototype.saveImageToFile=function(t){var e,i,n,r;t&&0!==t.length&&-1!==t.indexOf(".")||(t="image.png"),r=t.split("."),e=r[0],i=r[1].toLowerCase(),n=Ur[i[0].toUpperCase()+i.substring(1)],this.saveImageToDataUrl(n,(function(t){oo.downloadImage(t,e,i)}))},e.prototype.saveImageToDataUrl=function(t,e){var i=Jt(t,Ur,!1),n=Ur[i].toLowerCase();n&&n.length&&this._exportToImage(n,(function(t){e.call(e,t)}))},e.prototype._exportToImage=function(t,e){var i,n=this,r=new Image,o=this._currentRenderEngine.element;i=oo.getDataUri(o,this),"svg"===t?e.call(null,i):(r.onload=function(){var i,s=document.createElement("canvas"),a=o.parentNode||o,l=Te(a);s.width=l.width,s.height=l.height;var h=s.getContext("2d"),u=n._bgColor(n.hostElement);n._isTransparent(u)&&(u="#ffffff"),h.fillStyle=u,h.fillRect(0,0,l.width,l.height);var c=window.getComputedStyle(a,null).getPropertyValue("padding-left").replace("px",""),d=window.getComputedStyle(a,null).getPropertyValue("padding-top").replace("px","");h.drawImage(r,+c||0,+d||0),i=s.toDataURL("image/"+t),e.call(null,i),s=null},r.src=i)},e.prototype.refresh=function(e){void 0===e&&(e=!0),t.prototype.refresh.call(this,e),this.isUpdating||this._refreshChart()},e.prototype.onSelectionChanged=function(t){this.selectionChanged.raise(this,t)},e.prototype.onLostFocus=function(e){this._tooltip&&this._tooltip.isVisible&&this._tooltip.hide(),t.prototype.onLostFocus.call(this,e)},e.prototype._cvCollectionChanged=function(t,e){this._clearCachedValues(),this._bindChart()},e.prototype._cvCurrentChanged=function(t,e){this._notifyCurrentChanged&&this._bindChart()},e.prototype._bgColor=function(t){if(!t)return"transparent";var e=getComputedStyle(t).backgroundColor;return this._isTransparent(e)?this._bgColor(t.parentElement):e},e.prototype._isTransparent=function(t){var e=new He(t);return 0==e.a&&0==e.b&&0==e.g&&0==e.r},e.prototype._getColor=function(t){var e=this._defPalette;return null!=this._palette&&this._palette.length>0&&(e=this._palette),e[t%e.length]},e.prototype._getColorLight=function(t){var e=this._getColor(t);return this._skipLightClr||(e=this._getLightColor(e)),e},e.prototype._getLightColor=function(t){var e=new He(t);return null!=e&&-1===t.indexOf("-")&&(1==e.a&&-1==t.indexOf("rgba")&&-1==t.indexOf("hsla")&&(e.a*=.7),t=e.toString()),t},e.prototype._bindChart=function(){this._needBind=!0,this.invalidate()},e.prototype._clearCachedValues=function(){},e.prototype._renderEls=function(t,i,n,r,o){void 0===n&&(n=!0),void 0===r&&(r=null),void 0===o&&(o=!1);var s=i.width,a=i.height;if(0!=s){(isNaN(s)||s<0)&&(s=e._WIDTH),(a<=0||isNaN(a))&&(a=e._HEIGHT);var l=s>0&&a>0;if(l&&t.setViewportSize(s,a),t.beginRender(),t.cssPriority=!0,l){if(this._rectChart=new De(0,0,s,a),this._prepareRender(),r){var h=t.stroke,u=t.fill;t.fill=r,t.stroke=null,t.drawRect(0,0,s,a),t.fill=u,t.stroke=h}var c=new De(0,0,s,a);this._chartRectId="chartRect"+(1e6*Math.random()).toFixed(),t.addClipRect(c,this._chartRectId),this._renderHeader(t,c),this._renderFooter(t,c),this._renderLegends(t,c),this._renderChart(t,c,n)}t.endRender()}},e.prototype._render=function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=null);var n=this._getHostSize();if(this._h){var r=n.height-this._h;r>=4&&r<=6&&!1!==this._isPCUnit("height")&&(n.height=this._h)}this._h=n.height,this._renderEls(t,n,e,i)},e.prototype._isPCUnit=function(t){var e=null,i=this.hostElement;if(i&&i.computedStyleMap){var n=i.computedStyleMap();if(n){var r=n.get(t);r&&(e="percent"==r.unit)}}return e},e.prototype._renderHidden=function(t,i){void 0===t&&(t=null),void 0===i&&(i=null);var n=document.createElement("div");ae(n,this.hostElement.getAttribute("class")||""),n.style.visibility="hidden";var r=new Xr(n);if(document.body.appendChild(n),!t){var o=this._getHostComputedStyle(),s=0,a=0;o&&(s=this._parsePx(o.width),a=this._parsePx(o.height),0==s&&(s=e._WIDTH),0==a&&(a=e._HEIGHT),s-=this._parsePx(o.paddingLeft),s-=this._parsePx(o.paddingRight),a-=this._parsePx(o.paddingTop),a-=this._parsePx(o.paddingBottom),s-=this._parsePx(o.borderLeftWidth),s-=this._parsePx(o.borderRightWidth),a-=this._parsePx(o.borderTopWidth),a-=this._parsePx(o.borderBottomWidth)),0==s&&(s=e._WIDTH),0==a&&(a=e._HEIGHT),t=new Oe(s,a)}return this._renderEls(r,t,!0,i,!0),ge(n),r.element},e.prototype._renderHeader=function(t,i){t.startGroup(e._CSS_HEADER,this._chartRectId),i=this._drawTitle(t,i,this.header,this.headerStyle,!1),t.endGroup()},e.prototype._renderFooter=function(t,i){t.startGroup(e._CSS_FOOTER,this._chartRectId),i=this._drawTitle(t,i,this.footer,this.footerStyle,!0),t.endGroup()},e.prototype._renderLegends=function(t,i){var n,r,o=this.legend,s=i.width,a=i.height,l=o._getPosition(s,a);switch(n=o._getDesiredSize(t,l,s,a),l){case Wr.Right:s-=n.width,r=new Re(s,i.top+.5*(a-n.height));break;case Wr.Left:i.left+=n.width,s-=n.width,r=new Re(0,i.top+.5*(a-n.height));break;case Wr.Top:a-=n.height,r=new Re(.5*(s-n.width),i.top),i.top+=n.height;break;case Wr.Bottom:a-=n.height,r=new Re(.5*(s-n.width),i.top+a)}if(i.width=s,i.height=a,n){this._rectLegend=new De(r.x,r.y,n.width,n.height);var h="legRect"+(1e6*Math.random()).toFixed();t.addClipRect(this._rectLegend,h),this._legendHost=t.startGroup(e._CSS_LEGEND,h),this.legend._render(t,r,l,n.width,n.height),t.endGroup()}else this._legendHost=null,this._rectLegend=null},e.prototype._prepareRender=function(){},e.prototype._renderChart=function(t,e,i){},e.prototype._performBind=function(){},e.prototype._getDesiredLegendSize=function(t,e,i,n){return null},e.prototype._renderLegend=function(t,e,i,n,r,o){},e.prototype._getHitTestItem=function(t){return null},e.prototype._getHitTestValue=function(t,e){return null},e.prototype._getHitTestLabel=function(t){return null},e.prototype._refreshChart=function(){this._needBind&&(this._needBind=!1,this._performBind()),this.hostElement&&this._render(this._currentRenderEngine)},e.prototype._drawTitle=function(t,i,n,r,o){var s=e._CSS_TITLE,a=o?e._CSS_FOOTER:e._CSS_HEADER,l=null;if(o?this._rectFooter=null:this._rectHeader=null,null!=n){var h=null,u=null,c=null,d=null;r&&(r.fontSize&&(h=r.fontSize),r.foreground&&(u=r.foreground),r.fill&&(u=r.fill),r.fontFamily&&(c=r.fontFamily),r.halign&&(d=r.halign)),t.fontSize=h,t.fontFamily=c,l=t.measureString(n,s,a,r),i.height-=l.height,u||(u=e._FG),t.textFill=u,o?("left"==d?e._renderText(t,n,new Re(i.left,i.bottom),0,0,s,a,r):"right"==d?e._renderText(t,n,new Re(i.left+i.width,i.bottom),2,0,s,a,r):e._renderText(t,n,new Re(i.left+.5*i.width,i.bottom),1,0,s,a,r),this._rectFooter=new De(i.left,i.bottom,i.width,l.height)):(this._rectHeader=new De(i.left,i.top,i.width,l.height),i.top+=l.height,"left"==d?e._renderText(t,n,new Re(i.left,0),0,0,s,a,r):"right"==d?e._renderText(t,n,new Re(i.left+i.width,0),2,0,s,a,r):e._renderText(t,n,new Re(i.left+.5*i.width,0),1,0,s,a,r)),t.textFill=null,t.fontSize=null,t.fontFamily=null}return i},e.prototype.pageToControl=function(t,e){return this._toControl(t,e)},e.prototype._toControl=function(t,e){vt(t)&&vt(e)?t=new Re(t,e):t instanceof MouseEvent&&(t=At(t)),Zt(t,Re);var i=t.clone(),n=this._getHostOffset();i.x-=n.x,i.y-=n.y;var r=this._currentRenderEngine?this._currentRenderEngine.element:null;if(null!=r){var o=r.getBoundingClientRect(),s=parseFloat(r.getAttribute("width")),a=parseFloat(r.getAttribute("height"));o.width!=s&&(i.x*=s/o.width),o.height!=a&&(i.y*=a/o.height)}var l=this._getHostComputedStyle();if(l){var h=parseInt(l.paddingLeft.replace("px",""));h&&!isNaN(h)&&(i.x-=h);var u=parseInt(l.paddingTop.replace("px",""));u&&!isNaN(u)&&(i.y-=u)}return i},e.prototype._highlightItems=function(t,e,i){if(i)for(var n=0;n<t.length;n++)ae(t[n],e);else for(n=0;n<t.length;n++)le(t[n],e)},e.prototype._parseMargin=function(t){var e={};if(vt(t)&&!isNaN(t))e.top=e.bottom=e.left=e.right=Gt(t);else if(wt(t)){var i=Ut(t).split(" ",4),n=NaN,r=NaN,o=NaN,s=NaN;i&&(4==i.length?(n=parseFloat(i[0]),s=parseFloat(i[1]),r=parseFloat(i[2]),o=parseFloat(i[3])):2==i.length?(n=r=parseFloat(i[0]),o=s=parseFloat(i[1])):1==i.length&&(n=r=o=s=parseFloat(i[1])),isNaN(n)||(e.top=n),isNaN(r)||(e.bottom=r),isNaN(o)||(e.left=o),isNaN(s)||(e.right=s))}return e},e.prototype._showToolTip=function(t,e){var i=this,n=this._tooltip.showDelay;i._clearTimeouts(),i.isDisabled||(t||i._tooltip.hide(),n>0?i._toShow=setTimeout((function(){i._tooltip.show(i.hostElement,t,e),i._tooltip.hideDelay>0&&(i._toHide=setTimeout((function(){i._tooltip.hide()}),i._tooltip.hideDelay))}),n):(i._tooltip.show(i.hostElement,t,e),i._tooltip.hideDelay>0&&(i._toHide=setTimeout((function(){i._tooltip.hide()}),i._tooltip.hideDelay))))},e.prototype._hideToolTip=function(){this._clearTimeouts(),this._tooltip.hide()},e.prototype._clearTimeouts=function(){this._toShow&&(clearTimeout(this._toShow),this._toShow=null),this._toHide&&(clearTimeout(this._toHide),this._toHide=null)},e.prototype._getHostOffset=function(){var t=Te(this.hostElement);return new Re(t.left,t.top)},e.prototype._getHostSize=function(){var t=new Oe,e=this.hostElement,i=this._getHostComputedStyle(),n=e.offsetWidth,r=e.offsetHeight;return i&&(n-=this._parsePx(i.paddingLeft),n-=this._parsePx(i.paddingRight),r-=this._parsePx(i.paddingTop),r-=this._parsePx(i.paddingBottom),n-=this._parsePx(i.borderLeftWidth),n-=this._parsePx(i.borderRightWidth),r-=this._parsePx(i.borderTopWidth),r-=this._parsePx(i.borderBottomWidth),t.width=n,t.height=r),t},e.prototype._parsePx=function(t){var e=parseFloat(t.replace("px",""));return isNaN(e)?0:e},e.prototype._getHostComputedStyle=function(){var t=this.hostElement;return t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(this.hostElement):null},e.prototype._find=function(t,e){for(var i=[],n=0;n<t.childElementCount;n++){var r=t.childNodes.item(n);if(e.indexOf(r.nodeName)>=0)i.push(r);else{var o=this._find(r,e);if(o.length>0)for(var s=0;s<o.length;s++)i.push(o[s])}}return i},e.prototype._getLegendSize=function(t,e){return Math.min(e,this.legend._getMaxSize(t))},e._contains=function(t,e){return!(!t||!e)&&e.x>=t.left&&e.x<=t.right&&e.y>=t.top&&e.y<=t.bottom},e._intersects=function(t,e){return!(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)},e._toOADate=function(t){return t.valueOf()},e._fromOADate=function(t){return new Date(t)},e._renderText=function(t,e,i,n,r,o,s,a,l){var h=t.measureString(e,o,s,a),u=i.x,c=i.y;switch(n){case 1:u-=.5*h.width;break;case 2:u-=h.width}switch(r){case 1:c+=.5*h.height;break;case 0:c+=h.height}var d=new De(u,c-h.height,h.width,h.height);return l?l(d)?(t.drawString(e,new Re(u,c),o,a),d):null:(t.drawString(e,new Re(u,c),o,a),d)},e._renderRotatedText=function(t,e,i,n,r,o,s,a,l,h){var u=t.measureString(e,a,l,h),c=i.x,d=i.y;switch(n){case 1:c-=.5*u.width;break;case 2:c-=u.width}switch(r){case 1:d+=.5*u.height;break;case 0:d+=u.height}return t.drawStringRotated(e,new Re(c,d),o,s,a,h)},e._endsWith=function(t,e){if(t&&e){var i=t.length-e.length;return i>=0&&t.indexOf(e,i)===i}return!1},e._WIDTH=300,e._HEIGHT=200,e._SELECTION_THRESHOLD=15,e._CSS_LEGEND="wj-legend",e._CSS_HEADER="wj-header",e._CSS_FOOTER="wj-footer",e._CSS_TITLE="wj-title",e._CSS_LABEL="wj-label",e._CSS_SELECTION="wj-state-selected",e._CSS_PLOT_AREA="wj-plot-area",e._FG="#666",e._epoch=new Date(1899,11,30).getTime(),e._msPerDay=864e5,e}(li),ro=function(){function t(){this._keys={},this._keys.seriesName=null,this._keys.pointIndex=null,this._keys.x=null,this._keys.y=null,this._keys.value=null,this._keys.name=null}return t.prototype.replace=function(t,e){var i=this;return Mt(t,{},(function(t,n,r,o){return i.getValue(n,e,r)}))},t.prototype.getValue=function(t,e,i){switch(t){case"seriesName":return e.series?e.series.name:"";case"pointIndex":return null!=e.pointIndex?e.pointIndex.toFixed():"";case"x":return i?Ue.format(e.x,i):e._xfmt;case"y":return i?Ue.format(e.y,i):e._yfmt;case"value":return i?Ue.format(e.value,i):e._getValueFmt();case"name":return e.name}if(e.item){0==t.indexOf("item.")&&(t=t.substr(5));var n=e.item[t];if(!jt(n))return i?Ue.format(n,i):n}return""},t}(),oo=function(){function t(){}return t.downloadImage=function(t,e,i){var n=document.createElement("a"),r="image/"+i;if(navigator.msSaveOrOpenBlob){t=t.substring(t.indexOf(",")+1);var o,s,a,l=atob(t),h=[];for(o=0;o<l.length;o+=512){s=l.slice(o,o+512);for(var u=new Array(s.length),c=0;c<s.length;c++)u[c]=s.charCodeAt(c);var d=new Uint8Array(u);h.push(d)}a=new Blob(h,{type:r}),navigator.msSaveOrOpenBlob(a,e+"."+i)}else n.download=e+"."+i,n.href=t,document.body.appendChild(n),n.addEventListener("click",(function(t){ge(n)})),n.click()},t.getDataUri=function(e,i){var n,r,o,s,a,l,h,u,c,d,f=document.createElement("div"),p=e.cloneNode(!0),g=!1;if("svg"==e.tagName?(r=(n=Te(e.parentNode||e)).width||0,o=n.height||0,0==r&&(g=!0),s=e.viewBox.baseVal&&0!==e.viewBox.baseVal.width?e.viewBox.baseVal.width:r,a=e.viewBox.baseVal&&0!==e.viewBox.baseVal.height?e.viewBox.baseVal.height:o):(r=(l=e.getBBox()).x+l.width,o=l.y+l.height,p.setAttribute("transform",p.getAttribute("transform").replace(/translate\(.*?\)/,"")),s=r,a=o,(u=document.createElementNS("http://www.w3.org/2000/svg","svg")).appendChild(p),p=u),g){var _=i._renderHidden(),m=i._getHostComputedStyle(),w=0,b=0;m&&(w=i._parsePx(m.width),b=i._parsePx(m.height)),0==w&&(w=no._WIDTH),0==b&&(b=no._HEIGHT),s=r=w,a=o=b,p=_.cloneNode(!0)}p.setAttribute("version","1.1"),p.setAttributeNS(t.xmlns,"xmlns","http://www.w3.org/2000/svg"),p.setAttributeNS(t.xmlns,"xmlns:xlink","http://www.w3.org/1999/xlink"),p.setAttribute("width",r),p.setAttribute("height",o),p.setAttribute("viewBox","0 0 "+s+" "+a),ae(p,e.parentNode&&e.parentNode.getAttribute("class")||""),f.appendChild(p),h=t.getStyles(e),h+=".wj-flexchart{margin:0px;padding:0px;border:none;width:"+r+"px;height:"+o+"px;}\n",(c=document.createElement("style")).setAttribute("type","text/css"),c.innerHTML="<![CDATA[\n"+h+"\n]]>",(d=document.createElement("defs")).appendChild(c),p.insertBefore(d,p.firstChild),D()||p.querySelectorAll("foreignObject").forEach((function(t){p.removeChild(t)}));var v=i._currentRenderEngine.canvas;if(v){var y=document.createElementNS("http://www.w3.org/2000/svg","image");y.setAttribute("width",v.width),y.setAttribute("height",v.height),y.setAttribute("href",v.toDataURL()),p.insertBefore(y,p.firstChild),i.invalidate()}return"data:image/svg+xml;base64,"+window.btoa(window.unescape(encodeURIComponent(t.doctype+f.innerHTML)))},t.getStyles=function(t){var e="",i=document.styleSheets;return null==i||0===i.length?null:([].forEach.call(i,(function(i){var n;try{if(null==i.cssRules||0===i.cssRules.length)return!0}catch(t){if("SecurityError"==t.name)return console.log("SecurityError. Can't read: "+i.href),!0}n=i.cssRules,[].forEach.call(n,(function(i){var n,r=i.style;if(null==r)return!0;try{n=".wj-flexchart"==i.selectorText||t.querySelector(i.selectorText)}catch(t){console.warn('Invalid CSS selector "'+i.selectorText+'"',t)}n?e+=i.selectorText+" { "+r.cssText+" }\n":i.cssText.match(/^@font-face/)&&(e+=i.cssText+"\n")}))})),e)},t.doctype='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">',t.xmlns="http://www.w3.org/2000/xmlns/",t}(),so=function(t){function e(){var e=t.call(this)||this;return e._content="<b>{seriesName}</b><br/>{x} {y}",e._threshold=15,e}return Lr(e,t),Object.defineProperty(e.prototype,"content",{get:function(){return this._content},set:function(t){t!=this._content&&(this._content=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"threshold",{get:function(){return this._threshold},set:function(t){t!=this._threshold&&(this._threshold=Gt(t))},enumerable:!0,configurable:!0}),e.prototype.show=function(i,n,r){t.prototype.show.call(this,i,n,r);var o=e._eTip;o&&o.style&&(o.style.pointerEvents="none")},e}(yi);!function(t){t[t.None=0]="None",t[t.Left=1]="Left",t[t.Top=2]="Top",t[t.Right=3]="Right",t[t.Bottom=4]="Bottom",t[t.Center=5]="Center"}(eo||(eo={})),function(t){t[t.None=0]="None",t[t.Inside=1]="Inside",t[t.Center=2]="Center",t[t.Outside=3]="Outside",t[t.Radial=4]="Radial",t[t.Circular=5]="Circular"}(io||(io={}));var ao,lo,ho,uo=function(t){function e(e,i,n,r){var o=t.call(this,e)||this;return o.cancel=!1,o._ht=i,o._pt=n,o._text=r,o}return Lr(e,t),Object.defineProperty(e.prototype,"point",{get:function(){return this._pt},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){this._text=Ut(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hitTestInfo",{get:function(){return this._ht},enumerable:!0,configurable:!0}),e}($r),co=function(){function t(){this.rendering=new it}return Object.defineProperty(t.prototype,"content",{get:function(){return this._content},set:function(t){t!=this._content&&(this._content=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"border",{get:function(){return this._bdr},set:function(t){t!=this._bdr&&(this._bdr=Yt(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offset",{get:function(){return this._off},set:function(t){t!=this._off&&(this._off=Gt(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"connectingLine",{get:function(){return this._line},set:function(t){t!=this._line&&(this._line=Yt(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),t.prototype.onRendering=function(t){return this.rendering.raise(this,t),!t.cancel},t.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},t}(),fo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._pos=eo.Top,e}return Lr(e,t),Object.defineProperty(e.prototype,"position",{get:function(){return this._pos},set:function(t){(t=Jt(t,eo))!=this._pos&&(this._pos=t,this._invalidate())},enumerable:!0,configurable:!0}),e}(co),po=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._pos=io.Center,e}return Lr(e,t),Object.defineProperty(e.prototype,"position",{get:function(){return this._pos},set:function(t){(t=Jt(t,io))!=this._pos&&(this._pos=t,this._invalidate())},enumerable:!0,configurable:!0}),e}(co);!function(t){t[t.X=0]="X",t[t.Y=1]="Y"}(ao||(ao={})),function(t){t[t.Auto=0]="Auto",t[t.Show=1]="Show"}(lo||(lo={})),function(t){t[t.None=0]="None",t[t.Outside=1]="Outside",t[t.Inside=2]="Inside",t[t.Cross=3]="Cross"}(ho||(ho={}));var go,_o=function(){function t(e){this._GRIDLINE_WIDTH=1,this._LINE_WIDTH=1,this._TICK_WIDTH=1,this._TICK_HEIGHT=4,this._TICK_OVERLAP=1,this._TICK_LABEL_DISTANCE=4,this._minorGrid=!1,this._labels=!0,this._isTimeAxis=!1,this._labelPadding=5,this._actualLabels=[],this.rangeChanged=new it,this._customConvert=null,this._customConvertBack=null,this.__uniqueId=t._id++,this._position=e,e==Wr.Bottom||e==Wr.Top?this._axisType=ao.X:this._axisType=ao.Y,this._minorTickMarks=ho.None,this._overlap=lo.Auto}return Object.defineProperty(t.prototype,"hostElement",{get:function(){return this._hostElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actualMin",{get:function(){return this._isTimeAxis?new Date(this._actualMin):this._actualMin},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actualMax",{get:function(){return this._isTimeAxis?new Date(this._actualMax):this._actualMax},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(t){t!=this._min&&(St(t)?this._min=qt(t,!0):this._min=Gt(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(t){t!=this._max&&(St(t)?this._max=qt(t,!0):this._max=Gt(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reversed",{get:function(){return this._reversed},set:function(t){this._reversed!=t&&(this._reversed=Yt(t),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(t){(t=Jt(t,Wr,!1))!=this._position&&(this._position=t,this._position==Wr.Bottom||this._position==Wr.Top?this._axisType=ao.X:this._position!=Wr.Left&&this._position!=Wr.Right||(this._axisType=ao.Y),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"majorUnit",{get:function(){return this._majorUnit},set:function(t){t!=this._majorUnit&&(this._majorUnit=Gt(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minorUnit",{get:function(){return this._minorUnit},set:function(t){t!=this._minorUnit&&(this._minorUnit=Gt(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){t!=this._name&&(this._name=Ut(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(t){t!=this._title&&(this._title=Ut(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this._format},set:function(t){t!=this._format&&(this._format=Ut(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"majorGrid",{get:function(){return this._majorGrid},set:function(t){t!=this._majorGrid&&(this._majorGrid=Yt(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"majorTickMarks",{get:function(){return this._majorTickMarks},set:function(t){(t=Jt(t,ho,!0))!=this._majorTickMarks&&(this._majorTickMarks=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minorGrid",{get:function(){return this._minorGrid},set:function(t){t!=this._minorGrid&&(this._minorGrid=Yt(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minorTickMarks",{get:function(){return this._minorTickMarks},set:function(t){(t=Jt(t,ho,!0))!=this._minorTickMarks&&(this._minorTickMarks=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axisLine",{get:function(){return void 0===this._axisLine?this.axisType==ao.X:this._axisLine},set:function(t){t!=this._axisLine&&(this._axisLine=Yt(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labels",{get:function(){return this._labels},set:function(t){t!=this._labels&&(this._labels=Yt(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labelAlign",{get:function(){return this._labelAlign},set:function(t){t!=this._labelAlign&&(this._labelAlign=Ut(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labelAngle",{get:function(){return this._labelAngle},set:function(t){t!=this._labelAngle&&(this._labelAngle=Gt(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"origin",{get:function(){return this._origin},set:function(t){t!=this._origin&&(this._origin=Gt(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"overlappingLabels",{get:function(){return this._overlap},set:function(t){(t=Jt(t,lo,!0))!=this._overlap&&(this._overlap=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._items},set:function(t){this._items!=t&&(this._cv&&(this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=t,this._cv=Qt(t),null!=this._cv&&this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"binding",{get:function(){return this._binding},set:function(t){t!=this._binding&&(this._binding=Ut(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._ifmt},set:function(t){this._ifmt!=t&&(this._ifmt=Xt(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logBase",{get:function(){return this._logBase},set:function(t){t!=this._logBase&&(this._logBase=Gt(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axisLabels",{get:function(){return this._actualLabels},enumerable:!0,configurable:!0}),t.prototype._getLogBase=function(){return this._chart&&this._chart._stacking===Oo.Stacked100pc?0:this.logBase},t.prototype._isLogAxis=function(){var t=this._getLogBase();return null!=t&&t>0},Object.defineProperty(t.prototype,"plotArea",{get:function(){return this._parea},set:function(t){t!=this._parea&&(this._parea=Zt(t,Hr,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labelPadding",{get:function(){return this._labelPadding},set:function(t){t!=this._labelPadding&&(this._labelPadding=Gt(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_groupClass",{get:function(){return this.axisType===ao.X?Wo._CSS_AXIS_X:Wo._CSS_AXIS_Y},enumerable:!0,configurable:!0}),t.prototype.onRangeChanged=function(t){this.rangeChanged.raise(this,t)},t.prototype._getPosition=function(){if(this.axisType==ao.X){if(this.position==Wr.Auto)return Wr.Bottom}else if(this.axisType==ao.Y&&this.position==Wr.Auto)return Wr.Left;return this.position},t.prototype._isOverlapped=function(t,e,i,n){var r=this._lbls;if(null!=r&&r.length>1)for(var o=r.length,s=this._values&&this._values.length==o?this._values:null,a=0,l=0,h=0;h<o;h++){var u=s?s[h]:h;if(u>=this._actualMin&&u<=this._actualMax){var c=e*(u-this._actualMin)/(this._actualMax-this._actualMin),d=t.measureString(r[h],i,this._groupClass);if(this.axisType==ao.X){if(h>0&&Math.abs(c-a)<.5*(d.width+l))return!0;a=c,l=d.width}else this.axisType,ao.Y}}return!1},t.prototype._getHeight=function(t,e){this._actualAngle=null;var i=Wo._CSS_LABEL,n=Wo._CSS_TITLE,r=.1*(this._actualMax-this._actualMin),o=this._lbls,s=this.labelAngle;if(this.labels&&this._chart._getChartType()!==Ro.Funnel){if(r=this._updateAutoFormat(r),null!=o&&o.length>0){var a=o.length,l=this._values&&this._values.length==a?this._values:null;this._annoSize=new Oe;for(var h=0;h<a;h++)if((p=l?l[h]:h)>=this._actualMin&&p<=this._actualMax){var u=o[h],c=i;this.itemFormatter&&(u=(f=this._getFormattedItem(t,p,u,new Re,i,!0)).text,c=f.cls);var d=t.measureString(u,c,this._groupClass);this.axisType,ao.X,d.width>this._annoSize.width&&(this._annoSize.width=d.width),d.height>this._annoSize.height&&(this._annoSize.height=d.height)}null==s&&this.axisType==ao.X&&(this._isOverlapped(t,Math.max(10,e-this._annoSize.width),i,this.axisType)?s=this._actualAngle=-45:this._actualAngle=0)}else{var f,p=this._actualMin-r;if(u=this._formatValue(p),c=i,this.itemFormatter&&(u=(f=this._getFormattedItem(t,p,u,new Re,i,!0)).text,c=i),d=t.measureString(u,c,this._groupClass),this._annoSize=d,p=this._actualMax+r,u=this._formatValue(p),c=i,this.itemFormatter)u=(f=this._getFormattedItem(t,p,u,new Re,i,!0)).text,c=i;(d=t.measureString(u,c,this._groupClass)).width>this._annoSize.width&&(this._annoSize.width=d.width),d.height>this._annoSize.height&&(this._annoSize.height=d.height)}if(s){s>90?s=90:s<-90&&(s=-90);var g=s*Math.PI/180,_=this._annoSize.width,m=this._annoSize.height;this._annoSize.width=_*Math.abs(Math.cos(g))+m*Math.abs(Math.sin(g)),this._annoSize.height=_*Math.abs(Math.sin(g))+m*Math.abs(Math.cos(g))}}else this._annoSize=new Oe(8,8);var w=2*(this._labelPadding||5);this._axisType==ao.X?w+=this._annoSize.height:w+=this._annoSize.width+this._TICK_LABEL_DISTANCE+2;var b=this._TICK_HEIGHT,v=this._TICK_OVERLAP,y=this.majorTickMarks;return y==ho.Outside?v=1:y==ho.Inside?v=-1:y==ho.Cross&&(v=0),null==y&&(y=ho.Outside),y!=ho.None&&(w+=.5*(1+v)*b),this._title&&(u=this._title,this._szTitle=t.measureString(u,n,this._groupClass),w+=this._szTitle.height),t.fontSize=null,w},t.prototype._updateAutoFormat=function(t){if(this._isTimeAxis){var e=this.format,i=.001*this._getActualRange()/10,n=new bo(i*bo.TicksPerSecond),r=vt(this._majorUnit)?bo.fromDays(this._majorUnit):vo.NiceTimeSpan(n,e);e||(this._tfmt=vo.GetTimeDefaultFormat(1e3*r.TotalSeconds,0)),t=r.TotalSeconds}return t},t.prototype._getActualRange=function(){return this._actualMax-this._actualMin},t.prototype._updateActualLimitsByChartType=function(t,e,i){if(t&&t.length>0&&!this._isTimeAxis){var n=this._chart._getChartType();n!=Ro.Column&&n!=Ro.Bar&&(e-=.5,i+=.5)}return{min:e,max:i}},t.prototype._updateActualLimits=function(t,e,i,n,r){void 0===n&&(n=null),void 0===r&&(r=null);var o=this._actualMin,s=this._actualMax;this._isTimeAxis=t==lt.Date;var a=this._updateActualLimitsByChartType(n,e,i);e=a.min,i=a.max;var l=this._min,h=this._max;St(l)&&(l=l.valueOf()),St(h)&&(h=h.valueOf());var u=this._chart&&this._chart._stacking!==Oo.Stacked100pc;u||(u=this._chart._isRotated()?this.axisType==ao.Y:this.axisType==ao.X);var c=this._actualMin=null!=l&&u?l:e;if(c==(this._actualMax=null!=h&&u?h:i))if(void 0!==l&&void 0===h)this._actualMax+=1;else if(void 0===l&&void 0!==h)this._actualMin-=1;else if(0===c)this._actualMax=1;else{var d=Math.abs(c);d<1?(this._actualMin-=d,this._actualMax+=d):(this._actualMin-=1,this._actualMax+=1)}if(this._getLogBase()>0){var f=this.logBase,p=Math.log(f);if(!this._max){var g=Math.ceil(Math.log(this._actualMax)/p);this._actualMax=Math.pow(f,g)}if(!this._min){var _=Math.floor(Math.log(this._actualMin)/p);this._actualMin=Math.pow(f,_)}(this._actualMin<=0||!vt(this._actualMin))&&(this._actualMin=1),this._actualMax<this._actualMin?this._actualMax=this._actualMin+1:this._actualMax===this._actualMin&&(this._actualMin=.1*this._actualMax)}if((o!=this._actualMin&&(vt(o)||vt(this._actualMin))||s!=this._actualMax&&(vt(s)||vt(this._actualMax)))&&this.onRangeChanged(),this._items){this._values=[],this._lbls=[];var m=this._items.length,w="value",b="text";if(this.binding){var v=this.binding.split(",");2==v.length&&(w=v[0],b=v[1])}for(var y=0;y<m;y++){var x=this._items[y],C=x[w];vt(C)?(this._values.push(C),this._lbls.push(x[b])):St(C)&&(this._values.push(C.getTime()),this._lbls.push(x[b]))}}else this._lbls=n,this._values=r},t.prototype._layout=function(t,e){var i=this.axisType==ao.Y;this._plotrect=e,this._axrect=i?new De(t.left,t.top,t.height,t.width):t},t.prototype._hasVisibileSeries=function(){for(var t,e=this._chart.series,i=0,n=e.length;i<n;i++)if((t=e[i].visibility)==To.Plot||t==To.Visible)return!0;return!1},t.prototype._render=function(e){if(this.position!=Wr.None&&this._hasVisibileSeries()){this.axisLabels.length=0,this._vals={};var i=0;this.labelAngle&&((i=this.labelAngle)>90?i=90:i<-90&&(i=-90)),null==this.labelAngle&&null!=this._actualAngle&&(i=this._actualAngle);var n=Wo._FG,r=this._actualMax-this._actualMin;if(vt(r)){var o=this._calcMajorUnit();0==o&&(o=.1*this._niceTickNumber(r));var s=Math.min(t.MAX_MAJOR,Math.floor(r/o)+1),a=[],l=[];this._rects=[],this._vals.major=a,this._vals.hasLbls=[];var h=Math.floor(this._actualMin/o)*o;h<this._actualMin&&(h+=o);var u=!1;if(this._lbls&&this._lbls.length>0)if(l=this._lbls,0==this._values.length){u=!0;for(var c=0;c<l.length;c++)a.push(c)}else a=this._values;else this._isTimeAxis?this._createTimeLabels(h,s,a,l):this._getLogBase()?this._createLogarithmicLabels(this._actualMin,this._actualMax,this.majorUnit,a,l,!0):this._createLabels(h,s,o,a,l);s=Math.min(a.length,l.length),e.textFill=n;var d=this._TICK_HEIGHT,f=this._TICK_OVERLAP,p=this.majorTickMarks;null==p&&(p=ho.Outside),p==ho.Outside?f=1:p==ho.Inside?f=-1:p==ho.Cross&&(f=0);var g=.5*(f-1)*d,_=.5*(1+f)*d;for(c=0;c<s;c++){var m=!0,w=a[c],b=l[c],v=this.labels;if(v&&(u||this.itemsSource)&&this.majorUnit&&c%this.majorUnit!=0&&(v=!1),w>=this._actualMin&&w<=this._actualMax){var y=e.textFill;m=this._renderLabelsAndTicks(e,c,w,b,i,p,v,g,_),e.textFill=y}this._vals.hasLbls.push(m),m&&this.axisLabels.push(b)}}(this.minorGrid||this.minorTickMarks!=ho.None)&&this._renderMinor(e,a,u),e.stroke=n,e.fontSize=null,this._renderLineAndTitle(e),e.stroke=null,e.fontSize=null,e.textFill=null,e.strokeWidth=null}},t.prototype._renderLineAndTitle=function(t){var e=this._getPosition(),i=this.axisType==ao.Y,n=e!=Wr.Top&&e!=Wr.Right,r=Wo._CSS_TITLE,o=Wo._CSS_LINE;if(i)if(n){if(this._title){var s=new Re(this._axrect.left+.5*this._szTitle.height,this._axrect.top+.5*this._axrect.height);Wo._renderRotatedText(t,this._title,s,1,1,s,-90,r,this._groupClass)}this.axisLine&&t.drawLine(this._axrect.right,this._axrect.top,this._axrect.right,this._axrect.bottom,o)}else this._title&&(s=new Re(this._axrect.right-.5*this._szTitle.height,this._axrect.top+.5*this._axrect.height),Wo._renderRotatedText(t,this._title,s,1,1,s,90,r,this._groupClass)),this.axisLine&&t.drawLine(this._axrect.left,this._axrect.top,this._axrect.left,this._axrect.bottom,o);else n?(this.axisLine&&t.drawLine(this._axrect.left,this._axrect.top,this._axrect.right,this._axrect.top,o),this._title&&Wo._renderText(t,this._title,new Re(this._axrect.left+.5*this._axrect.width,this._axrect.bottom),1,2,r)):(this.axisLine&&t.drawLine(this._axrect.left,this._axrect.bottom,this._axrect.right,this._axrect.bottom,o),this._title&&Wo._renderText(t,this._title,new Re(this._axrect.left+.5*this._axrect.width,this._axrect.top),1,0,r))},t.prototype._renderMinor=function(t,e,i){var n=this._getPosition(),r=this.axisType==ao.Y,o=n!=Wr.Top&&n!=Wr.Right;if(this._getLogBase()){if(this.minorUnit>0){var s=[];this._createLogarithmicLabels(this._actualMin,this._actualMax,this.minorUnit,s,null,!1);for(var a=[],l=0;l<s.length;l++){var h=s[l];-1==e.indexOf(h)&&h>this._actualMin&&a.push(h)}this._renderMinors(t,a,r,o)}}else this._createMinors(t,e,r,o,i)},t.prototype._renderRotatedText=function(t,e,i,n,r,o,s,a,l,h,u){if(this.itemFormatter){var c=this._getFormattedItem(t,e,i,n,l);c?(i=c.text,l=c.cls):i=null}Wo._renderRotatedText(t,i,n,r,o,s,a,l,h,u)},t.prototype._getFormattedItem=function(t,e,i,n,r,o){if(void 0===o&&(o=!1),this.itemFormatter){var s=n.clone();this._plotrect&&(this.axisType==ao.X?this.position==Wr.Top?s.y=this._plotrect.top:s.y=this._plotrect.bottom:this.position==Wr.Right?s.x=this._plotrect.right:s.x=this._plotrect.left);var a={val:e,text:i,pos:s,cls:r};return o&&(t.readOnly=!0),a=this.itemFormatter(t,a),o&&(t.readOnly=!1),a}},t.prototype._renderLabelsAndTicks=function(t,e,i,n,r,o,s,a,l){var h=this._getPosition(),u=!1,c=this.axisType==ao.Y,d=h!=Wr.Top&&h!=Wr.Right,f=this.labelPadding||5,p=this._TICK_WIDTH,g=this._getLabelAlign(c),_=Wo._CSS_LABEL,m=Wo._CSS_GRIDLINE,w=Wo._CSS_TICK,b=Wo._FG,v=Wo._FG,y=this._GRIDLINE_WIDTH,x=i!=this._actualMin&&this.majorGrid;if(c){var C=this.convert(i);if(x&&(t.stroke=b,t.strokeWidth=y,t.drawLine(this._plotrect.left,C,this._plotrect.right,C,m)),t.stroke=v,t.strokeWidth=p,d){if(s){u=!0;var j=new Re(this._axrect.right-l-this._TICK_LABEL_DISTANCE-f,C);r>0?90==r?this._renderRotatedText(t,i,n,j,1,0,j,r,_,this._groupClass):this._renderRotatedText(t,i,n,j,2,1,j,r,_,this._groupClass):r<0?-90==r?this._renderRotatedText(t,i,n,j,1,2,j,r,_,this._groupClass):this._renderRotatedText(t,i,n,j,2,1,j,r,_,this._groupClass):u=this._renderLabel(t,i,n,j,2,g,_)}o!=ho.None&&u&&t.drawLine(this._axrect.right-a,C,this._axrect.right-l,C,w)}else s&&(u=!0,j=new Re(this._axrect.left+l+this._TICK_LABEL_DISTANCE+f,C),r>0?90==r?this._renderRotatedText(t,i,n,j,1,2,j,r,_,this._groupClass):this._renderRotatedText(t,i,n,j,0,1,j,r,_,this._groupClass):r<0?-90==r?this._renderRotatedText(t,i,n,j,1,0,j,r,_,this._groupClass):this._renderRotatedText(t,i,n,j,0,1,j,r,_,this._groupClass):u=this._renderLabel(t,i,n,j,0,g,_)),o!=ho.None&&u&&t.drawLine(this._axrect.left+a,C,this._axrect.left+l,C,w)}else{var S=this.convert(i);this.overlappingLabels==lo.Auto&&this._xCross(S)&&(s=!1),x&&s&&(t.stroke=b,t.strokeWidth=y,t.drawLine(S,this._plotrect.top,S,this._plotrect.bottom,m)),t.stroke=v,t.strokeWidth=p,d?(s&&(j=new Re(S,this._axrect.top+l+f),u=0!=r?this._renderRotatedLabel(t,i,n,j,g,r,_,d):this._renderLabel(t,i,n,j,g,0,_)),o!=ho.None&&u&&(S=this.convert(i),t.drawLine(S,this._axrect.top+a,S,this._axrect.top+l,w))):(s&&(j=new Re(S,this._axrect.bottom-l-f),u=0!=r?this._renderRotatedLabel(t,i,n,j,g,r,_,d):this._renderLabel(t,i,n,j,g,2,_)),o!=ho.None&&u&&(S=this.convert(i),t.drawLine(S,this._axrect.bottom-a,S,this._axrect.bottom-l,w)))}return u},t.prototype._xCross=function(t){for(var e=this._rects.length,i=0;i<e;i++){var n=this._rects[i];if(t>=n.left&&t<=n.right)return!0}return!1},t.prototype._createMinors=function(e,i,n,r,o){if(i&&i.length>1){for(var s=this.majorUnit?this._isTimeAxis?24*this.majorUnit*3600*1e3:this.majorUnit:i[1]-i[0],a=vt(this.minorUnit)?this._isTimeAxis?24*this.minorUnit*3600*1e3:this.minorUnit:.5*s,l=[],h=i[0];h>this._actualMin&&l.length<t.MAX_MINOR;h-=a)-1==i.indexOf(h)&&l.push(h);for(h=i[0]+a;h<this._actualMax&&l.length<t.MAX_MINOR;h+=a)(-1==i.indexOf(h)||o&&this.majorUnit&&h%this.majorUnit!=0)&&l.push(h);this._renderMinors(e,l,n,r)}},t.prototype._renderMinors=function(t,e,i,n){var r=this._TICK_HEIGHT,o=this._TICK_WIDTH,s=this._TICK_OVERLAP,a=Wo._FG,l=this.minorTickMarks,h=!0;this._vals.minor=e,l==ho.Outside?s=1:l==ho.Inside?s=-1:l==ho.Cross?s=0:h=!1;for(var u=.5*(s-1)*r,c=.5*(1+s)*r,d=e?e.length:0,f=this.minorGrid,p=this._plotrect,g=this._GRIDLINE_WIDTH,_=Wo._FG,m=Wo._CSS_GRIDLINE_MINOR,w=Wo._CSS_TICK_MINOR,b=0;b<d;b++)if(e[b]>=this.actualMin&&e[b]<=this.actualMax)if(i){var v=this.convert(e[b]);h&&(t.stroke=a,t.strokeWidth=o,n?t.drawLine(this._axrect.right-u,v,this._axrect.right-c,v,w):t.drawLine(this._axrect.left+u,v,this._axrect.left+c,v,w)),f&&(t.stroke=_,t.strokeWidth=g,t.drawLine(p.left,v,p.right,v,m))}else{var y=this.convert(e[b]);h&&(t.stroke=a,t.strokeWidth=o,n?t.drawLine(y,this._axrect.top+u,y,this._axrect.top+c,w):t.drawLine(y,this._axrect.bottom-u,y,this._axrect.bottom-c,w)),f&&(t.stroke=_,t.strokeWidth=g,t.drawLine(y,p.top,y,p.bottom,m))}},t.prototype._renderLabel=function(t,e,i,n,r,o,s){var a=!1;if(this.itemFormatter){var l=this._getFormattedItem(t,e,i,n,s);l?(i=l.text,s=l.cls):i=null}if(i){var h=this._rects,u=this.overlappingLabels==lo.Auto&&!vt(this._actualAngle),c=Wo._renderText(t,i,n,r,o,s,this._groupClass,null,(function(t){if(u)for(var e=h.length,i=0;i<e;i++)if(Wo._intersects(h[i],t))return!1;return!0}));c&&(c.left+=4,c.width+=8,h.push(c),a=!0)}return a},t.prototype._renderRotatedLabel=function(t,e,i,n,r,o,s,a){if(this.itemFormatter){var l=this._getFormattedItem(t,e,i,n,s);l?(i=l.text,s=l.cls):i=null}if(i){var h=t.measureString(i,s,this._groupClass),u=.5*h.height,c=.5*h.width*Math.abs(Math.sin(o*Math.PI/180)),d=.5*h.width,f=.5*(h.width*Math.abs(Math.cos(o*Math.PI/180))+h.height*Math.abs(Math.sin(o*Math.PI/180))),p=new Re(n.x,n.y),g=new Re(n.x,n.y);this.labelAlign||(r=90==o||-90==o?1:a?o>0?0:2:o>0?2:0),a?(n.y+=u+c,p.y+=u+c-.5*h.height):(n.y-=u+c-h.height,p.y-=u+c-.5*h.height);var _=0;2===r?(p.x-=f,n.x-=d+f,_=p.x+f-h.height-2):0===r?(p.x+=f,n.x-=d-f,_=p.x-f):(n.x-=d,_=p.x-h.height/2);var m=new De(_,g.y,h.height+2,h.width),w=this._rects;if(this.overlappingLabels==lo.Auto)for(var b=w.length,v=0;v<b;v++)if(Wo._intersects(w[v],m))return!1;return Wo._renderRotatedText(t,i,n,0,2,p,o,s,this._groupClass),this._rects.push(m),!0}return!1},t.prototype._getLabelAlign=function(t){var e=1;if(this.labelAlign){var i=this.labelAlign.toLowerCase();t?"top"==i?e=0:"bottom"==i&&(e=2):"left"==i?e=0:"right"==i&&(e=2)}return e},t.prototype.convert=function(t,e,i){var n=null==e?this._actualMax:e,r=null==i?this._actualMin:i;if(n==r||!this._axrect)return 0;var o=this._axrect.left,s=this._axrect.width,a=this._axrect.top,l=this._axrect.height;if(null!=this._customConvert){var h=this._customConvert(t,r,n);return this.axisType==ao.Y?a+h*l:o+h*s}if(this._getLogBase()){if(t<=0)return NaN;var u=Math.log(n/r);return this._reversed?this.axisType==ao.Y?a+Math.log(t/r)/u*l:o+s-Math.log(t/r)/u*s:this.axisType==ao.Y?a+l-Math.log(t/r)/u*l:o+Math.log(t/r)/u*s}return this._reversed?this.axisType==ao.Y?a+(t-r)/(n-r)*l:o+s-(t-r)/(n-r)*s:this.axisType==ao.Y?a+l-(t-r)/(n-r)*l:o+(t-r)/(n-r)*s},t.prototype.convertBack=function(t){if(this._actualMax==this._actualMin)return 0;var e=this._plotrect.left,i=this._plotrect.width,n=this._plotrect.top,r=this._plotrect.height,o=this._actualMax-this._actualMin,s=this._getLogBase();if(null!=this._customConvertBack)return this.axisType==ao.Y?this._customConvertBack((t-n)/r,this._actualMin,this._actualMax):this._customConvertBack((t-e)/i,this._actualMin,this._actualMax);if(s){var a;return a=this._reversed?this.axisType==ao.Y?(t-n)/r:1-(t-e)/i:this.axisType==ao.Y?1-(t-n)/r:(t-e)/i,Math.pow(s,(Math.log(this._actualMin)+(Math.log(this._actualMax)-Math.log(this._actualMin))*a)/Math.log(s))}return this._reversed?this.axisType==ao.Y?this._actualMin+(t-n)*o/r:this._actualMin+(e+i-t)*o/i:this.axisType==ao.Y?this._actualMax-(t-n)*o/r:this._actualMin+(t-e)*o/i},Object.defineProperty(t.prototype,"axisType",{get:function(){var t=this._chart;if(t){if(t.axisX==this)return ao.X;if(t.axisY==this)return ao.Y}return this._axisType},enumerable:!0,configurable:!0}),t.prototype._getMinNum=function(){return this._actualMin},t.prototype._getMaxNum=function(){return this._actualMax},t.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},t.prototype._cvCollectionChanged=function(t,e){this._invalidate()},t.prototype._createLabels=function(t,e,i,n,r){for(var o=0;o<e;o++){var s=(t+i*o).toFixed(14),a=parseFloat(s),l=this._formatAxisValue(a),h=r.indexOf(l);if(h>=0&&!vt(this.majorUnit)&&!this._format){var u=parseFloat(l);Math.abs(u-a)<Math.abs(u-n[h])&&(n[h]=a)}else n.push(a),r.push(l)}},t.prototype._createLogarithmicLabels=function(t,e,i,n,r,o){var s=this._getLogBase(),a=Math.log(s),l=Math.floor(Math.log(t)/a),h=Math.ceil(Math.log(e)/a),u=s,c=!0;i>0&&(c=!1,u=i),u<s&&(u=s);var d=(h-l+1)*s/u,f=1;if(o){var p=this._getPosition(),g=this._getAnnoNumber(p==Wr.Left||p==Wr.Right);d>g?f=Math.floor(d/g+1):c&&(d<=.2*g?u=.2*s:d<=.1*g&&(u=.1*s))}for(var _=l;_<=h;_+=f)if(c)for(var m=Math.pow(s,_),w=0;w*u<s-1;w++)(b=m*(1+w*u))>=t&&b<=e&&(0==w?(n.unshift(b),r&&r.unshift(this._formatValue(b))):(n.push(b),r&&r.push(this._formatValue(b))));else{var b;(b=Math.pow(u,_))>=t&&b<=e&&(n.push(b),r&&r.push(this._formatValue(b)))}},t.prototype._createTimeLabels=function(t,e,i,n){var r=this._actualMin,o=this._actualMax,s=new Date(r),a=new Date(o),l=this._format,h=this._getAnnoNumber(this._axisType==ao.Y);h>10&&(h=10);var u=.001*(this._actualMax-this._actualMin)/h,c=new bo(u*bo.TicksPerSecond),d=vt(this._majorUnit)?bo.fromDays(this._majorUnit):vo.NiceTimeSpan(c,l);l||(this._tfmt=l=vo.GetTimeDefaultFormat(1e3*d.TotalSeconds,0));var f=d.Ticks,p=vo.RoundTime(r,d.TotalDays,!1);isFinite(p)&&(r=p);var g=vo.RoundTime(o,d.TotalDays,!0);isFinite(g)&&(o=g);var _=new Date(r);if(new Date(o),d.TotalDays>=365&&!vt(this._majorUnit)){(_=new Date(s.getFullYear(),0,1))<s&&_.setFullYear(_.getFullYear()+1);var m=d.TotalDays/365;m-=m%1;for(var w=_;w<=a&&m;w.setFullYear(w.getFullYear()+m)){var b=w.valueOf();i.push(b),n.push(this._formatValue(b))}}else if(d.TotalDays>=30&&!vt(this._majorUnit)){(_=new Date(s.getFullYear(),s.getMonth(),1))<s&&_.setMonth(_.getMonth()+1);var v=d.TotalDays/30;for(v-=v%1,w=_;w<=a;w.setMonth(w.getMonth()+v))b=w.valueOf(),i.push(b),n.push(this._formatValue(b))}else{var y=1e3*f/bo.TicksPerSecond,x=(w=_,s.getTime()-w.getTime());for(x>y&&(w=new Date(w.getTime()+Math.floor(x/y)*y));w<=a&&y;w=new Date(w.getTime()+y))(b=w.valueOf()+x)>=s.valueOf()&&(i.push(b),n.push(this._formatValue(b)))}},t.prototype._formatValue=function(t){if(this._isTimeAxis)return this._format?Ue.format(new Date(t),this._format):Ue.format(new Date(t),this._tfmt);if(this._format)return Ue.format(t,this._format);var e=t==Math.round(t)?"n0":"n";return Ue.format(t,e)},t.prototype._formatAxisValue=function(t,e){if(void 0===e&&(e=void 0),this._isTimeAxis)return this._format?Ue.format(new Date(t),this._format):Ue.format(new Date(t),this._tfmt);if(this._format)return Ue.format(t,this._format);if(vt(t)){var i=this._findFormat(t,e);return Ue.format(t,i)}return t},t.prototype._findFormat=function(t,e){void 0===e&&(e=void 0);var i=t==Math.round(t)?"n0":"n";if(void 0!==e&&(i+=e.toString()),"n"==i){var n=t.toFixed(14),r=n.search(".");if(r>=0){e=1;for(var o=n.length-1;o>=r;o--)if("0"!=n[o]){e=o-r-1;break}i+=e.toString()}}return i},t.prototype._calcMajorUnit=function(){var t=this._majorUnit;if(!vt(t)){var e=this._actualMax-this._actualMin,i=this._nicePrecision(e),n=e/this._getAnnoNumber(this.axisType==ao.Y);(t=this._niceNumber(2*n,-i,!0))<n&&(t=this._niceNumber(n,1-i,!1)),t<n&&(t=this._niceTickNumber(n))}return t},t.prototype._getAnnoNumber=function(t){var e=t?this._annoSize.height:this._annoSize.width,i=t?this._axrect.height:this._axrect.width;if(e>0&&i>0){var n=Math.floor(i/(e+6));return n<=0&&(n=1),n}return 10},t.prototype._nicePrecision=function(t){if(!vt(t)||t<=0)return 0;var e,i=Math.log(t)/Math.LN10;e=i>=0?Math.floor(i):Math.ceil(i);var n=t/Math.pow(10,e);return n<3&&(e=1-e,(n=t/Math.pow(10,e))<3&&(e+=1)),e},t.prototype._niceTickNumber=function(t){if(0==t)return t;t<0&&(t=-t);var e=Math.log(t)/Math.LN10,i=Math.floor(e),n=t/Math.pow(10,i),r=10;return n<=1?r=1:n<=2?r=2:n<=5&&(r=5),r*Math.pow(10,i)},t.prototype._niceNumber=function(t,e,i){if(0==t)return t;t<0&&(t=-t);var n=t/Math.pow(10,e),r=10;return i?n<1.5?r=1:n<3?r=2:n<4.5?r=4:n<7&&(r=5):n<=1?r=1:n<=2?r=2:n<=5&&(r=5),r*Math.pow(10,e)},Object.defineProperty(t.prototype,"_uniqueId",{get:function(){return this.__uniqueId},enumerable:!0,configurable:!0}),t.MAX_MAJOR=1e3,t.MAX_MINOR=2e3,t._id=0,t}(),mo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Lr(e,t),e.prototype.getAxis=function(t){var e=this.indexOf(t);return e>-1?this[e]:null},e.prototype.indexOf=function(t){for(var e=0;e<this.length;e++)if(this[e].name==t)return e;return-1},e}(ti);!function(t){t[t.tickf7=-7]="tickf7",t[t.tickf6=-6]="tickf6",t[t.tickf5=-5]="tickf5",t[t.tickf4=-4]="tickf4",t[t.tickf3=-3]="tickf3",t[t.tickf2=-2]="tickf2",t[t.tickf1=-1]="tickf1",t[t.second=1]="second",t[t.minute=60]="minute",t[t.hour=3600]="hour",t[t.day=86400]="day",t[t.week=604800]="week",t[t.month=2678400]="month",t[t.year=31536e3]="year",t[t.maxtime=Number.MAX_VALUE]="maxtime"}(go||(go={}));var wo,bo=function(){function t(t){this.ticks=t}return Object.defineProperty(t.prototype,"Ticks",{get:function(){return this.ticks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TotalSeconds",{get:function(){return this.ticks/1e7},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TotalDays",{get:function(){return this.ticks/1e7/86400},enumerable:!0,configurable:!0}),t.fromSeconds=function(e){return new t(1e7*e)},t.fromDays=function(e){return new t(1e7*e*24*60*60)},t.TicksPerSecond=1e7,t}(),vo=function(){function t(t){St(t)?this.init(t):vt(t)&&this.init(Wo._fromOADate(t))}return t.prototype.init=function(t){this.year=t.getFullYear(),this.month=t.getMonth(),this.day=t.getDate(),this.hour=t.getHours(),this.minute=t.getMinutes(),this.second=t.getSeconds()},t.prototype.getTimeAsDateTime=function(){return this.hour>=24&&(this.hour-=24,this.day+=1),this.month<0?(this.day,this.month=1):this.month>11&&(this.month,this.month=12),this.day<1?(this.day,this.day=1):this.day>28&&2==this.month?(this.day,this.day=28):this.day>30&&(4==this.month||4==this.month||6==this.month||9==this.month||11==this.month)?(this.day,this.day=30):this.day>31&&(this.day,this.day=31),this.second>59&&(this.second,this.second=59),this.minute>59&&(this.minute,this.minute=59),new Date(this.year,this.month,this.day,this.hour,this.minute,this.second)},t.prototype.getTimeAsDouble=function(){return this.getTimeAsDateTime().valueOf()},t.tround=function(t,e,i){var n=t/e*e;return n-=n%1,i&&n!=t&&(n+=e-=e%1),n},t.RoundTime=function(e,i,n){var r=24*i*60*60;if(r>0){var o=new t(e);return r<go.minute?(o.second=this.tround(o.second,r,n),o.getTimeAsDouble()):(o.second=0,r<go.hour?(r/=go.minute,o.minute=this.tround(o.minute,r,n),o.getTimeAsDouble()):(o.minute=0,r<go.day?(r/=go.hour,o.hour=this.tround(o.hour,r,n),o.getTimeAsDouble()):(o.hour=0,r<go.month?(r/=go.day,o.day=this.tround(o.day,r,n),o.getTimeAsDouble()):(o.day=1,r<go.year?(r/=go.month,1!=o.month&&(o.month=this.tround(o.month,r,n)),o.getTimeAsDouble()):(o.month=1,r/=go.year,o.year=this.tround(o.year,r,n),o.getTimeAsDouble())))))}var s=e-r,a=s/i*i;return n&&a!=s&&(a+=i),r+a},t.TimeSpanFromTmInc=function(t){var e=bo.fromSeconds(1);if(t!=go.maxtime)if(t>go.tickf1)e=bo.fromSeconds(t);else{var i=t,n=1;for(i+=7;i>0;)n*=10,i--;e=new bo(n)}return e},t.manualTimeInc=function(t){var e=go.second;if(null==t||0==t.length)return e;var i=t.indexOf("f");if(i>=0){var n=-1;if(i>0&&"%"==t.substr(i-1,1))n=-1;else for(var r=1;r<6&&!(i+r>=t.length)&&"f"==t.substr(i+r,1);r++)n--;e=n}else t.indexOf("s")>=0?e=go.second:t.indexOf("m")>=0?e=go.minute:t.indexOf("h")>=0||t.indexOf("H")?e=go.hour:t.indexOf("d")>=0?e=go.day:t.indexOf("M")>=0?e=go.month:t.indexOf("y")>=0&&(e=go.year);return e},t.getNiceInc=function(t,e,i){for(var n=0;n<t.length;n++){var r=t[n]*i;if(e<=r)return r}return 0},t.NiceTimeSpan=function(e,i){var n=go.second;null!=i&&i.length>0&&(n=t.manualTimeInc(i));var r=0,o=0;if(n<go.second&&e.TotalSeconds<10){for(r=e.Ticks,o=t.TimeSpanFromTmInc(n).Ticks;r>10*o;)o*=10;var s=o;return r>s&&(s*=2),r>s&&(s=5*o),r>s&&(s=10*o),new bo(s)}if(0==(r=Math.ceil(e.TotalSeconds)))return t.TimeSpanFromTmInc(n);if(o=1,n<go.minute){if(r<go.minute&&0!=(o=t.getNiceInc([1,2,5,10,15,30],r,n)))return bo.fromSeconds(o);n=go.minute}if(n<go.hour){if(r<go.hour&&0!=(o=t.getNiceInc([1,2,5,10,15,30],r,n)))return bo.fromSeconds(o);n=go.hour}if(n<go.day){if(r<go.day&&0!=(o=t.getNiceInc([1,3,6,12],r,n)))return bo.fromSeconds(o);n=go.day}if(n<go.month){if(r<go.month&&0!=(o=t.getNiceInc([1,2,7,14],r,n)))return bo.fromSeconds(o);n=go.month}if(n<go.year){if(r<go.year&&0!=(o=t.getNiceInc([1,2,3,4,6],r,n)))return bo.fromSeconds(o);n=go.year}return r<(o=100*go.year)&&0==(o=t.getNiceInc([1,2,5,10,20,50],r,n))&&(o=100*go.year),bo.fromSeconds(o)},t.NiceTimeUnit=function(e,i){var n=bo.fromDays(e);return(n=t.NiceTimeSpan(n,i)).TotalDays},t.GetTimeDefaultFormat=function(t,e){if(!vt(t)||!vt(e))return"";var i="s",n=bo.fromSeconds(.001*(t-e)),r=n.TotalSeconds;if(r>=go.year)i="yyyy";else if(r>=go.month)i="MMM yyyy";else if(r>=go.day)i="MMM d";else if(r>=go.hour)i="ddd H:mm";else if(r>=.5*go.hour)i="H:mm";else if(r>=1)i="H:mm:ss";else if(r>0){var o=n.Ticks;for(i="s.";o<bo.TicksPerSecond;)o*=10,i+="f"}return i},t.secInYear=86400,t}(),yo=function(){function t(t,e,i,n){this._seriesIndex=t,this._pointIndex=e,this._dataX=i,this._dataY=n}return Object.defineProperty(t.prototype,"seriesIndex",{get:function(){return this._seriesIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointIndex",{get:function(){return this._pointIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataX",{get:function(){return this._dataX},set:function(t){t!==this._dataX&&(this._dataX=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataY",{get:function(){return this._dataY},set:function(t){t!==this._dataY&&(this._dataY=t)},enumerable:!0,configurable:!0}),t}();!function(t){t[t.X=0]="X",t[t.Y=1]="Y",t[t.XY=2]="XY"}(wo||(wo={}));var xo,Co=function(){function t(t){this._rect=t}return Object.defineProperty(t.prototype,"rect",{get:function(){return this._rect},enumerable:!0,configurable:!0}),t.prototype.contains=function(t){var e=this._rect;return t.x>=e.left&&t.x<=e.right&&t.y>=e.top&&t.y<=e.bottom},t.prototype.pointDistance=function(t,e,i){var n=e.x-t.x,r=e.y-t.y;return i==wo.X?Math.abs(n):i==wo.Y?Math.abs(r):Math.sqrt(n*n+r*r)},t.prototype.distance=function(t){var e=wo.XY;isNaN(t.x)||null===t.x?e=wo.Y:(isNaN(t.y)||null===t.y)&&(e=wo.X);var i=this._rect;return t.x<i.left?t.y<i.top?this.pointDistance(t,new Re(i.left,i.top),e):t.y>i.bottom?this.pointDistance(t,new Re(i.left,i.bottom),e):e==wo.Y?0:i.left-t.x:t.x>i.right?t.y<i.top?this.pointDistance(t,new Re(i.right,i.top),e):t.y>i.bottom?this.pointDistance(t,new Re(i.right,i.bottom),e):e==wo.Y?0:t.x-i.right:e==wo.X?0:t.y<i.top?i.top-t.y:t.y>i.bottom?t.y-i.bottom:0},t}(),jo=function(){function t(t,e){this._center=t,this.setRadius(e)}return t.prototype.setRadius=function(t){this._rad=t,this._rad2=t*t},Object.defineProperty(t.prototype,"center",{get:function(){return this._center},enumerable:!0,configurable:!0}),t.prototype.contains=function(t){var e=this._center.x-t.x,i=this._center.y-t.y;return e*e+i*i<=this._rad2},t.prototype.distance=function(t){var e=isNaN(t.x)?0:this._center.x-t.x,i=isNaN(t.y)?0:this._center.y-t.y,n=e*e+i*i;return n<=this._rad2?0:Math.sqrt(n)-this._rad},t}(),So=function(){function t(t,e){this._x=[],this._y=[],this._x=t,this._y=e}return t.prototype.contains=function(t){return!1},t.prototype.distance=function(t){for(var e=NaN,i=0;i<this._x.length-1;i++){var n=Wo._dist(t,new Re(this._x[i],this._y[i]),new Re(this._x[i+1],this._y[i+1]));(isNaN(e)||n<e)&&(e=n)}return e},t}(),Eo=function(){},ko=function(){function t(t){this._map={},this._chart=t}return t.prototype.add=function(t,e){this._map[e]&&(t.tag||(t.tag=new yo(e,NaN,NaN,NaN)),this._map[e].push(t))},t.prototype.clear=function(){this._map={};for(var t=this._chart.series,e=0;e<t.length;e++)t[e].hitTest===Fo.prototype.hitTest&&(this._map[e]=new Array)},t.prototype.hitTest=function(t,e){void 0===e&&(e=!1);for(var i=null,n=Number.MAX_VALUE,r=this._chart.series.length-1;r>=0;r--){var o=this._map[r];if(o){for(var s=o.length-1;s>=0;s--){var a=o[s];if(!_t(a,So)||e){var l=a.distance(t);if(l<n&&(i=a,0==(n=l)))break}}if(0==n)break}}if(i){var h=new Eo;return h.area=i,h.distance=n,h}return null},t.prototype.hitTestSeries=function(t,e){var i=null,n=Number.MAX_VALUE,r=this._map[e];if(r)for(var o=r.length-1;o>=0;o--){var s=r[o],a=s.distance(t);if(a<n&&(i=s,0==(n=a)))break}if(i){var l=new Eo;return l.area=i,l.distance=n,l}return null},t}();!function(t){t[t.PlotArea=0]="PlotArea",t[t.AxisX=1]="AxisX",t[t.AxisY=2]="AxisY",t[t.ChartArea=3]="ChartArea",t[t.Legend=4]="Legend",t[t.Header=5]="Header",t[t.Footer=6]="Footer",t[t.Series=7]="Series",t[t.SeriesSymbol=8]="SeriesSymbol",t[t.DataLabel=9]="DataLabel",t[t.None=10]="None"}(xo||(xo={}));var To,Po,Ao=function(){function t(t,e,i){this._pointIndex=null,this._chartElement=xo.None,this._chart=t,this._pt=e,this._chartElement=i}return Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"point",{get:function(){return this._pt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"series",{get:function(){return this._series},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointIndex",{get:function(){return this._pointIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chartElement",{get:function(){return this._chartElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"distance",{get:function(){return this._dist},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"item",{get:function(){if(null==this._item&&null!==this.pointIndex)if(null!=this.series)this._item=this.series._getItem(this.pointIndex);else{var t=this._chart._getHitTestItem(this.pointIndex);t&&(this._item=t)}return this._item},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return void 0===this._x&&(this._x=this._getValue(1,!1)),this._x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return void 0===this._y&&(this._y=this._getValue(0,!1)),this._y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){var t=this._chart._getHitTestValue(this.pointIndex,this._groupIndex);return null!=t?t:this.series&&null!=this.series._getValue?this.series._getValue(this.pointIndex):this.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){if(void 0===this._name){var t=this._chart._getHitTestLabel(this.pointIndex);return null==t?this.series.name:t.toString()}return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupIndex",{get:function(){return this._groupIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_xfmt",{get:function(){return void 0===this.__xfmt&&(this.__xfmt=this._getValue(1,!0)),this.__xfmt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_yfmt",{get:function(){return void 0===this.__yfmt&&(this.__yfmt=this._getValue(0,!0)),this.__yfmt},enumerable:!0,configurable:!0}),t.prototype._setData=function(t,e){this._series=t,this._pointIndex=e},t.prototype._setDataGroup=function(t,e){this._groupIndex=t,this._pointIndex=e},t.prototype._setDataPoint=function(t){if(t=Zt(t,yo,!0)){this._pointIndex=t.pointIndex;var e=Zt(this._chart,Wo,!0),i=t.seriesIndex;null!==i&&i>=0&&i<e.series.length&&(this._series=e.series[i]),null!=t.item&&(this._item=t.item),null!=t.x&&(this._x=t.x),null!=t.y&&(this._y=t.y),null!=t.xfmt&&(this.__xfmt=t.xfmt),null!=t.yfmt&&(this.__yfmt=t.yfmt),null!=t.name&&(this._name=t.name)}},t.prototype._getValueFmt=function(){var t=this.value;if(null!=t){if(null==this.series)return Mt(t==Math.round(t)?"{val:n0}":"{val:n}",{val:t});t=this._chart._isRotated()?this.ax._formatValue(t):this.ay._formatValue(t)}return t},t.prototype._getValue=function(t,e){var i=this._chart._getHitTestValue(this.pointIndex,this.groupIndex);if(null!==i)return i;var n=null,r=this._chart,o=this.pointIndex,s=r._isRotated();if(null!==this.series&&null!==o){var a=this.series.getValues(t),l=this.series.getDataType(t);a&&this.pointIndex<a.length?(n=a[this.pointIndex],l!=lt.Date||e||(n=new Date(n))):1==t&&(r._xlabels&&r._xlabels.length>0&&o<r._xlabels.length?n=r._xlabels[o]:r._xvals&&o<r._xvals.length&&(n=r._xvals[o],r._xDataType!=lt.Date||e||(n=new Date(n))))}return null!==n&&e&&(s?0==t?n=this.ax._formatValue(n):1==t&&(n=this.ay._formatValue(n)):0==t?n=this.ay._formatValue(n):1==t&&(n=this.ax._formatValue(n))),n},Object.defineProperty(t.prototype,"ax",{get:function(){return this.series.axisX?this.series.axisX:this._chart.axisX},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ay",{get:function(){return this.series.axisY?this.series.axisY:this._chart.axisY},enumerable:!0,configurable:!0}),t}();!function(t){t[t.Visible=0]="Visible",t[t.Plot=1]="Plot",t[t.Legend=2]="Legend",t[t.Hidden=3]="Hidden"}(To||(To={})),function(t){t[t.Dot=0]="Dot",t[t.Box=1]="Box"}(Po||(Po={}));var Ro,Oo,Do=function(){},Io=function(t){function e(e){var i=t.call(this)||this;return i._series=Zt(e,Mo),i}return Lr(e,t),Object.defineProperty(e.prototype,"series",{get:function(){return this._series},enumerable:!0,configurable:!0}),e}(nt),Mo=function(){function t(t){this._altStyle=null,this._symbolMarker=Po.Dot,this._visibility=To.Visible,this._interpolateNulls=null,this._cache={},this.rendering=new it,this.rendered=new it,this.initialize(t)}return Object.defineProperty(t.prototype,"interpolateNulls",{get:function(){return null==this._interpolateNulls?this._chart&&this._chart.interpolateNulls:this._interpolateNulls},set:function(t){t!=this._interpolateNulls&&(this._interpolateNulls=Yt(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(t){t!=this._style&&(this._style=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"altStyle",{get:function(){return this._altStyle},set:function(t){t!=this._altStyle&&(this._altStyle=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"symbolStyle",{get:function(){return this._symbolStyle},set:function(t){t!=this._symbolStyle&&(this._symbolStyle=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"symbolSize",{get:function(){return this._symbolSize},set:function(t){t!=this._symbolSize&&(this._symbolSize=Gt(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"symbolMarker",{get:function(){return this._symbolMarker},set:function(t){(t=Jt(t,Po,!0))!=this._symbolMarker&&(this._symbolMarker=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"binding",{get:function(){return this._binding?this._binding:this._chart?this._chart.binding:null},set:function(t){t!=this._binding&&(this._binding=Ut(t,!0),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bindingX",{get:function(){return this._bindingX?this._bindingX:this._chart?this._chart.bindingX:null},set:function(t){t!=this._bindingX&&(this._bindingX=Ut(t,!0),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._itemsSource},set:function(t){t!=this._itemsSource&&(this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._itemsSource=t,this._cv=Qt(t),null!=this._cv&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._clearValues(),this._itemsSource=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._cv?this._cv:this._chart?this._chart.collectionView:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hostElement",{get:function(){return this._hostElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"legendElement",{get:function(){return this._legendElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cssClass",{get:function(){return this._cssClass},set:function(t){this._cssClass=Ut(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visibility",{get:function(){return this._visibility},set:function(t){(t=Jt(t,To))!=this._visibility&&(this._visibility=t,this._clearValues(),this._invalidate(),this._chart&&this._chart.onSeriesVisibilityChanged(new Io(this)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipContent",{get:function(){return this._tooltipContent},set:function(t){t!=this._tooltipContent&&(this._tooltipContent=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._itemFormatter=Xt(t),this._invalidate())},enumerable:!0,configurable:!0}),t.prototype.hitTest=function(t,e){return vt(t)&&vt(e)?t=new Re(t,e):t instanceof MouseEvent&&(t=new Re(t.pageX,t.pageY)),Zt(t,Re),this._chart?this._chart._hitTestSeries(t,this._chart.series.indexOf(this)):null},t.prototype.getPlotElement=function(t){if(this.hostElement&&t<this._pointIndexes.length){var e=this._pointIndexes[t];if(e<this.hostElement.childNodes.length)return this.hostElement.childNodes[e]}return null},Object.defineProperty(t.prototype,"axisX",{get:function(){return this._axisX},set:function(t){if(t!=this._axisX){if(this._axisX=Zt(t,_o,!0),this._axisX){var e=this._axisX._chart=this._chart;e&&-1==e.axes.indexOf(this._axisX)&&e.axes.push(this._axisX)}this._invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axisY",{get:function(){return this._axisY},set:function(t){if(t!=this._axisY){if(this._axisY=Zt(t,_o,!0),this._axisY){var e=this._axisY._chart=this._chart;e&&-1==e.axes.indexOf(this._axisY)&&e.axes.push(this._axisY)}this._invalidate()}},enumerable:!0,configurable:!0}),t.prototype.initialize=function(t){Bt(this,t)},t.prototype.pointToData=function(t){return Zt(t,Re),(t=t.clone()).x=this._getAxisX().convertBack(t.x),t.y=this._getAxisY().convertBack(t.y),t},t.prototype.dataToPoint=function(t){return Zt(t,Re),(t=t.clone()).x=this._getAxisX().convert(t.x),t.y=this._getAxisY().convert(t.y),t},t.prototype.onRendering=function(t,e,i){var n=new to(t,e,i);return this.rendering.raise(this,n),n.cancel},t.prototype.onRendered=function(t){this.rendered.raise(this,new $r(t))},Object.defineProperty(t.prototype,"_chart",{get:function(){return this.__chart},set:function(t){t!==this.__chart&&(this.__chart=t)},enumerable:!0,configurable:!0}),t.prototype._getSymbolSize=function(){return null!=this.symbolSize?this.symbolSize:this.chart.symbolSize},Object.defineProperty(t.prototype,"_plotter",{get:function(){return this.chart&&!this.__plotter&&(this.__plotter=this.chart._getPlotter(this)),this.__plotter},set:function(t){t!=this.__plotter&&(this.__plotter=t)},enumerable:!0,configurable:!0}),t.prototype.getDataType=function(t){return 0==t?this._valueDataType:1==t?this._xvalueDataType:null},t.prototype.getValues=function(t){if(0==t){if(null==this._values)if(this._valueDataType=null,null!=this._cv){var e=this._bindValues(this._cv.items,this._getBinding(0));this._values=e.values,this._valueDataType=e.dataType}else null!=this.binding&&null!=this._chart&&null!=this._chart.collectionView&&(e=this._bindValues(this._chart.collectionView.items,this._getBinding(0)),this._values=e.values,this._valueDataType=e.dataType);return this._values}if(1==t){if(null==this._xvalues&&(this._xvalueDataType=null,null!=this.bindingX))if(null!=this._cv)e=this._bindValues(this._cv.items,this.bindingX,!0),this._xvalueDataType=e.dataType,this._xvalues=e.values;else{if(null==this._bindingX)return null;null!=this._chart&&null!=this._chart.collectionView&&(e=this._bindValues(this._chart.collectionView.items,this.bindingX,!0),this._xvalueDataType=e.dataType,this._xvalues=e.values)}return this._xvalues}return null},t.prototype.drawLegendItem=function(t,e,i){var n=this._getChartType();null==n&&(n=this._chart._getChartType());var r=this._getLegendStyle(this.style);n===Ro.Funnel?this._drawFunnelLegendItem(t,e,i,r,this.symbolStyle):this._drawLegendItem(t,e,n,this.name,r,this.symbolStyle)},t.prototype._getLegendStyle=function(t){if(t){var e={};return t.fill&&(e.fill=t.fill),t.stroke&&(e.stroke=t.stroke),e}},t.prototype.measureLegendItem=function(t,e){var i=this._getChartType();return null==i&&(i=this._chart._getChartType()),i===Ro.Funnel?this._measureLegendItem(t,this._getFunnelLegendName(e)):this._measureLegendItem(t,this.name)},t.prototype.legendItemLength=function(){var t=this._getChartType();return null==t&&(t=this._chart._getChartType()),t===Ro.Funnel?this._chart._xlabels&&this._chart._xlabels.length?this._chart._xlabels.length:this._chart._xvals&&this._chart._xvals.length?this._chart._xvals.length:1:1},t.prototype.getDataRect=function(t,e){return null},t.prototype._getChartType=function(){return this._chartType},t.prototype._clearValues=function(){this._values=null,this._xvalues=null,this.__plotter=null,this._cache={}},t.prototype._getBinding=function(t){var e=this.binding;if(e){var i=this.chart?this.chart._bindingSeparator:",";if(i){var n=e.split(i);n&&n.length>t&&(e=n[t].trim())}}return e},t.prototype._getBindingValues=function(t){if(this._cache[t])return this._cache[t];var e;null!=this._cv?e=this._cv.items:null!=this._chart&&null!=this._chart.collectionView&&(e=this._chart.collectionView.items);var i=this._bindValues(e,this._getBinding(t));return this._cache[t]=i.values},t.prototype._getItem=function(t){var e=null,i=null;return null!=this.itemsSource?i=null!=this._cv?this._cv.items:this.itemsSource:null!=this._chart.itemsSource&&(i=null!=this._chart.collectionView?this._chart.collectionView.items:this._chart.itemsSource),null!=i&&(e=i[t]),e},t.prototype._getLength=function(){var t=0,e=null;return null!=this.itemsSource?e=null!=this._cv?this._cv.items:this.itemsSource:null!=this._chart.itemsSource&&(e=null!=this._chart.collectionView?this._chart.collectionView.items:this._chart.itemsSource),null!=e&&(t=e.length),t},t.prototype._setPointIndex=function(t,e){this._pointIndexes[t]=e},t.prototype._getDataRect=function(){var t=this.getValues(0),e=this.getValues(1);if(t){for(var i=NaN,n=NaN,r=NaN,o=NaN,s=t.length,a=0;a<s;a++){var l=t[a];if(isFinite(l)&&(isNaN(n)?n=o=l:l<n?n=l:l>o&&(o=l)),e){var h=e[a];isFinite(h)&&(isNaN(i)?i=r=h:h<i?i=h:l>o&&(r=h))}}if(e||(i=0,r=s-1),!isNaN(n))return new De(i,n,r-i,o-n)}return null},t.prototype._isCustomAxisX=function(){return!(!this._axisX||this._chart&&this._axisX==this.chart.axisX)},t.prototype._isCustomAxisY=function(){return!(!this._axisY||this._chart&&this._axisY==this.chart.axisY)},t.prototype._getAxisX=function(){var t=null;return this.axisX?t=this.axisX:this.chart&&(t=this.chart.axisX),t},t.prototype._getAxisY=function(){var t=null;return this.axisY?t=this.axisY:this.chart&&(t=this.chart.axisY),t},t.prototype._measureLegendItem=function(e,i){var n=new Oe;if(n.width=t._LEGEND_ITEM_WIDTH,n.height=t._LEGEND_ITEM_HEIGHT,this._name){var r=e.measureString(i,Wo._CSS_LABEL,Wo._CSS_LEGEND);n.width+=r.width,n.height<r.height&&(n.height=r.height)}return n.width+=3*t._LEGEND_ITEM_MARGIN,n.height+=2*t._LEGEND_ITEM_MARGIN,n},t.prototype._drawFunnelLegendItem=function(e,i,n,r,o){e.strokeWidth=1;var s=t._LEGEND_ITEM_MARGIN,a=null,l=null;null===a&&(a=this._chart._getColorLight(n)),null===l&&(l=this._chart._getColor(n)),e.fill=a,e.stroke=l;var h=i.top+.5*i.height,u=t._LEGEND_ITEM_WIDTH,c=t._LEGEND_ITEM_HEIGHT,d=this._getFunnelLegendName(n);e.drawRect(i.left+s,h-.5*c,u,c,null,o||r),null!=d&&Wo._renderText(e,d,new Re(i.left+c+2*s,h),0,1,Wo._CSS_LABEL,Wo._CSS_LEGEND)},t.prototype._getFunnelLegendName=function(t){var e,i=this._chart;return i._xlabels&&i._xlabels.length&&t<i._xlabels.length?e=i._xlabels[t]:i._xvals&&i._xvals.length&&t<i._xvals.length&&(e=i._xvals[t],i._xDataType===lt.Date&&(e=Wo._fromOADate(e))),null==e&&(e=this.name),e.toString()},t.prototype._drawLegendItem=function(e,i,n,r,o,s){e.strokeWidth=1;var a=t._LEGEND_ITEM_MARGIN,l=null,h=null;null===l&&(l=this._chart._getColorLight(this._chart.series.indexOf(this))),null===h&&(h=this._chart._getColor(this._chart.series.indexOf(this))),e.fill=l,e.stroke=h;var u=i.top+.5*i.height,c=t._LEGEND_ITEM_WIDTH,d=t._LEGEND_ITEM_HEIGHT;switch(n){case Ro.Area:case Ro.SplineArea:case Ro.StepArea:e.drawRect(i.left+a,u-.5*d,c,d,null,o);break;case Ro.Bar:case Ro.Column:e.drawRect(i.left+a,u-.5*d,c,d,null,s||o);break;case Ro.Scatter:case Ro.Bubble:var f=.3*c,p=.3*d;this.symbolMarker==Po.Box?e.drawRect(i.left+a+.5*c-f,u-p,2*f,2*p,null,s||o):e.drawEllipse(i.left+.5*c+a,u,f,p,null,s||o);break;case Ro.Line:case Ro.Spline:case Ro.Step:e.drawLine(i.left+a,u,i.left+c+a,u,null,o);break;case Ro.LineSymbols:case Ro.SplineSymbols:case Ro.StepSymbols:f=.3*c,p=.3*d,this.symbolMarker==Po.Box?e.drawRect(i.left+a+.5*c-f,u-p,2*f,2*p,null,s||o):e.drawEllipse(i.left+.5*c+a,u,f,p,null,s||o),e.drawLine(i.left+a,u,i.left+c+a,u,null,o);break;case Ro.Candlestick:case Ro.HighLowOpenClose:e.drawLine(i.left+a,u,i.left+c+a,u,null,s||o)}this._name&&Wo._renderText(e,r,new Re(i.left+d+2*a,u),0,1,Wo._CSS_LABEL,Wo._CSS_LEGEND)},t.prototype._cvCollectionChanged=function(t,e){this._clearValues(),this._invalidate()},t.prototype._cvCurrentChanged=function(t,e){this._chart&&this._chart._notifyCurrentChanged&&this._invalidate()},t.prototype._bindValues=function(t,e,i){var n,r,o;if(void 0===i&&(i=!1),null!=t){var s=t.length;n=new Array(t.length);for(var a=e?new tt(e):null,l=0;l<s;l++){o=null;var h=t[l];null!=a&&(h=a.getValue(h)),Et(h)&&h.length>0&&(o=h,h=h[0]),vt(h)?(n[l]=h,r=lt.Number):St(h)?(n[l]=h.valueOf(),r=lt.Date):i&&h&&(n[l]=l,r=lt.Number),Et(o)&&o.length>0&&(n[l]=o)}}var u=new Do;return u.values=n,u.dataType=r,u},t.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},t.prototype._indexToPoint=function(t){if(t>=0&&t<this._values.length){var e=this._values[t],i=this._xvalues?this._xvalues[t]:t;return new Re(i,e)}return null},t.prototype._getSymbolFill=function(t){var e=null;return this.symbolStyle&&(e=this.symbolStyle.fill),!e&&this.style&&(e=this.style.fill),!e&&this.chart&&(e=this.chart._getColorLight(t)),e},t.prototype._getSymbolStroke=function(t){var e=null;return this.symbolStyle&&(e=this.symbolStyle.stroke),!e&&this.style&&(e=this.style.stroke),!e&&this.chart&&(e=this.chart._getColor(t)),e},t.prototype._getAltSymbolStroke=function(t){var e=null;return this.altStyle&&(e=this.altStyle.stroke),e},t.prototype._getAltSymbolFill=function(t){var e=null;return this.altStyle&&(e=this.altStyle.fill),e},t.prototype._renderLabels=function(t,e,i,n){this._plotter&&this._plotter._renderLabels(t,this,e,i,n)},t._LEGEND_ITEM_WIDTH=10,t._LEGEND_ITEM_HEIGHT=10,t._LEGEND_ITEM_MARGIN=4,t._DEFAULT_SYM_SIZE=10,t}(),Fo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Lr(e,t),Object.defineProperty(e.prototype,"chartType",{get:function(){return this._chartType},set:function(t){(t=Jt(t,Ro,!0))!=this._chartType&&(this._chartType=t,this._invalidate())},enumerable:!0,configurable:!0}),e}(Mo),Lo=function(t){function e(e,i){var n=t.call(this,e,null,!0)||this;n._areas=[],n._keywords=new ro,n._startAngle=0,n._innerRadius=0,n._offset=0,n._reversed=!1,n._isAnimated=!1,n._selectedItemPosition=Wr.None,n._selectedItemOffset=0,n._pieGroups=[],n._rotationAngles=[],n._centers=[new Re],n._selectedOffset=new Re,n._selectedIndex=-1,n._angles=[],n._colRowLens=[],n._titles=void 0,n._values=[],n._labels=[],n._pels=[],n._sum=0,n._sums=[],n._bindingSeparator=",",n.applyTemplate("wj-control wj-flexchart wj-flexpie",null,null),n._currentRenderEngine=new Xr(n.hostElement),n._legend=new Jr(n),n._tooltip=new so,n._tooltip.content="<b>{name}</b><br/>{value}",n._tooltip.showDelay=0,n._lbl=new po,n._lbl._chart=n;var r=n;return n.hostElement.addEventListener("mousemove",(function(t){var e=r._tooltip;if(e.content&&!r.isTouching){var i=r.hitTest(t);if(i.distance<=e.threshold){var n=r._getLabelContent(i,r.tooltip.content);r._showToolTip(n,new De(t.clientX,t.clientY,5,5))}else r._hideToolTip()}})),n.hostElement.addEventListener("click",(function(t){var e=!0;if(r.selectionMode==Gr.Point){var i=r.hitTest(t),n=no._SELECTION_THRESHOLD;r.tooltip&&r.tooltip.threshold&&(n=r.tooltip.threshold),i.distance<=n?(i.pointIndex!=r._selectionIndex&&r.selectedItemPosition!=Wr.None&&(e=!1),i.pointIndex!=r._selectionIndex&&r._select(i.pointIndex,!0)):r._selectedIndex>=0&&r._select(null)}if(e&&r.isTouching){var o=r._tooltip;if(o.content)if((i=r.hitTest(t)).distance<=o.threshold){var s=r._getLabelContent(i,r.tooltip.content);r._showToolTip(s,new De(t.clientX,t.clientY,5,5))}else r._hideToolTip()}})),n.hostElement.addEventListener("mouseleave",(function(t){r._hideToolTip()})),n.deferUpdate((function(){return n.initialize(i)})),n}return Lr(e,t),Object.defineProperty(e.prototype,"binding",{get:function(){return this._binding},set:function(t){t!=this._binding&&(this._binding=Ut(t,!0),this._bindChart())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bindingName",{get:function(){return this._bindingName},set:function(t){t!=this._bindingName&&(this._bindingName=Ut(t,!0),this._bindChart())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startAngle",{get:function(){return this._startAngle},set:function(t){t!=this._startAngle&&(this._startAngle=Gt(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offset",{get:function(){return this._offset},set:function(t){t!=this._offset&&(this._offset=Gt(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerRadius",{get:function(){return this._innerRadius},set:function(t){t!=this._innerRadius&&(this._innerRadius=Gt(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerTextStyle",{get:function(){return this._innerTextStyle},set:function(t){t!=this._innerText&&(this._innerTextStyle=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerText",{get:function(){return this._innerText},set:function(t){t!=this._innerText&&(this._innerText=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reversed",{get:function(){return this._reversed},set:function(t){t!=this._reversed&&(this._reversed=Yt(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedItemPosition",{get:function(){return this._selectedItemPosition},set:function(t){(t=Jt(t,Wr,!0))!=this._selectedItemPosition&&(this._selectedItemPosition=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedItemOffset",{get:function(){return this._selectedItemOffset},set:function(t){t!=this._selectedItemOffset&&(this._selectedItemOffset=Gt(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAnimated",{get:function(){return this._isAnimated},set:function(t){t!=this._isAnimated&&(this._isAnimated=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltip",{get:function(){return this._tooltip},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataLabel",{get:function(){return this._lbl},set:function(t){t!=this._lbl&&(this._lbl=t,this._lbl&&(this._lbl._chart=this))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedIndex",{get:function(){return this._selectedIndex},set:function(t){if(t!=this._selectedIndex){var e=Gt(t,!0);this._select(e,!0)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"titles",{get:function(){return this._titles},set:function(t){t!==this._titles&&(this._titles=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chartsPerLine",{get:function(){return this._chartsPerLine},set:function(t){t!=this._chartsPerLine&&(this._chartsPerLine=Gt(t,!0,!0),this.invalidate())},enumerable:!0,configurable:!0}),e.prototype._getLabelsForLegend=function(){return this._labels},e.prototype.hitTest=function(t,e){var i=this._toControl(t,e),n=new Ao(this,i),r=null;if(no._contains(this._rectHeader,i))n._chartElement=xo.Header;else if(no._contains(this._rectFooter,i))n._chartElement=xo.Footer;else if(no._contains(this._rectLegend,i))n._chartElement=xo.Legend,null!==(r=this.legend._hitTest(i))&&r>=0&&r<this._areas.length&&n._setData(null,r);else if(no._contains(this._rectChart,i)){for(var o,s=this._areas.length,a=NaN,l=0;l<s;l++){var h=i.clone(),u=this._areas[l],c=this._rotationAngles[u.gi];if(0!=c){var d=this._centers[u.gi],f=d.x,p=d.y,g=-f+h.x,_=-p+h.y,m=Math.sqrt(g*g+_*_),w=Math.atan2(_,g)-c*Math.PI/180;h.x=f+m*Math.cos(w),h.y=p+m*Math.sin(w)}l==this._selectedIndex&&(h.x-=this._selectedOffset.x,h.y-=this._selectedOffset.y);var b=this._areas[l];if(b.contains(h)&&(n._setDataGroup(u.gi,b.tag),n._dist=0,l!=this._selectedIndex))break;var v=b.distance(h);void 0!==v&&(isNaN(a)||v<a)&&(a=v,o=b)}0!==n._dist&&null!=o&&(n._setDataGroup(o.gi,o.tag),n._dist=a),n._chartElement=xo.ChartArea}else n._chartElement=xo.None;return n},e.prototype._performBind=function(){if(this._initData(),this._cv){this._selectionIndex=this._cv.currentPosition;var t=this._cv.items;if(t){for(var e=t.length,i=this._getBindings(),n=0;n<i.length;n++)this._values[n]=[],this._sums[n]=0;for(var r=0;r<e;r++){var o=t[r];for(n=0;n<i.length;n++)this._sums[n]+=Math.abs(this._getBindData(o,this._values[n],0==n?this._labels:null,i[n],this.bindingName))}}}},e.prototype._getBindings=function(){var t=[],e=this.binding;if(e){var i=this._bindingSeparator;i&&(t=e.split(i))}return t},e.prototype._initData=function(){this._sum=0,this._sums=[],this._values=[],this._labels=[]},e.prototype._getBindData=function(t,e,i,n,r){var o,s=0,a=n?new tt(n):null;a&&(o=a.getValue(t)),s=0,vt(o)?s=Gt(o):o&&(s=parseFloat(o.toString())),!isNaN(s)&&isFinite(s)||(s=0),e.push(s);var l=r?new tt(r):null;if(i)if(l&&t){var h=l.getValue(t);h&&(h=h.toString()),i.push(h)}else i.push(s.toString());return s},e.prototype._render=function(e,i,n){void 0===i&&(i=!0),void 0===n&&(n=null),this._selectionAnimationID&&clearInterval(this._selectionAnimationID),this.onRendering(new $r(e)),t.prototype._render.call(this,e,i,n)},e.prototype._prepareRender=function(){this._areas=[]},e.prototype._renderChart=function(t,i,n){var r=this._rectChart.clone(),o=(new Oe(r.width,r.height),i.width),s=i.height,a=this._parseMargin(this.plotMargin),l=this.dataLabel,h=l.content&&l.position==io.Outside,u=h?(vt(l.offset)?l.offset:0)+24:0;isNaN(a.left)&&(a.left=h?u:e._MARGIN),isNaN(a.right)&&(a.right=h?u:e._MARGIN),isNaN(a.top)&&(a.top=h?u:e._MARGIN),isNaN(a.bottom)&&(a.bottom=h?u:e._MARGIN),i.top+=a.top,s=i.height-(a.top+a.bottom),i.height=s>0?s:24,i.left+=a.left,o=i.width-(a.left+a.right),i.width=o>0?o:24;var c=this._getBindings(),d=this.titles;void 0===d&&c.length>1&&(d=c);var f=this._layout(t,i,d,c.length);this._angles=[],this._pels=[],this._pieGroups=[],this._rotationAngles=[];for(var p=0;p<c.length;p++){var g=f[p];d&&p<d.length&&d[p]&&no._renderText(t,d[p],new Re(g.left+.5*g.width,g.top),1,2,e._CSS_GROUP_TITLE);var _=t.startGroup("wj-slice-group",null,!0);this._pieGroups.push(_),this._renderData(t,g,p,_),t.endGroup(),this._rotationAngles.push(0)}this._highlightCurrent(),this.innerText&&this._renderInnerText(t),this.dataLabel.content&&this.dataLabel.position!=io.None&&this._renderLabels(t),this.onRendered(new $r(t))},e.prototype._layout=function(t,i,n,r){var o=0,s=r,a=1,l=0;if(n)for(var h=0;h<n.length;h++)l=Math.max(l,t.measureString(n[h],e._CSS_GROUP_TITLE).height);var u=Math.floor(this.chartsPerLine);if(u>0){s=Math.min(r,u),a=Math.ceil(r/s);var c=Math.floor(i.width/s),d=Math.floor(i.height/a)-l;o=Math.min(c,d)}else for(var f=1;f<=r;f++){var p=Math.floor((r+(f-1))/f);c=Math.floor(i.width/f),d=Math.floor(i.height/p),(d-=l)<c&&(c=d),c>o&&(o=c,s=f,a=p)}for(var g=[],_=.5*(i.width-o*s),m=.5*(i.height-(o+l)*a),w=0;w<a;w++)for(var b=0;b<s;b++)g.push(new De(i.left+o*b+8+_,i.top+(o+l)*w+8+m+l,o-16,o-16));return g},e.prototype._getDesiredLegendSize=function(t,e,i,n){var r=new Oe,o=(new Oe(i,n),this._getLabelsForLegend()),s=o.length,a=0,l=0;this._colRowLens=[];for(var h=0;h<s;h++){var u=this._measureLegendItem(t,o[h]);e?(l+u.height>n&&(r.height=n,this._colRowLens.push(a),a=0,l=0),a<u.width&&(a=u.width),l+=u.height):(a+u.width>i&&(r.width=i,this._colRowLens.push(l),l=0,a=0),l<u.height&&(l=u.height),a+=u.width)}return e?(r.height<l&&(r.height=l),this._colRowLens.push(a),r.width=this._colRowLens.reduce((function(t,e){return t+e}),0),r.width=this._getLegendSize(i,r.width)):(r.width<a&&(r.width=a),this._colRowLens.push(l),r.height=this._colRowLens.reduce((function(t,e){return t+e}),0),r.height=this._getLegendSize(n,r.height)),r},e.prototype._renderLegend=function(t,e,i,n,r,o){for(var s=this._rectLegend,a=this._getLabelsForLegend(),l=a.length,h=0,u=e.clone(),c=0;c<l;c++){var d=this._measureLegendItem(t,a[c]);n?u.y+d.height>s.top+s.height+1&&(u.x+=this._colRowLens[h],h++,u.y=e.y):u.x+d.width>s.left+s.width+1&&(u.y+=this._colRowLens[h],h++,u.x=e.x);var f=new De(u.x,u.y,d.width,d.height);this._drawLegendItem(t,f,c,a[c]),i.push(f),n?u.y+=d.height:u.x+=d.width}},e.prototype._renderData=function(t,e,i,n){var r=this._sums[i],o=this.startAngle+180,s=this.innerRadius,a=this.offset;if(s>1&&(s=1),r>0){var l=o*Math.PI/180,h=e.left+.5*e.width,u=e.top+.5*e.height,c=Math.min(.5*e.width,.5*e.height);this._centers[i]=new Re(h,u);var d=Math.max(a,this.selectedItemOffset);d>0&&(a*=c/=1+d),this._radius=c;var f=s*c;this._renderPie(t,i,c,f,l,a)}},e.prototype._renderPie=function(t,e,i,n,r,o){this._renderSlices(t,this._values[e],this._sums[e],e,i,n,r,2*Math.PI,o)},e.prototype._getCenter=function(){return this._centers[0]},e.prototype._renderSlices=function(t,e,i,n,r,o,s,a,l){for(var h,u,c,d=e.length,f=0,p=s,g=1==this.reversed,_=this._centers[n],m=0;m<d;m++)e[m]>0&&f++;var w=1===f?360:359.9/360;for(m=0;m<d;m++){u=_.x,c=_.y,h=t.startGroup("wj-slice"),t.fill=this._getColorLight(m),t.stroke=this._getColor(m);var b=Math.abs(e[m]),v=Math.abs(b-i)<1e-10?a:a*b/i;v=Math.min(v,a*w);var y=g?p-.5*v:p+.5*v;l>0&&v<a&&(u+=l*Math.cos(y),c+=l*Math.sin(y)),this._renderSlice(t,u,c,y,n,m,r,o,p,v,a),g?p-=v:p+=v,t.endGroup(),this._pels.push(h)}},e.prototype._renderSlice=function(t,e,i,n,r,o,s,a,l,h,u){var c=this,d=!!this.reversed;if(this._angles.push(n),this.itemFormatter){var f=new Ao(this,new Re(e+s*Math.cos(n),i+s*Math.sin(n)),xo.SeriesSymbol);f._setData(null,o),this.itemFormatter(t,f,(function(){c._drawSlice(t,r,o,d,e,i,s,a,l,h)})),t.cssPriority=!0}else this._drawSlice(t,r,o,d,e,i,s,a,l,h)},e.prototype._getSelectedItemOffset=function(t,e){var i=0,n=0,r=0;return t==this._selectedIndex&&this.selectedItemOffset>0&&(r=this.selectedItemOffset),r>0&&(i=Math.cos(e)*r*this._radius,n=Math.sin(e)*r*this._radius),{x:i,y:n}},e.prototype._renderInnerText=function(t){for(var i=this.innerText,n=this.innerTextStyle,r=0;r<this._centers.length;r++){var o=this._centers[r],s=void 0;(s=Ct(i)?i(r):Et(i)?Ut(i[r]):Ut(i))&&(s=Mt(s,{total:this._sums[r],binding:this._getBindings()[r]}),n&&(t.cssPriority=!1),e._renderText(t,s,o,1,1,no._CSS_TITLE,null,n),t.cssPriority=!0)}},e.prototype._renderLabels=function(t){var e=this._areas.length,i=this.dataLabel,n=i.position,r="wj-data-label",o=this._rotationAngles,s=i.connectingLine,a=i.offset?i.offset:0;t.stroke="null",t.fill="transparent",t.strokeWidth=1,t.startGroup("wj-data-labels");for(var l=0;l<e;l++){var h=this._areas[l];if(h){var u=h.radius,c=h.langle+o[h.gi],d=1,f=1;n==io.Center||n===io.Radial||n===io.Circular?u*=.5*(1+(h.innerRadius||0)/h.radius):((c=No.clampAngle(c))<=-170||c>=170?(d=2,f=1):c>=-100&&c<=-80?(d=1,f=2):c>=-10&&c<=10?(d=0,f=1):c>=80&&c<=100?(d=1,f=0):-180<c&&c<-90?(d=2,f=2):-90<=c&&c<0?(d=0,f=2):0<c&&c<90?(d=0,f=0):90<c&&c<180&&(d=2,f=0),n==io.Inside&&(d=2-d,f=2-f)),c*=Math.PI/180;var p=h.gi?l-h.gi*this._values[0].length:l,g=this._getSelectedItemOffset(p,c),_=g.x,m=g.y,w=u;n==io.Outside?w+=a:n==io.Inside&&(w-=a);var b=h.center.x,v=h.center.y,y=this._centers[h.gi],x=b-y.x,C=v-y.y;if(0!=this._rotationAngles[h.gi]){var j=Math.sqrt(x*x+C*C),S=Math.atan2(C,x)+this._rotationAngles[h.gi]*Math.PI/180;b=y.x+j*Math.cos(S),v=y.y+j*Math.sin(S)}var E=new Re(b+_+w*Math.cos(c),v+m+w*Math.sin(c));i.border&&n!=io.Center&&(0==d?E.x+=2:2==d&&(E.x-=2),0==f?E.y+=2:2==f&&(E.y-=2));var k=new Ao(this,E);k._setDataGroup(h.gi,h.tag);var T=this._getLabelContent(k,i.content),P=new uo(t,k,E,T);if(i.onRendering&&(i.onRendering(P)?(T=P.text,E=P.point):T=null),T){var A,R=180*Math.atan2(v-E.y,b-E.x)/Math.PI;if(R=(R+360)%360,n===io.Radial||n===io.Circular?(n===io.Radial?R>90&&R<270&&(R+=180):(R>180&&R<360&&(R+=180),R-=90),(A=no._renderRotatedText(t,T,E,d,f,E,R,r).getBBox()).left=A.x,A.top=A.y):A=no._renderText(t,T,E,d,f,r),i.border&&t.drawRect(A.left-2,A.top-2,A.width+4,A.height+4,"wj-data-label-border"),s){var O=new Re(b+_+u*Math.cos(c),v+m+u*Math.sin(c));t.drawLine(E.x,E.y,O.x,O.y,"wj-data-label-line")}}t.cssPriority=!0}}t.endGroup()},e.prototype._drawSlice=function(t,e,i,n,r,o,s,a,l,h){var u;n?a>0?(0!=h&&t.drawDonutSegment(r,o,s,a,l-h,h),(u=new Bo(new Re(r,o),s,a,l-h,h,this.startAngle)).tag=i,this._areas.push(u)):(0!=h&&t.drawPieSegment(r,o,s,l-h,h),(u=new zo(new Re(r,o),s,l-h,h,this.startAngle)).tag=i,this._areas.push(u)):(a>0?(0!=h&&t.drawDonutSegment(r,o,s,a,l,h),(u=new Bo(new Re(r,o),s,a,l,h,this.startAngle)).tag=i,this._areas.push(u)):(0!=h&&t.drawPieSegment(r,o,s,l,h),(u=new zo(new Re(r,o),s,l,h,this.startAngle)).tag=i,this._areas.push(u)),l+=h),u&&(u.gi=e)},e.prototype._measureLegendItem=function(t,e){var i=new Oe;if(i.width=Fo._LEGEND_ITEM_WIDTH,i.height=Fo._LEGEND_ITEM_HEIGHT,e){var n=t.measureString(e,no._CSS_LABEL,no._CSS_LEGEND);i.width+=n.width,i.height<n.height&&(i.height=n.height)}return i.width+=3*Fo._LEGEND_ITEM_MARGIN,i.height+=2*Fo._LEGEND_ITEM_MARGIN,i},e.prototype._drawLegendItem=function(t,e,i,n){t.strokeWidth=1;var r=Fo._LEGEND_ITEM_MARGIN,o=null,s=null;null===o&&(o=this._getColorLight(i)),null===s&&(s=this._getColor(i)),t.fill=o,t.stroke=s;var a=e.top+.5*e.height,l=Fo._LEGEND_ITEM_WIDTH,h=Fo._LEGEND_ITEM_HEIGHT;t.drawRect(e.left+r,a-.5*h,l,h,null),null!=n&&no._renderText(t,n.toString(),new Re(e.left+h+2*r,a),0,1,no._CSS_LABEL)},e.prototype._getLabelContent=function(t,e){return wt(e)?this._keywords.replace(e,t):Ct(e)?e(t):null},e.prototype._select=function(t,e){if(void 0===e&&(e=!1),this._highlight(!1,this._selectionIndex),this._selectionIndex=t,this.selectionMode==Gr.Point){var i=this._cv;i&&(this._notifyCurrentChanged=!1,i.moveCurrentToPosition(t),this._notifyCurrentChanged=!0)}null==t?(this._selectedIndex=-1,this.invalidate()):this.isAnimated&&this.selectedItemPosition!=Wr.None||!(this.selectedItemOffset>0||this.selectedItemPosition!=Wr.None)?this._highlight(!0,this._selectionIndex,e):(this._selectedIndex=t,this.invalidate()),this.onSelectionChanged()},e.prototype._highlightCurrent=function(){if(this.selectionMode!=Gr.None){var t=-1,e=this._cv;e&&(t=e.currentPosition),this._highlight(!0,t)}},e.prototype._highlight=function(t,e,i){if(void 0===i&&(i=!1),this.selectionMode==Gr.Point&&null!=e&&e>=0)if(t){for(var n=[],r=0;r<this._pieGroups.length;r++){if(d=this._pels[e+r*this._values[0].length]){d.parentNode.appendChild(d);var o=this._find(d,["ellipse"]);this._highlightItems(this._find(d,["path","ellipse"]),no._CSS_SELECTION,t)}var s=this._angles[e+r*this._values[0].length];if(this.selectedItemPosition!=Wr.None&&0!=s){var a=0;this.selectedItemPosition==Wr.Left?a=180:this.selectedItemPosition==Wr.Top?a=-90:this.selectedItemPosition==Wr.Bottom&&(a=90);var l=a*Math.PI/180-s;l*=180/Math.PI,i&&this.isAnimated?n.push(l):(this._rotationAngles[r]=l,this._pieGroups[r].transform.baseVal.getItem(0).setRotate(l,this._centers[r].x,this._centers[r].y))}var h=this.selectedItemOffset;if(h>0&&o&&0==o.length){var u=this._selectedOffset.x=Math.cos(s)*h*this._radius,c=this._selectedOffset.y=Math.sin(s)*h*this._radius;d&&d.setAttribute("transform","translate("+u.toFixed()+","+c.toFixed()+")")}this._selectedIndex=e}n.length>0&&this._animateSelectionAngle(n,.5)}else{for(r=0;r<this._pieGroups.length;r++){var d;(d=this._pels[e+r*this._values[0].length])&&(d.parentNode.insertBefore(d,d.parentNode.childNodes.item(e)),d.removeAttribute("transform"),this._highlightItems(this._find(d,["path","ellipse"]),no._CSS_SELECTION,t))}this._selectedIndex==e&&(this._selectedIndex=-1)}},e.prototype._animateSelectionAngle=function(t,e){var i=this,n=i._pieGroups;i._selectionAnimationID&&clearInterval(this._selectionAnimationID),this._selectionAnimationID=Ae((function(e){if(n==i._pieGroups){for(var r=0;r<n.length;r++){var o=No.clampAngle(i._rotationAngles[r]),s=No.clampAngle(t[r])-o,a=o;i._rotationAngles[r]=o=a+s*e,n[r].transform.baseVal.getItem(0).setRotate(o,i._centers[r].x,i._centers[r].y)}1==e&&clearInterval(i._selectionAnimationID),e>.99&&(i.selectedItemOffset>0||i.selectedItemPosition!=Wr.None)&&i.invalidate()}}),1e3*e)},e.prototype._getHitTestItem=function(t){var e,i=null;return(e=null!=this._cv?this._cv.items:this.itemsSource)&&t<e.length&&(i=e[t]),i},e.prototype._getHitTestValue=function(t,e){return null==e&&(e=0),this._values[e][t]},e.prototype._getHitTestLabel=function(t){return this._labels[t]},e._MARGIN=4,e._CSS_GROUP_TITLE="wj-label",e}(no),No=function(){function t(){}return t.clampAngle=function(t,e){void 0===e&&(e=0);var i=(t+180)%360-180;return i<-180+(e<0?e+360:e)&&(i+=360),i},t}(),zo=function(){function t(t,e,i,n,r){void 0===r&&(r=0),this._isFull=!1,this._center=t,this._radius=e,this._originAngle=i,this._originSweep=n,n>=2*Math.PI&&(this._isFull=!0),this._sweep=.5*n*180/Math.PI,this._angle=No.clampAngle(180*i/Math.PI+this._sweep),this._radius2=e*e,this._startAngle=r}return t.prototype.contains=function(t){var e=t.x-this._center.x,i=t.y-this._center.y;if(e*e+i*i<=this._radius2){var n=180*Math.atan2(i,e)/Math.PI,r=No.clampAngle(this._angle,this._startAngle)-No.clampAngle(n,this._startAngle);if(this._isFull||Math.abs(r)<=this._sweep)return!0}return!1},t.prototype.distance=function(t){if(this.contains(t))return 0;var e=t.x-this._center.x,i=t.y-this._center.y,n=e*e+i*i,r=180*Math.atan2(i,e)/Math.PI,o=No.clampAngle(this._angle,this._startAngle)-No.clampAngle(r,this._startAngle);return this._isFull||Math.abs(o)<=this._sweep?Math.sqrt(n)-this._radius:void 0},Object.defineProperty(t.prototype,"center",{get:function(){return this._center},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this._radius},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"langle",{get:function(){return this._angle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this._originAngle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sweep",{get:function(){return this._originSweep},enumerable:!0,configurable:!0}),t}(),Bo=function(){function t(t,e,i,n,r,o){void 0===o&&(o=0),this._isFull=!1,this._center=t,this._radius=e,this._iradius=i,this._originAngle=n,this._originSweep=r,r>=2*Math.PI&&(this._isFull=!0),this._sweep=.5*r*180/Math.PI,this._angle=No.clampAngle(180*n/Math.PI+this._sweep),this._radius2=e*e,this._iradius2=i*i,this._startAngle=o}return t.prototype.contains=function(t){var e=t.x-this._center.x,i=t.y-this._center.y,n=e*e+i*i;if(n>=this._iradius2&&n<=this._radius2){var r=180*Math.atan2(i,e)/Math.PI,o=No.clampAngle(this._angle,this._startAngle)-No.clampAngle(r,this._startAngle);if(this._isFull||Math.abs(o)<=this._sweep)return!0}return!1},t.prototype.distance=function(t){if(this.contains(t))return 0},Object.defineProperty(t.prototype,"center",{get:function(){return this._center},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this._radius},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"langle",{get:function(){return this._angle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this._originAngle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sweep",{get:function(){return this._originSweep},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this._iradius},enumerable:!0,configurable:!0}),t}(),Ho=function(){function t(){this._DEFAULT_WIDTH=2,this._DEFAULT_SYM_SIZE=10,this.clipping=!0}return t.prototype.clear=function(){this.seriesCount=0,this.seriesIndex=0},t.prototype._renderLabels=function(t,e,i,n,r){var o=i.length,s=n.dataLabel,a=s.border,l=s.offset,h=s.connectingLine;void 0===l&&(l=h?16:0),a&&(l-=2);for(var u=0;u<o;u++){var c=i[u],d=Zt(c.tag,yo,!0);d&&!c.ignoreLabel&&this._renderLabel(t,c,d,n,s,e,l,r)}},t.prototype._renderLabel=function(t,e,i,n,r,o,s,a){var l=null==r.position?eo.Top:r.position,h=r.border,u=r.connectingLine,c=new Ao(n,f);c._setDataPoint(i);var d=n._getLabelContent(c,r.content),f=this._getLabelPoint(o,i);if(this._getPointAndPosition(f,l,e,n),n._plotRect.contains(f)){var p=new uo(t,c,f,d);if(r.onRendering&&(r.onRendering(p)?(d=p.text,f=p.point):d=null),d){var g=this._renderLabelAndBorder(t,d,l,s,f,u,2,h);if(g){var _=new Co(g);_.tag=i,a.push(_)}}t.cssPriority=!0}},t.prototype._getPointAndPosition=function(t,e,i,n){if(i instanceof Co){var r=i;n._isRotated()?t.y=r.rect.top+.5*r.rect.height:t.x=r.rect.left+.5*r.rect.width}},t.prototype._getLabelPoint=function(t,e){var i=t._getAxisX(),n=t._getAxisY();return new Re(i.convert(e.dataX),n.convert(e.dataY))},t.prototype._renderLabelAndBorder=function(t,e,i,n,r,o,s,a){var l,h="wj-data-label",u="wj-data-label-line",c=Wo._CSS_DATA_LABELS;switch(i){case eo.Top:o&&t.drawLine(r.x,r.y,r.x,r.y-n,u),r.y-=s+n,l=Wo._renderText(t,e,r,1,2,h,c);break;case eo.Bottom:o&&t.drawLine(r.x,r.y,r.x,r.y+n,u),r.y+=s+n,l=Wo._renderText(t,e,r,1,0,h,c);break;case eo.Left:o&&t.drawLine(r.x,r.y,r.x-n,r.y,u),r.x-=s+n,l=Wo._renderText(t,e,r,2,1,h,c);break;case eo.Right:o&&t.drawLine(r.x,r.y,r.x+n,r.y,u),r.x+=s+n,l=Wo._renderText(t,e,r,0,1,h,c);break;case eo.Center:l=Wo._renderText(t,e,r,1,1,h,c)}return a&&l&&t.drawRect(l.left-s,l.top-s,l.width+2*s,l.height+2*s,"wj-data-label-border"),l},t.prototype.getOption=function(t,e){var i=this.chart._options;if(e&&(i=i?i[e]:null),i&&!jt(i[t])&&null!==i[t])return i[t]},t.prototype.getNumOption=function(t,e){var i=this.chart._options;if(e&&(i=i?i[e]:null),i&&i[t])return Gt(i[t],!0)},t.prototype.getItemFormatter=function(t){if(t instanceof Mo){var e=t;return e.itemFormatter?e.itemFormatter:this.chart.itemFormatter}return this.chart.itemFormatter},t.cloneStyle=function(t,e){if(!t)return t;var i={};for(var n in t)e&&e.indexOf(n)>=0||(i[n]=t[n]);return i},t.prototype.isValid=function(t,e,i,n){return isFinite(t)&&isFinite(e)&&Wo._contains(this.chart._plotRect,new Re(t,e))},t.prototype.load=function(){},t.prototype.unload=function(){},t.prototype._createSteps=function(t,e,i){var n=this.getOption("position","step"),r=i||t.length,o=[],s=[],a=this.chart._isRotated();if("center"==n)if(a)for(var l=0;l<r;l++){var h=0==l?e[l+1]-e[l]:e[l]-e[l-1],u=l==r-1?e[l]-e[l-1]:e[l+1]-e[l];o.push(t[l]),s.push(e[l]-.5*h),o.push(t[l]),s.push(e[l]+.5*u)}else for(l=0;l<r;l++){var c=0==l?t[l+1]-t[l]:t[l]-t[l-1],d=l==r-1?t[l]-t[l-1]:t[l+1]-t[l];o.push(t[l]-.5*c),s.push(e[l]),o.push(t[l]+.5*d),s.push(e[l])}else if("end"==n)for(l=0;l<r;l++)l>0&&(a?(o.push(t[l]),s.push(e[l-1])):(o.push(t[l-1]),s.push(e[l]))),o.push(t[l]),s.push(e[l]);else for(l=0;l<r;l++)o.push(t[l]),s.push(e[l]),l<r-1&&(a?(o.push(t[l]),s.push(e[l+1])):(o.push(t[l+1]),s.push(e[l])));return{x:o,y:s}},t}();!function(t){t[t.Column=0]="Column",t[t.Bar=1]="Bar",t[t.Scatter=2]="Scatter",t[t.Line=3]="Line",t[t.LineSymbols=4]="LineSymbols",t[t.Area=5]="Area",t[t.Bubble=6]="Bubble",t[t.Candlestick=7]="Candlestick",t[t.HighLowOpenClose=8]="HighLowOpenClose",t[t.Spline=9]="Spline",t[t.SplineSymbols=10]="SplineSymbols",t[t.SplineArea=11]="SplineArea",t[t.Funnel=12]="Funnel",t[t.Step=13]="Step",t[t.StepSymbols=14]="StepSymbols",t[t.StepArea=15]="StepArea"}(Ro||(Ro={})),function(t){t[t.None=0]="None",t[t.Stacked=1]="Stacked",t[t.Stacked100pc=2]="Stacked100pc"}(Oo||(Oo={}));var Vo,Uo,Go,Wo=function(t){function e(i,n){var r=t.call(this,i,null,!0)||this;r._series=new ti,r._axes=new mo,r._pareas=new Vr,r._interpolateNulls=!1,r._legendToggle=!1,r._symbolSize=10,r._dataInfo=new qo,r.__barPlotter=null,r.__linePlotter=null,r.__areaPlotter=null,r.__bubblePlotter=null,r.__financePlotter=null,r.__funnelPlotter=null,r._plotters=[],r._rotated=!1,r._stacking=Oo.None,r._xlabels=[],r._xvals=[],r._lblAreas=[],r._colRowLens=[],r._selectedEls=[],r._markers=[],r._bindingSeparator=",",r.seriesVisibilityChanged=new it,r.applyTemplate("wj-control wj-flexchart",null,null);var o=r;return o._series.collectionChanged.addHandler((function(){for(var t=o._series,e=0;e<t.length;e++){var i=_t(t[e],Mo);if(!i)throw"chartSeries array must contain SeriesBase objects.";i._chart=o,i.axisX&&null==i.axisX._chart&&(i.axisX._chart=o,o.axes.push(i.axisX)),i.axisY&&null==i.axisY._chart&&(i.axisY._chart=o,o.axes.push(i.axisY))}o.invalidate()})),r._currentRenderEngine=new Xr(r.hostElement),r._hitTester=new ko(r),r._legend=new Jr(r),r._tooltip=new so,r._tooltip.showDelay=0,r._lbl=new fo,r._lbl._chart=r,r._initAxes(),o._axes.collectionChanged.addHandler((function(){for(var t=o._axes,e=0;e<t.length;e++){var i=_t(t[e],_o);if(!i)throw"axes array must contain Axis objects.";i._chart=o}o.invalidate()})),o._pareas.collectionChanged.addHandler((function(){for(var t=o._pareas,e=0;e<t.length;e++){var i=_t(t[e],Hr);if(!i)throw"plotAreas array must contain PlotArea objects.";i._chart=o}o.invalidate()})),r._keywords=new ro,r.hostElement.addEventListener("click",(function(t){var e=o._tooltip;e.content&&o.isTouching&&o._updateTooltip(e,t)})),r.hostElement.addEventListener("mousemove",(function(t){var e=o._tooltip;e.content&&!o.isTouching&&o._updateTooltip(e,t)})),r.hostElement.addEventListener("mouseleave",(function(t){o._hideToolTip()})),r.hostElement.addEventListener("click",(function(t){if(o.selectionMode!=Gr.None){var i=o._hitTestData(t),n=e._SELECTION_THRESHOLD;o.tooltip&&o.tooltip.threshold&&(n=o.tooltip.threshold),i.distance<=n&&i.series?o._select(i.series,i.pointIndex):o.selectionMode==Gr.Series&&(i=o.hitTest(t)).chartElement==xo.Legend&&i.series?o._select(i.series,null):o._select(null,null)}!0===o.legendToggle&&(i=o.hitTest(t)).chartElement==xo.Legend&&i.series&&(i.series.visibility==To.Legend?i.series.visibility=To.Visible:i.series.visibility==To.Visible&&(i.series.visibility=To.Legend),o.focus())})),r.deferUpdate((function(){return r.initialize(n)})),r}return Lr(e,t),e.prototype.initialize=function(e){if(e&&e.renderEngine){var i=Zt(this._currentRenderEngine,Xr,!0);i&&i.detach(),this._currentRenderEngine=null}t.prototype.initialize.call(this,e)},e.prototype._initAxes=function(){this._axisX=new _o(Wr.Bottom),this._axisY=new _o(Wr.Left),this._axisX.majorGrid=!1,this._axisX.name="axisX",this._axisY.majorGrid=!0,this._axisY.majorTickMarks=ho.None,this._axisY.name="axisY",this._axisX._chart=this,this._axisY._chart=this,this._axes.push(this._axisX),this._axes.push(this._axisY)},Object.defineProperty(e.prototype,"series",{get:function(){return this._series},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"axes",{get:function(){return this._axes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"axisX",{get:function(){return this._axisX},set:function(t){if(t!=this._axisX){var e=this._axisX=Zt(t,_o);this.beginUpdate(),e&&(void 0===e.majorGrid&&(e.majorGrid=!1),void 0===e.name&&(e.name="axisX"),null==e.position&&(e.position=Wr.Bottom),e._axisType=ao.X,e._chart=this),this.endUpdate()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"axisY",{get:function(){return this._axisY},set:function(t){if(t!=this._axisY){var e=this._axisY=Zt(t,_o);this.beginUpdate(),e&&(void 0===e.majorGrid&&(e.majorGrid=!0),void 0===e.name&&(e.name="axisY"),void 0===e.majorTickMarks&&(e.majorTickMarks=ho.None),null==e.position&&(e.position=Wr.Left),e._axisType=ao.Y,e._chart=this),this.endUpdate()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"plotAreas",{get:function(){return this._pareas},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"binding",{get:function(){return this._binding},set:function(t){t!=this._binding&&(this._binding=Ut(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bindingX",{get:function(){return this._bindingX},set:function(t){t!=this._bindingX&&(this._bindingX=Ut(t,!0),this._bindChart())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"symbolSize",{get:function(){return this._symbolSize},set:function(t){t!=this._symbolSize&&(this._symbolSize=Gt(t,!1,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"interpolateNulls",{get:function(){return this._interpolateNulls},set:function(t){t!=this._interpolateNulls&&(this._interpolateNulls=Yt(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"legendToggle",{get:function(){return this._legendToggle},set:function(t){t!=this._legendToggle&&(this._legendToggle=Yt(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltip",{get:function(){return this._tooltip},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataLabel",{get:function(){return this._lbl},set:function(t){t!=this._lbl&&(this._lbl=Zt(t,fo),this._lbl&&(this._lbl._chart=this))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selection",{get:function(){return this._selection},set:function(t){t!=this._selection&&(this._selection=Zt(t,Mo,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderEngine",{get:function(){return this._currentRenderEngine},set:function(t){if(t!=this._currentRenderEngine){var e=Zt(this._currentRenderEngine,Xr,!0);e&&e.detach(),this._currentRenderEngine=t;var i=Zt(this._currentRenderEngine,Xr,!0);i&&i.attach(this.hostElement),this.refresh()}},enumerable:!0,configurable:!0}),e.prototype.onSeriesVisibilityChanged=function(t){this.seriesVisibilityChanged.raise(this,t)},e.prototype.hitTest=function(t,i){var n=this._toControl(t,i),r=new Ao(this,n),o=null;if(e._contains(this._rectHeader,n))r._chartElement=xo.Header;else if(e._contains(this._rectFooter,n))r._chartElement=xo.Footer;else if(e._contains(this._rectLegend,n))r._chartElement=xo.Legend,null!==(o=this.legend._hitTest(n))&&o>=0&&o<this.series.length&&(this._getChartType()===Ro.Bar?r._setData(this.series[this.series.length-1-o]):r._setData(this.series[o]));else if(e._contains(this._rectChart,n)){var s=this._hitTestLabels(n);if(s)r._chartElement=xo.DataLabel,r._dist=0,r._setDataPoint(s.tag);else{for(var a=this._hitTester.hitTest(n),l=null,h=null,u=this.series.length-1;u>=0;u--)if(this.series[u].hitTest!==Fo.prototype.hitTest){var c=this.series[u].hitTest(t);if(c&&((!l||c.distance<l.distance)&&(l=c,h=u),0===c.distance))break}a&&a.area?l&&l.distance<a.distance||l&&l.distance==a.distance&&h>a.area.tag.seriesIndex?r=l:(r._setDataPoint(a.area.tag),r._dist=a.distance):l&&(r=l);var d=!1;this.axes.some((function(t){if(e._contains(t._axrect,n))return t.axisType===ao.X?r._chartElement=xo.AxisX:r._chartElement=xo.AxisY,d=!0,!0})),d||(e._contains(this._plotRect,n)?r._chartElement=xo.PlotArea:e._contains(this._rectChart,n)&&(r._chartElement=xo.ChartArea))}}else r._chartElement=xo.None;return r},e.prototype.pointToData=function(t,e){return vt(t)&&vt(e)&&(t=new Re(t,e)),t instanceof MouseEvent?(t=new Re(t.pageX,t.pageY),t=this._toControl(t)):t=t.clone(),t.x=this.axisX.convertBack(t.x),t.y=this.axisY.convertBack(t.y),t},e.prototype.dataToPoint=function(t,e){vt(t)&&vt(e)&&(t=new Re(t,e)),Zt(t,Re);var i=t.clone();return i.x=this.axisX.convert(i.x),i.y=this.axisY.convert(i.y),i},e.prototype.dispose=function(){this._markers.forEach((function(t){return t.remove()})),this._markers=[],t.prototype.dispose.call(this)},e.prototype._copy=function(t,e){if("series"==t){this.series.clear();for(var i=Kt(e),n=0;n<i.length;n++){var r=this._createSeries();Bt(r,i[n]),this.series.push(r)}return!0}return!1},e.prototype._createSeries=function(){return new Fo},e.prototype._clearCachedValues=function(){for(var t=0;t<this._series.length;t++){var e=this._series[t];null==e.itemsSource&&e._clearValues()}},e.prototype._performBind=function(){if(this._xDataType=null,this._xlabels.splice(0),this._xvals.splice(0),this._cv){var t=this._cv.items;if(t){for(var e=t.length,i=this.bindingX?new tt(this.bindingX):null,n=0;n<e;n++){var r=t[n];if(i){var o=i.getValue(r);vt(o)?(this._xvals.push(Gt(o)),this._xDataType=lt.Number):St(o)&&(this._xvals.push(qt(o).valueOf()),this._xDataType=lt.Date),this._xlabels.push(o)}}this._xvals.length==e?this._xlabels.splice(0):this._xvals.splice(0)}}},e.prototype._hitTestSeries=function(t,e){var i=this._toControl(t),n=new Ao(this,i),r=this._hitTester.hitTestSeries(i,e);return r&&r.area&&(n._setDataPoint(r.area.tag),n._chartElement=xo.PlotArea,n._dist=r.distance),n},e.prototype._hitTestData=function(t){var e=this._toControl(t),i=new Ao(this,e),n=this._hitTester.hitTest(e,!0);return n&&n.area&&(i._setDataPoint(n.area.tag),i._dist=n.distance),i},e.prototype._hitTestLabels=function(t){for(var e=null,i=this._lblAreas.length,n=0;n<i;n++)if(this._lblAreas[n].contains(t)){e=this._lblAreas[n];break}return e},e._dist2=function(t,e){var i=t.x-e.x,n=t.y-e.y;return i*i+n*n},e._dist=function(t,i,n){return Math.sqrt(e._distToSegmentSquared(t,i,n))},e._distToSegmentSquared=function(t,i,n){var r=e._dist2(i,n);if(0==r)return e._dist2(t,i);var o=((t.x-i.x)*(n.x-i.x)+(t.y-i.y)*(n.y-i.y))/r;return o<0?e._dist2(t,i):o>1?e._dist2(t,n):e._dist2(t,new Re(i.x+o*(n.x-i.x),i.y+o*(n.y-i.y)))},e.prototype._isRotated=function(){return this._getChartType()==Ro.Bar?!this._rotated:this._rotated},e.prototype._getChartType=function(){return null},e.prototype._prepareRender=function(){this._hitTester.clear()},e.prototype._renderChart=function(t,i,n){var r=this._rectChart.clone(),o=new Oe(r.width,r.height);i.width,i.height,this._selectedEls.length=0,(m=this._getPlotter(null)).stacking=this._stacking,this._curPlotter!=m&&(this._curPlotter&&this._curPlotter.unload(),this._curPlotter=m),m.load();var s=this._isRotated();this._dataInfo.analyse(this._series,s,m.stacking,this._xvals.length>0?this._xvals:null,this.axisX._getLogBase()>0,this.axisY._getLogBase()>0);var a=m.adjustLimits(this._dataInfo,i.clone());if(s){var l=this._dataInfo.getDataTypeX();l||(l=this._xDataType),this.axisX._updateActualLimits(this._dataInfo.getDataTypeY(),a.left,a.right),this.axisY._updateActualLimits(l,a.top,a.bottom,this._xlabels,this._xvals)}else{var h=this._dataInfo.getDataTypeX();h||(h=this._xDataType),this.axisX._updateActualLimits(h,a.left,a.right,this._xlabels,this._xvals),this.axisY._updateActualLimits(this._dataInfo.getDataTypeY(),a.top,a.bottom)}var u=this._getAxes();if(this._updateAuxAxes(u,s),this._layout(i,o,t),t.startGroup(e._CSS_PLOT_AREA),t.fill="transparent",t.stroke=null,this.plotAreas.length>0)for(var c=0;c<this.plotAreas.length;c++)this.plotAreas[c]._render(t);else{var d=this._plotRect;t.drawRect(d.left,d.top,d.width,d.height)}t.endGroup();var f=this._series.length;this._clearPlotters();var p={};for(c=0;c<f;c++){var g=this._series[c];if(((x=g.visibility)==To.Visible||x==To.Plot)&&g.getValues(0)){var _=g._getAxisY(),m=this._getPlotter(g);if(!_||_==this.axisY||m instanceof Zo)m.seriesCount++;else{var w=_._uniqueId;p[w]?p[w].count+=1:p[w]={count:1,index:0}}}}if(this.onRendering(new $r(t)),this._getChartType()!==Ro.Funnel)for(c=0;c<u.length;c++){var b=u[c];y=b.axisType==ao.X?t.startGroup(e._CSS_AXIS_X,this._chartRectId):t.startGroup(e._CSS_AXIS_Y,this._chartRectId),b._hostElement=n?y:b._hostElement,b._render(t),t.endGroup()}for(t.startGroup("wj-series-group"),this._plotrectId="plotRect"+(1e6*Math.random()).toFixed(),t.addClipRect(this._plotRect,this._plotrectId),c=0;c<f;c++){var v=this._series[c];v._pointIndexes=[],m=this._getPlotter(v),v._plotter=m;var y=t.startGroup(v.cssClass,m.clipping?this._plotrectId:null);v._hostElement=n?y:v._hostElement;var x=v.visibility,C=v.axisX,j=v.axisY;if(C||(C=this.axisX),j||(j=this.axisY),x==To.Visible||x==To.Plot){var S,E,k=p[j._uniqueId];!k||m instanceof Zo?(S=m.seriesIndex,E=m.seriesCount,m.seriesIndex++,v.onRendering(t,S,E)||m.plotSeries(t,C,j,v,this,S,E)):(S=k.index,E=k.count,k.index++,v.onRendering(t,S,E)||m.plotSeries(t,C,j,v,this,S,E)),v.onRendered(t)}t.endGroup()}t.endGroup(),this._lblAreas=[],this.dataLabel.content&&this.dataLabel.position!=eo.None&&this._renderLabels(t),this._highlightCurrent(),this.onRendered(new $r(t))},e.prototype._getDesiredLegendSize=function(t,e,i,n){var r=new Oe,o=this.series,s=o.length,a=0,l=0;this._colRowLens=[];for(var h=0;h<s;h++){var u=_t(o[h],Mo),c=u.visibility;if(u.name&&c!=To.Hidden&&c!=To.Plot)for(var d=u.legendItemLength(),f=0;f<d;f++){var p=u.measureLegendItem(t,f);e?(a+p.height>n&&(r.height=n,this._colRowLens.push(l),l=0,a=0),l<p.width&&(l=p.width),a+=p.height):(l+p.width>i&&(r.width=i,this._colRowLens.push(a),a=0,l=0),a<p.height&&(a=p.height),l+=p.width)}}return e?(r.height<a&&(r.height=a),this._colRowLens.push(l),r.width=this._colRowLens.reduce((function(t,e){return t+e}),0),r.width=this._getLegendSize(i,r.width)):(r.width<l&&(r.width=l),this._colRowLens.push(a),r.height=this._colRowLens.reduce((function(t,e){return t+e}),0),r.height=this._getLegendSize(n,r.height)),r},e.prototype._renderLegend=function(t,e,i,n,r,o){var s,a=this.series,l=a.length,h=e.clone(),u=0;if(this._legendReversed())for(var c=l-1;c>=0;c--)s=_t(a[c],Mo),u=this._renderLegendElements(t,s,e,h,i,n,r,o,u);else for(c=0;c<l;c++)s=_t(a[c],Mo),u=this._renderLegendElements(t,s,e,h,i,n,r,o,u)},e.prototype._legendReversed=function(){var t=!1,e=this._getChartType();return(e===Ro.Bar||e===Ro.Column&&this._rotated)&&(this._stacking!==Oo.None||this.axisY.reversed||(t=!0)),t},e.prototype._renderLegendElements=function(t,e,i,n,r,o,s,a,l){var h=this._rectLegend,u=l;if(!e)return u;var c=e.visibility;if(!e.name||c==To.Hidden||c==To.Plot)return e._legendElement=null,r.push(null),u;var d=e.legendItemLength(),f=t.startGroup(e.cssClass);c==To.Legend?(f.setAttribute("opacity","0.5"),e._legendElement=f):c==To.Visible?e._legendElement=f:e._legendElement=null;for(var p=0;p<d;p++){var g=e.measureLegendItem(t,p);o?n.y+g.height>h.top+h.height+1&&(n.x+=this._colRowLens[u],u++,n.y=i.y):n.x+g.width>h.left+h.width+1&&(n.y+=this._colRowLens[u],u++,n.x=i.x);var _=new De(n.x,n.y,g.width,g.height);c!=To.Legend&&c!=To.Visible||e.drawLegendItem(t,_,p),r.push(_),o?n.y+=g.height:n.x+=g.width}return t.endGroup(),u},e.prototype._renderLabels=function(t){var i=this.series,n=i.length;t.stroke="null",t.fill="transparent",t.strokeWidth=1;var r=e._CSS_DATA_LABELS;t.startGroup(r);for(var o=0;o<n;o++){var s=i[o],a=this._hitTester._map[o];a&&s._renderLabels(t,a,this,this._lblAreas)}t.endGroup()},e.prototype._getAxes=function(){for(var t=[this.axisX,this.axisY],e=this.series.length,i=0;i<e;i++){var n=this.series[i],r=n.axisX;r&&-1===t.indexOf(r)&&t.push(r);var o=n.axisY;o&&-1===t.indexOf(o)&&t.push(o)}return t},e.prototype._clearPlotters=function(){for(var t=this._plotters.length,e=0;e<t;e++)this._plotters[e].clear()},e.prototype._initPlotter=function(t){t.chart=this,t.dataInfo=this._dataInfo,t.hitTester=this._hitTester,this._plotters.push(t)},Object.defineProperty(e.prototype,"_barPlotter",{get:function(){return null===this.__barPlotter&&(this.__barPlotter=new Zo,this._initPlotter(this.__barPlotter)),this.__barPlotter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_linePlotter",{get:function(){return null===this.__linePlotter&&(this.__linePlotter=new ns,this._initPlotter(this.__linePlotter)),this.__linePlotter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_areaPlotter",{get:function(){return null===this.__areaPlotter&&(this.__areaPlotter=new Ko,this._initPlotter(this.__areaPlotter)),this.__areaPlotter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_bubblePlotter",{get:function(){return null===this.__bubblePlotter&&(this.__bubblePlotter=new rs,this._initPlotter(this.__bubblePlotter)),this.__bubblePlotter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_financePlotter",{get:function(){return null===this.__financePlotter&&(this.__financePlotter=new $o,this._initPlotter(this.__financePlotter)),this.__financePlotter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_funnelPlotter",{get:function(){return null===this.__funnelPlotter&&(this.__funnelPlotter=new Jo,this._initPlotter(this.__funnelPlotter)),this.__funnelPlotter},enumerable:!0,configurable:!0}),e.prototype._getPlotter=function(t){var e,i=this._getChartType(),n=!1;if(t){var r=t._getChartType();null!=r&&r!=i&&(i=r,n=!0)}switch(i){case Ro.Column:this._barPlotter.isVolume=!1,this._barPlotter.width=.7,e=this._barPlotter;break;case Ro.Bar:this._barPlotter.rotated=!this._rotated,this._barPlotter.isVolume=!1,this._barPlotter.width=.7,e=this._barPlotter;break;case Ro.Line:this._linePlotter.hasSymbols=!1,this._linePlotter.hasLines=!0,this._linePlotter.isSpline=!1,this._linePlotter.isStep=!1,e=this._linePlotter;break;case Ro.Scatter:this._linePlotter.hasSymbols=!0,this._linePlotter.hasLines=!1,this._linePlotter.isSpline=!1,this._linePlotter.isStep=!1,e=this._linePlotter;break;case Ro.LineSymbols:this._linePlotter.hasSymbols=!0,this._linePlotter.hasLines=!0,this._linePlotter.isSpline=!1,this._linePlotter.isStep=!1,e=this._linePlotter;break;case Ro.Area:this._areaPlotter.isSpline=!1,this._areaPlotter.isStep=!1,e=this._areaPlotter;break;case Ro.Bubble:e=this._bubblePlotter;break;case Ro.Candlestick:(o=this._financePlotter).isCandle=!0,o.isEqui=!1,o.isArms=!1,o.isVolume=!1,e=o;break;case Ro.HighLowOpenClose:var o;(o=this._financePlotter).isCandle=!1,o.isEqui=!1,o.isArms=!1,o.isVolume=!1,e=o;break;case Ro.Spline:this._linePlotter.hasSymbols=!1,this._linePlotter.hasLines=!0,this._linePlotter.isSpline=!0,this._linePlotter.isStep=!1,e=this._linePlotter;break;case Ro.SplineSymbols:this._linePlotter.hasSymbols=!0,this._linePlotter.hasLines=!0,this._linePlotter.isSpline=!0,this._linePlotter.isStep=!1,e=this._linePlotter;break;case Ro.SplineArea:this._areaPlotter.isSpline=!0,this._areaPlotter.isStep=!1,e=this._areaPlotter;break;case Ro.Funnel:e=this._funnelPlotter;break;case Ro.Step:this._linePlotter.hasSymbols=!1,this._linePlotter.hasLines=!0,this._linePlotter.isSpline=!1,this._linePlotter.isStep=!0,e=this._linePlotter;break;case Ro.StepSymbols:this._linePlotter.hasSymbols=!0,this._linePlotter.hasLines=!0,this._linePlotter.isSpline=!1,this._linePlotter.isStep=!0,e=this._linePlotter;break;case Ro.StepArea:this._areaPlotter.isSpline=!1,this._areaPlotter.isStep=!0,e=this._areaPlotter;break;default:throw"Invalid chart type."}return e.rotated=this._rotated,i==Ro.Bar&&(e.rotated=!e.rotated),n&&(e.rotated=this._isRotated()),e},e.prototype._layout=function(t,e,i){this.plotAreas.length>0?this._layoutMultiple(t,e,i):this._layoutSingle(t,e,i)},e.prototype._layoutSingle=function(t,e,i){for(var n=t.width,r=t.height,o=new Oe(n,.75*r),s=new Oe(r,.75*n),a=0,l=0,h=n,u=r,c=0,d=0,f=n,p=r,g=this._getAxes(),_=this.axisY._getHeight(i,r),m=0;m<g.length;m++){var w=(E=g[m]).origin,b=E._getPosition();if(E.axisType==ao.X){(C=E._getHeight(i,Math.max(10,n-_)))>o.height&&(C=o.height),E._desiredSize=new Oe(o.width,C);var v=E._hasOrigin=vt(w)&&w>this.axisY._getMinNum()&&w<this.axisY._getMaxNum(),y=Math.min(.25*n,E._annoSize.width);if(b==Wr.Bottom)if(a=Math.max(a,.5*y),h=Math.min(h,n-.5*y),v){var x=this._convertY(w,d,p);p-=Math.max(0,x+C-p)}else p-=C;else b==Wr.Top&&(a=Math.max(a,.5*y),h=Math.min(h,n-.5*y),v?(x=this._convertY(w,d,p),d+=Math.max(0,d-(x-C))):d+=C)}else if(E.axisType==ao.Y){var C;if((C=E===this.axisX?_:E._getHeight(i,r))>s.height&&(C=s.height),E._desiredSize=new Oe(s.width,C),v=E._hasOrigin=vt(w)&&w>this.axisX._getMinNum()&&w<this.axisX._getMaxNum(),b==Wr.Left)if(E._actualAngle<0?u=Math.min(u,r-E._annoSize.height):E._actualAngle>0?l=Math.max(l,E._annoSize.height):(l=Math.max(l,E._annoSize.height),u=Math.min(u,r-E._annoSize.height)),v){var j=this._convertX(w,c,f);c+=Math.max(0,c-(j-C))}else c+=C;else b==Wr.Right&&(E._actualAngle>0?u=Math.min(u,r-E._annoSize.height):E._actualAngle<0?l=Math.max(l,E._annoSize.height):(l=Math.max(l,E._annoSize.height),u=Math.min(u,r-E._annoSize.height)),v?(j=this._convertX(w,c,f),f-=Math.max(0,j+C-f)):f-=C)}}var S=this._parseMargin(this.plotMargin);for(a=c=isNaN(S.left)?Math.max(a,c)+t.left:S.left,h=f=isNaN(S.right)?Math.min(h,f)+t.left:e.width-S.right,l=d=isNaN(S.top)?Math.max(l,d)+t.top:S.top,u=p=isNaN(S.bottom)?Math.min(u,p)+t.top:e.height-S.bottom,n=Math.max(1,h-a),r=Math.max(1,u-l),this._plotRect=new De(a,l,n,r),u<=l&&(p=d+1),i.stroke=null,m=0;m<g.length;m++){var E,k;if(w=(E=g[m]).origin,b=E._getPosition(),E.axisType==ao.X)E._hasOrigin?(x=this._convertY(w,this._plotRect.top,this._plotRect.bottom),b==Wr.Bottom?(k=new De(a,x,n,E._desiredSize.height),p+=Math.max(0,k.bottom-this._plotRect.bottom)):b==Wr.Top?(k=new De(a,x-E._desiredSize.height,n,E._desiredSize.height),d-=Math.max(0,this._plotRect.top-k.top)):k=new De(a,x,n,1)):b==Wr.Bottom?(k=new De(a,p,n,E._desiredSize.height),p+=E._desiredSize.height):b==Wr.Top?(k=new De(a,d-E._desiredSize.height,n,E._desiredSize.height),d-=E._desiredSize.height):k=new De(a,d,n,1),E._layout(k,this._plotRect);else if(E.axisType==ao.Y){var T;E._hasOrigin?(j=this._convertX(w,this._plotRect.left,this._plotRect.right),b==Wr.Left?(T=new De(j-E._desiredSize.height,l,r,E._desiredSize.height),c-=E._desiredSize.height):b==Wr.Right?(T=new De(j,l,r,E._desiredSize.height),f+=E._desiredSize.height):T=new De(j,l,r,1)):b==Wr.Left?(T=new De(c-E._desiredSize.height,l,r,E._desiredSize.height),c-=E._desiredSize.height):b==Wr.Right?(T=new De(f,l,r,E._desiredSize.height),f+=E._desiredSize.height):T=new De(c,l,r,1),E._layout(T,this._plotRect)}}},e.prototype._layoutMultiple=function(t,e,i){for(var n=t.width,r=t.height,o=[],s=[],a=this._getAxes(),l=a.length,h=0;h<l;h++)if((j=a[h])._plotrect=null,j.axisType==ao.X){for(var u=j.plotArea?j.plotArea.column:0;o.length<=u;)o.push(new Yo);o[u].axes.push(j)}else if(j.axisType==ao.Y){for(var c=j.plotArea?j.plotArea.row:0;s.length<=c;)s.push(new Yo);s[c].axes.push(j)}for(var d=o.length,f=s.length,p=new Oe(n,.3*r),g=new Oe(r,.3*n),_=0,m=0,w=n,b=r,v=0;v<d;v++)for((A=o[v]).right=n,A.bottom=r,h=0;h<A.axes.length;h++){var y=(j=A.axes[h])._getHeight(i,j.axisType==ao.X?n:r);y>p.height&&(y=p.height);var x=new Oe(p.width,y);j._desiredSize=x,0==v&&(A.left=Math.max(A.left,.5*j._annoSize.width)),v==d-1&&(A.right=Math.min(A.right,n-.5*j._annoSize.width)),(F=j._getPosition())==Wr.Bottom?A.bottom-=x.height:F==Wr.Top&&(A.top+=x.height)}for(var C=0;C<f;C++)for((A=s[C]).right=n,A.bottom=r,h=0;h<A.axes.length;h++){var j=A.axes[h],S=new Oe(g.width,j._getHeight(i,j.axisType==ao.X?n:r));S.height>g.height&&(S.height=g.height),j._desiredSize=S,0==C&&(A.top=Math.max(A.top,.5*j._annoSize.width)),C==f-1&&(A.bottom=Math.min(A.bottom,r-.5*j._annoSize.width)),(F=j._getPosition())==Wr.Left?A.left+=S.height:F==Wr.Right&&(A.right-=S.height)}var E=0,k=0,T=n,P=r;for(v=0;v<d;v++){var A=o[v];E=Math.max(E,A.left),k=Math.max(k,A.top),T=Math.min(T,A.right),P=Math.min(P,A.bottom)}for(C=0;C<f;C++)A=s[C],E=Math.max(E,A.left),k=Math.max(k,A.top),T=Math.min(T,A.right),P=Math.min(P,A.bottom);E=_=Math.max(_,E),T=w=Math.min(w,T),k=m=Math.max(m,k),P=b=Math.min(b,P),this._plotRect=new De(_,m,w-_,b-m);var R=this._plotRect.clone(),O=_,D=this.plotAreas._calculateWidths(this._plotRect.width,d);for(v=0;v<d;v++){P=b,k=m,A=o[v];var I=D[v];for(h=0;h<A.axes.length;h++){var M,F=(j=A.axes[h])._getPosition(),L=new De(O,R.top,I,R.height);F==Wr.Bottom?(M=new De(O,P,I,j._desiredSize.height),P+=j._desiredSize.height):F==Wr.Top&&(M=new De(O,k-j._desiredSize.height,I,j._desiredSize.height),k-=j._desiredSize.height),j._layout(M,L)}for(h=0;h<this.plotAreas.length;h++)(V=this.plotAreas[h]).column==v&&V._setPlotX(O,I);O+=I}var N=m,z=this.plotAreas._calculateHeights(this._plotRect.height,f);for(C=0;C<f;C++){E=_,T=w,A=s[C];var B=z[C];for(h=0;h<A.axes.length;h++){var H;F=(j=A.axes[h])._getPosition(),L=new De(R.left,N,R.width,B),j._plotrect?(L.left=j._plotrect.left,L.width=j._plotrect.width):D&&D.length>0&&(L.width=D[0]),F==Wr.Left?(H=new De(E-j._desiredSize.height,N,B,j._desiredSize.height),E-=j._desiredSize.height):F==Wr.Right&&(H=new De(T,N,B,j._desiredSize.height),T+=j._desiredSize.height),j._layout(H,L)}for(h=0;h<this.plotAreas.length;h++){var V;(V=this.plotAreas[h]).row==C&&V._setPlotY(N,B)}N+=B}},e.prototype._convertX=function(t,e,i){var n=this.axisX;return n.reversed?i-(i-e)*(t-n._getMinNum())/(n._getMaxNum()-n._getMinNum()):e+(i-e)*(t-n._getMinNum())/(n._getMaxNum()-n._getMinNum())},e.prototype._convertY=function(t,e,i){var n=this.axisY;return n.reversed?e+(i-e)*(t-n._getMinNum())/(n._getMaxNum()-n._getMinNum()):i-(i-e)*(t-n._getMinNum())/(n._getMaxNum()-n._getMinNum())},e.prototype._getLabelContent=function(t,e){return wt(e)?this._keywords.replace(e,t):Ct(e)?e(t):null},e.prototype._select=function(t,e){var i=!1;if(t==this._selection&&e==this._selectionIndex||(i=!0),this._selection&&this._highlight(this._selection,!1,this._selectionIndex),this._selection=t,this._selectionIndex=e,this._selection&&this._highlight(this._selection,!0,this._selectionIndex),this.selectionMode==Gr.Point){var n=t?t.collectionView:this._cv;n&&(this._notifyCurrentChanged=!1,n.moveCurrentToPosition(t?e:-1),this._notifyCurrentChanged=!0)}i&&this.onSelectionChanged()},e.prototype._highlightCurrent=function(){if(this.selectionMode!=Gr.None){var t=this._selection,e=-1;if(t){var i=t.collectionView;i||(i=this._cv),i&&(e=i.currentPosition),this._highlight(t,!0,e)}}},e.prototype._highlight=function(t,i,n){if(t=Zt(t,Mo,!0),this.selectionMode==Gr.Series){var r=this.series.indexOf(t),o=t.hostElement;i?o.parentNode.appendChild(o):o.parentNode.insertBefore(o,o.parentNode.childNodes.item(r));var s=this._find(o,["rect","ellipse","polyline","polygon","line","path"]);this._highlightItems(s,e._CSS_SELECTION,i),t.legendElement&&this._highlightItems(this._find(t.legendElement,["rect","ellipse","line"]),e._CSS_SELECTION,i)}else if(this.selectionMode==Gr.Point)if(r=this.series.indexOf(t),o=t.hostElement,i){o.parentNode.appendChild(o);var a=t.getPlotElement(n);if(a)if(a instanceof SVGElement){if("g"!=a.nodeName&&(this._highlightItems([a],e._CSS_SELECTION,i),this._selectedEls.push(a)),(s=this._find(a,["line","rect","ellipse","path","polygon"])).length>0){this._highlightItems(s,e._CSS_SELECTION,i);for(var l=0;l<s.length;l++)this._selectedEls.push(s[l])}}else if(Array.isArray(a))for(this._highlightItems(a,e._CSS_SELECTION,i),l=0;l<a.length;l++)this._selectedEls.push(a[l])}else o.parentNode.insertBefore(o,o.parentNode.childNodes.item(r)),this._selectedEls.length>0&&(this._highlightItems(this._selectedEls,e._CSS_SELECTION,i),this._selectedEls.length=0)},e.prototype._updateTooltip=function(t,e){var i,n=this.hitTest(e);if(n.distance<=t.threshold){var r=t.content;if(n.series){var o=n.series.tooltipContent;(o||""===o)&&(r=o)}i=this._getLabelContent(n,r)}i?this._showToolTip(i,new De(e.clientX,e.clientY,5,5)):this._hideToolTip()},e.prototype._updateAuxAxes=function(t,e){for(var i=2;i<t.length;i++){var n=t[i];n._chart=this;for(var r,o,s=[],a=0;a<this.series.length;a++){var l=this.series[a];l.axisX!=n&&l.axisY!=n||s.push(l)}for(a=0;a<s.length;a++){var h=s[a].getDataRect()||s[a]._getDataRect();h&&(n.axisType==ao.X&&!e||n.axisType==ao.Y&&e?((void 0===r||h.left<r)&&(r=h.left),(void 0===o||h.right>o)&&(o=h.right)):((void 0===r||h.top<r)&&(r=h.top),(void 0===o||h.bottom>o)&&(o=h.bottom)))}var u=s[0].getDataType(0);null==u&&(u=lt.Number),t[i]._updateActualLimits(u,r,o)}},e._CSS_AXIS_X="wj-axis-x",e._CSS_AXIS_Y="wj-axis-y",e._CSS_LINE="wj-line",e._CSS_GRIDLINE="wj-gridline",e._CSS_TICK="wj-tick",e._CSS_GRIDLINE_MINOR="wj-gridline-minor",e._CSS_TICK_MINOR="wj-tick-minor",e._CSS_DATA_LABELS="wj-data-labels",e}(no),Yo=function(){function t(){this._axes=new Array,this.left=0,this.right=0,this.top=0,this.bottom=0}return Object.defineProperty(t.prototype,"axes",{get:function(){return this._axes},enumerable:!0,configurable:!0}),t}(),qo=function(){function t(){this.stackAbs={},this._xvals=null}return t.prototype.analyse=function(t,e,i,n,r,o){var s=this;this.minY=NaN,this.maxY=NaN,this.minX=NaN,this.maxX=NaN,this.minXp=NaN,this.minYp=NaN,this.dx=0;var a={},l={},h={};if(this.dataTypeX=null,this.dataTypeY=null,this._xvals=n,null!=n)for(var u=n.length,c=0;c<u;c++){var d=n[c];if((isNaN(this.minX)||this.minX>d)&&(this.minX=d),(isNaN(this.maxX)||this.maxX<d)&&(this.maxX=d),d>0&&(isNaN(this.minXp)||this.minXp>d)&&(this.minXp=d),c>0){var f=Math.abs(d-n[c-1]);!isNaN(f)&&(f<this.dx||0==this.dx)&&(this.dx=f)}}var p,g,_,m,w,b,v,y,x,C,j,S=function(){if(p=t[c],g=p._getChartType(),_=void 0!==p.chartType,(m=p.visibility)==To.Hidden||m==To.Legend)return"continue";if((w=p.getDataRect())&&(!isNaN(E.minX)&&E.minX<w.left&&(b=w.right,w.left=E.minX,w.width=b-E.minX),!isNaN(E.maxX)&&E.maxX>w.right&&(w.width=E.maxX-w.left),p._isCustomAxisY()||(!isNaN(E.minY)&&E.minY<w.top&&(b=w.bottom,w.top=E.minY,w.height=b-E.minY),!isNaN(E.maxY)&&E.maxY>w.bottom&&(w.height=E.maxY-w.top))),v=null,e?p._isCustomAxisY()||(v=p.getValues(1)):p._isCustomAxisX()||(v=p.getValues(1)),v){E.dataTypeX||(E.dataTypeX=p.getDataType(1));for(var r=0;r<v.length;r++)y=v[r],isFinite(y)&&((isNaN(E.minX)||E.minX>y)&&(E.minX=y),(isNaN(E.maxX)||E.maxX<y)&&(E.maxX=y),r>0&&(!g||g==Ro.Column||g==Ro.Bar)&&(f=Math.abs(y-v[r-1]),!isNaN(f)&&f>0&&(f<E.dx||0==E.dx)&&(E.dx=f)))}if(x=null,C=!1,e?(C=p._isCustomAxisX(),x=p.getValues(0)):(C=p._isCustomAxisY(),x=p.getValues(0)),x&&(E.dataTypeY||C||(E.dataTypeY=p.getDataType(0)),isNaN(E.minX)?E.minX=0:v||n||(E.minX=Math.min(E.minX,0)),isNaN(E.maxX)?E.maxX=x.length-1:v||n||(E.maxX=Math.max(E.maxX,x.length-1)),!C))for(var o=i==Oo.None||_,u=function(t){var e=x[t],i=v?Gt(v[t],!0):n?Gt(n[t],!0):t;Et(e)?e.forEach((function(t){s._parseYVal(t,i,o,h,a,l)})):E._parseYVal(e,i,o,h,a,l)},d=0;d<x.length;d++)u(d);(j=p.getDataRect(new De(E.minX,E.minY,E.maxX-E.minX,E.maxY-E.minY),w))&&(E.minX=j.left,E.maxX=j.right,C||(E.minY=j.top,E.maxY=j.bottom))},E=this;for(c=0;c<t.length;c++)S();if(i==Oo.Stacked){for(var k in a)a[k]>this.maxY&&(this.maxY=a[k]);for(var k in l)l[k]<this.minY&&(this.minY=l[k])}else if(i==Oo.Stacked100pc){for(var k in this.minY=0,this.maxY=0,h){var T=h[k];if(isFinite(T)&&0!=T){var P=a[k],A=l[k];isFinite(P)&&(P=Math.max(P/T,this.maxY))>this.maxY&&(this.maxY=P),isFinite(A)&&(A=Math.min(A/T,this.minY))<this.minY&&(this.minY=A)}}this.minY==this.maxY&&(this.minY=0,this.maxY=1)}this.stackAbs=h,r&&(e?this.minY=isNaN(this.minYp)?1:this.minYp:this.minX=isNaN(this.minXp)?1:this.minXp),o&&(e?this.minX=isNaN(this.minXp)?1:this.minXp:this.minY=isNaN(this.minYp)?1:this.minYp)},t.prototype._parseYVal=function(t,e,i,n,r,o){isFinite(t)&&(null!=t&&(isNaN(this.minY)||this.minY>t)&&(this.minY=t),null!=t&&(isNaN(this.maxY)||this.maxY<t)&&(this.maxY=t),t>0&&(isNaN(this.minYp)||this.minYp>t)&&(this.minYp=t),i||(t>0?isNaN(r[e])?r[e]=t:r[e]+=t:isNaN(o[e])?o[e]=t:o[e]+=t,isNaN(n[e])?n[e]=Math.abs(t):n[e]+=Math.abs(t)))},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinXp=function(){return this.minXp},t.prototype.getMinYp=function(){return this.minYp},t.prototype.getDeltaX=function(){return this.dx},t.prototype.getDataTypeX=function(){return this.dataTypeX},t.prototype.getDataTypeY=function(){return this.dataTypeY},t.prototype.getStackedAbsSum=function(t){var e=this.stackAbs[t];return isFinite(e)?e:0},t.prototype.getXVals=function(){return this._xvals},t.isValid=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=t.length,n=0;n<i;n++)if(!isFinite(t[n]))return!1;return!0},t}(),Xo=function(t){function e(e,i){var n=t.call(this,e,null)||this;return n._chartType=Ro.Column,n.initialize(i),n}return Lr(e,t),e.prototype._getChartType=function(){return this._chartType},Object.defineProperty(e.prototype,"chartType",{get:function(){return this._chartType},set:function(t){(t=Jt(t,Ro))!=this._chartType&&(this._chartType=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotated",{get:function(){return this._rotated},set:function(t){t!=this._rotated&&(this._rotated=Yt(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stacking",{get:function(){return this._stacking},set:function(t){(t=Jt(t,Oo))!=this._stacking&&(this._stacking=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},set:function(t){t!=this._options&&(this._options=t,this.invalidate())},enumerable:!0,configurable:!0}),e}(Wo),Ko=function(t){function e(){var e=t.call(this)||this;return e.stacking=Oo.None,e.isSpline=!1,e.isStep=!1,e.stackPos={},e.stackNeg={},e}return Lr(e,t),e.prototype.adjustLimits=function(t,e){this.dataInfo=t;for(var i=t.getMinX(),n=t.getMinY(),r=t.getMaxX(),o=t.getMaxY(),s=0;s<this.chart.series.length;s++){var a=this.chart.series[s];if(this._isRange(a)){var l=a._getChartType();if(!l||l==Ro.Area)for(var h=a._getBindingValues(1),u=0;u<h.length;u++)h[u]>o?o=h[u]:h[u]<n&&(n=h[u])}}if(this.isSpline){var c=.1*(o-n);this.chart.axisY._getLogBase()||(n-=c),o+=c}return this.rotated?new De(n,i,o-n,r-i):new De(i,n,r-i,o-n)},e.prototype.clear=function(){t.prototype.clear.call(this),this.stackNeg={},this.stackPos={}},e.prototype.plotSeries=function(t,e,i,n,r,o,s,a){var l=n;if(this._isRange(l))this.plotSeriesRanged(t,e,i,n,r,o,s,a);else{var h=[],u=this.chart.series.indexOf(n),c=n.getValues(0),d=n.getValues(1);if(c){var f=c.length;if(f){d||(d=this.dataInfo.getXVals());var p=!0;d?d.length<f&&(f=d.length):(p=!1,d=new Array(f));var g=new Array,_=new Array,m=new Array,w=new Array,b=this.stacking!=Oo.None&&!l._isCustomAxisY(),v=this.stacking==Oo.Stacked100pc&&!l._isCustomAxisY();void 0!==l._getChartType()&&(b=v=!1);for(var y=this.rotated,x=!1,C=l.interpolateNulls,j=null,S=null,E=this.chart._plotRect,k=0;k<f;k++){var T=p?d[k]:k,P=c[k];if((null===j||T>j)&&(j=T),(null===S||T<S)&&(S=T),qo.isValid(T,P)){var A=y?i.convert(T):e.convert(T);if(b){v&&(P/=this.dataInfo.getStackedAbsSum(T));var R=0;P>=0?(R=isNaN(this.stackPos[T])?0:this.stackPos[T],P=this.stackPos[T]=R+P):(R=isNaN(this.stackNeg[T])?0:this.stackNeg[T],P=this.stackNeg[T]=R+P),y?(R<e.actualMin&&(R=e.actualMin),m.push(e.convert(R)),w.push(A)):(m.push(A),R<i.actualMin&&(R=i.actualMin),w.push(i.convert(R)))}if(y){var O=e.convert(P);isNaN(A)||isNaN(O)?(x=!0,b||!0===C||(g.push(void 0),_.push(void 0))):(g.push(O),_.push(A),Wo._contains(E,new Re(O,A))&&((D=new jo(new Re(O,A),this._DEFAULT_SYM_SIZE)).tag=new yo(u,k,P,T),this.hitTester.add(D,u)))}else{var D;if(O=i.convert(P),isNaN(A)||isNaN(O))x=!0,b||!0===C||(g.push(void 0),_.push(void 0));else if(g.push(A),_.push(O),Wo._contains(E,new Re(A,O)))(D=new jo(new Re(A,O),this._DEFAULT_SYM_SIZE)).tag=new yo(u,k,T,P),this.hitTester.add(D,u)}}else x=!0,b||!0===C||(g.push(void 0),_.push(void 0))}a&&g.forEach((function(t,e){null!=t&&h.push(new Re(t,_[e]))}));var I=this._DEFAULT_WIDTH,M=r._getColorLight(u),F=r._getColor(u),L=Ho.cloneStyle(n.style,["fill"]),N=Ho.cloneStyle(n.style,["stroke"]);if(!b&&!0!==C&&x){var z=[],B=[];for(k=0;k<f;k++)void 0===g[k]?(z.length>1&&(z=(H=this._modifyPoints(z,B)).x,B=H.y,t.stroke=F,t.strokeWidth=I,t.fill="none",t.drawLines(z,B,null,L),this.hitTester.add(new So(z,B),u),y?(z.push(e.convert(e.actualMin),e.convert(e.actualMin)),B.push(i.convert(i.actualMax),i.convert(i.actualMin))):(z.push(z[z.length-1],z[0]),B.push(i.convert(i.actualMin),i.convert(i.actualMin))),t.fill=M,t.stroke="none",t.drawPolygon(z,B,null,N,this.chart._plotrectId)),z=[],B=[]):(z.push(g[k]),B.push(_[k]));z.length>1&&(z=(H=this._modifyPoints(z,B)).x,B=H.y,t.stroke=F,t.strokeWidth=I,t.fill="none",t.drawLines(z,B,null,L),this.hitTester.add(new So(z,B),u),y?(z.push(e.convert(e.actualMin),e.convert(e.actualMin)),B.push(i.convert(i.actualMax),i.convert(i.actualMin))):(z.push(z[z.length-1],z[0]),B.push(i.convert(i.actualMin),i.convert(i.actualMin))),t.fill=M,t.stroke="none",t.drawPolygon(z,B,null,N,this.chart._plotrectId))}else{var H;if(g=(H=this._modifyPoints(g,_)).x,_=H.y,b){var V=this._modifyPoints(m,w);m=V.x,w=V.y,g=g.concat(m.reverse()),_=_.concat(w.reverse())}else y?(g.push(e.convert(e.actualMin),e.convert(e.actualMin)),_.push(_[_.length-1],_[0])):(g.push(g[g.length-1],g[0]),_.push(i.convert(i.actualMin),i.convert(i.actualMin)));t.fill=M,t.stroke="none",t.drawPolygon(g,_,null,N,this.chart._plotrectId),b?(g=g.slice(0,g.length-m.length),_=_.slice(0,_.length-w.length)):(g=g.slice(0,g.length-2),_=_.slice(0,_.length-2)),t.stroke=F,t.strokeWidth=I,t.fill="none",t.drawLines(g,_,null,L,this.chart._plotrectId),this.hitTester.add(new So(g,_),u)}this._drawSymbols(t,n,u),a&&h&&h.length&&a(h)}}}},e.prototype._isRange=function(t){var e=this.chart?this.chart._bindingSeparator:",",i=null==t.binding?null:t.binding.split(e);return null!=i&&2==i.length},e.prototype._modifyPoints=function(t,e){var i={x:t,y:e};if(this.isSpline){var n=this._convertToSpline(t,e);i.x=n.xs,i.y=n.ys}else if(this.isStep){var r=this._createSteps(t,e);i.x=r.x,i.y=r.y}return i},e.prototype.plotSeriesRanged=function(t,e,i,n,r,o,s,a){var l=[],h=this.chart.series.indexOf(n),u=n,c=n.getValues(0),d=n.getValues(1),f=u._getBindingValues(1);if(c){var p=c.length;if(p){d||(d=this.dataInfo.getXVals());var g=!0;d?d.length<p&&(p=d.length):(g=!1,d=new Array(p));for(var _=new Array,m=new Array,w=new Array,b=this.rotated,v=!1,y=u.interpolateNulls,x=this.chart._plotRect,C=0;C<p;C++){var j=g?d[C]:C,S=c[C],E=f[C];if(qo.isValid(j,S,E)){var k=b?i.convert(j):e.convert(j);if(b){var T=e.convert(S),P=e.convert(E);isNaN(k)||isNaN(T)?(v=!0,!0!==y&&(_.push(void 0),m.push(void 0),w.push(void 0))):(_.push(T),m.push(k),w.push(P),Wo._contains(x,new Re(T,k))&&((A=new jo(new Re(T,k),this._DEFAULT_SYM_SIZE)).tag=new yo(h,C,S,j),this.hitTester.add(A,h)),Wo._contains(x,new Re(P,k))&&((A=new jo(new Re(P,k),this._DEFAULT_SYM_SIZE)).tag=new yo(h,C,E,j),this.hitTester.add(A,h)))}else{var A;if(T=i.convert(S),P=i.convert(E),isNaN(k)||isNaN(T))v=!0,!0!==y&&(_.push(void 0),m.push(void 0),w.push(void 0));else if(_.push(k),m.push(T),w.push(P),Wo._contains(x,new Re(k,T))&&((A=new jo(new Re(k,T),this._DEFAULT_SYM_SIZE)).tag=new yo(h,C,j,S),this.hitTester.add(A,h)),Wo._contains(x,new Re(k,P)))(A=new jo(new Re(k,P),this._DEFAULT_SYM_SIZE)).tag=new yo(h,C,j,E),this.hitTester.add(A,h)}}else v=!0,!0!==y&&(_.push(void 0),m.push(void 0),w.push(void 0))}a&&_.forEach((function(t,e){null!=t&&l.push(new Re(t,m[e]))}));var R=this._DEFAULT_WIDTH,O=r._getColorLight(h),D=r._getColor(h),I=Ho.cloneStyle(n.style,["fill"]),M=Ho.cloneStyle(n.style,["stroke"]);if(!0!==y&&v){var F=[],L=[],N=[];for(C=0;C<p;C++)if(void 0===_[C]){if(F.length>1){var z=b?N.slice(0).reverse():F.slice(0).reverse(),B=b?L.slice(0).reverse():N.slice(0).reverse();this._drawRangedArea(t,F,L,z,B,O,D,R,M,I),this.hitTester.add(new So(F,L),h),this.hitTester.add(new So(z,B),h)}F=[],L=[],N=[]}else F.push(_[C]),L.push(m[C]),N.push(w[C]);F.length>1&&(z=b?N.slice(0).reverse():F.slice(0).reverse(),B=b?L.slice(0).reverse():N.slice(0).reverse(),this._drawRangedArea(t,F,L,z,B,O,D,R,M,I),this.hitTester.add(new So(F,L),h),this.hitTester.add(new So(z,B),h))}else{var H=b?w.slice(0).reverse():_.slice(0).reverse(),V=b?m.slice(0).reverse():w.slice(0).reverse();this._drawRangedArea(t,_,m,H,V,O,D,R,M,I),this.hitTester.add(new So(_,m),h),this.hitTester.add(new So(H,V),h)}this._drawSymbols(t,n,h),a&&l&&l.length&&a(l)}}},e.prototype._drawRangedArea=function(t,e,i,n,r,o,s,a,l,h){if(this.isSpline){var u=this._convertToSpline(e,i),c=this._convertToSpline(n,r);e=u.xs,i=u.ys,n=c.xs,r=c.ys}e=e.concat(n),i=i.concat(r),t.fill=o,t.stroke="none",t.drawPolygon(e,i,null,l),e=e.slice(0,e.length-n.length),i=i.slice(0,i.length-r.length),t.stroke=s,t.strokeWidth=a,t.fill="none",t.drawLines(e,i,null,h),t.drawLines(n,r,null,h)},e.prototype._convertToSpline=function(t,e){if(t&&e){var i=new zr(t,e).calculate();return{xs:i.xs,ys:i.ys}}return{xs:t,ys:e}},e.prototype._drawSymbols=function(t,e,i){var n=this.getItemFormatter(e);if(null!=n){for(var r=this.hitTester._map[i],o=0;o<r.length;o++){var s=_t(r[o],jo);if(s){var a=s.tag;t.startGroup();var l=new Ao(this.chart,s.center,xo.SeriesSymbol);l._setDataPoint(a),n(t,l,(function(){})),t.endGroup()}}t.cssPriority=!0}},e}(Ho),Zo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.origin=0,e.width=.7,e.isVolume=!1,e._volHelper=null,e.stackPosMap={},e.stackNegMap={},e.stacking=Oo.None,e}return Lr(e,t),e.prototype.clear=function(){t.prototype.clear.call(this),this.stackNegMap[this.chart.axisY._uniqueId]={},this.stackPosMap[this.chart.axisY._uniqueId]={},this._volHelper=null},e.prototype.load=function(){if(t.prototype.load.call(this),this.isVolume){var e,i,n,r,o,s,a,l,h=null,u=null;for(s=0;s<this.chart.series.length;s++){if(o=(e=this.chart.series[s]).getDataType(1)||e.chart._xDataType,i=e._getAxisX(),(n=null===(n=e._getChartType())||jt(n)?this.chart._getChartType():n)===Ro.Column){var c=this.chart?this.chart._bindingSeparator:",",d=e.binding.split(c).length-1;r=e._getBindingValues(d)}else r=n===Ro.Candlestick?e._getBindingValues(4):null;var f;if(o===lt.Date)for(a=[],l=[],s=0;s<e._getLength();s++)f=e._getItem(s)[e.bindingX].valueOf(),a.push(f),l.push({value:f,text:Ue.format(new Date(f),i.format||"d")});else a=this.dataInfo.getXVals();if(h=this.dataInfo.getMinX(),u=this.dataInfo.getMaxX(),r&&r.length>0){this._volHelper=new Nr(r,a,h,u,o),i._customConvert=this._volHelper.convert.bind(this._volHelper),i._customConvertBack=this._volHelper.convertBack.bind(this._volHelper),l&&l.length>0&&(this._itemsSource=i.itemsSource=l);break}}}},e.prototype.unload=function(){t.prototype.unload.call(this);for(var e,i=0;i<this.chart.series.length;i++)(e=this.chart.series[i]._getAxisX())&&(e._customConvert=null,e._customConvertBack=null,e.itemsSource&&e.itemsSource==this._itemsSource&&(this._itemsSource=e.itemsSource=null))},e.prototype.adjustLimits=function(t,e){this.dataInfo=t;var i=t.getMinX(),n=t.getMaxX(),r=t.getMinY(),o=t.getMaxY(),s=t.getDeltaX();s<=0&&(s=1);var a=!1;!this.isVolume||this.chart._getChartType()!==Ro.Column&&this.chart._getChartType()!==Ro.Candlestick?this.unload():this.load();for(var l=0;l<this.chart.series.length;l++){var h=this.chart.series[l],u=h._getChartType();(u=null===u||jt(u)?this.chart._getChartType():u)!==Ro.Column&&u!==Ro.Bar||this._isRange(h)&&h._getBindingValues(1).forEach((function(t){t<r?r=t:t>o&&(o=t)})),a||"BoxWhisker"==h.constructor.name||(a=!0)}return this.rotated?(!this.chart.axisY._getLogBase()&&t.getDataTypeY()!==lt.Date&&a&&(this.origin>o?o=this.origin:this.origin<r&&(r=this.origin)),new De(r,i-.5*s,o-r,n-i+s)):(!this.chart.axisY._getLogBase()&&t.getDataTypeY()!==lt.Date&&a&&(this.origin>o?o=this.origin:this.origin<r&&(r=this.origin)),new De(i-.5*s,r,n-i+s,o-r))},e.prototype._isRange=function(t){var e=this.chart?this.chart._bindingSeparator:",",i=(null==t.binding?"":t.binding.split(e)).length-1;return this.isVolume?2===i:1===i},e.prototype.plotSeries=function(t,e,i,n,r,o,s,a){var l=[],h=this.chart.series.indexOf(n),u=Zt(n,Mo),c=this.chart._options,d=this.width,f=0;if(o=o||0,s=s||1,c&&c.groupWidth){var p=c.groupWidth;if(vt(p)){var g=Gt(p);isFinite(g)&&g>0&&(f=g,d=1)}else if(wt(p)){var _=Ut(p);_&&_.indexOf("%")>=0?(_=_.replace("%",""),g=parseFloat(_),isFinite(g)&&(g<0?g=0:g>100&&(g=100),f=0,d=g/100)):(g=parseFloat(_),isFinite(g)&&g>0&&(f=g,d=1))}}var m=d/s,w=u._getAxisY()._uniqueId,b=this.stackNegMap[w],v=this.stackPosMap[w],y=n.getValues(0),x=n.getValues(1),C=this._isRange(u),j=u._bindValues(null==u._cv?null==this.chart.collectionView?null:this.chart.collectionView.items:u._cv.items,u._getBinding(1)).values;if(y){if(x||(x=this.dataInfo.getXVals()),x){var S=this.dataInfo.getDeltaX();S>0&&(d*=S,m*=S)}var E=u._getSymbolFill(h),k=u._getAltSymbolFill(h)||E,T=u._getSymbolStroke(h),P=u._getAltSymbolStroke(h)||T,A=y.length;null!=x&&(A=Math.min(A,x.length));var R,O,D=this.origin,I=0,M=this.stacking!=Oo.None,F=this.stacking==Oo.Stacked100pc;void 0!==u._getChartType()&&(M=F=!1);var L=this.getItemFormatter(n),N=e._actualMin,z=e._actualMax,B=i._actualMin,H=i._actualMax;if(this.rotated)for(D<N?D=N:D>z&&(D=z),u._isCustomAxisY()&&(M=F=!1),W=e.convert(D),Y=0;Y<A;Y++)if(K=x?x[Y]:Y,Z=y[Y],X=W,this._getSymbolOrigin&&(X=i.convert(this._getSymbolOrigin(D,Y))),C&&j&&j.length&&(J=j[Y],qo.isValid(J)&&(X=e.convert(J))),this._getSymbolStyles&&(E=(q=this._getSymbolStyles(Y))&&q.fill?q.fill:E,k=q&&q.fill?q.fill:k,T=q&&q.stroke?q.fill:T,P=q&&q.stroke?q.fill:P),R=Z>0?E:k,O=Z>0?T:P,t.fill=R,t.stroke=O,qo.isValid(K,Z))if(M){if($=K+.5*d,(Q=K-.5*d)<B&&$<B||Q>H&&$>H)continue;if(Q=i.convert(Math.max(Q,B)),$=i.convert(Math.min($,H)),F&&(Z/=this.dataInfo.getStackedAbsSum(K)),et=0,Z>=0?(et=isNaN(v[K])?0:v[K],ot=e.convert(et),tt=e.convert(et+Z),v[K]=et+Z):(et=isNaN(b[K])?0:b[K],ot=e.convert(et),tt=e.convert(et+Z),b[K]=et+Z),a&&l.push(new Re(tt,i.convert(K))),!qo.isValid(ot,tt))continue;if(it=new De(Math.min(ot,tt),Math.min(Q,$),Math.abs(tt-ot),Math.abs($-Q)),f>0){(lt=1-f/it.height)<0&&(lt=0);var V=it.top+.5*it.height;it.top+=(V-it.top)*lt,it.height=Math.min(f,it.height)}rt=new Co(it),this.drawSymbol(t,it,n,Y,new Re(tt,it.top+.5*it.height),L),n._setPointIndex(Y,I),I++,rt.tag=new yo(h,Y,et+Z,K),this.hitTester.add(rt,h)}else{if($=K-.5*d+(o+1)*m,(Q=K-.5*d+o*m)<B&&$<B||Q>H&&$>H)continue;Q=i.convert(Math.max(Q,B)),$=i.convert(Math.min($,H));var U=e.convert(Z);if(!qo.isValid(U,Q,$))continue;var G=new De(Math.min(U,X),Math.min(Q,$),Math.abs(X-U),Math.abs($-Q));a&&l.push(new Re(U,(Q+$)/2)),f>0&&((lt=1-(at=f/s)/G.height)<0&&(lt=0),V=i.convert(K),G.top+=(V-G.top)*lt,G.height=Math.min(at,G.height)),rt=new Co(G),this.drawSymbol(t,G,n,Y,new Re(U,G.top+.5*G.height),L),n._setPointIndex(Y,I),I++,rt.tag=new yo(h,Y,Z,K),this.hitTester.add(rt,h)}else a&&l.push(null);else{D<B?D=B:D>H&&(D=H);var W=i.convert(D);u._isCustomAxisY()&&(M=F=!1);for(var Y=0;Y<A;Y++){var q,X=W,K=x?x[Y]:Y,Z=y[Y];if(this._getSymbolOrigin&&(X=i.convert(this._getSymbolOrigin(D,Y,A))),C&&j&&j.length){var J=j[Y];qo.isValid(J)&&(X=i.convert(J))}if(this._getSymbolStyles)E=(q=this._getSymbolStyles(Y,A))&&q.fill?q.fill:E,k=q&&q.fill?q.fill:k,T=q&&q.stroke?q.stroke:T,P=q&&q.stroke?q.stroke:P;if(R=Z>0?E:k,O=Z>0?T:P,t.fill=R,t.stroke=O,t.strokeWidth=null,qo.isValid(K,Z))if(M){var Q,$,tt=K+.5*d;if((ot=K-.5*d)<N&&tt<N||ot>z&&tt>z)continue;if(ot=e.convert(ot),tt=e.convert(tt),!qo.isValid(ot,tt))continue;F&&(Z/=this.dataInfo.getStackedAbsSum(K));var et=0;if(Z>=0?(et=isNaN(v[K])?0:v[K],Q=i.convert(Math.max(et,B)),$=i.convert(Math.max(et+Z,B)),v[K]=et+Z):(et=isNaN(b[K])?0:b[K],Q=i.convert(et),$=i.convert(et+Z),b[K]=et+Z),a&&l.push(new Re(e.convert(K),$)),!qo.isValid(Q,$))continue;var it=new De(Math.min(ot,tt),Math.min(Q,$),Math.abs(tt-ot),Math.abs($-Q));if(f>0){(lt=1-f/it.width)<0&&(lt=0);var nt=it.left+.5*it.width;it.left+=(nt-it.left)*lt,it.width=Math.min(f,it.width)}var rt=new Co(it);this.drawSymbol(t,it,n,Y,new Re(it.left+.5*it.width,$),L),n._setPointIndex(Y,I),I++,rt.tag=new yo(h,Y,K,et+Z),this.hitTester.add(rt,h)}else{var ot;tt=K-.5*d+(o+1)*m;if((ot=K-.5*d+o*m)<N&&tt<N||ot>z&&tt>z)continue;ot=e.convert(ot),tt=e.convert(tt);var st=i.convert(Z);if(!qo.isValid(st,ot,tt))continue;var at,lt,ht=new De(Math.min(ot,tt),Math.min(st,X),Math.abs(tt-ot),Math.abs(X-st));if(a&&l.push(new Re((ot+tt)/2,st)),f>0)(lt=1-(at=f/s)/ht.width)<0&&(lt=0),nt=e.convert(K),ht.left+=(nt-ht.left)*lt,ht.width=Math.min(at,ht.width);rt=new Co(ht);this.drawSymbol(t,ht,n,Y,new Re(ht.left+.5*ht.width,st),L),n._setPointIndex(Y,I),I++,rt.tag=new yo(h,Y,K,Z),this.hitTester.add(rt,h)}else a&&l.push(null)}}a&&l&&l.length&&a(l)}},e.prototype.drawSymbol=function(t,e,i,n,r,o){var s=this;if(o){t.startGroup();var a=new Ao(this.chart,r,xo.SeriesSymbol);a._setData(i,n),o(t,a,(function(){s.drawDefaultSymbol(t,e,i)})),t.cssPriority=!0,t.endGroup()}else this.drawDefaultSymbol(t,e,i)},e.prototype.drawDefaultSymbol=function(t,e,i){t.drawRect(e.left,e.top,e.width,e.height,null,i.symbolStyle)},e}(Ho),Jo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stacking=Oo.None,e}return Lr(e,t),e.prototype.adjustLimits=function(t,e){this.dataInfo=t;var i=t.getMinX(),n=t.getMinY(),r=t.getMaxX(),o=t.getMaxY();return new De(i,n,r-i,o-n)},e.prototype.plotSeries=function(t,e,i,n,r,o,s,a){var l=this.chart.series.indexOf(n);if(!(l>0)){var h,u,c,d,f,p=Zt(n,Mo),g=this.chart._options,_=n.getValues(0),m=n.getValues(1),w=this.chart._plotRect,b=g&&g.funnel&&null!=g.funnel.neckWidth?g.funnel.neckWidth:.2,v=g&&g.funnel&&null!=g.funnel.neckHeight?g.funnel.neckHeight:0,y=b*w.width,x=0,C=0,j=0,S=0,E=w.left,k=w.top,T=w.width,P=w.height;if(_){this.rotated&&(k+=w.height),y=y||1,m||(m=this.dataInfo.getXVals());var A=_.length;null!=m&&(A=Math.min(A,m.length));var R=0;for(x=0;x<A;x++)qo.isValid(_[x])&&(C+=_[x],_[x]>R&&(R=_[x]));var O,D,I=0;if(g&&g.funnel&&"rectangle"===g.funnel.type&&R>0){v=P/A,b=T;var M=T/R;for(x=0;x<A;x++){var F=m?m[x]:x,L=_[x],N=p._getSymbolFill(x),z=p._getAltSymbolFill(x)||N,B=p._getSymbolStroke(x),H=p._getAltSymbolStroke(x)||B;if(this._getSymbolStyles&&(N=(G=this._getSymbolStyles(x,A))&&G.fill?G.fill:N,z=G&&G.fill?G.fill:z,B=G&&G.stroke?G.stroke:B,H=G&&G.stroke?G.stroke:H),O=L>0?N:z,D=L>0?B:H,t.fill=O,t.stroke=D,qo.isValid(F)&&qo.isValid(L)){M||(M=T/L);var V=M*L;E+=(b-V)/2,this.rotated&&(k-=v),t.drawRect(E,k,V,v),U=new Qo(new Re(E,k),V,v,V,v),this.rotated||(k+=v),b=V,U.tag=new yo(l,x,F,L),this.hitTester.add(U,l),n._setPointIndex(x,I),I++}}}else for(j=w.left+w.width*(1-b)/2,S=w.top+w.height*(this.rotated?v:1-v),u=(1-b)*w.width/2/(w.height*(1-v)),!isNaN(u)&&isFinite(u)||(T=y,E=j,k=S),h=w.width*b*w.height+w.width*(1-b)/2*w.height*(1-v),x=0;x<A;x++){F=m?m[x]:x,L=_[x];var U,G,W=[],Y=[];if(N=p._getSymbolFill(x),z=p._getAltSymbolFill(x)||N,B=p._getSymbolStroke(x),H=p._getAltSymbolStroke(x)||B,this._getSymbolStyles)N=(G=this._getSymbolStyles(x,A))&&G.fill?G.fill:N,z=G&&G.fill?G.fill:z,B=G&&G.stroke?G.stroke:B,H=G&&G.stroke?G.stroke:H;if(O=L>0?N:z,D=L>0?B:H,t.fill=O,t.stroke=D,qo.isValid(F)&&qo.isValid(L)){var q=h*L/C;T>y?(d=this._getTrapezoidOffsetY(T,q,u),this.rotated?k-d>S?(W=[E,E+(c=u*d),E+T-c,E+T],Y=[k,k-d,k-d,k],U=new Qo(new Re(E,k-d),T,d,T-2*c,0,!0),T-=2*c,E+=c,k-=d):(c=u*(d=k-S),f=(q-=this._getTrapezoidArea(T,u,d))/y,W.push(E,E+c,E+c,E+c+y,E+c+y,E+T),Y.push(k,k-d,k-d-f,k-d-f,k-d,k),U=new Qo(new Re(E,k-d-f),T,d+f,y,f,!0),T=y,E+=c,k=k-d-f):k+d<S?(W=[E,E+(c=u*d),E+T-c,E+T],Y=[k,k+d,k+d,k],U=new Qo(new Re(E,k),T,d,T-2*c,0),T-=2*c,E+=c,k+=d):(c=u*(d=S-k),f=(q-=this._getTrapezoidArea(T,u,d))/y,W.push(E,E+c,E+c,E+c+y,E+c+y,E+T),Y.push(k,k+d,k+d+f,k+d+f,k+d,k),U=new Qo(new Re(E,k),T,d+f,y,f),T=y,E+=c,k=k+d+f),t.drawPolygon(W,Y)):(f=q/y,this.rotated&&(k-=f),t.drawRect(E,k,T,f),U=new Qo(new Re(E,k),y,f,y,f),this.rotated||(k+=f)),U.tag=new yo(l,x,F,L),this.hitTester.add(U,l),n._setPointIndex(x,I),I++}}}}},e.prototype._getTrapezoidArea=function(t,e,i){var n=i*e;return n*i+(t-2*n)*i},e.prototype._getTrapezoidOffsetY=function(t,e,i){var n=Math.pow(t/2/i,2)-e/i;return t/2/i-Math.sqrt(n>=0?n:0)},e.prototype.drawDefaultSymbol=function(t,e,i){t.drawRect(e.left,e.top,e.width,e.height,null,i.symbolStyle)},e.prototype._getPointAndPosition=function(t,e,i,n){var r=i;t.x=r.center.x,t.y=r.center.y,e=null==e?eo.Center:e},e}(Ho),Qo=function(){function t(t,e,i,n,r,o){void 0===o&&(o=!1),this._startPoint=t,this._width=e,this._height=i,this._neckWidth=n,this._neckHeight=r,this._center=new Re(this._startPoint.x+e/2,this._startPoint.y+i/2),this._offsetX=(e-n)/2,this._offsetY=i-r,this._rotated=o}return t.prototype.contains=function(t){var e=this._startPoint,i=this._offsetX,n=this._offsetY;if(this._rotated){if(t.x>=e.x&&t.x<=e.x+this._width&&t.y>=e.y&&t.y<=e.y+this._height){if(t.x>=e.x+i&&t.x<=e.x+this._width-i)return!0;if(t.y<e.y+this._neckHeight)return!1;if(t.x<this._center.x)return(e.y+this._height-t.y)/(t.x-e.x)<n/i;if(t.x>this._center.x)return(e.y+this._height-t.y)/(e.x+this._width-t.x)<n/i}}else if(t.x>=e.x&&t.x<=e.x+this._width&&t.y>=e.y&&t.y<=e.y+this._height){if(t.x>=e.x+i&&t.x<=e.x+this._width-i)return!0;if(t.y>e.y+n)return!1;if(t.x<this._center.x)return(t.y-e.y)/(t.x-e.x)<n/i;if(t.x>this._center.x)return(t.y-e.y)/(e.x+this._width-t.x)<n/i}return!1},t.prototype.distance=function(t){if(this.contains(t))return 0;var e=this._startPoint,i=this._width,n=this._height,r=this._offsetX,o=this._offsetY;if(this._rotated){if(t.y>e.y+n)return t.x<e.x?Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y+n-t.y,2)):t.x>e.x+i?Math.sqrt(Math.pow(t.x-e.x-i,2)+Math.pow(e.y+n-t.y,2)):t.y-e.y-n;if(t.y<e.y)return t.x<e.x+r?Math.sqrt(Math.pow(e.x+r-t.x,2)+Math.pow(t.y-e.y-n,2)):t.x>e.x+i-r?Math.sqrt(Math.pow(t.x-e.x-i+r,2)+Math.pow(t.y-e.y-n,2)):e.y-t.y;if(!(t.y<e.y+n-o))return t.x<e.x+r?Math.min(Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(t.y-e.y-n,2)),Math.sqrt(Math.pow(t.x-r/2-e.x,2)+Math.pow(t.y-n+o/2-e.y,2)),Math.sqrt(Math.pow(t.x-r-e.x,2)+Math.pow(t.y-n+o-e.y,2))):Math.min(Math.sqrt(Math.pow(t.x-i-e.x,2)+Math.pow(t.y-n-e.y,2)),Math.sqrt(Math.pow(t.x-i+r/2-e.x,2)+Math.pow(t.y-n+o/2-e.y,2)),Math.sqrt(Math.pow(t.x-i+r-e.x,2)+Math.pow(t.y-n+o-e.y,2)));if(t.x<e.x+r)return e.x+r-t.x;if(t.x>e.x+i-r)return t.x-e.x-i+r}else{if(t.y<e.y)return t.x<e.x?Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)):t.x>e.x+i?Math.sqrt(Math.pow(t.x-e.x-i,2)+Math.pow(e.y-t.y,2)):e.y-t.y;if(t.y>e.y+n)return t.x<e.x+r?Math.sqrt(Math.pow(e.x+r-t.x,2)+Math.pow(t.y-e.y-n,2)):t.x>e.x+i-r?Math.sqrt(Math.pow(t.x-e.x-i+r,2)+Math.pow(t.y-e.y-n,2)):t.y-e.y-n;if(!(t.y>e.y+o))return t.x<e.x+r?Math.min(Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(t.y-e.y,2)),Math.sqrt(Math.pow(t.x-r/2-e.x,2)+Math.pow(t.y-o/2-e.y,2)),Math.sqrt(Math.pow(t.x-r-e.x,2)+Math.pow(t.y-o-e.y,2))):Math.min(Math.sqrt(Math.pow(t.x-i-e.x,2)+Math.pow(t.y-e.y,2)),Math.sqrt(Math.pow(t.x-i+r/2-e.x,2)+Math.pow(t.y-o/2-e.y,2)),Math.sqrt(Math.pow(t.x-i+r-e.x,2)+Math.pow(t.y-o-e.y,2)));if(t.x<e.x+r)return e.x+r-t.x;if(t.x>e.x+i-r)return t.x-e.x-i+r}},Object.defineProperty(t.prototype,"center",{get:function(){return this._center},enumerable:!0,configurable:!0}),t}(),$o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isCandle=!0,e.isArms=!1,e.isEqui=!1,e.isVolume=!1,e._volHelper=null,e._symWidth=.7,e}return Lr(e,t),e.prototype.clear=function(){t.prototype.clear.call(this),this._volHelper=null},e.prototype.load=function(){if(t.prototype.load.call(this),this.isVolume){var e,i,n,r,o,s,a,l,h=null,u=null;for(s=0;s<this.chart.series.length;s++){var c;if(o=(e=this.chart.series[s]).getDataType(1)||e.chart._xDataType,i=e._getAxisX(),r=(n=null===(n=e._getChartType())||jt(n)?this.chart._getChartType():n)===Ro.Column?e._getBindingValues(1):n===Ro.Candlestick?e._getBindingValues(4):null,o===lt.Date)for(a=[],l=[],s=0;s<e._getLength();s++)c=e._getItem(s)[e.bindingX].valueOf(),a.push(c),l.push({value:c,text:Ue.format(new Date(c),i.format||"d")});else a=this.dataInfo.getXVals();if(h=this.dataInfo.getMinX(),u=this.dataInfo.getMaxX(),r&&r.length>0){this._volHelper=new Nr(r,a,h,u,o),i._customConvert=this._volHelper.convert.bind(this._volHelper),i._customConvertBack=this._volHelper.convertBack.bind(this._volHelper),l&&l.length>0&&(this._itemsSource=i.itemsSource=l);break}}}},e.prototype.unload=function(){t.prototype.unload.call(this);for(var e,i=0;i<this.chart.series.length;i++)(e=this.chart.series[i]._getAxisX())&&(e._customConvert=null,e._customConvertBack=null,e.itemsSource&&e.itemsSource==this._itemsSource&&(this._itemsSource=e.itemsSource=null))},e.prototype.parseSymbolWidth=function(t){if(this._isPixel=void 0,t)if(vt(t)){var e=Gt(t);isFinite(e)&&e>0&&(this._symWidth=e,this._isPixel=!0)}else if(wt(t)){var i=Ut(t);if(i&&i.indexOf("%")>=0){i=i.replace("%","");var n=parseFloat(i);isFinite(n)&&(n<0?n=0:n>100&&(n=100),this._symWidth=n/100,this._isPixel=!1)}else n=parseFloat(t),isFinite(n)&&n>0&&(this._symWidth=n,this._isPixel=!0)}},e.prototype.adjustLimits=function(t,e){this.dataInfo=t;var i=t.getMinX(),n=t.getMinY(),r=t.getMaxX(),o=t.getMaxY(),s=t.getDeltaX(),a=this.chart._xDataType;s<=0&&(s=1);var l=this.chart.series,h=l.length,u=0;this.parseSymbolWidth(this.symbolWidth),!this.isVolume||this.chart._getChartType()!==Ro.Column&&this.chart._getChartType()!==Ro.Candlestick?this.unload():this.load();for(var c=0;c<h;c++){var d=l[c];if(!d._isCustomAxisY()){var f=d._getBinding(1),p=d._getBinding(2),g=d._getBinding(3),_=d._getLength();if(_){var m=d._getSymbolSize();m>u&&(u=m);for(var w=0;w<_;w++){var b=d._getItem(w);b&&[f?b[f]:null,p?b[p]:null,g?b[g]:null].forEach((function(t){qo.isValid(t)&&null!==t&&((isNaN(n)||t<n)&&(n=t),(isNaN(o)||t>o)&&(o=t))}))}}}}var v=r-i,y=this.chart._plotRect;if(y&&y.width&&!this.isVolume){isNaN(m)&&(m=d._getSymbolSize()),m+=2;var x=y.width/(y.width-m)*v;i-=.5*(x-v),v=x}return!(a===lt.Date&&this.isVolume||a===lt.Number)||this.chart._getChartType()!==Ro.Column&&this.chart._getChartType()!==Ro.Candlestick?this.chart._isRotated()?new De(n,i,o-n,v):new De(i,n,v,o-n):new De(i-.5*s,n,r-i+s,o-n)},e.prototype.plotSeries=function(t,e,i,n,r,o,s,a){var l=this,h=Zt(n,Mo),u=this.chart.series.indexOf(n),c=n.getValues(0),d=n.getValues(1),f=this._symWidth,p=this.chart._isRotated();if(c){if(d||(d=this.dataInfo.getXVals()),d){var g=this.dataInfo.getDeltaX();g>0&&!1===this._isPixel&&(f*=g)}var _=c.length,m=!0;d?_=Math.min(_,d.length):(m=!1,d=new Array(_));var w=this._DEFAULT_WIDTH,b=h._getSymbolFill(u),v=h._getAltSymbolFill(u)||"transparent",y=h._getSymbolStroke(u),x=h._getAltSymbolStroke(u)||y,C=void 0===this._isPixel?h._getSymbolSize():f;t.stroke=y,t.strokeWidth=w,t.fill=b;for(var j,S,E=h._getBinding(1),k=h._getBinding(2),T=h._getBinding(3),P=p?i.actualMin:e.actualMin,A=p?i.actualMax:e.actualMax,R=0,O=null,D=null,I=this.getItemFormatter(n),M=0;M<_;M++)if(O=h._getItem(M)){var F=m?d[M]:M;if(qo.isValid(F)&&P<=F&&F<=A){var L=c[M],N=E?O[E]:null,z=k?O[k]:null,B=T?O[T]:null;if(t.startGroup(),this.isEqui&&null!==D?D[T]!==O[T]&&(j=D[T]<O[T]?v:b,S=D[T]<O[T]?x:y):(j=z<B?v:b,S=z<B?x:y),t.fill=j,t.stroke=S,t.strokeWidth=w,I){var H=new Ao(this.chart,new Re(e.convert(F),i.convert(L)),xo.SeriesSymbol);H._setData(h,M),I(t,H,(function(){l._drawSymbol(t,e,i,u,M,j,C,F,L,N,z,B)})),t.cssPriority=!0}else this._drawSymbol(t,e,i,u,M,j,C,F,L,N,z,B);t.endGroup(),n._setPointIndex(M,R),R++}D=O}}},e.prototype._drawSymbol=function(t,e,i,n,r,o,s,a,l,h,u,c){var d,f=null,p=null,g=null,_=null,m=this.chart._isRotated(),w=m?new yo(n,r,l,a):new yo(n,r,a,l);if(m){var b=i;i=e,e=b}if(!1===this._isPixel&&(g=e.convert(a-.5*s))>(_=e.convert(a+.5*s))){var v=g;g=_,_=v}a=e.convert(a),!1!==this._isPixel&&(g=a-.5*s,_=a+.5*s),this.isCandle?(qo.isValid(u)&&qo.isValid(c)&&(u=i.convert(u),c=i.convert(c),p=(f=Math.min(u,c))+Math.abs(u-c),m?(t.drawRect(f,g,p-f||1,_-g||1),d=new Co(new De(f,g,p-f||1,_-g||1))):(t.drawRect(g,f,_-g||1,p-f||1),d=new Co(new De(g,f,_-g||1,p-f||1))),d.tag=w,this.hitTester.add(d,n)),qo.isValid(l)&&(l=i.convert(l),null!==f&&(m?(t.drawLine(p,a,l,a),d.rect.width=d.rect.width+l):(t.drawLine(a,f,a,l),d.rect.top=l,d.rect.height=d.rect.height+l))),qo.isValid(h)&&(h=i.convert(h),null!==p&&(m?(t.drawLine(f,a,h,a),d.rect.left=h,d.rect.width=d.rect.width+h):(t.drawLine(a,p,a,h),d.rect.height=d.rect.height+h)))):this.isEqui?qo.isValid(l)&&qo.isValid(h)&&(l=i.convert(l),h=i.convert(h),p=(f=Math.min(l,h))+Math.abs(l-h),t.drawRect(g,f,_-g||1,p-f||1),(d=new Co(new De(g,f,_-g||1,p-f||1))).tag=w,this.hitTester.add(d,n)):this.isArms?(qo.isValid(u)&&qo.isValid(c)&&(u=i.convert(u),c=i.convert(c),p=(f=Math.min(u,c))+Math.abs(u-c),t.drawRect(g,f,_-g||1,p-f||1)),qo.isValid(l)&&null!==f&&(l=i.convert(l),t.drawLine(a,f,a,l)),qo.isValid(h)&&null!==p&&(h=i.convert(h),t.drawLine(a,p,a,h)),qo.isValid(l)&&qo.isValid(h)&&(t.fill="transparent",p=(f=Math.min(l,h))+Math.abs(l-h),t.drawRect(g,f,_-g||1,p-f||1),(d=new Co(new De(g,f,_-g||1,p-f||1))).tag=w,this.hitTester.add(d,n))):(qo.isValid(l)&&qo.isValid(h)&&(l=i.convert(l),h=i.convert(h),p=(f=Math.min(l,h))+Math.abs(l-h),m?(t.drawLine(h,a,l,a),d=new Co(new De(f,g,p-f||1,_-g||1))):(t.drawLine(a,h,a,l),d=new Co(new De(g,f,_-g||1,p-f||1))),d.tag=w,this.hitTester.add(d,n)),qo.isValid(u)&&(u=i.convert(u),m?t.drawLine(u,g,u,a):t.drawLine(g,u,a,u)),qo.isValid(c)&&(c=i.convert(c),m?t.drawLine(c,a,c,_):t.drawLine(a,c,_,c)))},e}(Ho),ts=function(){function t(){this._moveMarker=function(t){var e=t.currentTarget,i=this._markers,n=e.getAttribute("data-markerIndex");null!=n&&i[n].forEach((function(e){e._moveMarker(t)}))},this._markers=[],this._bindMoveMarker=this._moveMarker.bind(this)}return t.prototype.attach=function(t){var e,i,n=t.chart.hostElement,r=this._markers,o=n.getAttribute("data-markerIndex");null!=o?(i=r[o])&&Et(i)?i.push(t):(r[o]=[t],this._bindMoveEvent(n)):(e=r.length,i=[t],r.push(i),n.setAttribute("data-markerIndex",e),this._bindMoveEvent(n))},t.prototype.detach=function(t){var e,i,n=t.chart.hostElement,r=this._markers,o=n.getAttribute("data-markerIndex");null!=o&&((e=(i=r[o]).indexOf(t))>-1&&i.splice(e,1),0===i.length&&((e=r.indexOf(i))>-1&&(r[e]=void 0),this._unbindMoveEvent(n)))},t.prototype._unbindMoveEvent=function(t){var e=this._bindMoveMarker;t.removeEventListener("mousemove",e),"ontouchstart"in window&&t.removeEventListener("touchmove",e)},t.prototype._bindMoveEvent=function(t){var e=this._bindMoveMarker;t.addEventListener("mousemove",e),"ontouchstart"in window&&t.addEventListener("touchmove",e)},t}(),es=new ts;!function(t){t[t.None=0]="None",t[t.Vertical=1]="Vertical",t[t.Horizontal=2]="Horizontal",t[t.Both=3]="Both"}(Vo||(Vo={})),function(t){t[t.None=0]="None",t[t.Move=1]="Move",t[t.Drag=2]="Drag"}(Uo||(Uo={})),function(t){t[t.Auto=2]="Auto",t[t.Right=0]="Right",t[t.Left=1]="Left",t[t.Bottom=4]="Bottom",t[t.Top=6]="Top"}(Go||(Go={}));var is=function(){function t(t,e){this._wrapperMousedown=null,this._wrapperMouseup=null,this.positionChanged=new it,this._chart=t,t._markers.push(this),t.rendered.addHandler(this._initialize,this),this._resetDefaultValue(),Bt(this,e),this._initialize()}return Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this._isVisible},set:function(t){t!==this._isVisible&&(this._isVisible=Yt(t),this._marker&&this._toggleVisibility())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"seriesIndex",{get:function(){return this._seriesIndex},set:function(t){t!==this._seriesIndex&&(this._seriesIndex=Gt(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"horizontalPosition",{get:function(){return this._horizontalPosition},set:function(t){if(t!==this._horizontalPosition){if(this._horizontalPosition=Gt(t,!0),this._horizontalPosition<0||this._horizontalPosition>1)throw"horizontalPosition's value should be in (0, 1).";this._marker&&this._updateMarkerPosition()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){var t=this._chart.axisX,e=this.chart.pageToControl(this._targetPoint);return t.convertBack(e.x)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){var t=this._chart.axisY,e=this.chart.pageToControl(this._targetPoint);return t.convertBack(e.y)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"content",{get:function(){return this._content},set:function(t){t!==this._content&&(this._content=Xt(t),this._updateMarkerPosition())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalPosition",{get:function(){return this._verticalPosition},set:function(t){if(t!==this._verticalPosition){if(this._verticalPosition=Gt(t,!0),this._verticalPosition<0||this._verticalPosition>1)throw"verticalPosition's value should be in (0, 1).";this._marker&&this._updateMarkerPosition()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alignment",{get:function(){return this._alignment},set:function(t){t!==this._alignment&&(this._alignment=t,this._marker&&this._updatePositionByAlignment())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lines",{get:function(){return this._lines},set:function(t){(t=Jt(t,Vo))!=this._lines&&(this._lines=t,this._marker&&this._resetLinesVisibility())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"interaction",{get:function(){return this._interaction},set:function(t){(t=Jt(t,Uo))!=this._interaction&&(this._marker&&this._detach(),this._interaction=t,this._marker&&this._attach(),this._toggleElesDraggableClass(this._interaction==Uo.Drag))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dragThreshold",{get:function(){return this._dragThreshold},set:function(t){t!=this._dragThreshold&&(this._dragThreshold=Gt(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dragContent",{get:function(){return this._dragContent},set:function(e){e!==this._dragContent&&(this._dragContent=Yt(e)),he(this._dragEle,t._CSS_LINE_DRAGGABLE,this._interaction===Uo.Drag&&this._dragContent&&this._lines!==Vo.None)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dragLines",{get:function(){return this._dragLines},set:function(t){t!=this._dragLines&&(this._dragLines=Yt(t))},enumerable:!0,configurable:!0}),t.prototype.onPositionChanged=function(t){this.positionChanged.raise(this,t)},t.prototype.remove=function(){var t=this._chart;this._marker&&(t.rendered.removeHandler(this._initialize,this),this._detach(),this._removeMarker(),this._wrapperMoveMarker=null,this._wrapperMousedown=null,this._wrapperMouseup=null)},t.prototype._attach=function(){var e=this._chart.hostElement;this._interaction!==Uo.None?ae(e,t._CSS_TOUCH_DISABLED):le(e,t._CSS_TOUCH_DISABLED),es.attach(this),this._attachDrag()},t.prototype._attachDrag=function(){this._interaction===Uo.Drag&&(this._wrapperMousedown||(this._wrapperMousedown=this._onMousedown.bind(this)),this._wrapperMouseup||(this._wrapperMouseup=this._onMouseup.bind(this)),this._toggleDragEventAttach(!0))},t.prototype._detach=function(){le(this._chart.hostElement,t._CSS_TOUCH_DISABLED),es.detach(this),this._detachDrag()},t.prototype._detachDrag=function(){this._interaction===Uo.Drag&&this._toggleDragEventAttach(!1)},t.prototype._toggleDragEventAttach=function(t){var e=this._chart.hostElement,i=t?"addEventListener":"removeEventListener";e[i]("mousedown",this._wrapperMousedown),document[i]("mouseup",this._wrapperMouseup),"ontouchstart"in window&&e[i]("touchstart",this._wrapperMousedown),"ontouchend"in window&&document[i]("touchend",this._wrapperMouseup)},t.prototype._onMousedown=function(e){var i,n,r,o,s,a=this._getEventPoint(e);this._interaction===Uo.Drag&&(o=!(0===(i=Te(this._hLine)).width||0===i.height),s=!(0===(n=Te(this._vLine)).width||0===n.height),r=Te(this._markerContent),this._dragContent&&this._pointInRect(a,r)?(this._capturedEle=this._markerContent,this._contentDragStartPoint=new Re(a.x,a.y),this._mouseDownCrossPoint=new Re(this._targetPoint.x,this._targetPoint.y)):o&&(Math.abs(i.top-a.y)<=this._dragThreshold||Math.abs(a.y-i.top-i.height)<=this._dragThreshold||a.y>=i.top&&a.y<=i.top+i.height)?(this._capturedEle=this._hLine,this._contentDragStartPoint=void 0,ae(this._chart.hostElement,t._CSS_LINE_DRAGGABLE)):s&&(Math.abs(n.left-a.x)<=this._dragThreshold||Math.abs(a.x-n.left-n.width)<=this._dragThreshold||a.x>=n.left&&a.x<=n.left+n.width)&&(this._capturedEle=this._vLine,this._contentDragStartPoint=void 0,ae(this._chart.hostElement,t._CSS_LINE_DRAGGABLE)),e.preventDefault())},t.prototype._onMouseup=function(e){var i=this._alignment===Go.Auto&&this._capturedEle===this._markerContent&&this._lines!==Vo.None;this._capturedEle=void 0,this._contentDragStartPoint=void 0,this._mouseDownCrossPoint=void 0,i&&(this._updatePositionByAlignment(),this._updatePositionByAlignment()),le(this._chart.hostElement,t._CSS_LINE_DRAGGABLE)},t.prototype._moveMarker=function(t){var e,i,n,r,o,s,a=this._chart,l=this._getEventPoint(t),h=this._plotRect,u=this._interaction===Uo.Drag,c=this._lines===Vo.Horizontal,d=this._lines===Vo.Vertical,f=this._seriesIndex,p=Te(a.hostElement);if(h&&this._isVisible&&this._interaction!==Uo.None&&(this._interaction!==Uo.Drag||this._capturedEle&&this._lines!==Vo.None)){if(u&&(this._contentDragStartPoint?(l.x=c?this._targetPoint.x:this._mouseDownCrossPoint.x+l.x-this._contentDragStartPoint.x,l.y=d?this._targetPoint.y:this._mouseDownCrossPoint.y+l.y-this._contentDragStartPoint.y):c||!this._dragLines&&this._capturedEle===this._hLine?l.x=this._targetPoint.x:(d||!this._dragLines&&this._capturedEle===this._vLine)&&(l.y=this._targetPoint.y)),u&&this._lines===Vo.Horizontal||!this._dragLines&&this._capturedEle===this._hLine){if(l.y<=h.top||l.y>=h.top+h.height)return}else if(u&&this._lines===Vo.Vertical||!this._dragLines&&this._capturedEle===this._vLine){if(l.x<=h.left||l.x>=h.left+h.width)return}else if(l.x<=h.left||l.y<=h.top||l.x>=h.left+h.width||l.y>=h.top+h.height)return;if(null!=f&&f>=0&&f<a.series.length){if(null==(i=(e=a.series[f]).hitTest(new Re(l.x,NaN)))||null==i.x||null==i.y)return;n=e.axisX||a.axisX,r=e._getAxisY(),o=wt(o=St(i.x)?Wo._toOADate(i.x):i.x)?i.pointIndex:o,s=St(i.y)?Wo._toOADate(i.y):i.y;var g=this._getElementPaddingValuee(a.hostElement,"padding-left"),_=this._getElementPaddingValuee(a.hostElement,"padding-top");l.x=n.convert(o)+g+p.left,this.chart._stacking!=Oo.None&&(s=this._calcStackedValue(f,o,s)),l.y=r.convert(s)+_+p.top}this._updateMarkerPosition(l),t.preventDefault()}},t.prototype._calcStackedValue=function(t,e,i){for(var n=i,r=this.chart._stacking==Oo.Stacked100pc,o=0;o<t;o++){var s=this.chart.series[o],a=s.getValues(1),l=s.getValues(0);if(l)for(var h=0;h<l.length;h++)if(e===(a?a[h]:h)){isFinite(l[h])&&(r||this._sign(i)==this._sign(l[h]))&&(n+=l[h]);break}}return r&&n&&(n/=this.chart._dataInfo.getStackedAbsSum(e))>1&&(n=1),n},t.prototype._sign=function(t){return t>0?1:t<0?-1:0},t.prototype._getElementPaddingValuee=function(t,e){return+window.getComputedStyle(t,null).getPropertyValue(e).replace("px","")},t.prototype._show=function(t){(t||this._marker).style.display="block"},t.prototype._hide=function(t){(t||this._marker).style.display="none"},t.prototype._toggleVisibility=function(){this._isVisible?this._show():this._hide()},t.prototype._resetDefaultValue=function(){this._isVisible=!0,this._alignment=Go.Auto,this._lines=Vo.None,this._interaction=Uo.None,this._horizontalPosition=null,this._verticalPosition=null,this._content=null,this._seriesIndex=null,this._dragThreshold=15,this._dragContent=!1,this._dragLines=!1,this._targetPoint=new Re},t.prototype._initialize=function(){var t,e=this._chart.hostElement.querySelector("."+Wo._CSS_PLOT_AREA);this._plot=e,this._marker||this._createMarker(),e&&(this._plotRect=Te(e),t=e.getBBox(),this._plotRect.width=t.width,this._plotRect.height=t.height,this._updateMarkerSize(),this._updateLinesSize()),this._updateMarkerPosition(),this._wrapperMoveMarker=this._moveMarker.bind(this),this._attach()},t.prototype._createMarker=function(){var e,i;ae(e=document.createElement("div"),t._CSS_MARKER),(i=this._getContainer()).appendChild(e),this._markerContainer=i,this._marker=e,this._createChildren()},t.prototype._removeMarker=function(){var t=this._markerContainer;t.removeChild(this._marker),this._content=null,this._hLine=null,this._vLine=null,t.hasChildNodes()||(this._chart.hostElement.removeChild(this._markerContainer),this._markerContainer=null),this._marker=null},t.prototype._getContainer=function(){var e=this._chart.hostElement.querySelector(t._CSS_MARKER_CONTAINER);return e||(e=this._createContainer()),e},t.prototype._createContainer=function(){var e=document.createElement("div"),i=this._chart.hostElement;return ae(e,t._CSS_MARKER_CONTAINER),i.insertBefore(e,i.firstChild),e},t.prototype._createChildren=function(){var e,i,n,r,o=this._marker;(r=document.createElement("div")).style.position="absolute",r.style.height="100%",r.style.width="100%",o.appendChild(r),this._dragEle=r,ae(e=document.createElement("div"),t._CSS_MARKER_CONTENT),o.appendChild(e),this._markerContent=e,ae(i=document.createElement("div"),t._CSS_MARKER_HLINE),o.appendChild(i),this._hLine=i,ae(n=document.createElement("div"),t._CSS_MARKER_VLINE),o.appendChild(n),this._vLine=n,this._toggleElesDraggableClass(this._interaction===Uo.Drag),this._resetLinesVisibility()},t.prototype._toggleElesDraggableClass=function(e){he(this._hLine,t._CSS_LINE_DRAGGABLE,e),he(this._vLine,t._CSS_LINE_DRAGGABLE,e),he(this._dragEle,t._CSS_LINE_DRAGGABLE,e&&this._dragContent&&this._lines!==Vo.None)},t.prototype._updateMarkerSize=function(){var t=this._plotRect,e=this._chart.hostElement,i=window.getComputedStyle(e,null),n=Te(e);this._marker&&(this._marker.style.marginTop=t.top-n.top-(parseFloat(i.getPropertyValue("padding-top"))||0)+"px",this._marker.style.marginLeft=t.left-n.left-(parseFloat(i.getPropertyValue("padding-left"))||0)+"px")},t.prototype._updateLinesSize=function(){var t=this._plotRect;this._hLine&&this._vLine&&(this._hLine.style.width=t.width+"px",this._vLine.style.height=t.height+"px")},t.prototype._resetLinesVisibility=function(){this._hLine&&this._vLine&&(this._hide(this._hLine),this._hide(this._vLine),this._lines!==Vo.Horizontal&&this._lines!==Vo.Both||this._show(this._hLine),this._lines!==Vo.Vertical&&this._lines!==Vo.Both||this._show(this._vLine))},t.prototype._updateMarkerPosition=function(t){var e,i,n=this._plotRect,r=this._targetPoint,o=!1;this._interaction,Uo.Drag,this._plot&&(e=n.left+n.width*(this._horizontalPosition||0),i=n.top+n.height*(this._verticalPosition||0),null==this._horizontalPosition&&t&&(e=t.x),null==this._verticalPosition&&t&&(i=t.y),e===r.x&&i===r.y||(o=!0),r.x=e,r.y=i,this._toggleVisibility(),this._content&&this._updateContent(),o&&this._raisePositionChanged(e,i),this._updatePositionByAlignment(!!t))},t.prototype._updateContent=function(){var t,e=this._chart,i=this._targetPoint,n=e.hitTest(i);t=this._content.call(null,n,i),this._markerContent.innerHTML=t||""},t.prototype._raisePositionChanged=function(t,e){this._plotRect,this.onPositionChanged(new Re(t,e))},t.prototype._updatePositionByAlignment=function(t){var e=this._alignment,i=this._targetPoint,n=this._marker,r=0,o=0,s=n.clientWidth,a=n.clientHeight,l=this._plotRect;this._plot&&(!this._capturedEle||this._capturedEle&&this._capturedEle!==this._markerContent?(e===Go.Auto?(i.x+s+12>l.left+l.width&&i.x-s>=0&&(o=s),r=a,i.y-a<l.top&&(r=0)):(1==(1&e)&&(o=s),2==(2&e)&&(r=a)),this._interaction===Uo.Move&&0===r&&0===o&&null==this.verticalPosition&&(o=-12)):(parseInt(this._hLine.style.top)>0&&(r=a),parseInt(this._vLine.style.left)>0&&(o=s)),n.style.left=i.x-o-l.left+"px",n.style.top=i.y-r-l.top+"px",this._hLine.style.top=r+"px",this._hLine.style.left=l.left-i.x+o+"px",this._vLine.style.top=l.top-i.y+r+"px",this._vLine.style.left=o+"px")},t.prototype._getEventPoint=function(t){return t instanceof MouseEvent?new Re(t.pageX,t.pageY):new Re(t.changedTouches[0].pageX,t.changedTouches[0].pageY)},t.prototype._pointInRect=function(t,e){return!(!t||!e)&&t.x>=e.left&&t.x<=e.left+e.width&&t.y>=e.top&&t.y<=e.top+e.height},t._CSS_MARKER="wj-chart-linemarker",t._CSS_MARKER_HLINE="wj-chart-linemarker-hline",t._CSS_MARKER_VLINE="wj-chart-linemarker-vline",t._CSS_MARKER_CONTENT="wj-chart-linemarker-content",t._CSS_MARKER_CONTAINER="wj-chart-linemarker-container",t._CSS_LINE_DRAGGABLE="wj-chart-linemarker-draggable",t._CSS_TOUCH_DISABLED="wj-flexchart-touch-disabled",t}(),ns=function(t){function e(){var e=t.call(this)||this;return e.hasSymbols=!1,e.hasLines=!0,e.isSpline=!1,e.isStep=!1,e.stacking=Oo.None,e.stackPos={},e.stackNeg={},e.clipping=!1,e}return Lr(e,t),e.prototype.clear=function(){t.prototype.clear.call(this),this.stackNeg={},this.stackPos={}},e.prototype.adjustLimits=function(t,e){this.dataInfo=t;var i=t.getMinX(),n=t.getMinY(),r=t.getMaxX(),o=t.getMaxY();if(this.isSpline&&!this.chart.axisY._getLogBase()){var s=.1*(o-n);n-=s,o+=s}return this.rotated?new De(n,i,o-n,r-i):new De(i,n,r-i,o-n)},e.prototype.plotSeries=function(t,e,i,n,r,o,s,a){var l=[],h=Zt(n,Mo),u=this.chart.series.indexOf(n),c=n.getValues(0),d=n.getValues(1);if(c){d||(d=this.dataInfo.getXVals());var f=Ho.cloneStyle(n.style,["fill"]),p=c.length,g=!0;d?p=Math.min(p,d.length):(g=!1,d=new Array(p));var _=this._DEFAULT_WIDTH,m=h._getSymbolFill(u),w=h._getAltSymbolFill(u)||m,b=h._getSymbolStroke(u),v=h._getAltSymbolStroke(u)||b,y=h._getSymbolSize();t.stroke=b,t.strokeWidth=_,t.fill=m;var x=new Float64Array(p),C=new Float64Array(p),j=0,S=new Int8Array(p),E=0,k=this.rotated,T=this.stacking!=Oo.None&&!h._isCustomAxisY(),P=this.stacking==Oo.Stacked100pc&&!h._isCustomAxisY();void 0!==h._getChartType()&&(T=P=!1);for(var A=h.interpolateNulls,R=!1,O=this.getItemFormatter(n),D=0;D<p;D++){var I=g?d[D]:D,M=c[D];if(isFinite(I)&&isFinite(M)){if(T)if(P&&(M/=this.dataInfo.getStackedAbsSum(I)),M>=0){var F=isNaN(this.stackPos[I])?0:this.stackPos[I];M=this.stackPos[I]=F+M}else F=isNaN(this.stackNeg[I])?0:this.stackNeg[I],M=this.stackNeg[I]=F+M;var L;if(k){L=new yo(u,D,M,I);var N=e.convert(M);M=i.convert(I),I=N}else L=new yo(u,D,I,M),I=e.convert(I),M=i.convert(M);if(isNaN(I)||isNaN(M))R=!0,!0!==A&&(x[j]=NaN,C[j++]=NaN),S[E++]=1,a&&l.push(null);else{x[j]=I,C[j++]=M,E++,a&&l.push(new Re(I,M));var z=new jo(new Re(I,M),.5*y);z.tag=L,this.hitTester.add(z,u)}}else R=!0,!0!==A&&(x[j]=NaN,C[j++]=NaN),S[E++]=1,a&&l.push(null)}var B=0;if(this.hasLines)if(t.fill=null,R&&!0!==A){var H=[],V=[];for(D=0;D<p;D++)isNaN(x[D])?(H.length>1&&(this._drawLines(t,H,V,null,f,this.chart._plotrectId),this.hitTester.add(new So(H,V),u),B++),H=[],V=[]):(H.push(x[D]),V.push(C[D]));H.length>1&&(this._drawLines(t,H,V,null,f,this.chart._plotrectId),this.hitTester.add(new So(H,V),u),B++)}else this._drawLines(t,x,C,null,f,this.chart._plotrectId,j),this.hitTester.add(new So(x,C),u),B++;if(this.hasSymbols&&y>0||O){t.fill=m;var U=0;for(D=0;D<p;D++)A&&S[D]||(I=x[U],M=C[U],(!1===this.hasLines||O)&&(t.fill=c[D]>0?m:w,t.stroke=c[D]>0?b:v,t.strokeWidth=_),this.isValid(I,M,e,i)&&(this._drawSymbol(t,I,M,y,h,D,O),n._setPointIndex(D,B),B++),U++)}a&&l&&l.length&&a(l)}},e.prototype._drawLines=function(t,e,i,n,r,o,s){if(this.isSpline&&s>3)t.drawSplines(e,i,n,r,o,s);else if(this.isStep){var a=this._createSteps(e,i,s);e=a.x,i=a.y,t.drawLines(e,i,n,r,o)}else t.drawLines(e,i,n,r,o,s)},e.prototype._drawSymbol=function(t,e,i,n,r,o,s){var a=this;if(s){t.startGroup();var l=new Ao(this.chart,new Re(e,i),xo.SeriesSymbol);l._setData(r,o),s(t,l,(function(){a.hasSymbols&&n>0&&a._drawDefaultSymbol(t,e,i,n,r.symbolMarker,r.symbolStyle)})),t.cssPriority=!0,t.endGroup()}else this._drawDefaultSymbol(t,e,i,n,r.symbolMarker,r.symbolStyle)},e.prototype._drawDefaultSymbol=function(t,e,i,n,r,o){r==Po.Dot?t.drawEllipse(e,i,.5*n,.5*n,null,o):r==Po.Box&&t.drawRect(e-.5*n,i-.5*n,n,n,null,o)},e}(Ho),rs=function(t){function e(){var e=t.call(this)||this;return e._MIN_SIZE=5,e._MAX_SIZE=30,e.hasLines=!1,e.hasSymbols=!0,e.clipping=!0,e}return Lr(e,t),e.prototype.adjustLimits=function(e,i){var n=this.getNumOption("minSize","bubble");this._minSize=n||this._MIN_SIZE;var r=this.getNumOption("maxSize","bubble");this._maxSize=r||this._MAX_SIZE;for(var o=this.chart.series,s=o.length,a=NaN,l=NaN,h=0;h<s;h++)if(((m=o[h])._getChartType()==Ro.Bubble||null==m._getChartType()&&m._chart._getChartType()==Ro.Bubble)&&(w=m._getBindingValues(1)))for(var u=w.length,c=0;c<u;c++)isFinite(w[c])&&((isNaN(a)||w[c]<a)&&(a=w[c]),(isNaN(l)||w[c]>l)&&(l=w[c]));this._minValue=a,this._maxValue=l;var d=t.prototype.adjustLimits.call(this,e,i),f=i.left,p=i.right,g=i.top,_=i.bottom;for(h=0;h<s;h++){var m;if((m=o[h])._getChartType()==Ro.Bubble||null==m._getChartType()&&m._chart._getChartType()==Ro.Bubble){var w=m._getBindingValues(1),b=m.getValues(1),v=m.getValues(0);if(w&&b&&v){var y=w.length;for(c=0;c<y;c++){var x=b?b[c]:c,C=v[c],j=w[c];qo.isValid(x,C,j)&&(x=i.left+i.width*(x-d.left)/d.width,C=i.top+i.height*(C-d.top)/d.height,x-(j=this._minSize+(this._maxSize-this._minSize)*(j-a)/(l-a))<f&&(f=x-j),x+j>p&&(p=x+j),C-j<g&&(g=C-j),C+j>_&&(_=C+j))}}}}f=i.left-f+5,p=p-i.right+5,g=i.top-g+5,_=_-i.bottom+5;var S=this.chart.axisX,E=this.chart.axisY;if(!S._isLogAxis())if(this.stacking==Oo.Stacked100pc&&this.rotated){var k=(i.width-this._maxSize)/d.width;d.left-=.5*this._maxSize/k,d.width+=this._maxSize/k}else k=(i.width-(f+p))/d.width,d.left-=f/k,d.width+=(f+p)/k;if(!E._isLogAxis())if(this.stacking!=Oo.Stacked100pc||this.rotated)T=(i.height-(g+_))/d.height,d.top-=g/T,d.height+=(g+_)/T;else{var T=(i.height-this._maxSize)/d.height;d.top-=.5*this._maxSize/T,d.height+=this._maxSize/T}return d},e.prototype._drawSymbol=function(t,e,i,n,r,o,s){var a=this;if(null==this._minSize){var l=this.getNumOption("minSize","bubble");this._minSize=l||this._MIN_SIZE}if(null==this._maxSize){var h=this.getNumOption("maxSize","bubble");this._maxSize=h||this._MAX_SIZE}var u=r._getItem(o);if(u){var c=r._getBinding(1);if(c&&(n=u[c],isFinite(n))){null==n&&(n=this._minValue);var d=this._minValue==this._maxValue?1:Math.sqrt((n-this._minValue)/(this._maxValue-this._minValue));if(n=this._minSize+(this._maxSize-this._minSize)*d,s){var f=new Ao(this.chart,new Re(e,i),xo.SeriesSymbol);f._setData(r,o),t.startGroup(),s(t,f,(function(){a._drawDefaultSymbol(t,e,i,n,r.symbolMarker,r.symbolStyle)})),t.endGroup()}else this._drawDefaultSymbol(t,e,i,n,r.symbolMarker,r.symbolStyle);var p=this.hitTester._map[this.chart.series.indexOf(r)];if(null!=p)for(var g=p.length-1;g>=0;g--){var _=p[g];if(_.tag&&_.tag.pointIndex==o){var m=_t(_,jo);m&&m.setRadius(.5*n)}}}}},e}(ns);Le("wijmo.chart",l);var os,ss=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),as=function(){function t(){this._text=""}return Object.defineProperty(t.prototype,"length",{get:function(){return this._text.length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this._text},t.prototype.append=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];this._text=(t=this._text).concat.apply(t,e)},t.prototype.joinToList=function(t){for(var e,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var r=i.join();this.length>0&&r.length>0?this._text=(e=this._text).concat.apply(e,[t].concat(i)):r.length>0&&(this._text=r)},t.prototype.joinItemToList=function(t){this.joinToList(",",t)},t.prototype.wrap=function(t,e){this.length>0&&(this._text=t.concat(this._text,e))},t.wrap=function(t,e,i){return e.length>0?t.concat(e,i):""},t}(),ls=function(){function t(){this._cntAll=0,this._cnt=0,this._cntn=0,this._sum=0,this._sum2=0,this._min=null,this._max=null,this._first=null,this._last=null}return t.prototype.add=function(e,i){e instanceof t?(this._sum+=e._sum,this._sum2+=e._sum2,this._max=this._max&&e._max?Math.max(this._max,e._max):this._max||e._max,this._min=this._min&&e._min?Math.min(this._min,e._min):this._min||e._min,this._cnt+=e._cnt,this._cntn+=e._cntn,this._cntAll+=e._cntAll):(this._cntAll++,null!=e&&(this._cnt++,xt(e)&&(e=e?1:0),(null==this._min||e<this._min)&&(this._min=e),(null==this._max||e>this._max)&&(this._max=e),null==this._first&&(this._first=e),this._last=e,vt(e)&&!isNaN(e)&&(vt(i)&&(e*=i),this._cntn++,this._sum+=e,this._sum2+=e*e)))},t.prototype.getAggregate=function(t){if(0==this._cnt)return null;var e=0==this._cntn?0:this._sum/this._cntn,i=Ye;switch(t){case i.None:return null;case i.CntAll:return this._cntAll;case i.Avg:return e;case i.Cnt:return this._cnt;case i.Max:return this._max;case i.Min:return this._min;case i.Rng:return this._max-this._min;case i.Sum:return this._sum;case i.VarPop:return this._cntn<=1?0:this._sum2/this._cntn-e*e;case i.StdPop:return this._cntn<=1?0:Math.sqrt(this._sum2/this._cntn-e*e);case i.Var:return this._cntn<=1?0:(this._sum2/this._cntn-e*e)*this._cntn/(this._cntn-1);case i.Std:return this._cntn<=1?0:Math.sqrt((this._sum2/this._cntn-e*e)*this._cntn/(this._cntn-1));case i.First:return this._first;case i.Last:return this._last}throw"Invalid aggregate type."},t}(),hs=function(){function t(t,e,i,n,r){this._fields=t,this._fieldCount=e,this._valueFields=i,this._valueFieldIndex=n,this._item=r}return Object.defineProperty(t.prototype,"fields",{get:function(){return this._fields},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueFields",{get:function(){return this._valueFields},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueField",{get:function(){return this._valueFields[this._valueFieldIndex]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"values",{get:function(){if(null==this._vals){this._vals=new Array(this._fieldCount);for(var t=0;t<this._fieldCount;t++){var e=this._fields[t];this._vals[t]=e._getValue(this._item,!1)}}return this._vals},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fieldNames",{get:function(){if(!this._names){this._names=[];for(var t=0;t<this.fields.length;t++){var e=this._fields[t];this._names.push(e._getName())}}return this._names},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aggregate",{get:function(){var t=this._valueFields,e=this._valueFieldIndex;return Ht(t&&e>-1&&e<t.length,"aggregate not available for this key"),t[e].aggregate},enumerable:!0,configurable:!0}),t.prototype.getValue=function(t,e){if(0==this.values.length)return Ve.olap.PivotEngine.grandTotal;if(t>this.values.length-1)return Ve.olap.PivotEngine.subTotal;var i=this.values[t];if(e&&!wt(i)){var n=this.fields[t],r=n?n.format:"";i=Ue.format(this.values[t],r)}return i},Object.defineProperty(t.prototype,"level",{get:function(){return this._fieldCount==this._fields.length?-1:this._fieldCount},enumerable:!0,configurable:!0}),t.prototype.compareTo=function(t){var e=0;if(null!=t&&t._fields==this._fields){for(var i=this.values,n=t.values,r=Math.min(i.length,n.length),o=0;o<r;o++){var s=null!=i[o]?Rt(i[o]):null,a=i[o],l=n[o],h=this._fields[o];if(h.sortComparer&&vt(e=h.sortComparer(a,l))){if(0!=e)return h.descending?-e:e}else{if(s==lt.Date){var u=h.format;if(u&&"d"!=u&&"D"!=u){var c=h._getValue(this._item,!0),d=h._getValue(t._item,!0),f=Ue.parseDate(c,u),p=Ue.parseDate(d,u);f&&p?(a=f,l=p):(a=c,l=d)}}if(a!=l&&!Ie.equals(a,l))return null==a?1:null==l?-1:(e=a<l?-1:1,h.descending?-e:e)}}if(i.length==n.length&&0!=(e=this._valueFieldIndex-t._valueFieldIndex))return e;if(0!=(e=n.length-i.length))return e*(this.fields.engine.totalsBeforeData?-1:1)}return 0},t.prototype.matchesItem=function(t){for(var e=0;e<this._vals.length;e++)if(this.getValue(e,!0)!=this._fields[e]._getValue(t,!0))return!1;return!0},t.prototype.toString=function(t){if(!this._key||t){for(var e="",i=0;i<this._fieldCount;i++){var n=this._fields[i];e+=n._getName()+":"+n._getValue(this._item,!0)+";"}if(this._valueFields?e+=this._valueFields[this._valueFieldIndex]._getName()+":0;":e+="{total}",t)return e+t.toString();this._key=e}return this._key},t._ROW_KEY_NAME="$rowKey",t}(),us="This collection is not editable.",cs=function(t){function e(e){var i=t.call(this)||this;return i.canAddNew=i.canRemove=!1,i._ng=Zt(e,js,!1),i}return ss(e,t),Object.defineProperty(e.prototype,"engine",{get:function(){return this._ng},enumerable:!0,configurable:!0}),e.prototype.implementsInterface=function(e){return"IEditableCollectionView"!=e&&t.prototype.implementsInterface.call(this,e)},e.prototype.editItem=function(t){Ht(!1,us)},e.prototype.addNew=function(){Ht(!1,us)},e.prototype._performSort=function(t){var e=this._ng;if(e.sortableGroups&&e._getShowRowTotals()==ps.Subtotals){var i=0,n=t.length-1;0==this._getItemLevel(t[i])&&i++,0==this._getItemLevel(t[n])&&n--,this._sortGroups(t,1,i,n)}else this._sortData(t)},e.prototype._performFilter=function(t){return this._ng&&0==this._ng.valueFields.length&&0==this._ng.rowFields.length?[]:this.canFilter&&this._filter?t.filter(this._filter,this):t},e.prototype._getGroupRange=function(t,e){var i=this._ng,n=t.indexOf(e),r=n,o=this._getItemLevel(t[n]);if(i.totalsBeforeData)for(r=n;r<t.length-1&&!((s=this._getItemLevel(t[r+1]))>-1&&s<=o);r++);else for(n=r;n;n--){var s;if((s=this._getItemLevel(t[n-1]))>-1&&s<=o)break}return[n,r]},e.prototype._sortGroups=function(e,i,n,r){for(var o=[],s=n;s<=r;s++)this._getItemLevel(e[s])==i&&o.push(e[s]);if(o.length){t.prototype._performSort.call(this,o);var a=[];for(s=0;s<o.length;s++){for(var l=this._getGroupRange(e,o[s]),h=a.length,u=l[0];u<=l[1];u++)a.push(e[u]);var c=a.length-1;if(i<this._ng.rowFields.length-1)this._sortGroups(a,i+1,n+h,c);else{var d=this._ng.totalsBeforeData?1:0;this._sortSegment(a,h+d,c+d)}}for(s=0;s<a.length;s++)e[n+s]=a[s]}else this._sortData(e)},e.prototype._sortSegment=function(e,i,n){var r=e.slice(i,n);t.prototype._performSort.call(this,r);for(var o=0;o<r.length;o++)e[i+o]=r[o]},e.prototype._sortData=function(e){for(var i=0;i<e.length;i++)if(!(this._getItemLevel(e[i])>-1)){for(var n=i;n<e.length-1&&!(this._getItemLevel(e[n+1])>-1);n++);if(n>i){var r=e.slice(i,n+1);t.prototype._performSort.call(this,r);for(var o=0;o<r.length;o++)e[i+o]=r[o]}i=n}},e.prototype._getItemLevel=function(t){return t[hs._ROW_KEY_NAME].level},e}(ei),ds=function(){function t(t,e,i,n){this._isExplicitAggregate=!1,this.propertyChanged=new it,this._ng=t,this._binding=new Js(this,e),this._header=i||te(e),this._showAs=gs.NoCalculation,this._isContentHtml=!1,this._visible=!0,this._format="",this._filter=new Xs(this),Bt(this,n),null==this._dataType&&this._updateDataTypeByBinding(),this._isExplicitAggregate||this._updateAggregateByDataType()}return Object.defineProperty(t.prototype,"binding",{get:function(){return this._binding?this._binding.path:null},set:function(t){if(t!=this.binding){var e=this.binding,i=Ut(t);this._binding=i?new Js(this,i):null,null==this._dataType&&(this._updateDataTypeByBinding(),this._isExplicitAggregate||this._updateAggregateByDataType());var n=new ot("binding",e,t);this.onPropertyChanged(n)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getValue",{get:function(){return this._getValueFn},set:function(t){this._getValueFn=Xt(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getAggregateValue",{get:function(){return this._getAggValueFn},set:function(t){this._getAggValueFn=Xt(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"header",{get:function(){return this._header},set:function(t){t=Ut(t,!1);var e=this._ng.fields.getField(t);!t||e&&e!=this?Ht(!1,"field headers must be unique and non-empty."):this._setProp("_header",Ut(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aggregate",{get:function(){return this._aggregate},set:function(t){this._isExplicitAggregate=!0,this._setProp("_aggregate",Jt(t,Ye))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showAs",{get:function(){return this._showAs},set:function(t){this._setProp("_showAs",Jt(t,gs))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weightField",{get:function(){return this._weightField},set:function(e){this._setProp("_weightField",Zt(e,t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataType",{get:function(){return this._dataType},set:function(t){this._setProp("_dataType",Jt(t,lt))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isMeasure",{get:function(){return this._dataType==lt.Number},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subFields",{get:function(){return this._subFields},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this._format},set:function(t){this._setProp("_format",Ut(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(t){this._setProp("_align",Ut(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(t){this._setProp("_width",Gt(t,!0,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._setProp("_wordWrap",Yt(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"descending",{get:function(){return!!this._descending},set:function(t){this._setProp("_descending",Yt(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isContentHtml",{get:function(){return this._isContentHtml},set:function(t){this._setProp("_isContentHtml",Yt(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(t){this._setProp("_visible",Yt(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortComparer",{get:function(){return this._srtCmp},set:function(t){t!=this.sortComparer&&(this._srtCmp=Xt(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"engine",{get:function(){return this._ng},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this.engine?this.engine.collectionView:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isActive",{get:function(){return this._getIsActive()},set:function(t){this._setIsActive(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentField",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.header},enumerable:!0,configurable:!0}),t.prototype.onPropertyChanged=function(t){this.propertyChanged.raise(this,t),this._ng._fieldPropertyChanged(this,t)},t.prototype._updateDataTypeByBinding=function(){if(this._ng&&this._binding)for(var t=this._ng.collectionView,e=t?t.items.length:0,i=0;i<e;i++){var n=t.items[i];if(null!=n){this._dataType=Rt(this._binding.getValue(n));break}}},t.prototype._updateAggregateByDataType=function(){this._aggregate=this.dataType==lt.Number?Ye.Sum:Ye.Cnt},t.prototype._copy=function(t,e){var i=this;return"subFields"==t?(this._subFields?this._subFields.splice(0,this._subFields.length):this._subFields=[],e&&e.length&&e.forEach((function(t){var e=i.engine._createField(t,i._autoGenerated);i._subFields.push(e)})),!0):"filter"==t&&(this._setFilterProxy(e),!0)},t.prototype._getFilterProxy=function(){var t=this.filter;if(t.conditionFilter.isActive){var e=t.conditionFilter,i={condition1:{operator:e.condition1.operator,value:e.condition1.value},and:e.and,condition2:{operator:e.condition2.operator,value:e.condition2.value}};return e.condition1.isActive||delete i.condition1,e.condition2.isActive||delete i.condition2,i}if(t.valueFilter.isActive){var n=t.valueFilter;return{filterText:n.filterText,showValues:n.showValues}}return Ht(!1,"inactive filters shouldn't be persisted."),null},t.prototype._setFilterProxy=function(t){var e=this.filter,i=e.conditionFilter,n=e.valueFilter;if(e.clear(),t.conditionFilter?t=t.conditionFilter:t.valueFilter&&(t=t.valueFilter),t.condition1){var r=t.condition1,o=Dt(r.value,this.dataType);i.condition1.value=o||r.value,i.condition1.operator=r.operator;var s=t.condition2;if(s){var a=Dt(s.value,this.dataType);i.condition2.value=a||s.value,i.condition2.operator=s.operator}xt(t.and)&&(i.and=t.and)}t.showValues&&(n.filterText=t.filterText,n.showValues=t.showValues)},t.prototype._getIsActive=function(){if(this._ng&&!this._hasSubFields())for(var t=this._ng._viewLists,e=0;e<t.length;e++)if(t[e].indexOf(this)>-1)return!0;return!1},t.prototype._setIsActive=function(t){if(this._ng&&!this._hasSubFields()){var e=this.isActive;if((t=Yt(t))!=e)if(t)this.isMeasure?this._ng.valueFields.push(this):this._ng.rowFields.push(this);else{for(var i=this._ng._viewLists,n=0;n<i.length;n++)for(var r=i[n],o=0;o<r.length;o++)(a=r[o])!=this&&a.parentField!=this||(r.removeAt(o),o--);var s=this._ng.fields;for(o=s.length-1;o>=0;o--){var a;(a=s[o]).parentField==this&&(s.removeAt(o),o--)}}}},t.prototype._hasSubFields=function(){return null!=this._subFields&&this._subFields.length>0},t.prototype._clone=function(){var e=new t(this._ng,this.binding);this._ng._copyProps(e,this,t._props),e._autoGenerated=!0,e._parent=this;for(var i=this.header.replace(/\d+$/,""),n=2;;n++){var r=i+n.toString();if(null==this._ng.fields.getField(r)){e._header=r;break}}return e},t.prototype._setProp=function(t,e,i){var n=this[t];if(e!=n){this[t]=e;var r=new ot(t.substr(1),n,e);this.onPropertyChanged(r)}},t.prototype._getName=function(){return this.header||this.binding},t.prototype._getValue=function(t,e){var i=this._binding,n=null;return t&&(n=Ct(this._getValueFn)?this._getValueFn.call(this,t):this._ng.isServer?t[this.key]:i._key?t[i._key]:i.getValue(t)),e&&"string"!=typeof n?Ue.format(n,this._format):n},t.prototype._getWeight=function(t){var e=this._weightField?this._weightField._getValue(t,!1):null;return vt(e)?e:null},t._props=["dataType","format","width","wordWrap","aggregate","showAs","descending","isContentHtml","visible"],t}(),fs=function(t){function e(e,i,n,r){var o=t.call(this,e,i,n,r)||this;return Ht(null!=o.dimensionType,"CubePivotField objects must specify the field's dimensionType"),o}return ss(e,t),Object.defineProperty(e.prototype,"header",{get:function(){return this._header},set:function(t){this._setProp("_header",Ut(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dimensionType",{get:function(){return this._dimensionType},set:function(t){this._setProp("_dimensionType",Jt(t,os,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isMeasure",{get:function(){switch(this._dimensionType){case 1:case 2:case 8:return!0}return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.binding},enumerable:!0,configurable:!0}),e.prototype._clone=function(){throw"CubePivotField objects cannot be cloned"},e}(ds);!function(t){t[t.Dimension=0]="Dimension",t[t.Measure=1]="Measure",t[t.Kpi=2]="Kpi",t[t.NameSet=3]="NameSet",t[t.Attribute=4]="Attribute",t[t.Folder=5]="Folder",t[t.Hierarchy=6]="Hierarchy",t[t.Date=7]="Date",t[t.Currency=8]="Currency"}(os||(os={}));var ps,gs,_s=function(t){function e(e,i){var n=t.call(this,e,null,D()&&!R())||this;n._hdr=null,n._mSel=!1,n._updatingFilter=!1,n._propChanged=!1,n._fldPropChangeBnd=n._fldPropChange.bind(n);var r=n.getTemplate();n.applyTemplate("wj-slicer wj-nocheck wj-control wj-content",r,{_root:"root",_divHdr:"div-hdr",_divHdrText:"div-hdr-text",_btnMSel:"btn-msel",_btnClear:"btn-clear"});var o=Ve.olap.Slicer,s=new yi;return ue(n._btnMSel,"aria-label",o.multiSelect),ue(n._btnClear,"aria-label",o.clearFilter),s.setTooltip(n._btnMSel,o.multiSelect),s.setTooltip(n._btnClear,o.clearFilter),n.addEventListener(n._btnClear,"click",(function(t){n._clear()})),n.addEventListener(n._btnMSel,"click",(function(t){n.multiSelect=!n.multiSelect})),n.initialize(i),n}return ss(e,t),Object.defineProperty(e.prototype,"field",{get:function(){return this._fld},set:function(t){var e=this;if(t!=this._fld){this._divListBox&&(ge(this._divListBox),this._divListBox=null,this._lbx.dispose(),this._lbx=null),this._edt&&(this._clear(),this._edt.dispose());var i=this._fld;if(i&&(i.filter.filterType=this._originalFilterType,i.filter.valueFilter.uniqueValues=this._uniqueValues,i.propertyChanged.removeHandler(this._fldPropChangeBnd)),i=this._fld=Zt(t,ds,!0)){this._originalFilterType=i.filter.filterType,i.filter.filterType=jr.Value;var n=i.engine;if(this._uniqueValues=i.filter.valueFilter.uniqueValues,n.isServer&&!this._uniqueValues){var r=n._getUniqueValues(i);i.filter.valueFilter.uniqueValues=r}i.propertyChanged.addHandler(this._fldPropChangeBnd),i.isActive||i.engine.filterFields.push(i);var o=document.createElement("div");this._edt=new Or(o,i.filter.valueFilter)}this._edt&&(this._divListBox=this._edt.hostElement.querySelector(".wj-listbox"),this._root.appendChild(this._divListBox),this._lbx=li.getControl(this._divListBox),this._lbx.checkedItemsChanged.addHandler((function(t,n){if(!e._propChanged){var r=e._lbx.selectedItem;!e.multiSelect&&r&&(e._mSel=!0,e._lbx.checkedItems=[r],e._mSel=!1)}e._edt&&i&&(e._updateFilter(),i.engine.invalidate())}))),this._updateHeader(),D()&&!R()&&this.refresh()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"header",{get:function(){return this._hdr},set:function(t){t!=this._hdr&&(this._hdr=Ut(t),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showHeader",{get:function(){return"none"!=this._divHdr.style.display},set:function(t){this._divHdr.style.display=Yt(t)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showCheckboxes",{get:function(){return!se(this.hostElement,"wj-nocheck")},set:function(t){he(this.hostElement,"wj-nocheck",!Yt(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multiSelect",{get:function(){return this._mSel},set:function(t){this._mSel=Yt(t),he(this._btnMSel,"wj-state-active",this._mSel)},enumerable:!0,configurable:!0}),e.prototype.refresh=function(e){var i=this;void 0===e&&(e=!0),D()&&!R()&&this.hostElement&&setTimeout((function(){Pe(i._lbx.hostElement,{height:i.hostElement.clientHeight-i._divHdr.offsetHeight})})),t.prototype.refresh.call(this,e)},e.prototype._fldPropChange=function(t,e){switch(this._propChanged=!0,e.propertyName){case"header":this._updateHeader();break;case"format":case"binding":t.filter.clear(),this._edt.updateEditor();break;case"filter":this._updatingFilter||this._edt.updateEditor()}this._propChanged=!1},e.prototype._updateHeader=function(){var t=this._hdr;t||null==this._fld||(t=this._fld.header),this._divHdrText.textContent=t},e.prototype._clear=function(){this._edt&&(this._edt.clearEditor(!1),this._updateFilter(),this._fld.engine.invalidate())},e.prototype._updateFilter=function(){this._updatingFilter=!0,this._edt.updateFilter(),this._updatingFilter=!1},e.controlTemplate='<div wj-part="root"><div wj-part="div-hdr" class="wj-header"><div wj-part="div-hdr-text"></div><button wj-part="btn-msel" class="wj-btn btn-msel" tabindex="-1"><span class="wj-glyph">&#8801;</span></button><button wj-part="btn-clear" class="wj-btn btn-clear" tabindex="-1"><span class="wj-glyph">&times;</span></button></div></div>',e}(li),ms=function(t){function e(){var e=t.call(this,document.createElement("div"),{header:"PivotGrid Context Menu",displayMemberPath:"text",commandParameterPath:"parm",command:{executeCommand:function(t){e._execute(t)},canExecuteCommand:function(t){return e._canExecute(t)}}})||this;return e.itemsSource=e._getMenuItems(),ae(e.dropDown,"context-menu wj-olap-context-menu"),e}return ss(e,t),e.prototype.refresh=function(e){void 0===e&&(e=!0),this.itemsSource=this._getMenuItems(),t.prototype.refresh.call(this,e)},e.prototype.attach=function(t){var e=this;Ht(t instanceof Ts,"Expecting a PivotGrid control...");var i=t.hostElement;i.addEventListener("contextmenu",(function(n){if(t.customContextMenu&&(n.preventDefault(),e.owner=i,e._selectField(n))){var r=e.dropDown;e.selectedIndex=-1,e.onIsDroppedDownChanging(new rt)&&(_i(r,n),e.onIsDroppedDownChanged(),r.focus())}}))},e.prototype._selectField=function(t){this._targetField=null,this._htDown=null;var e=li.getControl(this.owner),i=e.engine,n=i.valueFields,r=i.columnFields,o=e.hitTest(t),s=En;switch(o.cellType){case s.Cell:e.select(o.range),this._targetField=n[o.col%n.length],this._htDown=o;break;case s.ColumnHeader:this._targetField=o.row<r.length?r[o.row]:n[o.col%n.length];break;case s.RowHeader:this._targetField=e._colRowFields.get(o.getColumn());break;case s.TopLeft:o.row==o.panel.rows.length-1&&(this._targetField=e._colRowFields.get(o.getColumn()))}return null!=this._targetField},e.prototype._getMenuItems=function(){for(var t=[{text:'<div class="menu-icon menu-icon-remove">&#10006;</div>Remove Field',parm:"remove"},{text:'<div class="menu-icon">&#9965;</div>Field Settings...',parm:"edit"},{text:'<div class="wj-separator"></div>'},{text:'<div class="menu-icon">&#8981;</div>Show Detail...',parm:"detail"}],e=0;e<t.length;e++){var i=t[e];if(i.parm){var n=Ve.olap._ListContextMenu[i.parm];Ht(n,"missing localized text for item "+i.parm),i.text=i.text.replace(/([^>]+$)/,n)}}return t},e.prototype._execute=function(t){var e=this._targetField,i=li.getControl(this.owner),n=i?i.engine:null,r=this._htDown;switch(t){case"remove":n.removeField(e);break;case"edit":n.editField(e);break;case"detail":i.showDetail(r.row,r.col)}},e.prototype._canExecute=function(t){var e=this._targetField,i=li.getControl(this.owner),n=i?i.engine:null,r=this._htDown;if(null==e||null==n)return!1;switch(t){case"remove":return!0;case"edit":return n.allowFieldEditing;case"detail":return null!=r&&!(e instanceof fs)&&n.valueFields.length>0}return!0},e}(fn),ws=function(t){function e(e){var i=t.call(this)||this;return i._ng=e,i}return ss(e,t),Object.defineProperty(e.prototype,"maxItems",{get:function(){return this._maxItems},set:function(t){this._maxItems=Wt(t,!0,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"engine",{get:function(){return this._ng},enumerable:!0,configurable:!0}),e.prototype.getField=function(t){return this._getField(this,t)},e.prototype._getField=function(t,e){for(var i=0;i<t.length;i++){var n=t[i];if(n.key==e)return n;if(n._hasSubFields()&&(n=this._getField(n.subFields,e)))return n}return null},e.prototype.push=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];for(var n=this._ng,r=0;e&&r<e.length;r++){var o=e[r];if(wt(o)&&(o=this==n.fields?new ds(n,o):n.fields.getField(o)),Ht(o instanceof ds,"This collection must contain PivotField objects only."),o.key&&this.getField(o.key))return Ht(!1,"PivotField keys must be unique."),-1;if(null!=this._maxItems&&this.length>=this._maxItems)break;t.prototype.push.call(this,o)}return this.length},e}(ti),bs=function(){function t(t,e,i,n,r,o){this._key=new hs(t,e,i,n,r),this._nodes={},this._parent=o}return t.prototype.getNode=function(e,i,n,r,o){for(var s=this,a=0;a<i;a++){var l=e[a]._getValue(o,!0);(h=s._nodes[l])||(h=new t(e,a+1,n,r,o,s),s._nodes[l]=h),s=h}var h;n&&r>-1&&(l=n[r].header,(h=s._nodes[l])||(h=new t(e,i,n,r,o,s),s._nodes[l]=h),s=h);return s},Object.defineProperty(t.prototype,"key",{get:function(){return this._key},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tree",{get:function(){return this._tree||(this._tree=new t(null,0,null,-1,null)),this._tree},enumerable:!0,configurable:!0}),t}(),vs=function(){function t(t,e){this._ng=Zt(t,js),Ht(this._isValidUrl(e),"Invalid service Url: "+e+")")}return t.prototype.getFields=function(){var t=this,e=null;return Me(this._getUrl("Fields"),{async:!1,success:function(t){Et(e=JSON.parse(t.responseText))||console.error("Failed to get fields from server: "+t.responseText)},error:function(e){t._handleError("Getting Fields",e)}}),e},t.prototype.getUniqueValues=function(t){var e=this,i=null;return Me(this._getUrl("UniqueValues",null,t.header),{method:"POST",async:!1,data:{view:this._ng.viewDefinition},success:function(t){Et(i=JSON.parse(t.responseText))||console.error("Failed to get unique field values from server: "+t.responseText)},error:function(t){e._handleError("Getting Unique Field Values",t)}}),i},t.prototype.getOutputView=function(t){var e=this;this.clearPendingRequests(),this._sendHttpRequest("Analyses",{method:"POST",data:{view:this._ng.viewDefinition},success:function(i){var n=JSON.parse(i.responseText);e._token=n.token,e._start=Date.now(),e._handleResult(n.status,t)},error:function(t){e._handleError("Analyses",t)}})},t.prototype.getDetail=function(e,i){for(var n,r=[],o=this._ng.rowFields.length,s=e?e.values.length:0,a=0;a<o;a++)a<s?r.push(t._getRequestedValue(e.values[a])):r.push(null);for(o=this._ng.columnFields.length,s=i?i.values.length:0,a=0;a<o;a++)a<s?r.push(t._getRequestedValue(i.values[a])):r.push(null);return n=new ti,this._loadArray("Detail",n,{method:"POST",view:this._ng.viewDefinition,keys:r,max:this._ng.serverMaxDetail}),n},t.prototype.getSortedKeys=function(t,e){var i=this,n=Object.keys(t);if(this._ng.sortOnServer){if(n.length>1){var r={},o=[],s=[];if(n.forEach((function(t){i._insertKey(r,t,e)})),this._reorderKeys(r,null,null,o,e),!e&&this._ng.valueFields.length>1){for(var a=o.length/this._ng.valueFields.length,l=o.length/a,h=0;h<a;h++)for(var u=0;u<l;u++)s.push(o[h+u*a]);return s}return o}}else n.sort((function(t,e){return i._ng._keys[t].compareTo(i._ng._keys[e])}));return n},t._getRequestedValue=function(t){if(St(t)){var e=t;return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))}return t},t.prototype.clearPendingRequests=function(){this._clearRequest(),this._clearTimeout(),this._clearToken()},t.prototype.updateTallies=function(t){var e=this,i=this._ng,n=i.rowFields.length,r=i.columnFields.length,o=i.valueFields.length,s=new bs(i.rowFields,0,null,-1,null);t.forEach((function(t,a,l){var h=e._getAggregatedFieldCount(t,i.rowFields),u=s.getNode(i.rowFields,n-h,null,-1,t),c=u.key,d=c.toString(null),f=i._tallies[d];f||(i._keys[d]=c,i._tallies[d]=f={}),h=e._getAggregatedFieldCount(t,i.columnFields);for(var p=0;p<o;p++){var g=u.tree.getNode(i.columnFields,r-h,i.valueFields,p,t).key,_=g.toString(),m=i.valueFields[p],w=f[_];w||(i._keys[_]=g,(w=f[_]=new ys).add(e._getFieldValue(m,t,!1)))}}))},t.prototype._getFieldValue=function(t,e,i){var n=e[t.key];return i&&"string"!=typeof n?Ue.format(n,t.format):n},t.prototype._getKeyLength=function(t,e){return t.split(";").length-(e?1:2)},t.prototype._insertKey=function(t,e,i){var n=e.split(";");if(i||n.pop(),1==n.length)t[n.pop()]={};else{var r=n.pop(),o=t[r];for(o||(t[r]=o={});n.length>0;){var s=n.shift();o[s]||(o[s]={}),o=o[s]}}},t.prototype._joinKeys=function(t,e,i){return e&&i?[e,t,i].join(";"):i?[t,i].join(";"):t},t.prototype._reorderKeys=function(t,e,i,n,r){var o=this;Object.keys(t).forEach((function(s){var a=o._joinKeys(s,e,i),l=r?o._ng.showRowTotals:o._ng.showColumnTotals,h=Object.keys(t[s]).length,u=!e&&!i&&l!==ps.None||!e&&!h||e||l===ps.Subtotals;r||(a+=";"),o._ng.totalsBeforeData&&u&&n.push(a),i?e?o._reorderKeys(t[s],[e,s].join(";"),i,n,r):o._reorderKeys(t[s],s,i,n,r):o._reorderKeys(t[s],null,s,n,r),!o._ng.totalsBeforeData&&u&&n.push(a)}))},t.prototype._getParentKey=function(t,e){var i=t.split(";");return e?i.splice(i.length-2,1):i.splice(0,i.length-2),i.join(";")},t.prototype._getAggregatedFieldCount=function(t,e){for(var i=e.length,n=0,r=0;r<i;r++){var o=e[r];null==this._getFieldValue(o,t,!1)&&n++}return n},t.prototype._loadArray=function(t,e,i){var n=this;i||(i={}),null==i.skip&&(i.skip=0),null==i.top&&(i.top=100);var r=vt(i.max)?i.max:1e6;this._request=Me(this._getUrl(t),{data:i,method:i.method||"GET",success:function(o){var s=JSON.parse(o.responseText);e.deferUpdate((function(){s.value.forEach((function(t){e.push(t)}))})),s.value.length==i.top&&e.length<r&&(i.skip+=i.top,n._loadArray(t,e,i))},error:function(e){n._handleError(t,e)}})},t.prototype._getUrl=function(t,e,i){void 0===e&&(e=this._token);var n=this._ng.itemsSource.toString(),r=n.lastIndexOf("/");switch(n.substr(0,r),t=t.toLowerCase()){case"rawdata":case"detail":return n;case"fields":case"analyses":return n+"/"+t;case"clear":return n+"/analyses/"+e+"/";case"result":case"status":return n+"/analyses/"+e+"/"+t;case"uniquevalues":return n+"/fields/"+i+"/"+t}Ht(!1,"Unrecognized command")},t.prototype._isValidUrl=function(t){var e=document.createElement("a");return e.href=Ut(t),e.href=e.href,e.protocol&&e.hostname&&e.pathname&&"/"!=t[t.length-1]},t.prototype._handleResult=function(t,e){var i=this;switch(t.executingStatus.toLowerCase()){case"executing":case"notset":if(Date.now()-this._start>this._ng.serverTimeout)return void this._handleError("Analyses",{status:500,statusText:"Analysis timed out"});this._progress=t.progress,this._ng.onUpdatingView(new Ss(this._progress)),this._clearTimeout(),this._toGetStatus=setTimeout((function(){i._waitUntilComplete(e)}),this._ng.serverPollInterval);break;case"completed":this._progress=100,this._ng.onUpdatingView(new Ss(this._progress)),this._getResults(e);break;case"exception":this._getResults(e);break;default:this._handleError("Analyses",{status:500,statusText:"Unexpected result..."})}},t.prototype._waitUntilComplete=function(t){var e=this;this._sendHttpRequest("Status",{success:function(i){var n=JSON.parse(i.responseText);e._handleResult(n,t)},error:function(t){e._handleError("Status",t)}})},t.prototype._getResults=function(t){var e=this;this._sendHttpRequest("Result",{success:function(i){e._clearToken();var n=JSON.parse(i.responseText);Ht(Et(n),"Result array Expected.");var r=[];e._ng._viewLists.forEach((function(t){r=r.concat(t.filter((function(t){return t.dataType==lt.Date})))})),r.length>0&&n.forEach((function(t){r.forEach((function(e){var i=e._binding,n=i.getValue(t);wt(n)&&i.setValue(t,new Date(n))}))})),Xt(t)(n)},error:function(t){e._handleError("Result",t)}})},t.prototype._handleError=function(t,e){this.clearPendingRequests(),t='** HttpRequest error on command "'+t+'"',this._ng.onError(new st(e,t))&&this._throwResponseError(t,e)},t.prototype._sendHttpRequest=function(t,e){var i=this._getUrl(t);this._request=Me(i,e)},t.prototype._throwResponseError=function(t,e){t=t+"\r\n"+e.status+"\r\n";var i=e.responseText||"";throw 500==e.status&&e.responseText&&(i=JSON.parse(e.responseText).ExceptionMessage),t+(i||e.statusText)},t.prototype._clearToken=function(){this._token&&(this._clearRequest(),this._clearTimeout(),this._sendHttpRequest("Clear",{method:"DELETE"}),this._token=null)},t.prototype._clearRequest=function(){this._request&&4!=this._request.readyState&&(this._request.abort(),this._request=null)},t.prototype._clearTimeout=function(){this._toGetStatus&&(clearTimeout(this._toGetStatus),this._toGetStatus=null)},t._TIMEOUT=6e4,t._POLL_INTERVAL=500,t._MAXDETAIL=1e3,t}(),ys=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ss(e,t),e.prototype.add=function(t,e){Ht(0==this._cnt,"Server tallies have a single value."),this._aggregatedValue=t},e.prototype.getAggregate=function(t){return this._aggregatedValue},e}(ls);We("olap",{PivotEngine:{grandTotal:"Grand Total",subTotal:"Subtotal"},PivotPanel:{fields:"Choose fields to add to report:",drag:"Drag fields between areas below:",filters:"Filters",cols:"Columns",rows:"Rows",vals:"Values",defer:"Defer Updates",update:"Update"},PivotFieldEditor:{dialogHeader:"Field settings:",header:"Header:",summary:"Summary:",showAs:"Show As:",weighBy:"Weigh by:",sort:"Sort:",filter:"Filter:",format:"Format:",sample:"Sample:",edit:"Edit...",clear:"Clear",ok:"OK",cancel:"Cancel",none:"(none)",sorts:{asc:"Ascending",desc:"Descending"},aggs:{sum:"Sum",cnt:"Count",avg:"Average",max:"Max",min:"Min",rng:"Range",std:"StdDev",var:"Var",stdp:"StdDevPop",varp:"VarPop",first:"First",last:"Last"},calcs:{noCalc:"No calculation",dRow:"Difference from previous row",dRowPct:"% Difference from previous row",dCol:"Difference from previous column",dColPct:"% Difference from previous column",dPctGrand:"% of grand total",dPctRow:"% of row total",dPrevRow:"% of value in the previous row",dPctCol:"% of column total",dPrevCol:"% of value in the previous column",dRunTot:"Running total",dRunTotPct:"% running total"},formats:{n0:"Integer (n0)",n2:"Float (n2)",c:"Currency (c)",p0:"Percentage (p0)",p2:"Percentage (p2)",n2c:"Thousands (n2,)",n2cc:"Millions (n2,,)",n2ccc:"Billions (n2,,,)",d:"Date (d)",MMMMddyyyy:"Month Day Year (MMMM dd, yyyy)",dMyy:"Day Month Year (d/M/yy)",ddMyy:"Day Month Year (dd/M/yy)",dMyyyy:"Day Month Year (dd/M/yyyy)",MMMyyyy:"Month Year (MMM yyyy)",MMMMyyyy:"Month Year (MMMM yyyy)",yyyy:"Year (yyyy)",yyyyQq:'Year Quarter (yyyy "Q"q)',FYEEEEQU:'Fiscal Year Quarter ("FY"EEEE "Q"U)'}},_ListContextMenu:{up:"Move Up",down:"Move Down",first:"Move to Beginning",last:"Move to End",filter:"Move to Report Filter",rows:"Move to Row Labels",cols:"Move to Column Labels",vals:"Move to Values",remove:"Remove Field",edit:"Field Settings...",detail:"Show Detail..."},DetailDialog:{header:"Detail View:",ok:"OK",items:"{cnt:n0} items",item:"{cnt} item",row:"Row",col:"Column"},PivotChart:{by:"by",and:"and"},Slicer:{multiSelect:"Multi-Select",clearFilter:"Clear Filter"}}),function(t){t[t.None=0]="None",t[t.GrandTotals=1]="GrandTotals",t[t.Subtotals=2]="Subtotals"}(ps||(ps={})),function(t){t[t.NoCalculation=0]="NoCalculation",t[t.DiffRow=1]="DiffRow",t[t.DiffRowPct=2]="DiffRowPct",t[t.DiffCol=3]="DiffCol",t[t.DiffColPct=4]="DiffColPct",t[t.PctGrand=5]="PctGrand",t[t.PctRow=6]="PctRow",t[t.PctCol=7]="PctCol",t[t.RunTot=8]="RunTot",t[t.RunTotPct=9]="RunTotPct",t[t.PctPrevRow=10]="PctPrevRow",t[t.PctPrevCol=11]="PctPrevCol"}(gs||(gs={}));var xs,Cs,js=function(){function t(t){this._autoGenFields=!0,this._allowFieldEditing=!0,this._showRowTotals=ps.GrandTotals,this._showColTotals=ps.GrandTotals,this._totalsBefore=!1,this._sortableGroups=!0,this._showZeros=!1,this._updating=0,this._xValueSearch=!0,this._async=!0,this._sortOnServer=!1,this._cntTotal=0,this._cntFiltered=0,this._serverParms={timeout:vs._TIMEOUT,pollInterval:vs._POLL_INTERVAL,maxDetail:vs._MAXDETAIL},this.itemsSourceChanged=new it,this.viewDefinitionChanged=new it,this.updatingView=new it,this.updatedView=new it,this.error=new it,this._isUpdatingChanged=new it,this._hasDeferredUpdatesChanged=new it,this._pivotView=new cs(this),this._fields=new ws(this),this._rowFields=new ws(this),this._columnFields=new ws(this),this._valueFields=new ws(this),this._filterFields=new ws(this),this._viewLists=[this._rowFields,this._columnFields,this._valueFields,this._filterFields];var e=this._fieldListChanged.bind(this);this._fields.collectionChanged.addHandler(e),this._viewLists.forEach((function(t){t.collectionChanged.addHandler(e)})),this._defaultFilterType=null,Bt(this,t)}return Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._items},set:function(t){var e=this;this._items!=t&&(this._cv&&(this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._server&&(this._server.clearPendingRequests(),this._server=null),this._items=t,wt(t)?this._server=new vs(this,t):kt(t)&&!_t(t,"ICollectionView")?this._server=new Ds(this,t):this._cv=Qt(t),null!=this._cv&&this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this),this.deferUpdate((function(){e.autoGenerateFields&&e._generateFields(),e._updateFieldTypes()})),this.onItemsSourceChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isServer",{get:function(){return null!=this._server},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pivotView",{get:function(){return this._pivotView},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showRowTotals",{get:function(){return this._showRowTotals},set:function(t){(t=Jt(t,ps))!=this.showRowTotals&&(this._showRowTotals=t,this.onViewDefinitionChanged(),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showColumnTotals",{get:function(){return this._showColTotals},set:function(t){(t=Jt(t,ps))!=this.showColumnTotals&&(this._showColTotals=t,this.onViewDefinitionChanged(),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalsBeforeData",{get:function(){return this._totalsBefore},set:function(t){t!=this._totalsBefore&&(this._totalsBefore=Yt(t),this.onViewDefinitionChanged(),this._updatePivotView())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortableGroups",{get:function(){return this._sortableGroups},set:function(t){t!=this._sortableGroups&&(this._sortableGroups=Yt(t),this.onViewDefinitionChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortOnServer",{get:function(){return this._sortOnServer},set:function(t){this._sortOnServer=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showZeros",{get:function(){return this._showZeros},set:function(t){t!=this._showZeros&&(this._showZeros=Yt(t),this.onViewDefinitionChanged(),this._updatePivotView())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultFilterType",{get:function(){return null!=this._defaultFilterType?this._defaultFilterType:this._server?jr.Condition:jr.Both},set:function(t){this._defaultFilterType=Jt(t,jr,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exclusiveValueSearch",{get:function(){return this._xValueSearch},set:function(t){this._xValueSearch=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoGenerateFields",{get:function(){return this._autoGenFields},set:function(t){this._autoGenFields=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowFieldEditing",{get:function(){return this._allowFieldEditing},set:function(t){this._allowFieldEditing=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fields",{get:function(){return this._fields},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowFields",{get:function(){return this._rowFields},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnFields",{get:function(){return this._columnFields},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterFields",{get:function(){return this._filterFields},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueFields",{get:function(){return this._valueFields},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"viewDefinition",{get:function(){var t=this,e={showZeros:this.showZeros,showColumnTotals:this.showColumnTotals,showRowTotals:this.showRowTotals,defaultFilterType:this.defaultFilterType,totalsBeforeData:this.totalsBeforeData,sortableGroups:this.sortableGroups,fields:[],rowFields:this._getFieldCollectionProxy(this.rowFields),columnFields:this._getFieldCollectionProxy(this.columnFields),filterFields:this._getFieldCollectionProxy(this.filterFields),valueFields:this._getFieldCollectionProxy(this.valueFields)};return this.fields.forEach((function(i){var n=t._getFieldDefinition(i);e.fields.push(n)})),JSON.stringify(e)},set:function(e){var i=this,n=JSON.parse(e);n&&this.deferUpdate((function(){i._copyProps(i,n,t._props),i.fields.clear(),n.fields.forEach((function(t){var e=i._getFieldFromDefinition(t);i.fields.push(e)})),n.fields.forEach((function(t,e){wt(t.weightField)&&(i.fields[e].weightField=i.fields.getField(t.weightField))})),i._setFieldCollectionProxy(i.rowFields,n.rowFields),i._setFieldCollectionProxy(i.columnFields,n.columnFields),i._setFieldCollectionProxy(i.filterFields,n.filterFields),i._setFieldCollectionProxy(i.valueFields,n.valueFields)}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isViewDefined",{get:function(){var t=this._valueFields.length,e=this._rowFields.length,i=this._columnFields.length;return this._server?t>0&&(e>0||i>0):t>0||e>0||i>0},enumerable:!0,configurable:!0}),t.prototype.beginUpdate=function(){this.cancelPendingUpdates(),this._updating++,1===this._updating&&this._onIsUpdatingChanged()},t.prototype.endUpdate=function(){this._updating--,this._updating<=0&&(this._viewDefinitionChanged&&(this._viewDefinitionChanged=!1,this.onViewDefinitionChanged(),this._setHasDeferredUpdates(!1)),this._onIsUpdatingChanged(),this.refresh())},Object.defineProperty(t.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasDeferredUpdates",{get:function(){return this._hasDeferredUpdates},enumerable:!0,configurable:!0}),t.prototype._setHasDeferredUpdates=function(t){this._hasDeferredUpdates!==t&&(this._hasDeferredUpdates=t,this._onHasDeferredUpdatesChanged())},t.prototype.deferUpdate=function(t){try{this.beginUpdate(),t()}finally{this.endUpdate()}},t.prototype.refresh=function(t){void 0===t&&(t=!1),this._updateView(t)},t.prototype.invalidate=function(){var t=this;this._toInv&&(this._toInv=clearTimeout(this._toInv)),this.isUpdating||(this._toInv=setTimeout((function(){t.refresh()}),li._REFRESH_INTERVAL))},Object.defineProperty(t.prototype,"async",{get:function(){return this._async},set:function(t){t!=this._async&&(this.cancelPendingUpdates(),this._async=Yt(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serverTimeout",{get:function(){return this._serverParms.timeout},set:function(t){this._serverParms.timeout=Gt(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serverPollInterval",{get:function(){return this._serverParms.pollInterval},set:function(t){this._serverParms.pollInterval=Gt(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serverMaxDetail",{get:function(){return this._serverParms.maxDetail},set:function(t){this._serverParms.maxDetail=Gt(t,!1,!0)},enumerable:!0,configurable:!0}),t.prototype.cancelPendingUpdates=function(){this._toUpdateTallies&&(clearTimeout(this._toUpdateTallies),this._toUpdateTallies=null)},t.prototype.getDetail=function(t,e){var i=this,n=t?t[hs._ROW_KEY_NAME]:null,r=this._getKey(e);if(this._server)return this._server.getDetail(n,r);var o=this.collectionView.items,s=[];return o.forEach((function(t){!i._applyFilter(t)||null!=n&&!n.matchesItem(t)||null!=r&&!r.matchesItem(t)||s.push(t)})),s},t.prototype.getDetailView=function(t,e){var i=this.getDetail(t,e);return new ei(i)},t.prototype.getKeys=function(t,e){var i=t?t[hs._ROW_KEY_NAME]:null,n=this._getKey(e);return{rowKey:{fields:i?i.fieldNames:[],values:i?i.values:[]},colKey:{fields:n?n.fieldNames:[],values:n?n.values:[]}}},t.prototype.editField=function(t){if(this.allowFieldEditing){var e=new Zs(document.createElement("div"),{field:t});new sn(document.createElement("div"),{content:e.hostElement}).show(!0)}},t.prototype.removeField=function(t){for(var e=0;e<this._viewLists.length;e++){var i=this._viewLists[e],n=i.indexOf(t);if(n>-1)return void i.removeAt(n)}},t.prototype.onItemsSourceChanged=function(t){this.itemsSourceChanged.raise(this,t)},t.prototype.onViewDefinitionChanged=function(t){this._updating<=0?(this.viewDefinitionChanged.raise(this,t),this._viewDefinitionChanged=!1,this._setHasDeferredUpdates(!1)):(this._viewDefinitionChanged=!0,this._setHasDeferredUpdates(!0))},t.prototype.onUpdatingView=function(t){this.updatingView.raise(this,t)},t.prototype.onUpdatedView=function(t){this.updatedView.raise(this,t)},t.prototype.onError=function(t){return this.error.raise(this,t),!t.cancel},t.prototype._onIsUpdatingChanged=function(t){this._isUpdatingChanged.raise(this,t)},t.prototype._onHasDeferredUpdatesChanged=function(t){this._hasDeferredUpdatesChanged.raise(this,t)},t.prototype._copy=function(t,e){var i=this;switch(t){case"fields":return this.fields.clear(),this._viewLists.forEach((function(t){t.clear()})),Kt(e).forEach((function(t){var e=i._createField(t,!1);i.fields.push(e)})),this._updateFieldTypes(),!0;case"rowFields":case"columnFields":case"valueFields":case"filterFields":return this[t].clear(),Et(e)||(this[t].maxItems=e.maxItems,e=e.items),Kt(e).forEach((function(e){var n=i.fields.getField(e);i[t].push(n)})),!0}return!1},t.prototype._getKey=function(t){return this._keys[t]},t.prototype._getRowKey=function(t){var e=t;if(vt(t)){var i=this._pivotView;e=(i.items.length?i.items:i.sourceCollection)[t]}return e?e[hs._ROW_KEY_NAME]:null},t.prototype._getRowLevel=function(t){var e=this._getRowKey(t);return e?e.level:-1},t.prototype._getColKey=function(t){return vt(t)&&(t=this._colBindings[t]),wt(t)?this._getKey(t):(Ht(null==t||t instanceof hs,"invalid parameter in call to _getColLevel"),t)},t.prototype._getColLevel=function(t){return(t=this._getColKey(t))?t.level:-1},t.prototype._getFieldByColKey=function(t){var e=this._getColKey(t);return e&&e.valueField},t.prototype._applyFilter=function(t){for(var e=this._activeFilterFields,i=0;i<e.length;i++)if(!e[i].filter.apply(t))return!1;return!0},t.prototype._updateView=function(t){var e=this;if(void 0===t&&(t=!1),!this.isUpdating||t){if(this.cancelPendingUpdates(),this._cntTotal=this._cntFiltered=0,this._tallies={},this._keys={},this._activeFilterFields=[],this._server&&this.isViewDefined)return void this._server.getOutputView((function(i){e.isViewDefined&&(e._server.updateTallies(i),e._updatePivotView(t))}));this._viewLists.forEach((function(t){t.forEach((function(t){t.filter.isActive&&e._activeFilterFields.push(t)}))})),this.isViewDefined&&$t(this._cv)?(this._batchStart=Date.now(),this._updateTallies(this._cv.items,0,t)):this._updatePivotView(t),this._setHasDeferredUpdates(!1)}},t.prototype._updateTallies=function(e,i,n){var r=this;void 0===n&&(n=!1);var o=e.length,s=new bs(this._rowFields,0,null,-1,null),a=this.valueFields;0==a.length&&this.columnFields.length>0&&(a=new ws(this)).push(new ds(this,"","",{aggregate:Ye.Sum}));for(var l=ps,h=this._rowFields.length,u=this._getShowRowTotals(),c=u==l.None?h:0,d=u==l.GrandTotals?Math.max(1,h):1,f=this._columnFields.length,p=this._getShowColTotals(),g=p==l.None?f:0,_=p==l.GrandTotals?Math.max(1,f):1,m=a.length,w=function(o){if(b._async&&o-i>=t._BATCH_SIZE&&Date.now()-b._batchStart>t._BATCH_DELAY)return b._toUpdateTallies=setTimeout((function(){r.onUpdatingView(new Ss(Math.round(o/e.length*100))),r._batchStart=Date.now(),r._updateTallies(e,o,n)}),t._BATCH_TIMEOUT),{value:void 0};b._cntTotal++;var l=e[o];if(!b._activeFilterFields.length||b._applyFilter(l)){b._cntFiltered++;for(var u=c;u<=h;u+=d){var p=s.getNode(b._rowFields,u,null,-1,l),w=p.key,v=w.toString(),y=b._tallies[v];y||(b._keys[v]=w,b._tallies[v]=y={});for(var x=g;x<=f;x+=_)for(var C=0;C<m;C++){var j=p.tree.getNode(b._columnFields,x,a,C,l).key,S=j.toString(),E=y[S];E||(b._keys[S]=j,E=y[S]=new ls);var k=a[C],T=k._getValue(l,!1),P=k.weightField?k._getWeight(l):null;E.add(T,P)}}}},b=this,v=i;v<o;v++){var y=w(v);if("object"==typeof y)return y.value}this._toUpdateTallies=null,this._updatePivotView(n)},t.prototype._updatePivotView=function(t){var e=this;if(void 0===t&&(t=!1),!this.isUpdating||t){var i=this._pivotView;i.deferUpdate((function(){e.onUpdatingView(new Ss(100)),i.cancelEdit(),i.cancelNew();var t=i.sourceCollection;t.length=0;var n={};for(var r in e._tallies)n[r]=!0;var o={};for(var r in e._tallies){var s=e._tallies[r];for(var a in s)o[a]=!0}var l=[],h=[];e._server?(l=e._server.getSortedKeys(n,!0),h=e._server.getSortedKeys(o,!1)):(l=e._getSortedKeys(n),h=e._getSortedKeys(o));for(var u=0;u<l.length;u++){var c=l[u],d=(s=e._tallies[c],{});d[hs._ROW_KEY_NAME]=e._getKey(c);for(var f=0;f<h.length;f++){var p=h[f],g=s[p],_=e._getKey(p),m=g?g.getAggregate(_.aggregate):null;null==m&&e._showZeros&&(m=0),d[p]=m}t.push(d)}e._colBindings=h,e._updateFieldValues(t),i.sortDescriptions.clear(),i.refresh()})),this.onUpdatedView()}},t.prototype._getSortedKeys=function(t){var e=this,i=Object.keys(t);return i.sort((function(t,i){return e._keys[t].compareTo(e._keys[i])})),i},t.prototype._updateFieldValues=function(t){for(var e=this.valueFields.length,i=0;i<e;i++){var n=this.valueFields[i];if(Ct(n.getAggregateValue))for(var r=i;r<this._colBindings.length;r+=e)for(var o=0;o<t.length;o++){var s=t[o],a=this._colBindings[r],l=this._getAggregateObject(s,a);s[a]=n.getAggregateValue.call(this,l)}}var h=function(i){var n=u.valueFields[i];switch(n.showAs){case gs.RunTot:case gs.RunTotPct:for(var r=i;r<u._colBindings.length;r+=e){for(var o=0;o<t.length;o++)(c=t[o])[p=u._colBindings[r]]=u._getRunningTotal(t,o,r);if(n.showAs==gs.RunTotPct)for(o=0;o<t.length;o++){var s=(c=t[o])[p=u._colBindings[r]];if(vt(s)){var a=u._getLastValueInRowGroup(t,o,r);0!=a&&(c[p]=s/a)}}}break;case gs.PctGrand:case gs.PctCol:var l=0;if(n.showAs==gs.PctGrand)for(r=i;r<u._colBindings.length;r+=e)-1==u._getColLevel(r)&&(l+=u._getColTotal(t,r));var h=function(e){n.showAs==gs.PctCol&&(l=u._getColTotal(t,e));var i=u._colBindings[e];t.forEach((function(t){var e=t[i];vt(e)&&(t[i]=0!=l?e/l:null)}))};for(r=i;r<u._colBindings.length;r+=e)h(r);break;case gs.PctRow:for(o=0;o<t.length;o++){var c=t[o],d=0;for(r=i;r<u._colBindings.length;r+=e)if(-1==u._getColLevel(r)){var f=c[p=u._colBindings[r]];vt(f)&&(d+=f)}for(r=i;r<u._colBindings.length;r+=e)vt(f=c[p=u._colBindings[r]])&&(c[p]=0!=d?f/d:null)}break;case gs.DiffRow:case gs.DiffRowPct:case gs.PctPrevRow:for(r=i;r<u._colBindings.length;r+=e)for(o=t.length-1;o>=0;o--)(c=t[o])[p=u._colBindings[r]]=u._getRowDifference(t,o,r,n.showAs);break;case gs.DiffCol:case gs.DiffColPct:case gs.PctPrevCol:for(o=0;o<t.length;o++)for(r=u._colBindings.length-e+i;r>=0;r-=e){var p;(c=t[o])[p=u._colBindings[r]]=u._getColDifference(t,o,r,n.showAs)}}},u=this;for(i=0;i<e;i++)h(i)},t.prototype._getAggregateObject=function(t,e){var i={},n=/(.+:.+;)*((.+):.+;)/,r=e.match(n);for(var o in t){var s=o.match(n);s&&s[1]==r[1]&&(i[s[3]]=t[o])}return i},t.prototype._getColTotal=function(t,e){var i=this,n=this._colBindings[e],r=0;return t.forEach((function(t){if(-1==i._getRowLevel(t)){var e=t[n];vt(e)&&(r+=e)}})),r},t.prototype._getRunningTotal=function(t,e,i){var n=this._getRowLevel(t[e]);if(0==n)return null;for(var r=this._colBindings[i],o=t[e][r],s=this._getShowRowTotals(),a=this.rowFields.length-2,l=e-1;l>=0;l--){var h=this._getRowLevel(t[l]);if(h==n){if(a>-1&&n<0&&s!=ps.Subtotals){var u=t[e].$rowKey,c=t[l].$rowKey;if(u.values[a]!=c.values[a])return null}o+=t[l][r];break}if(h>n)break}return o},t.prototype._getLastValueInRowGroup=function(t,e,i){for(var n=this._colBindings[i],r=t[e][n],o=this._getRowLevel(t[e]),s=this.rowFields.length-2,a=this._getShowRowTotals(),l=e+1;l<t.length;l++){var h=this._getRowLevel(t[l]);if(h==o){if(s>-1&&o<0&&a!=ps.Subtotals){var u=t[e].$rowKey,c=t[l].$rowKey;if(u.values[s]!=c.values[s])return r}r=t[l][n]}if(h>o)break}return r},t.prototype._getRowDifference=function(t,e,i,n){var r=this._getRowLevel(t[e]);if(0==r)return null;for(var o=this._colBindings[i],s=t[e][o],a=this.rowFields.length-2,l=this._getShowRowTotals(),h=e-1;h>=0;h--){var u=this._getRowLevel(t[h]);if(u==r){if(a>-1&&r<0&&l!=ps.Subtotals){var c=t[e].$rowKey,d=t[h].$rowKey;if(c.values[a]!=d.values[a])return null}var f=t[h][o];switch(n){case gs.DiffRow:s-=f;break;case gs.DiffRowPct:s=(s-f)/f;break;case gs.PctPrevRow:s/=f}return s}if(u>r)break}return n==gs.PctPrevRow?1:null},t.prototype._getColDifference=function(t,e,i,n){var r=this._getColLevel(i);if(0==r)return null;for(var o=t[e],s=o[this._colBindings[i]],a=this.valueFields.length,l=this.columnFields.length-2,h=this._getShowColTotals(),u=i-a;u>=0;u-=a){var c=this._getColLevel(u);if(c==r){if(l>-1&&r<0&&h!=ps.Subtotals){var d=this._getKey(this._colBindings[i]),f=this._getKey(this._colBindings[u]);if(d.values[l]!=f.values[l])return null}var p=o[this._colBindings[u]];switch(n){case gs.DiffCol:s-=p;break;case gs.DiffColPct:s=(s-p)/p;break;case gs.PctPrevCol:s/=p}return s}if(c>r)break}return n==gs.PctPrevCol?1:null},t.prototype._getShowRowTotals=function(){return this._valueFields.length?this._showRowTotals:ps.None},t.prototype._getShowColTotals=function(){return this._valueFields.length?this._showColTotals:ps.None},t.prototype._getUniqueValues=function(t){return this._server?this._server.getUniqueValues(t):null},t.prototype._generateFields=function(){var t=this;this._viewLists.forEach((function(t){t.clear()}));for(var e=0;e<this.fields.length;e++)this.fields[e]._autoGenerated&&(this.fields.removeAt(e),e--);if(this._server)this._server.getFields().forEach((function(e){var i=t._createField(e,!0);t.fields.getField(i.header)||t.fields.push(i)}));else{var i=this.collectionView,n=i?i.items:null;n&&n.length&&this.autoGenerateFields&&Ot(n,0).forEach((function(e){var i=t._createField({binding:e.binding,header:te(e.binding),dataType:e.dataType},!0);t.fields.getField(i.header)||t.fields.push(i)}))}},t.prototype._updateFieldTypes=function(){var t=this,e=this.collectionView,i=e?e.sourceCollection:null;i&&i.length&&this.fields.forEach((function(e){t._updateFieldType(e,i)}))},t.prototype._updateFieldType=function(t,e){var i=this;if(t._hasSubFields())t.subFields.forEach((function(t){i._updateFieldType(t,e)}));else{if(null==t.dataType&&t.binding)for(var n=0;n<e.length;n++){var r=t._binding.getValue(e[n]);if(null!=r){t.dataType=mt(r)?Rt(r):null;break}}null!=t.dataType&&(t.format||(t.format=t.dataType==lt.Date?"d":"n0"),t.aggregate==Ye.Sum&&t.dataType!=lt.Number&&(t.aggregate=Ye.Cnt))}},t.prototype._createField=function(t,e){var i;return wt(t)?i=new ds(this,t):t&&(t.key&&delete t.key,i=null!=t.dimensionType?new fs(this,t.binding,t.header,t):new ds(this,t.binding,t.header,t),null!=t.dataType&&(i.dataType=t.dataType)),i._autoGenerated=e,(e||wt(t))&&(i.format=i.dataType==lt.Date?"d":"n0",i.aggregate=i.dataType==lt.Number?Ye.Sum:Ye.Cnt),t&&!wt(t)&&Bt(i,t),i},t.prototype._cvCollectionChanged=function(t,e){this.invalidate()},t.prototype._fieldListChanged=function(t,e){if(e.action==Q.Add){for(var i=t,n=0;n<i.length-1;n++)if(i[n].key)for(var r=n+1;r<i.length;r++)i[n].key==i[r].key&&(i.removeAt(r),r--);if(i!=this._fields)if(this._fields.getField(e.item.key)){for(n=0;n<this._viewLists.length;n++)if(this._viewLists[n]!=i){var o=this._viewLists[n];(s=o.indexOf(e.item))>-1&&o.removeAt(s)}}else i.removeAt(e.index);if(vt(i.maxItems)&&i.maxItems>-1)for(;i.length>i.maxItems;){var s;i[s=i.length-1]==e.item&&s>0&&s--,i.removeAt(s)}}this.onViewDefinitionChanged(),this.invalidate()},t.prototype._fieldPropertyChanged=function(t,e){if(this.onViewDefinitionChanged(),t.isActive){var i=e.propertyName;"visible"!=i&&("width"!=i&&"wordWrap"!=i&&"isContentHtml"!=i?"format"==i&&this.valueFields.indexOf(t)>-1?this._pivotView.refresh():"showAs"!=i?"descending"!=i?"aggregate"!=i?this.invalidate():this.valueFields.indexOf(t)>-1&&!this.isUpdating&&(this._server?this._updateView():this._updatePivotView()):this._updatePivotView():this.valueFields.indexOf(t)>-1&&!this.isUpdating&&this._updatePivotView():this._pivotView.refresh())}},t.prototype._copyProps=function(t,e,i){for(var n=0;n<i.length;n++){var r=i[n];null!=e[r]&&(t[r]=e[r])}},t.prototype._getFieldFromDefinition=function(t){var e=t.filter;t.filter&&delete t.filter;var i=this._createField(t,!0);return e&&(i._setFilterProxy(e),t.filter=e),i},t.prototype._getFieldDefinition=function(t){var e=this,i={binding:t.binding,header:t.header,dataType:t.dataType,aggregate:t.aggregate,showAs:t.showAs,descending:t.descending,format:t.format,align:t.align,wordWrap:t.wordWrap,width:t.width,isContentHtml:t.isContentHtml};return t.weightField&&(i.weightField=t.weightField._getName()),t.key&&(i.key=t.key),t.filter.isActive&&(i.filter=t._getFilterProxy()),t._hasSubFields()&&(i.subFields=[],t.subFields.forEach((function(t){i.subFields.push(e._getFieldDefinition(t))}))),t instanceof fs&&(i.dimensionType=t.dimensionType),i},t.prototype._getFieldCollectionProxy=function(t){var e={items:[]};vt(t.maxItems)&&t.maxItems>-1&&(e.maxItems=t.maxItems);for(var i=0;i<t.length;i++){var n=t[i];e.items.push(n.key)}return e},t.prototype._setFieldCollectionProxy=function(t,e){t.clear(),t.maxItems=vt(e.maxItems)?e.maxItems:null;for(var i=0;i<e.items.length;i++)t.push(e.items[i])},t._BATCH_SIZE=1e4,t._BATCH_TIMEOUT=0,t._BATCH_DELAY=100,t._props=["showZeros","showRowTotals","showColumnTotals","totalsBeforeData","sortableGroups","defaultFilterType"],t}(),Ss=function(t){function e(e){var i=t.call(this)||this;return i._progress=Gt(e),i}return ss(e,t),Object.defineProperty(e.prototype,"progress",{get:function(){return this._progress},enumerable:!0,configurable:!0}),e}(nt),Es=function(t){function e(e){var i=t.call(this,document.createElement("div"),{header:"Field Context Menu",displayMemberPath:"text",commandParameterPath:"parm",command:{executeCommand:function(t){i._execute(t)},canExecuteCommand:function(t){return i._canExecute(t)}}})||this;return i._full=e,i.itemsSource=i._getMenuItems(e),ae(i.dropDown,"context-menu wj-olap-context-menu"),i}return ss(e,t),e.prototype.refresh=function(e){void 0===e&&(e=!0),this.itemsSource=this._getMenuItems(this._full),t.prototype.refresh.call(this,e)},e.prototype.attach=function(t){var e=this;Ht(t instanceof $n,"Expecting a FlexGrid control...");var i=t.hostElement;i.addEventListener("contextmenu",(function(n){e._selectField(t,n)&&(n.preventDefault(),e.owner=i,e.show(n))}))},e.prototype._selectField=function(t,e){var i=t.hitTest(e);if(i.panel!=t.cells||!i.range.isValid)return!1;var n=t.rows[i.row].dataItem;return!(n instanceof fs&&n.subFields&&n.subFields.length)&&(t.select(i.range,!0),!0)},e.prototype._getMenuItems=function(t){var e;e=t?[{text:'<div class="menu-icon"></div>*',parm:"up"},{text:'<div class="menu-icon"></div>*',parm:"down"},{text:'<div class="menu-icon"></div>*',parm:"first"},{text:'<div class="menu-icon"></div>*',parm:"last"},{text:'<div class="wj-separator"></div>'},{text:'<div class="menu-icon"><span class="wj-glyph-filter"></span></div>*',parm:"filter"},{text:'<div class="menu-icon">&#8801;</div>*',parm:"rows"},{text:'<div class="menu-icon">&#10996;</div>*',parm:"cols"},{text:'<div class="menu-icon">&#931;</div>*',parm:"vals"},{text:'<div class="wj-separator"></div>'},{text:'<div class="menu-icon menu-icon-remove">&#10006;</div>*',parm:"remove"},{text:'<div class="wj-separator"></div>'},{text:'<div class="menu-icon">&#9965;</div>*',parm:"edit"}]:[{text:'<div class="menu-icon"><span class="wj-glyph-filter"></span></div>*',parm:"filter"},{text:'<div class="menu-icon">&#8801;</div>*',parm:"rows"},{text:'<div class="menu-icon">&#10996;</div>*',parm:"cols"},{text:'<div class="menu-icon">&#931;</div>*',parm:"vals"},{text:'<div class="wj-separator"></div>'},{text:'<div class="menu-icon">&#9965;</div>*',parm:"edit"}];for(var i=0;i<e.length;i++){var n=e[i];if(n.parm){var r=Ve.olap._ListContextMenu[n.parm];Ht(r,"missing localized text for item "+n.parm),n.text=n.text.replace(/([^>]+$)/,r)}}return e},e.prototype._execute=function(t){var e=li.getControl(this.owner),i=e.itemsSource,n=e.selection.row,r=e.rows[n].dataItem,o=r?r.engine:null,s=this._getTargetList(o,t);switch(t){case"up":case"first":case"down":case"last":if(o){var a=i.indexOf(r),l="up"==t?a-1:"first"==t?0:"down"==t?a+1:"last"==t?i.length:-1;o.deferUpdate((function(){i.removeAt(a),i.insert(l,r)}))}break;case"filter":case"rows":case"cols":case"vals":s&&r&&s.push(r);break;case"remove":r&&o.removeField(r);break;case"edit":r&&o.editField(r)}},e.prototype._canExecute=function(t){var e=li.getControl(this.owner);if(!e)return!1;var i=e.selection.row,n=i>-1?e.rows[i].dataItem:null,r=n?n.engine:null,o=this._getTargetList(r,t),s=!!n&&n instanceof fs,a=!!n&&n.isMeasure;switch(t){case"up":case"first":return i>0;case"down":case"last":return i<e.rows.length-1;case"filter":case"rows":case"cols":return!a&&o&&o.indexOf(n)<0;case"vals":return(!s||a)&&o&&o.indexOf(n)<0;case"edit":return r&&r.allowFieldEditing;case"detail":return n&&!s}return!0},e.prototype._getTargetList=function(t,e){if(t)switch(e){case"filter":return t.filterFields;case"rows":return t.rowFields;case"cols":return t.columnFields;case"vals":return t.valueFields}return null},e}(fn),ks=function(t){function e(e,i){var n=t.call(this,e,null,!0)||this;n._showIcons=!0,n._restrictDrag=null,n.deferredUpdateChanged=new it,n.itemsSourceChanged=new it,n.viewDefinitionChanged=new it,n.updatingView=new it,n.updatedView=new it,n._isUpdatingChangedBnd=n._isUpdatingChanged.bind(n);var r=n.getTemplate();n.applyTemplate("wj-control wj-content wj-pivotpanel",r,{_dFields:"d-fields",_dFilters:"d-filters",_dRows:"d-rows",_dCols:"d-cols",_dVals:"d-vals",_dProgress:"d-prog",_btnUpdate:"btn-update",_chkDefer:"chk-defer",_gFlds:"g-flds",_gDrag:"g-drag",_gFlt:"g-flt",_gCols:"g-cols",_gRows:"g-rows",_gVals:"g-vals",_gDefer:"g-defer"}),n._globalize();var o=n.hostElement;n.addEventListener(o,"dragstart",n._dragstart.bind(n)),n.addEventListener(o,"dragover",n._dragover.bind(n)),n.addEventListener(o,"dragleave",n._dragover.bind(n)),n.addEventListener(o,"drop",n._drop.bind(n)),n.addEventListener(o,"dragend",n._dragend.bind(n)),n._lbFields=n._createFieldGrid(n._dFields),n._lbFilters=n._createFieldGrid(n._dFilters),n._lbRows=n._createFieldGrid(n._dRows),n._lbCols=n._createFieldGrid(n._dCols),n._lbVals=n._createFieldGrid(n._dVals);var s=n._ctxMenuShort=new Es(!1);return s.attach(n._lbFields),(s=n._ctxMenuFull=new Es(!0)).attach(n._lbFilters),s.attach(n._lbRows),s.attach(n._lbCols),s.attach(n._lbVals),n._dMarker=xe('<div class="wj-marker" style="display:none">&nbsp;</div>'),n.hostElement.appendChild(n._dMarker),n.addEventListener(n._btnUpdate,"click",(function(t){n._ng.refresh(!0),n.refresh(),t.preventDefault()})),n.addEventListener(n._chkDefer,"click",(function(t){n.deferredUpdate=n._chkDefer.checked,n._updateDeferredUpdateElements()})),n.engine=new js,n.initialize(i),n}return ss(e,t),e.prototype._getProductInfo=function(){return"D6F4,PivotPanel"},Object.defineProperty(e.prototype,"engine",{get:function(){return this._ng},set:function(t){var e,i=this,n=this._ng;n&&(n.itemsSourceChanged.removeHandler(this._itemsSourceChanged),n.viewDefinitionChanged.removeHandler(this._viewDefinitionChanged),n.updatingView.removeHandler(this._updatingView),n.updatedView.removeHandler(this._updatedView),n.error.removeHandler(this._requestError),n._isUpdatingChanged.removeHandler(this._isUpdatingChangedBnd),e=this.deferredUpdate),t=Zt(t,js,!1),(n=this._ng=t).itemsSourceChanged.addHandler(this._itemsSourceChanged,this),n.viewDefinitionChanged.addHandler(this._viewDefinitionChanged,this),n.updatingView.addHandler(this._updatingView,this),n.updatedView.addHandler(this._updatedView,this),n.error.addHandler(this._requestError,this),n._isUpdatingChanged.addHandler(this._isUpdatingChangedBnd),e!==this.deferredUpdate&&this.onDeferredUpdateChanged(),this._lbFields.itemsSource=t.fields,this._lbFilters.itemsSource=t.filterFields,this._lbRows.itemsSource=t.rowFields,this._lbCols.itemsSource=t.columnFields,this._lbVals.itemsSource=t.valueFields,this._lbFields.collectionView.filter=function(t){return t.visible&&null==t.parentField},"Filters,Rows,Cols,Vals".split(",").forEach((function(t){i["_lb"+t].collectionView.filter=function(t){return t.visible}})),this._updateDeferredUpdateElements()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemsSource",{get:function(){return this._ng.itemsSource},set:function(t){t instanceof js?this.engine=t:this._ng.itemsSource=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collectionView",{get:function(){return this._ng.collectionView},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pivotView",{get:function(){return this._ng.pivotView},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoGenerateFields",{get:function(){return this.engine.autoGenerateFields},set:function(t){this._ng.autoGenerateFields=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fields",{get:function(){return this._ng.fields},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowFields",{get:function(){return this._ng.rowFields},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnFields",{get:function(){return this._ng.columnFields},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueFields",{get:function(){return this._ng.valueFields},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterFields",{get:function(){return this._ng.filterFields},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewDefinition",{get:function(){return this._ng.viewDefinition},set:function(t){this._ng.viewDefinition=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isViewDefined",{get:function(){return this._ng.isViewDefined},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showFieldIcons",{get:function(){return this._showIcons},set:function(t){t!=this._showIcons&&(this._showIcons=Yt(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"restrictDragging",{get:function(){return this._restrictDrag},set:function(t){this._restrictDrag=Yt(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deferredUpdate",{get:function(){return this.engine.isUpdating},set:function(t){this.deferredUpdate!=t&&(t?this._ng.beginUpdate():this._ng.endUpdate())},enumerable:!0,configurable:!0}),e.prototype.onDeferredUpdateChanged=function(t){this.deferredUpdateChanged.raise(this,t)},e.prototype.onItemsSourceChanged=function(t){this.itemsSourceChanged.raise(this,t)},e.prototype.onViewDefinitionChanged=function(t){this.viewDefinitionChanged.raise(this,t)},e.prototype.onUpdatingView=function(t){this.updatingView.raise(this,t)},e.prototype.onUpdatedView=function(t){this.updatedView.raise(this,t)},e.prototype.refresh=function(e){var i=this;void 0===e&&(e=!0),this.hostElement&&(["Fields","Filters","Rows","Cols","Vals"].forEach((function(t){var e=i["_lb"+t],n=e?e.collectionView:null;e&&n&&(e.refresh(),n.refresh())})),e&&(this._globalize(),this._ctxMenuShort.refresh(),this._ctxMenuFull.refresh())),t.prototype.refresh.call(this,e)},e.prototype._copy=function(t,e){return"engine"===t&&(this.engine=e,!0)},e.prototype._globalize=function(){var t=Ve.olap.PivotPanel;Ce(this._gFlds,t.fields),Ce(this._gDrag,t.drag),Ce(this._gFlt,t.filters),Ce(this._gCols,t.cols),Ce(this._gRows,t.rows),Ce(this._gVals,t.vals),Ce(this._gDefer,t.defer),Ce(this._btnUpdate,t.update)},e.prototype._itemsSourceChanged=function(t,e){this.onItemsSourceChanged(e)},e.prototype._viewDefinitionChanged=function(t,e){this.invalidate(),this.onViewDefinitionChanged(e)},e.prototype._updatingView=function(t,e){var i=zt(e.progress,5,100)%100;this._dProgress.style.width=i+"%",this.onUpdatingView(e)},e.prototype._updatedView=function(t,e){this.onUpdatedView(e)},e.prototype._requestError=function(t,e){this._dProgress.style.width="0"},e.prototype._isUpdatingChanged=function(){this._updateDeferredUpdateElements(),this.onDeferredUpdateChanged()},e.prototype._updateDeferredUpdateElements=function(){var t=this.deferredUpdate;this._chkDefer.checked=t,ke(this._btnUpdate,t)},e.prototype._createFieldGrid=function(t){var e=this,i=new $n(t,{autoGenerateColumns:!1,childItemsPath:"subFields",columns:[{binding:"header",width:"*"}],headersVisibility:"None",selectionMode:"Cell",alternatingRowStep:0});return i.cells.hostElement.parentElement.style.overflowX="hidden",i.formatItem.addHandler((function(t,i){var n=t.rows[i.row].dataItem;Ht(n instanceof ds,"PivotField expected...");var r=n._hasSubFields();he(i.cell,"wj-header",r),i.cell.setAttribute("draggable",(!r).toString());var o=i.cell.innerHTML;n.filter.isActive&&(o+='&nbsp;&nbsp;<span class="wj-glyph-filter"></span>'),t!=e._lbVals||Ct(n.getAggregateValue)||(o+=' <span class="wj-aggregate">('+Ye[n.aggregate]+")</span>"),t!=e._lbFields||r||(e._showIcons&&(o='<span class="wj-glyph-'+(n.isMeasure?"measure":"dimension")+'"></span> '+o),o='<label><input type="checkbox"'+(n.isActive?" checked":"")+"> "+o+"</label>"),i.cell.innerHTML=o})),i.addEventListener(t,"click",(function(t){var n=t.target;if(n instanceof HTMLInputElement&&"checkbox"==n.type){var r=e._hitTestField(i,t);r instanceof ds&&(r.isActive=n.checked)}})),i},e.prototype._dragstart=function(t){var e=this._getFlexGridTarget(t);e&&(this._dragField=this._hitTestField(e,t),this._dragSource=this._dragField instanceof ds?e.hostElement:null,this._dragSource&&t.dataTransfer&&(V(t.dataTransfer,"copyMove"),t.stopPropagation()))},e.prototype._dragover=function(t){var e=!1,i=this._getFlexGridTarget(t);if(i&&this._dragField){if(this._dragSource==this._dFields&&i!=this._lbFields){var n=i.itemsSource;if(null==n.maxItems||n.length<n.maxItems){var r=this._dragField;i.itemsSource.indexOf(r)<0?e=!0:i==this._lbVals&&(e=!(r instanceof fs))}}this._dragSource&&this._dragSource!=this._dFields&&(e=!0)}if(e&&this._getRestrictDrag()&&this._dragSource!=i.hostElement){var o=this._dragField.isMeasure;i==this._lbVals?e=o:i!=this._lbRows&&i!=this._lbCols||(e=!o)}e?(this._updateDropMarker(i,t),t.dataTransfer.dropEffect=this._dragSource==this._dFields?"copy":"move",t.preventDefault(),t.stopPropagation()):this._updateDropMarker()},e.prototype._drop=function(t){var e=this,i=this._getFlexGridTarget(t);if(i&&this._dragField){var n=li.getControl(this._dragSource),r=this._dragField;n==this._lbFields&&i==this._lbVals&&i.itemsSource.indexOf(r)>-1&&(r=r._clone(),this.engine.fields.push(r)),i==this._lbFields?r.isActive=!1:this._ng.deferUpdate((function(){var t=i.itemsSource,n=t.indexOf(r);n!=e._dropIndex&&(n>-1&&(t.removeAt(n),n<e._dropIndex&&e._dropIndex--),t.insert(e._dropIndex,r))}))}this._resetMouseState()},e.prototype._dragend=function(t){this._resetMouseState()},e.prototype._hitTestField=function(t,e){var i=t.hitTest(e.target);return i.panel==t.cells&&i.range.isValid?(t.select(i.range,!0),t.rows[i.row].dataItem):null},e.prototype._getRestrictDrag=function(){var t=this._restrictDrag;return null==t&&this.fields.length&&(t=this.fields[0]instanceof fs),t},e.prototype._resetMouseState=function(){this._dragSource=null,this._updateDropMarker()},e.prototype._getFlexGridTarget=function(t){var e=li.getControl(Se(t.target,".wj-flexgrid"));return e instanceof $n?e:null},e.prototype._updateDropMarker=function(t,e){if(e){var i,n=this.hostElement,r=n.getBoundingClientRect();if(t.rows.length){var o=t.hitTest(e).row;o>-1?(i=t.getCellBoundingRect(o,0),e.clientY>n.scrollTop+i.top+i.height/2&&o<t.rows.length&&(i.top+=i.height,o++),this._dropIndex=o):(o=t.viewRange.bottomRow,(i=t.getCellBoundingRect(o,0)).top+=i.height,this._dropIndex=o+1)}else(i=De.fromBoundingRect(t.hostElement.getBoundingClientRect())).top+=4,this._dropIndex=0;Pe(this._dMarker,{left:Math.round(i.left-r.left)+n.scrollLeft,top:Math.round(i.top-r.top-2)+n.scrollTop,width:Math.round(i.width),height:4,display:""})}else this._dMarker.style.display="none"},e.controlTemplate='<div><label wj-part="g-flds"></label><div wj-part="d-fields"></div><label wj-part="g-drag"></label><table><tr><td width="50%"><label><span class="wj-glyph wj-glyph-filter"></span> <span wj-part="g-flt"></span></label><div wj-part="d-filters"></div></td><td width= "50%" style="border-left-style:solid"><label><span class="wj-glyph">&#10996;</span> <span wj-part="g-cols"></span></label><div wj-part="d-cols"></div></td></tr><tr style="border-top-style:solid"><td width="50%"><label><span class="wj-glyph">&#8801;</span> <span wj-part="g-rows"></span></label><div wj-part="d-rows"></div></td><td width= "50%" style="border-left-style:solid"><label><span class="wj-glyph">&#931;</span> <span wj-part="g-vals"></span></label><div wj-part="d-vals"></div></td></tr></table><div wj-part="d-prog" class="wj-state-selected" style="width:0px;height:3px"></div><div style="display:table"><label style="display:table-cell;vertical-align:middle"><input wj-part="chk-defer" type="checkbox"/> <span wj-part="g-defer"></span></label><button wj-part="btn-update" class="wj-btn wj-state-disabled" style="float:right;margin:6px" disabled></button></div></div>',e}(li),Ts=function(t){function e(e,i){var n=t.call(this,e)||this;n._showDetailOnDoubleClick=!0,n._collapsibleSubtotals=!0,n._customCtxMenu=!0,n._ctxMenu=new ms,n._showRowFldSort=!1,n._showRowFldHdrs=!0,n._showColFldHdrs=!0,n._showValFldHdrs=!1,n._centerVert=!0,n._collapsedKeys={},n._resizingColumn=!1,n._outlineMode=!1,n._ignoreClick=!1,n._colRowFields=new Map,n._prevCulture=Ve.Globalize.name,n._hdrCols._setDefaultSize(n._cols.defaultSize),ae(n.hostElement,"wj-pivotgrid"),n.isReadOnly=!0,n.copyHeaders=Bn.All,n.deferResizing=!0,n.alternatingRowStep=0,n.autoGenerateColumns=!1,n.allowDragging=br.None,n.allowMerging=Qn.All,n.mergeManager=new As,n.customContextMenu=!0,n.treeIndent=32,n.initialize(i),n.formatItem.addHandler(n._formatItem,n);var r=n.hostElement;return n.addEventListener(r,"mousedown",n._mousedown.bind(n),!0),n.addEventListener(r,"mouseup",n._mouseup.bind(n),!0),n.addEventListener(r,"dblclick",n._dblclick.bind(n),!0),n.addEventListener(r,"click",n._click.bind(n),!0),n.addEventListener(r,"keydown",n._keydown.bind(n),!0),n._ctxMenu.attach(n),n}return ss(e,t),e.prototype._getProductInfo=function(){return"D6F4,PivotGrid"},Object.defineProperty(e.prototype,"engine",{get:function(){return this._ng},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showDetailOnDoubleClick",{get:function(){return this._showDetailOnDoubleClick},set:function(t){this._showDetailOnDoubleClick=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"detailDialog",{get:function(){return this._dlgDetail||(this._dlgDetail=new Ps(document.createElement("div"))),this._dlgDetail},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showRowFieldHeaders",{get:function(){return this._showRowFldHdrs},set:function(t){t!=this._showRowFldHdrs&&(this._showRowFldHdrs=Yt(t),this._updateFixedContent())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showColumnFieldHeaders",{get:function(){return this._showColFldHdrs},set:function(t){t!=this._showColFldHdrs&&(this._showColFldHdrs=Yt(t),this._updateFixedContent())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showValueFieldHeaders",{get:function(){return this._showValFldHdrs},set:function(t){t!=this._showValFldHdrs&&(this._showValFldHdrs=Yt(t),this._updateFixedCounts(),this._updateFixedContent())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showRowFieldSort",{get:function(){return this._showRowFldSort},set:function(t){t!=this._showRowFldSort&&(this._showRowFldSort=Yt(t),this._updateFixedContent())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"customContextMenu",{get:function(){return this._customCtxMenu},set:function(t){this._customCtxMenu=Yt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collapsibleSubtotals",{get:function(){return this._collapsibleSubtotals},set:function(t){t!=this._collapsibleSubtotals&&(this._collapsibleSubtotals=Yt(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"centerHeadersVertically",{get:function(){return this._centerVert},set:function(t){t!=this._centerVert&&(this._centerVert=Yt(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outlineMode",{get:function(){return this._outlineMode},set:function(t){t!=this._outlineMode&&(this._outlineMode=Yt(t),this._bindGrid(!0))},enumerable:!0,configurable:!0}),e.prototype.getKeys=function(t,e){var i=this.rows[Wt(t)],n=this.columns[Wt(e)],r=i?i.dataItem:null,o=n?n.binding:null;return this._ng.getKeys(r,o)},e.prototype.getDetail=function(t,e){var i=this.rows[Wt(t)].dataItem,n=this.columns[Wt(e)].binding;return this._ng.getDetail(i,n)},e.prototype.getDetailView=function(t,e){var i=this.rows[Wt(t)].dataItem,n=this.columns[Wt(e)].binding;return this._ng.getDetailView(i,n)},e.prototype.showDetail=function(t,e){if(this._ng.valueFields.length){var i=this.detailDialog;i.showDetail(this,new Tn(t,e)),i.show(!0)}},e.prototype.collapseRowsToLevel=function(t){this._collapseRowsToLevel(t)},e.prototype.collapseColumnsToLevel=function(t){this._collapseColsToLevel(t)},e.prototype._getQuickAutoSize=function(){return xt(this.quickAutoSize)?this.quickAutoSize:this.formatItem.handlerCount<=1&&null==this.itemFormatter},e.prototype._bindGrid=function(e){var i=this;this.deferUpdate((function(){var n=i.preserveOutlineState||i._resizingColumn,r=i._collapsedKeys,o=i.rows,s=i.columns;if(n||(r=i._collapsedKeys={}),t.prototype._bindGrid.call(i,e),i._ng&&n&&!Tt(r)){for(var a=i._ng.totalsBeforeData,l=a?o.length-1:0,h=a?-1:o.length,u=a?-1:1,c=l;c!=h;c+=u){var d=o[c].dataItem;(f=d?d[hs._ROW_KEY_NAME]:null)&&f.level>=0&&r[f.toString()]&&i._setRowCollapsed(new Tn(c,f.level-1),!0)}for(l=a?s.length-1:0,h=a?-1:s.length,u=a?-1:1,c=l;c!=h;c+=u){var f,p=s[c].binding;(f=i._ng._getKey(p))&&f.level>0&&r[f.toString()]&&i._setColCollapsed(new Tn(f.level-1,c),!0)}}}))},e.prototype._getCollectionView=function(t){return t instanceof ks?t=t.engine.pivotView:t instanceof js&&(t=t.pivotView),Qt(t)},e.prototype.refresh=function(e){void 0===e&&(e=!0),this._ctxMenu.refresh();var i=Ve.Globalize.name;this._prevCulture!==i&&(this._prevCulture=i,this._updateFixedContent()),t.prototype.refresh.call(this,e)},e.prototype.onItemsSourceChanged=function(e){this._ng&&(this._ng.updatingView.removeHandler(this._updatingView,this),this._ng.viewDefinitionChanged.removeHandler(this._viewDefinitionChanged,this),this._ng._hasDeferredUpdatesChanged.removeHandler(this._hasDeferredUpdatesChanged,this)),this._collapsedKeys={};var i=this.collectionView;this._ng=i instanceof cs?i.engine:null,this._ng&&(this._ng.updatingView.addHandler(this._updatingView,this),this._ng.viewDefinitionChanged.addHandler(this._viewDefinitionChanged,this),this._ng._hasDeferredUpdatesChanged.addHandler(this._hasDeferredUpdatesChanged,this)),this._updatingView(),this._bindGrid(!0),t.prototype.onItemsSourceChanged.call(this,e)},e.prototype.onResizedColumn=function(e){var i=this._ng;if(i){if(this._resizingColumn=!0,e.panel.columns==this.rowHeaders.columns&&(n=this._colRowFields.get(e.getColumn()))instanceof ds&&(n.width=e.panel.columns[e.col].renderWidth),e.panel.columns==this.columnHeaders.columns){var n,r=i.valueFields;if(r.length>0)(n=r[e.col%r.length]).width=e.panel.columns[e.col].renderWidth}this._resizingColumn=!1}t.prototype.onResizedColumn.call(this,e)},e.prototype.onSortingColumn=function(e){var i=this._ng;return(!i||!i.isUpdating)&&t.prototype.onSortingColumn.call(this,e)},e.prototype.onDraggingColumn=function(e){var i=this._ng;return(!i||!i.isUpdating)&&t.prototype.onDraggingColumn.call(this,e)},e.prototype.onDraggedColumn=function(e){var i=this._ng;if(i&&e.panel.columns==this.topLeftCells.columns){var n=i.rowFields,r=n[e.data.col];i.deferUpdate((function(){n.removeAt(e.data.col),n.insert(e.col,r)}))}t.prototype.onDraggedColumn.call(this,e)},e.prototype._updatingView=function(){this._updateFixedCounts(),this.columns.clear(),this.rows.clear()},e.prototype._viewDefinitionChanged=function(){this._resizingColumn||(this._collapsedKeys={})},e.prototype._hasDeferredUpdatesChanged=function(){for(var t=this.engine,i=t&&t.hasDeferredUpdates,n=this.hostElement.querySelectorAll("."+e._WJC_COLLAPSE),r=0;r<n.length;r++)he(n[r],e._WJC_DISABLED,i)},e.prototype.onLoadedRows=function(e){0==this.columns.length&&this._generateColumns(),this._updateFixedCounts(),this._updateFixedContent(),t.prototype.onLoadedRows.call(this,e)},e.prototype._generateColumns=function(){var t=this.collectionView,e=t?t.sourceCollection:null,i=e&&e.length,n=this.engine;if(n&&i)for(var r=Object.keys(e[0]).filter((function(t){return t!=hs._ROW_KEY_NAME})),o=[Ye.Cnt,Ye.CntAll],s=0;s<r.length;s++){var a=n._getFieldByColKey(r[s]);this.columns.push(new Un({binding:r[s],dataType:a&&-1===o.indexOf(a.aggregate)?a.dataType:lt.Number,allowMerging:!0}))}},e.prototype._updateFixedCounts=function(){var t,e=this._ng,i=e&&e.isViewDefined;t=Math.max(1,i?e.rowFields.length:1);var n=this.topLeftCells.columns;n.clear(),this._colRowFields.clear();for(var r=0;r<t;r++){var o=new Un({allowMerging:!0});n.push(o),i&&this._colRowFields.set(o,e.rowFields[r])}t=Math.max(1,i?e.columnFields.length:1),e&&e.columnFields.length&&(e.valueFields.length>1||this.showValueFieldHeaders)&&t++;var s=this.topLeftCells.rows;for(s.clear(),r=0;r<t;r++)s.push(new Gn)},e.prototype._updateFixedContent=function(){var t=this._ng;if(t&&t.isViewDefined){for(var e=t.rowFields,i=t.columnFields,n=t.valueFields,r=this.outlineMode?e.map((function(t){return t.header})).join(" / "):"",o=this.topLeftCells,s=0;s<o.rows.length;s++)for(var a=0;a<o.columns.length;a++){var l="";this.showRowFieldHeaders&&a<e.length&&s==o.rows.length-1&&(l=this.outlineMode?r:e[a].header),this.showColumnFieldHeaders&&!l&&s<i.length&&0==a&&(l=i[s].header+":"),o.setCellData(s,a,l,!1,!1)}for(o=this.rowHeaders,s=0;s<o.rows.length;s++){var h=o.rows[s].dataItem[hs._ROW_KEY_NAME];for(Ht(h instanceof hs,"missing PivotKey for row..."),a=0;a<o.columns.length;a++)l=h.getValue(a,!0),o.setCellData(s,a,l,!1,!1)}for(o=this.columnHeaders,a=0;a<o.columns.length;a++)for(Ht((h=t._getKey(o.columns[a].binding))instanceof hs,"missing PivotKey for column..."),s=0;s<o.rows.length;s++)l=h.getValue(s,!0),s==o.rows.length-1&&n.length&&(n.length>1||0==i.length||h.level>-1||this.showValueFieldHeaders)&&(l=n[a%n.length].header),o.setCellData(s,a,l,!1,!1);for(o=this.topLeftCells,a=0;a<o.columns.length;a++){var u=o.columns[a],c=a<e.length?e[a]:null;u.wordWrap=c?c.wordWrap:null,u.align=c?c.align:null,this.outlineMode&&a<o.columns.length-1?(u.width=this.treeIndent,u.allowResizing=!1):(u.allowResizing=!0,u.width=c&&vt(c.width)?c.width:null)}for(o=this.cells,a=0;a<o.columns.length;a++)u=o.columns[a],c=n.length?n[a%n.length]:null,u.width=c&&vt(c.width)?c.width:null,u.wordWrap=c?c.wordWrap:null,u.format=c?c.format:null,u.align=c?c.align:null;this.invalidate()}else this.topLeftCells.setCellData(0,0,null)},e.prototype._updateDefaultSizes=function(){var e=t.prototype._updateDefaultSizes.call(this);return this._hdrCols._setDefaultSize(4*e),e},e.prototype._formatItem=function(t,e){var i=this._ng,n=e.panel,r=e.cell;if(i){if(n==this.topLeftCells){var o=0==i.rowFields.length||e.row<n.rows.length-1||e.row==n.rows.length-1&&!this.showRowFieldHeaders;he(r,"wj-col-field-hdr",o),he(r,"wj-row-field-hdr",!o)}var s,a=null;switch(n==this.topLeftCells&&e.row==n.rows.length-1&&this.allowDragging&br.Columns&&(a=!0),ue(r,"draggable",a),n){case this.rowHeaders:s=i.rowFields[e.col%i.rowFields.length];break;case this.columnHeaders:s=i.columnFields[e.row];break;case this.cells:s=i.valueFields[e.col]}s&&s.isContentHtml&&(r.innerHTML=r.textContent);var l=n.columns[e.col].binding,h=n.rows==this.rows?i._getRowLevel(e.row):-1,u=n.columns==this.columns?i._getColLevel(l):-1;if(he(r,"wj-aggregate",h>-1||u>-1),this._collapsibleSubtotals){if(n==this.rowHeaders&&i._getShowRowTotals()==ps.Subtotals)if(this.outlineMode){var c=this._getGroupedRows(e.range);if(e.col<i.rowFields.length-1&&!c.containsRow(e.row)){var d=this._getRowCollapsed(e.range);r.innerHTML=this._getCollapsedGlyph(d)+r.innerHTML}}else c=this.getMergedRange(n,e.row,e.col,!1)||e.range,e.col<i.rowFields.length-1&&c.rowSpan>1&&(d=this._getRowCollapsed(c),r.innerHTML=this._getCollapsedGlyph(d)+r.innerHTML);if(this.outlineMode&&n==this.rowHeaders&&e.range.rightCol<n.columns.length-1&&(r.innerHTML=""),n==this.columnHeaders&&i._getShowColTotals()==ps.Subtotals&&(c=this.getMergedRange(n,e.row,e.col,!1)||e.range,e.row<i.columnFields.length-1&&c.columnSpan>1)){var f=this._getColCollapsed(c);r.innerHTML=this._getCollapsedGlyph(f)+r.innerHTML}}n==this.topLeftCells&&this.showRowFieldSort&&e.col<i.rowFields.length&&e.row==this._getSortRowIndex()&&(he(r,"wj-sort-asc",!(s=i.rowFields[e.col]).descending),he(r,"wj-sort-desc",s.descending),r.innerHTML+=' <span class="wj-glyph-'+(s.descending?"down":"up")+'"></span>'),n!=this.cells&&he(r,"wj-align-vcenter",this._centerVert)}},e.prototype._getCollapsedGlyph=function(t){var i=this.engine,n=i&&i.hasDeferredUpdates;return'<div class="'+e._WJC_COLLAPSE+(n?" "+e._WJC_DISABLED:"")+'"><span class="wj-glyph-'+(t?"plus":"minus")+'"></span></div>'},e.prototype._mousedown=function(t){if(t.defaultPrevented||0!=t.button)this._htDown=null;else{var i=this._htDown=this.hitTest(t),n=i.panel;this._ignoreClick=!1;var r=this.engine,o=r&&r.hasDeferredUpdates,s=Ee(t.target,e._WJC_COLLAPSE);if(!o&&null!=s&&null!=n){var a=i.range,l=void 0;switch(n.cellType){case En.RowHeader:var h=this.getMergedRange(n,a.row,a.col);h&&a.copy(h),l=this._getRowCollapsed(a),t.shiftKey||t.ctrlKey?this._collapseRowsToLevel(a.col+(l?2:1)):this._setRowCollapsed(a,!l);break;case En.ColumnHeader:l=this._getColCollapsed(a),t.shiftKey||t.ctrlKey?this._collapseColsToLevel(a.row+(l?2:1)):this._setColCollapsed(a,!l)}t.preventDefault(),this._ignoreClick=!0,this._htDown=null,this.focus()}}},e.prototype._mouseup=function(t){if(this._htDown&&!t.defaultPrevented&&!this._mouseHdl._szRowCol){var e=this.hitTest(t);if(this._htDown.panel==e.panel&&e.range.equals(this._htDown.range)){var i=this._ng,n=this.topLeftCells;if(e.panel==n&&e.row==n.rows.length-1&&e.col>-1){var r=e.getColumn();if(this.allowSorting&&r.allowSorting&&!e.edgeRight){var o=this._colRowFields.get(r);if(o&&!i.isUpdating){var s=new Dn(e.panel,e.range);this.onSortingColumn(s)&&(i.pivotView.sortDescriptions.clear(),o.descending=!o.descending,this.onSortedColumn(s))}}t.preventDefault(),this._ignoreClick=!0}}}},e.prototype._click=function(t){this._ignoreClick&&t.preventDefault()},e.prototype._dblclick=function(t){if(!t.defaultPrevented&&this._showDetailOnDoubleClick){var e=this._htDown;if(e&&e.panel==this.cells){var i=this._ng;i&&i.fields.length>0&&(i.fields[0]instanceof fs||this.showDetail(e.row,e.col))}}},e.prototype._keydown=function(t){if(!t.defaultPrevented&&!t.ctrlKey&&t.altKey&&this.collapsibleSubtotals){var e=this.selection;if(e.isValid){var i=this._getRowLevel(e.topRow);i<0&&(i=this.rowHeaders.columns.length-1);var n=this._getKeyCode(t);switch(n){case at.Left:case at.Right:var r=new Tn(e.row,i-1);this._setRowCollapsed(r,n==at.Left),t.preventDefault()}}}},e.prototype._getRowLevel=function(t){return this._ng._getRowLevel(t)},e.prototype._getGroupedRows=function(t){var e,i=this._getRowLevel.bind(this),n=t.col+1,r=this.rows.length,o=this._ng.totalsBeforeData,s=t.row;if(0==i(s))s=o?1:0,e=o?r-1:r-2;else{if(o)for(;s<r&&!(i(s)<0);s++);else for(;s>=0&&!(i(s)<0);s--);for(;s>0&&!((a=i(s-1))>=0&&a<=n);s--);for(e=s;e<r-1;e++){var a;if((a=i(e+1))>=0&&a<=n)break}}return Ht(e>=s,"group end < start?"),e>=s?new Tn(s,t.col,e,t.col2):t},e.prototype._toggleRowCollapsed=function(t){this._setRowCollapsed(t,!this._getRowCollapsed(t))},e.prototype._getRowCollapsed=function(t){t=this._getGroupedRows(t);var e=this._ng.totalsBeforeData?t.row-1:t.row2+1,i=this.rows[e]||this.rows[t.row],n=i?i.dataItem[hs._ROW_KEY_NAME]:null;return!!n&&this._collapsedKeys[n.toString()]},e.prototype._setRowCollapsed=function(t,e){var i=this;t=this._getGroupedRows(t);var n=this._ng.totalsBeforeData?t.row-1:t.row2+1,r=this.rows[n]||this.rows[t.row],o=r?r.dataItem[hs._ROW_KEY_NAME]:null;o&&(this._collapsedKeys[o.toString()]=e),this.deferUpdate((function(){for(var o=t.row;o<=t.row2;o++)i.rows[o].visible=!e;if(r&&(r.visible=!0),!e){var s=i._getRowLevel(n),a=[];for(o=t.row;o<=t.row2;o++)if(i._getRowLevel(o)>-1){var l=i._getGroupedRows(new Tn(o,s));Ht(l.row>=t.row&&l.row2<=t.row2,"child range overflow"),a.push(l),o++}a.forEach((function(t){var e=i._getRowCollapsed(t);i._setRowCollapsed(t,e)}))}}))},e.prototype._collapseRowsToLevel=function(t){var e=this;t>=this._ng.rowFields.length&&(t=-1),this.deferUpdate((function(){for(var i=0;i<e.rows.length;i++){var n=e._getRowLevel(i);if(n>0){var r=e.rows[i].dataItem[hs._ROW_KEY_NAME];e._collapsedKeys[r.toString()]=t>0&&n>=t}if(t<0)e.rows[i].visible=!0;else{var o=n>-1&&n<=t;o||(e._ng.totalsBeforeData?0==i&&(o=!0):i==e.rows.length-1&&(o=!0)),e.rows[i].visible=o}}}))},e.prototype._getColLevel=function(t){return this._ng._getColLevel(this.columns[t].binding)},e.prototype._getGroupedCols=function(t){var e,i=this._getColLevel.bind(this),n=t.row+1,r=this.columns.length,o=this._ng.totalsBeforeData,s=t.col;if(0==i(s))s=o?1:0,e=o?r-1:r-2;else{if(this._ng.totalsBeforeData)for(s=t.col;s<r&&!(i(s)<0);s++);else for(s=t.col;s>=0&&!(i(s)<0);s--);for(;s>0&&!((a=i(s-1))>=0&&a<=n);s--);for(e=s;e<r-1;e++){var a;if((a=i(e+1))>=0&&a<=n)break}}return Ht(e>=s,"group end < start?"),e>=s?new Tn(t.row,s,t.row2,e):t},e.prototype._toggleColCollapsed=function(t){this._setColCollapsed(t,!this._getColCollapsed(t))},e.prototype._getColCollapsed=function(t){t=this._getGroupedCols(t);var e=this._ng,i=e.totalsBeforeData?t.col-e.valueFields.length:t.col2+1,n=this.columns[i],r=n?n.binding:null;return!!r&&this._collapsedKeys[r.toString()]},e.prototype._setColCollapsed=function(t,e){var i=this;t=this._getGroupedCols(t);var n=this._ng,r=n.totalsBeforeData?t.col-n.valueFields.length:t.col2+1,o=this.columns[r],s=o?o.binding:null;s&&(this._collapsedKeys[s.toString()]=e),this.deferUpdate((function(){for(var o=1;o<=n.valueFields.length;o++)i.columns[n.totalsBeforeData?t.col-o:t.col2+o].visible=!0;for(var s=t.col;s<=t.col2;s++)i.columns[s].visible=!e;if(!e){var a=i._getColLevel(r),l=[];for(s=t.col;s<=t.col2;s++)if(i._getColLevel(s)>-1){var h=i._getGroupedCols(new Tn(a,s));Ht(h.col>=t.col&&h.col2<=t.col2,"child range overflow"),l.push(h),s+=n.valueFields.length-1}l.forEach((function(t){var e=i._getColCollapsed(t);i._setColCollapsed(t,e)}))}}))},e.prototype._collapseColsToLevel=function(t){var e=this;t>=this._ng.columnFields.length&&(t=-1),this.deferUpdate((function(){for(var i=0;i<e.columns.length;i++){var n=e._getColLevel(i);if(n>0){var r=e._ng._getKey(e.columns[i].binding);e._collapsedKeys[r.toString()]=t>0&&n>=t}if(t<0)e.columns[i].visible=!0;else{var o=n>-1&&n<=t;e.columns[i].visible=o}}}))},e._WJC_COLLAPSE="wj-pivot-collapse",e._WJC_DISABLED="wj-state-disabled",e}($n),Ps=function(t){function e(e,i){var n=t.call(this,e,null)||this,r=n.getTemplate();return n.applyTemplate("wj-control wj-detaildialog",r,{_sCnt:"sp-cnt",_dSummary:"div-summary",_dGrid:"div-grid",_btnOK:"btn-ok",_gHdr:"g-hdr"}),n._g=new $n(n._dGrid,{isReadOnly:!0}),n.initialize(i),n}return ss(e,t),e.prototype.showDetail=function(t,e){var i=this,n=t.getDetailView(e.row,e.col);this._g.itemsSource=n;var r=_t(n,"IPagedCollectionView");this._updateDetailCount(r?r.totalItemCount:n.items.length),n.collectionChanged.addHandler((function(){i._updateDetailCount(n.items.length)}));var o=t.engine,s=Ve.olap.DetailDialog,a="";this._gHdr.textContent=s.header,this._btnOK.textContent=s.ok;var l=t.rows[e.row].dataItem[hs._ROW_KEY_NAME];this._rowHdr=ee(this._getHeader(l)),this._rowHdr&&(a+=s.row+": <b>"+this._rowHdr+"</b><br>");var h=o._getKey(t.columns[e.col].binding);this._colHdr=ee(this._getHeader(h)),this._colHdr&&(a+=s.col+": <b>"+this._colHdr+"</b><br>");var u=o.valueFields,c=u[e.col%u.length],d=t.getCellData(e.row,e.col,!0);this._cellHdr=ee(c.header),this._cellValue=ee(d),a+=this._cellHdr+": <b>"+this._cellValue+"</b>",this._dSummary.innerHTML=a},Object.defineProperty(e.prototype,"rowHeader",{get:function(){return this._rowHdr},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnHeader",{get:function(){return this._colHdr},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cellHeader",{get:function(){return this._cellHdr},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cellValue",{get:function(){return this._cellValue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"detailCount",{get:function(){return this._detailCount},enumerable:!0,configurable:!0}),e.prototype._updateDetailCount=function(t){var e=Ve.olap.DetailDialog;this._sCnt.textContent=Mt(1==t?e.item:e.items,{cnt:t}),this._detailCount=t},e.prototype._getHeader=function(t){if(t&&t.values&&t.values.length){for(var e=[],i=0;i<t.values.length;i++)e.push(t.getValue(i,!0));return e.join(" - ")}return null},e.controlTemplate='<div><div class="wj-dialog-header"><span wj-part="g-hdr">Detail View:</span> <span wj-part="sp-cnt"></span></div><div class="wj-dialog-body"><div wj-part="div-summary" class="wj-summary"></div><div wj-part="div-grid"></div></div><div class="wj-dialog-footer"><button wj-part="btn-ok"class="wj-hide wj-btn">OK</button>&nbsp;&nbsp;</div></div>',e}(sn),As=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ss(e,t),e.prototype.getMergedRange=function(e,i,n,r){void 0===r&&(r=!0);var o=e.grid.collectionView;if(this._ng=o instanceof cs?o.engine:null,!this._ng)return t.prototype.getMergedRange.call(this,e,i,n,r);if(i<0||i>=e.rows.length||n<0||n>=e.columns.length)return null;var s=e.grid.allowMerging,a=Qn;switch(e.cellType){case En.TopLeft:return 0!=(s&a.AllHeaders)?this._getMergedTopLeftRange(e,i,n):null;case En.RowHeader:return 0!=(s&a.RowHeaders)?this._getMergedRowHeaderRange(e,i,n,r?e.viewRange:null):null;case En.ColumnHeader:return 0!=(s&a.ColumnHeaders)?this._getMergedColumnHeaderRange(e,i,n,r?e.viewRange:null):null}return null},e.prototype._getMergedTopLeftRange=function(t,e,i){var n=new Tn(e,i),r=t.grid;if(r.outlineMode&&r.showRowFieldHeaders&&n.row==t.rows.length-1)return n.col=0,n.col2=t.columns.length-1,n;for(;n.col>0&&!t.getCellData(e,n.col,!0);)n.col--;for(;n.col2<t.columns.length-1&&!t.getCellData(e,n.col2+1,!0);)n.col2++;return n.isSingleCell?null:n},e.prototype._getMergedRowHeaderRange=function(t,e,i,n){var r=t.grid;if(!t.columns[i].allowMerging)return null;if(r.outlineMode){if(this._isSubtotal(t,e,i)||this._isSubtotal(t,e,i+1)){var o=this._getOutlineRange(t,e,i);return o.isSingleCell?null:o}if(i<t.columns.length-1){var s=r._getGroupedRows(new Tn(e,i));return s.isSingleCell?null:s}return null}var a=this._ng._getRowLevel(e);if(a>-1&&i>=a){var l=t.getCellData(e,i,!1),h=void 0,u=void 0,c=n?n.col:0,d=n?n.col2:t.columns.length-1;for(h=i;h>c&&t.getCellData(e,h-1,!1)==l;h--);for(u=i;u<d&&t.getCellData(e,u+1,!1)==l;u++);return h!=u?new Tn(e,h,e,u):null}var f,p,g=n?n.row:0,_=n?n.row2:t.rows.length-1;for(f=e;f>g&&this._sameColumnValues(t,e,f-1,i);f--);for(p=e;p<_&&this._sameColumnValues(t,e,p+1,i);p++);return f!=p?new Tn(f,i,p,i):null},e.prototype._sameColumnValues=function(t,e,i,n){for(;n>=0;n--)if(t.getCellData(e,n,!1)!=t.getCellData(i,n,!1))return!1;return!0},e.prototype._isSubtotal=function(t,e,i){var n=t.rows[e].dataItem,r=n?n[hs._ROW_KEY_NAME]:null;return n&&i>r.values.length-1&&i<t.columns.length},e.prototype._getOutlineRange=function(t,e,i){var n=new Tn(e,i);for(n.col2=t.columns.length-1;n.col&&this._isSubtotal(t,e,n.col);)n.col--;return n},e.prototype._getMergedColumnHeaderRange=function(t,e,i,n){var r=t.columns[i],o=this._ng._getKey(r.binding),s=t.getCellData(e,i,!1),a=this._ng._getColLevel(o);if(a>-1&&e>=a){var l=void 0,h=void 0,u=n?n.row:0,c=n?n.row2:t.rows.length-1;for(l=e;l>u&&t.getCellData(l-1,i,!1)==s;l--);for(h=e;h<c&&t.getCellData(h+1,i,!1)==s;h++);if(l!=h)return new Tn(l,i,h,i)}n&&(i<t.columns.frozen&&(n.col=n.col2=0),e<t.rows.frozen&&(n.row=n.row2=0));var d,f,p=n?n.col:0,g=n?n.col2:t.columns.length-1;for(d=i;d>p&&this._sameRowValues(t,e,i,d-1);d--);for(f=i;f<g&&this._sameRowValues(t,e,i,f+1);f++);return d!=f?new Tn(e,d,e,f):null},e.prototype._sameRowValues=function(t,e,i,n){for(;e>=0;e--)if(t.getCellData(e,i,!1)!=t.getCellData(e,n,!1))return!1;return!0},e}(nr);!function(t){t[t.Column=0]="Column",t[t.Bar=1]="Bar",t[t.Scatter=2]="Scatter",t[t.Line=3]="Line",t[t.Area=4]="Area",t[t.Pie=5]="Pie"}(xs||(xs={})),function(t){t[t.Always=0]="Always",t[t.Never=1]="Never",t[t.Auto=2]="Auto"}(Cs||(Cs={}));var Rs=function(t){function e(i,n){var r=t.call(this,i)||this;return r._chartType=xs.Column,r._showHierarchicalAxes=!0,r._showTotals=!1,r._showTitle=!0,r._showLegend=Cs.Always,r._legendPosition=Wr.Right,r._maxSeries=e.MAX_SERIES,r._maxPoints=e.MAX_POINTS,r._stacking=Oo.None,r._colItms=[],r._dataItms=[],r._lblsSrc=[],r._grpLblsSrc=[],ae(r.hostElement,"wj-pivotchart"),r._isPieChart()?r._createFlexPie():r._createFlexChart(),t.prototype.initialize.call(r,n),r}return ss(e,t),e.prototype._getProductInfo=function(){return"D6F4,PivotChart"},Object.defineProperty(e.prototype,"engine",{get:function(){return this._ng},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemsSource",{get:function(){return this._itemsSource},set:function(t){if(t&&this._itemsSource!==t){var e=this._itemsSource;t instanceof ks?t=t.engine.pivotView:t instanceof js&&(t=t.pivotView),this._itemsSource=Qt(t),this._onItemsSourceChanged(e)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chartType",{get:function(){return this._chartType},set:function(t){if((t=Jt(t,xs))!=this._chartType){var e=this._chartType;this._chartType=t,this._changeChartType(),t!==xs.Bar&&e!==xs.Bar||this._updatePivotChart()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showHierarchicalAxes",{get:function(){return this._showHierarchicalAxes},set:function(t){t!=this._showHierarchicalAxes&&(this._showHierarchicalAxes=Yt(t,!0),!this._isPieChart()&&this._flexChart&&this._updateFlexChart(this._dataItms,this._lblsSrc,this._grpLblsSrc))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showTotals",{get:function(){return this._showTotals},set:function(t){t!=this._showTotals&&(this._showTotals=Yt(t,!0),this._updatePivotChart())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showTitle",{get:function(){return this._showTitle},set:function(t){t!=this._showTitle&&(this._showTitle=Yt(t,!0),this._updatePivotChart())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showLegend",{get:function(){return this._showLegend},set:function(t){(t=Jt(t,Cs))!=this.showLegend&&(this._showLegend=t,this._updatePivotChart())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"legendPosition",{get:function(){return this._legendPosition},set:function(t){(t=Jt(t,Wr))!=this.legendPosition&&(this._legendPosition=t,this._updatePivotChart())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stacking",{get:function(){return this._stacking},set:function(t){(t=Jt(t,Oo))!=this._stacking&&(this._stacking=t,this._flexChart&&(this._flexChart.stacking=this._stacking,this._updatePivotChart()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxSeries",{get:function(){return this._maxSeries},set:function(t){t!=this._maxSeries&&(this._maxSeries=Gt(t),this._updatePivotChart())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxPoints",{get:function(){return this._maxPoints},set:function(t){t!=this._maxPoints&&(this._maxPoints=Gt(t),this._updatePivotChart())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"flexChart",{get:function(){return this._flexChart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"flexPie",{get:function(){return this._flexPie},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"header",{get:function(){return this._header},set:function(t){t!=this._header&&(this._header=Ut(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"footer",{get:function(){return this._footer},set:function(t){t!=this._footer&&(this._footer=Ut(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerStyle",{get:function(){return this._headerStyle},set:function(t){t!=this._headerStyle&&(this._headerStyle=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"footerStyle",{get:function(){return this._footerStyle},set:function(t){t!=this._footerStyle&&(this._footerStyle=t,this.invalidate())},enumerable:!0,configurable:!0}),e.prototype.refresh=function(e){void 0===e&&(e=!0),t.prototype.refresh.call(this,e),this._isPieChart()?this._flexPie&&this._flexPie.refresh(e):this._flexChart&&this._flexChart.refresh(e),this._updatePivotChart()},e.prototype.saveImageToDataUrl=function(t,e){this._isPieChart()?this._flexPie&&this._flexPie.saveImageToDataUrl(t,e):this._flexChart&&this._flexChart.saveImageToDataUrl(t,e)},e.prototype.saveImageToFile=function(t){this._isPieChart()?this._flexPie&&this._flexPie.saveImageToFile(t):this._flexChart&&this._flexChart.saveImageToFile(t)},e.prototype._onItemsSourceChanged=function(t){this._ng&&this._ng.updatedView.removeHandler(this._updatePivotChart,this),t&&t.collectionChanged.removeHandler(this._updatePivotChart,this);var e=this._itemsSource;this._ng=e instanceof cs?e.engine:null,this._ng&&this._ng.updatedView.addHandler(this._updatePivotChart,this),this._itemsSource&&this._itemsSource.collectionChanged.addHandler(this._updatePivotChart,this),this._updatePivotChart()},e.prototype._createFlexChart=function(){var t=this,e=document.createElement("div");this.hostElement.appendChild(e),this._flexChart=new Xo(e),this._flexChart._bindingSeparator=null,this._flexChart.legend.position=Wr.Right,this._flexChart.bindingX=hs._ROW_KEY_NAME,this._flexChart.stacking=this._stacking,this._flexChart.tooltip.content=function(e){return(e.name?"<b>"+e.name+"</b> <br/>":"")+(t._getLabel(e.x)+" ")+t._getValue(e)},this._flexChart.hostElement.style.visibility="hidden"},e.prototype._createFlexPie=function(){var t=this,e=document.createElement("div");this.hostElement.appendChild(e),this._colMenu=new dn(e,{displayMemberPath:"text",placeholder:Ve.olap.PivotPanel.cols,selectedValuePath:"prop",showSelectAllCheckbox:!0}),this._colMenu.hostElement.style.visibility="hidden",this._colMenu.checkedItemsChanged.addHandler((function(e,i){return t._updateFlexPieBinding()}));var i=document.createElement("div");this.hostElement.appendChild(i),this._flexPie=new Lo(i),this._flexPie.bindingName=hs._ROW_KEY_NAME,this._flexPie.tooltip.content=function(e){return"<b>"+t._getLabel(t._dataItms[e.pointIndex][hs._ROW_KEY_NAME])+"</b> <br/>"+t._getValue(e)},this._flexPie.rendering.addHandler(this._updatePieInfo,this)},e.prototype._updatePivotChart=function(){if(this._ng&&this._ng.pivotView){for(var t,e=[],i=[],n=[],r=0,o=this._ng.pivotView,s=this._ng.rowFields,a=0;a<o.items.length;a++){var l=o.items[a],h=l.$rowKey;if(0==a&&this._getColumns(l),e.length>=this._maxPoints)break;if(!this._isTotalRow(l[hs._ROW_KEY_NAME])){e.push(l),i.push({value:e.length-1,text:this._getLabel(l[hs._ROW_KEY_NAME])});for(var u=0;u<s.length;u++)if(n.length<=u&&n.push([]),this._getMergeIndex(h,t)<u){r=n[u].length-1;var c=n[u][r];if(0===r&&u<s.length-1&&(c.value=(c.width-1)/2),r>0&&u<s.length-1){var d=this._getOffsetWidth(n[u]);c.value=d+(c.width-1)/2}n[u].push({value:e.length-1,text:h.getValue(u,!0),width:1})}else r=n[u].length-1,n[u][r].width++;t=h}}for(u=0;u<s.length;u++)u<n.length&&(r=n[u].length-1,n[u][r].value=this._getOffsetWidth(n[u])+(n[u][r].width-1)/2);this._dataItms=e,this._lblsSrc=i,this._grpLblsSrc=n,this._updateFlexChartOrPie()}},e.prototype._updateFlexChartOrPie=function(){var t=this._isPieChart();!t&&this._flexChart?this._updateFlexChart(this._dataItms,this._lblsSrc,this._grpLblsSrc):t&&this._flexPie&&this._updateFlexPie(this._dataItms,this._lblsSrc)},e.prototype._updateFlexChart=function(t,e,i){var n,r=this._flexChart,o=r?r.hostElement:null;if(this._ng&&r&&o){if(r.beginUpdate(),r.itemsSource=t,this._createSeries(),r.series&&r.series.length>0&&t.length>0?o.style.visibility="visible":o.style.visibility="hidden",r.header=this.header||this._getChartTitle(),this.headerStyle&&(r.headerStyle=this.headerStyle),this.footer&&(r.footer=this.footer),this.footerStyle&&(r.footerStyle=this.footerStyle),this._isRotatedChart()){if(this._showHierarchicalAxes&&i.length>0){if(r.axisY.itemsSource=i[i.length-1],r.axisX.labelAngle=void 0,i.length>=2)for(var s=i.length-2;s>=0;s--)this._createGroupAxes(i[s])}else r.axisY.labelAngle=void 0,r.axisY.itemsSource=e;r.axisX.itemsSource=void 0}else{if(this._showHierarchicalAxes&&i.length>0){if(r.axisX.itemsSource=i[i.length-1],i.length>=2)for(s=i.length-2;s>=0;s--)this._createGroupAxes(i[s])}else r.axisX.labelAngle=void 0,r.axisX.itemsSource=e;r.axisY.itemsSource=void 0}r.axisX.labelPadding=6,r.axisY.labelPadding=6,this._isRotatedChart()?(n=r.axisX,r.axisY.reversed=!0):(n=r.axisY,r.axisY.reversed=!1),r.stacking!==Oo.Stacked100pc&&this._ng.valueFields.length>0&&this._ng.valueFields[0].format?n.format=this._ng.valueFields[0].format:n.format="",r.legend.position=this._getLegendPosition(),r.endUpdate()}},e.prototype._updateFlexPie=function(t,e){var i=this._flexPie,n=i?i.hostElement:null,r=this._colMenu;if(this._ng&&i&&n){this._colItms.length>0&&t.length>0?n.style.visibility="visible":n.style.visibility="hidden",i.beginUpdate(),i.itemsSource=t,i.bindingName=hs._ROW_KEY_NAME,this._colItms&&this._colItms.length>0&&(i.binding=this._colItms[0].prop),i.header=this.header||this._getChartTitle(),this.headerStyle&&(i.headerStyle=this.headerStyle),this.footer&&(i.footer=this.footer),this.footerStyle&&(i.footerStyle=this.footerStyle),i.legend.position=this._getLegendPosition(),i.endUpdate();var o=this._getTitle(this._ng.columnFields);""!==o&&(o="<b>"+o+": </b>"),this._colItms&&this._colItms.length>1&&t.length>0?(r.hostElement.style.visibility="visible",r.itemsSource=this._colItms,r.checkedItems=[this._colItms[0]],r.invalidate()):r.hostElement.style.visibility="hidden"}},e.prototype._getLegendPosition=function(){var t=this.legendPosition;if(this.showLegend==Cs.Never)t=Wr.None;else if(this.showLegend==Cs.Auto&&this.flexChart&&this.flexChart.series){var e=0;this.flexChart.series.forEach((function(t){var i=t.visibility;t.name&&i!=To.Hidden&&i!=To.Plot&&e++})),e<2&&(t=Wr.None)}return t},e.prototype._createSeries=function(){this._flexChart&&(this._flexChart.series.length=0);for(var t=1==this._ng.valueFields.length,e=0;e<this._colItms.length;e++){var i=new Fo,n=this._colItms[e].prop,r=this._colItms[e].text;if(t){var o=r.lastIndexOf(";");o>-1&&(r=r.substr(0,o))}i.binding=n,i.name=r,this._flexChart.series.push(i)}},e.prototype._getColumns=function(t){var e,i=0;if(t)for(var n in this._colItms=[],t)t.hasOwnProperty(n)&&n!==hs._ROW_KEY_NAME&&i<this._maxSeries&&this._isValidColumn(n)&&(e=this._ng._getKey(n),this._getLabel(e),this._colItms.push({prop:n,text:this._getLabel(e)}),i++)},e.prototype._createGroupAxes=function(t){var i,n=this,r=this._flexChart,o=this._isRotatedChart()?r.axisY:r.axisX;if(t){(i=new _o).labelAngle=0,i.labelPadding=6,i.position=this._isRotatedChart()?Wr.Left:Wr.Bottom,i.majorTickMarks=ho.None,i.itemsSource=t,i.reversed=o.reversed,i.axisLine=!1,i.itemFormatter=function(r,o){if(i._axrect){var s=.5*t.filter((function(t){return t.value==o.val}))[0].width;if(n._isRotatedChart()){var a=i.reversed?-1:1,l=i.convert(o.val+s)+5*a,h=i.convert(o.val-s)-5*a,u=i._axrect.left+i._axrect.width-5;r.drawLine(u,l,u,h,e.HRHAXISCSS),r.drawLine(u,l,u+5,l,e.HRHAXISCSS),r.drawLine(u,h,u+5,h,e.HRHAXISCSS),r.drawLine(u,o.pos.y,u-5,o.pos.y,e.HRHAXISCSS)}else{var c=i.convert(o.val-s)+5,d=i.convert(o.val+s)-5,f=i._axrect.top;r.drawLine(c,f,d,f,e.HRHAXISCSS),r.drawLine(c,f,c,f-5,e.HRHAXISCSS),r.drawLine(d,f,d,f-5,e.HRHAXISCSS),r.drawLine(o.pos.x,f,o.pos.x,f+5,e.HRHAXISCSS)}}return o},i.min=o.actualMin,i.max=o.actualMax,o.rangeChanged.addHandler((function(){isNaN(i.min)&&isNaN(o.actualMin)||i.min==o.actualMin||(i.min=o.actualMin),isNaN(i.max)&&isNaN(o.actualMax)||i.max==o.actualMax||(i.max=o.actualMax)}));var s=new Fo;s.visibility=To.Hidden,this._isRotatedChart()?s.axisY=i:s.axisX=i,r.series.push(s)}},e.prototype._updateFlexPieBinding=function(){var t="",e=[];this._colMenu.checkedItems.forEach((function(i){t.length>0&&(t+=","),t+=i.prop,e.push(i.text)})),this._flexPie.binding=t,this._flexPie.titles=e.length>1?e:null},e.prototype._updatePieInfo=function(){var t=this;this._flexPie&&(this._flexPie._labels=this._flexPie._labels.map((function(e,i){return t._lblsSrc[i].text})))},e.prototype._changeChartType=function(){var t=null;if(this.chartType===xs.Pie)this._flexPie||this._createFlexPie(),this._updateFlexPie(this._dataItms,this._lblsSrc),this._swapChartAndPie(!1);else{switch(this.chartType){case xs.Column:t=Ro.Column;break;case xs.Bar:t=Ro.Bar;break;case xs.Scatter:t=Ro.Scatter;break;case xs.Line:t=Ro.Line;break;case xs.Area:t=Ro.Area}this._flexChart?"none"!==this._flexChart.hostElement.style.display&&t!==xs.Bar&&this._flexChart.chartType!==Ro.Bar||this._updateFlexChart(this._dataItms,this._lblsSrc,this._grpLblsSrc):(this._createFlexChart(),this._updateFlexChart(this._dataItms,this._lblsSrc,this._grpLblsSrc)),this._flexChart.chartType=t,this._swapChartAndPie(!0)}},e.prototype._swapChartAndPie=function(t){var e=this;this._flexChart&&(this._flexChart.hostElement.style.display=t?"block":"none"),this._flexPie&&(this._flexPie.hostElement.style.display=t?"none":"block"),this._colMenu&&this._colMenu.hostElement&&(this._colMenu.hostElement.style.display=t?"none":"block",this._colMenu.hostElement.style.top="0",setTimeout((function(){e._colMenu.hostElement.style.top=""}),0))},e.prototype._getLabel=function(t){var e="";if(!t||!t.values)return e;var i=t.valueFields?t.valueField:null;switch(t.values.length){case 0:i&&(e+=i.header);break;case 1:e+=t.getValue(0,!0),i&&(e+="; "+i.header);break;default:for(var n=0;n<t.values.length;n++)n>0&&(e+="; "),e+=t.getValue(n,!0);i&&(e+="; "+i.header)}return e},e.prototype._getValue=function(t){var e=this._ng.valueFields,i=t.series?t.series.chart.series.indexOf(t.series):0,n=i<e.length?e[i].format:e.length?e[0].format:"";return n?Ue.format(t.y,n):t._yfmt},e.prototype._getChartTitle=function(){if(!this.showTitle||!this._ng.valueFields.length)return null;var t=this._ng,e=this._getTitle(t.valueFields),i=this._getTitle(t.rowFields),n=this._getTitle(t.columnFields),r=e,o=Ve.olap.PivotChart;return e&&this._dataItms.length>0&&(i&&(r+=Mt(" {by} {rows}",{by:o.by,rows:i})),n&&(r+=Mt(" {and} {cols}",{and:i?o.and:o.by,cols:n}))),r},e.prototype._getTitle=function(t){for(var e="",i=0;i<t.length;i++)e.length>0&&(e+="; "),e+=t[i].header;return e},e.prototype._isValidColumn=function(t){var e=t.split(";"),i=this._showTotals;return 0===this._ng.columnFields.length||(e&&2===e.length?i:!(!e||e.length-2!==this._ng.columnFields.length||i))},e.prototype._isTotalRow=function(t){return t.values.length<this._ng.rowFields.length},e.prototype._isPieChart=function(){return this._chartType==xs.Pie},e.prototype._isRotatedChart=function(){return!this._isPieChart()&&this._chartType==xs.Bar!==this._flexChart.rotated},e.prototype._getMergeIndex=function(t,e){var i=-1;if(null!=t&&null!=e&&t.values.length==e.values.length&&t.values.length==t.fields.length&&e.values.length==e.fields.length)for(var n=0;n<t.values.length;n++){if(t.getValue(n,!0)!=e.getValue(n,!0))return i;i=n}return i},e.prototype._getOffsetWidth=function(t){var e=0;if(t.length<=1)return e;for(var i=0;i<t.length-1;i++)e+=t[i].width;return e},e.MAX_SERIES=100,e.MAX_POINTS=100,e.HRHAXISCSS="wj-hierarchicalaxes-line",e}(li),Os=function(){function t(t,e){this._ng=null,this._cubeName=null,this._ng=t,this._cubeName=e}return t.prototype.buildQuery=function(){var t=new as,e=this.buildWhereSection(this._ng.valueFields);return t.append("SELECT ",this.buildAxes()," FROM ",this.buildCubeName(),e),t.append(" CELL PROPERTIES VALUE, FORMAT_STRING"),t.toString()},t.prototype.buildWhereSection=function(t){var e=new as;return 1==t.length&&(e.append(this.buildSetForMeasuresShelf(t)),e.wrap(" WHERE ","")),e.toString()},t.prototype.buildCubeName=function(){var t=new as;t.append(this.buildSubcubeExpression());var e=t.length>0;return e&&t.wrap("SELECT "," FROM "),t.append("[",this._cubeName,"]"),e&&t.wrap("(",")"),t.toString()},t.prototype.buildSubcubeExpression=function(){var t=new as,e=this.getMeasureFilterExpressions(this._ng.valueFields),i=this.buildFilterAttributeSet(this._ng.filterFields),n=this.buildFilterAttributeSet(this._ng.rowFields,e),r=this.buildFilterAttributeSet(this._ng.columnFields,0==n.length?e:null);return t.joinItemToList(i),t.joinItemToList(n),t.joinItemToList(r),t.length>0&&(t.wrap("(",")"),t.append(" ON COLUMNS")),t.toString()},t.prototype.buildFilterAttributeSet=function(t,e){for(var i=new as,n=0;n<t.length;n++){var r=t[n],o=this.buildFilterString(r,0==n?e:null);i.joinItemToList(o)}return i.toString()},t.prototype.buildFilterString=function(t,e){var i=new as;return t.filter.isActive?t.filter.conditionFilter.isActive?i.append(this.getConditionFilterString(t,e)):t.filter.valueFilter.isActive&&i.append(this.getValueFilterString(t)):e&&i.append(this.getConditionFilterString(t,e)),i.toString()},t.prototype.getValueFilterString=function(t){var e=new as,i=t.filter.valueFilter,n=Object.keys(i.showValues).map((function(e){return t.key+".["+e+"]"}));return e.append(n.join(",")),e.length>0&&e.wrap("{","}"),e.toString()},t.prototype.getConditionFilterString=function(t,e){var i=new as,n=t.key+".LEVELS(1).ALLMEMBERS",r=t.filter.conditionFilter.condition1,o=t.filter.conditionFilter.condition2;return r.isActive&&(i.append(this.getConditionFilterExpression(t,r)),o.isActive&&i.append(t.filter.conditionFilter.and?" AND ":" OR ")),o.isActive&&i.append(this.getConditionFilterExpression(t,o)),e&&e.length>0&&(i.length>0&&i.append(" AND "),i.append(e.join(" AND "))),i.length>0&&i.wrap("Filter("+n+",(","))"),i.toString()},t.prototype.getMeasureFilterExpressions=function(t){for(var e=[],i=0;i<t.length;i++){var n=new as,r=t[i],o=(r.dimensionType,os.Measure,r.filter.conditionFilter.condition1),s=r.filter.conditionFilter.condition2;o.isActive&&(n.append(this.getConditionFilterExpression(r,o)),s.isActive&&n.append(r.filter.conditionFilter.and?" AND ":" OR ")),s.isActive&&n.append(this.getConditionFilterExpression(r,s)),n.length>0&&(n.wrap("(",")"),e.push(n.toString()))}return e},t.prototype.getConditionFilterExpression=function(t,e){if(!e.isActive)return"";var i=t.dimensionType==os.Measure,n=t.dataType==lt.Number,r=t.dataType==lt.Date,o=n||r?"member_value":"member_caption",s=i?t.key:t.key+".CurrentMember."+o,a=r?"CDate('"+Ue.formatDate(e.value,"d")+"')":e.value.toString(),l=new as;switch(e.operator){case Er.BW:l.append("(Left(",s,",",a.length.toString(),')="',a,'")');break;case Er.EW:l.append("(Right(",s,",",a.length.toString(),')="',a,'")');break;case Er.EQ:i||n||r?l.append("(",s,")=",a):l.append("(",s,')="',a,'"');break;case Er.NE:i||n||r?l.append("(",s,")<>",a):l.append("(",s,')<>"',a,'"');break;case Er.CT:l.append("(InStr(1,",s,',"',a,'")>0)');break;case Er.NC:l.append("(InStr(1,",s,',"',a,'")=0))');break;case Er.GT:l.append("(",s,")>",a);break;case Er.LT:l.append("(",s,")<",a);break;case Er.GE:l.append("(",s,")>=",a);break;case Er.LE:l.append("(",s,")<=",a)}return l.toString()},t.prototype.buildAxes=function(){var t=new as,e=this.buildSetForAttributesShelf(this._ng.rowFields);return t.joinItemToList(e),this._ng.rowFields.length>0&&(this._ng.columnFields.length>0||this._ng.valueFields.length>1?t.append(" ON ROWS"):t.append(" ON COLUMNS")),e=this.buildSetForAttributesColumnShelf(this._ng.columnFields),t.joinItemToList(e),this._ng.columnFields.length>0&&t.append(" ON COLUMNS"),this._ng.valueFields.length>1&&0==this._ng.columnFields.length&&(e=this.buildSetForMeasuresShelf(this._ng.valueFields),t.joinItemToList(e),t.append(" ON COLUMNS")),t.toString()},t.prototype.buildSetForAttributesShelf=function(t){for(var e=new as,i=0;i<t.length;i++){var n=t[i];n.dimensionType!=os.Attribute&&n.dimensionType!=os.Hierarchy||e.joinItemToList(this.buildAttributeSetForAxis(n)),i>0&&e.wrap("CrossJoin(",")")}return e.wrap("NON EMPTY ",""),e.toString()},t.prototype.buildSetForAttributesColumnShelf=function(t){for(var e=new as,i=0;i<t.length;i++){var n=t[i];n.dimensionType!=os.Attribute&&n.dimensionType!=os.Hierarchy||e.joinItemToList(this.buildAttributeSetForAxis(n))}return this._ng.valueFields.length>1&&t.length>0&&e.joinItemToList(this.buildSetForMeasuresShelf(this._ng.valueFields)),(this._ng.valueFields.length>1&&t.length>0||t.length>1)&&e.wrap("CrossJoin(",")"),e.wrap("NON EMPTY ",""),e.toString()},t.prototype.buildSetForMeasuresShelf=function(t){for(var e=new as,i=0;i<t.length;i++){var n=t[i];n.dimensionType!=os.Measure&&n.dimensionType!=os.Kpi||e.joinItemToList(this.buildMeasureSetForAxis(n))}return e.wrap("{","}"),e.toString()},t.prototype.buildAttributeSetForAxis=function(t){var e=new as;return t.dimensionType==os.Hierarchy&&(e.append(t.key),e.append(".ALLMEMBERS"),e.wrap("{","}"),e.wrap("HIERARCHIZE(",")")),e.toString()},t.prototype.buildMeasureSetForAxis=function(t){var e=new as;return t.dimensionType!=os.Measure&&t.dimensionType!=os.Kpi||e.append(t.key),e.toString()},t}(),Ds=function(t){function e(e,i){var n=t.call(this,e,i.url)||this;return n._jsonResult=null,n._dataTypes=null,n._debug=!1,e.sortOnServer=!0,Ht(wt(i.cube)&&!bt(i.cube),"Cube name required."),n._cubeName=i.cube,n._catalogName=wt(i.catalog)&&!bt(i.catalog)?i.catalog:"",n._url=i.url,n._user=i.user,n._password=i.password,n}return ss(e,t),e.prototype.getFields=function(){return this._getSession(),this._jsonResult=null,this._dataTypes=null,this._getProperties(this._token),this._getDimensions(this._token),this._endSession(),this._jsonResult},e.prototype.getOutputView=function(t){var e=this;this._ng.onUpdatingView(new Ss(0));var i=new Os(this._ng,this._cubeName).buildQuery();this._jsonResult=[],this._getSession(),this._execQuery(this._token,i,(function(i){Xt(t)(e._jsonResult),e._ng.onUpdatedView(new Ss(100))}))},e.prototype.getDetail=function(t,e){throw"getDetail method not supported"},e.prototype.getSortedKeys=function(t,e){var i=this,n=Object.keys(t);if(this._ng.sortOnServer){if(n.length>1){var r=e?this._ng.showRowTotals:this._ng.showColumnTotals,o=e?this._ng.rowFields.length:this._ng.columnFields.length,s=this._ng.valueFields.length;if(!this._ng.totalsBeforeData&&r!==ps.None){var a=-1,l=[],h=[];return n.forEach((function(t){var n=i._getKeyLength(t,e);if(n===o)h.push(t);else if(n>=a)l.push(t);else{if(l.length>=s)for(var r=0;r<s;r++)h.push(l.pop());l.push(t)}a=n})),l.length>0&&(l.reverse(),h=h.concat(l)),h}}}else n.sort((function(t,e){return i._ng._keys[t].compareTo(i._ng._keys[e])}));return n},e.prototype._getSession=function(){var t=this;return Me(this._url,{async:!1,data:Bs,method:"POST",user:this._user,password:this._password,requestHeaders:{"Content-Type":"text/xml"},success:function(e){var i=e.responseXML.getElementsByTagName("Session");t._token=i[0].getAttribute("SessionId")},error:function(e){t._handleError("Begin Session",e)}})},e.prototype._endSession=function(){var t=this;return Me(this._url,{async:!1,data:Hs(this._token),method:"POST",user:this._user,password:this._password,requestHeaders:{"Content-Type":"text/xml"},error:function(e){t._handleError("End Session",e)},complete:function(e){t._token=void 0}})},e.prototype._getProperties=function(t){var e=this;return Me(this._url,{async:!1,data:Ys(t,this._catalogName,this._cubeName),method:"POST",user:this._user,password:this._password,requestHeaders:{"Content-Type":"text/xml"},success:function(t){for(var i={},n=t.responseXML.getElementsByTagName("row"),r=0;r<n.length;r++){var o=Is(n[r],"HIERARCHY_UNIQUE_NAME");switch(Number(Is(n[r],"DATA_TYPE"))){case 2:case 3:case 4:case 5:case 6:i[o]=lt.Number;break;case 7:i[o]=lt.Date}}e._dataTypes=i},error:function(t){e._handleError("Get Properties",t)}})},e.prototype._getDimensions=function(t){var e=this;return Me(this._url,{async:!1,data:Vs(t,this._catalogName,this._cubeName),method:"POST",user:this._user,password:this._password,requestHeaders:{"Content-Type":"text/xml"},success:function(i){for(var n=[],r=i.responseXML.getElementsByTagName("row"),o=0;o<r.length;o++)if("2"!==Is(r[o],"DIMENSION_TYPE")){var s=Is(r[o],"DIMENSION_UNIQUE_NAME"),a={header:Is(r[o],"DIMENSION_CAPTION"),dataType:lt.Object,dimensionType:os.Dimension,subFields:[]};e._getSubFolders(t,s,a),n.push(a)}else e._getMeasures(t,n);var l={header:"KPIs",dataType:lt.Object,dimensionType:os.Kpi,subFields:[]};e._getKPIs(t,l),n.push(l),e._jsonResult=n},error:function(t){e._handleError("Get Dimensions",t)}})},e.prototype._getSubFolders=function(t,e,i){var n=this;Me(this._url,{async:!1,data:Us(t,this._catalogName,this._cubeName,e),method:"POST",user:this._user,password:this._password,requestHeaders:{"Content-Type":"text/xml"},success:function(t){for(var e=t.responseXML.getElementsByTagName("row"),r=0;r<e.length;r++){var o={header:Is(e[r],"HIERARCHY_NAME"),binding:Is(e[r],"HIERARCHY_UNIQUE_NAME"),dataType:lt.String,dimensionType:os.Hierarchy};n._dataTypes[o.binding]&&(o.dataType=n._dataTypes[o.binding]);for(var s=Is(e[r],"HIERARCHY_DISPLAY_FOLDER").split("\\"),a=i,l=0;l<s.length;l++)if(""!=s[l]){var h={header:s[l],dataType:lt.Object,dimensionType:os.Folder,subFields:[]};zs(a,s[l])?a=Ns(a,s[l]):(a.subFields.push(h),a=h)}a.subFields.push(o)}},error:function(t){n._handleError("Get Hierarchies",t)}})},e.prototype._getMeasures=function(t,e){var i=this;return Me(this._url,{async:!1,data:Gs(t,this._catalogName,this._cubeName),method:"POST",user:this._user,password:this._password,requestHeaders:{"Content-Type":"text/xml"},success:function(t){for(var i=t.responseXML.getElementsByTagName("row"),n={},r=0;r<i.length;r++){var o=Is(i[r],"MEASUREGROUP_NAME"),s={header:Is(i[r],"MEASURE_CAPTION"),binding:Is(i[r],"MEASURE_UNIQUE_NAME"),dataType:lt.Number,dimensionType:os.Measure};if(Object.keys(n).indexOf(o)<0){var a={header:o,dataType:lt.Number,dimensionType:os.Measure,subFields:[]};a.subFields.push(s),e.push(a),n[o]=a}else n[o].subFields.push(s)}},error:function(t){i._handleError("Get Measures",t)}})},e.prototype._getKPIs=function(t,e){var i=this;return Me(this._url,{async:!1,data:Ws(t,this._catalogName,this._cubeName),method:"POST",user:this._user,password:this._password,requestHeaders:{"Content-Type":"text/xml"},success:function(t){for(var i=t.responseXML.getElementsByTagName("row"),n=0;n<i.length;n++){for(var r=Is(i[n],"KPI_DISPLAY_FOLDER").split("\\"),o=e,s=0;s<r.length;s++){var a={header:r[s],dataType:lt.Object,dimensionType:os.Folder,subFields:[]};zs(o,r[s])?o=Ns(o,r[s]):(o.subFields.push(a),o=a)}var l={header:Is(i[n],"KPI_CAPTION"),binding:Is(i[n],"KPI_VALUE"),dataType:lt.Number,dimensionType:os.Kpi};o.subFields.push(l)}},error:function(t){i._handleError("Get KPIs",t)}})},e.prototype._execQuery=function(t,e,i){var n=this;return Me(this._url,{async:!0,data:qs(t,this._catalogName,e),method:"POST",user:this._user,password:this._password,requestHeaders:{"Content-Type":"text/xml"},success:function(t){var r=t.responseXML,o=r.querySelector("Error");if(o)throw"SSAS Error\r\n"+o.getAttribute("Description")+"\r\n"+e;n._createPivotKeys(r),Xt(i)(t)},error:function(t){n._handleError("Execute Query",t)},complete:function(){n._endSession()}})},e.prototype._createPivotKeys=function(t){var e=null,i=null,n=t.querySelector("CellData");this._ng.columnFields.length>0||this._ng.valueFields.length>1?(i=t.querySelector("Axis[name='Axis0']"),this._ng.rowFields.length>0&&(e=t.querySelector("Axis[name='Axis1']"))):this._ng.rowFields.length>0&&(e=t.querySelector("Axis[name='Axis0']"));var r=e&&this._ng.rowFields.length>0,o=i&&this._ng.columnFields.length>0;r&&o?this._createRowKeys(n,e,i):r?this._createRowOnlyKeys(n,e):o&&this._createColumnOnlyKeys(n,i)},e.prototype._createRowKeys=function(t,e,i){for(var n=e.getElementsByTagName("Tuple"),r=i.getElementsByTagName("Tuple"),o=this._ng.showRowTotals!==ps.None?0:1,s=this._ng.showColumnTotals!==ps.None?0:this._ng.valueFields.length,a=o;a<n.length;a++){var l=a*r.length,h=n[a],u=this._validateTuple(h,this._ng.showRowTotals);if(u)for(var c=s;c<r.length;c++){var d=r[c],f=this._validateTuple(d,this._ng.showColumnTotals);if(f){for(var p in u)f[p]=u[p];for(var g=0;g<this._ng.valueFields.length;g++)f[this._ng.valueFields[g].key]=Ls(t,l+c+g);this._jsonResult.push(f)}}}},e.prototype._createRowOnlyKeys=function(t,e){for(var i=e.getElementsByTagName("Tuple"),n=this._ng.valueFields.length,r=this._ng.showRowTotals!==ps.None?0:1,o=r*n,s=r;s<i.length;s++){var a=i[s],l=this._validateTuple(a,this._ng.showRowTotals);if(l){for(var h=0;h<this._ng.valueFields.length;h++)l[this._ng.valueFields[h].key]=Ls(t,o++);this._jsonResult.push(l)}else o++}},e.prototype._createColumnOnlyKeys=function(t,e){for(var i=e.getElementsByTagName("Tuple"),n=this._ng.valueFields.length,r=this._ng.showColumnTotals!==ps.None?0:1,o=r;o<i.length;o+=n){var s=i[o],a=this._validateTuple(s,this._ng.showColumnTotals);if(a){for(var l=0;l<this._ng.valueFields.length;l++)a[this._ng.valueFields[l].key]=Ls(t,o-r+l);this._jsonResult.push(a)}}},e.prototype._validateTuple=function(t,e){for(var i=t.getElementsByTagName("Member"),n=void 0,r={},o=0;o<i.length;o++){var s=i[o],a=Ms(s),l=s.getAttribute("Hierarchy"),h=Fs(s);if(0==o)n=a;else{if(a>n)return null;if(e!==ps.Subtotals&&a!==n&&"[Measures]"!==l)return null;n=a}l.indexOf(".")>=0?r[l]=h:null!==h&&(r[h]=null)}return r},e}(vs);function Is(t,e){var i=t.querySelector(e);return i?i.innerHTML||i.textContent:null}function Ms(t){return Number(Is(t,"LNum"))}function Fs(t){return Ms(t)>0?Is(t,"Caption"):null}function Ls(t,e){var i="Cell[CellOrdinal='"+e.toString()+"']",n=t.querySelector(i);if(n){var r=Is(n,"Value");if(r)return Number(r)}return null}function Ns(t,e){if(t.subFields)for(var i=0;i<t.subFields.length;i++){var n=t.subFields[i];if(n.header==e)return n}return t}function zs(t,e){if(t.subFields)for(var i=0;i<t.subFields.length;i++)if(t.subFields[i].header==e)return!0;return!1}var Bs='\n    <Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/">\n        <Header>\n            <BeginSession soap:mustUnderstand="1" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns="urn:schemas-microsoft-com:xml-analysis" />\n        </Header>\n        <Body>\n            <Execute xmlns="urn:schemas-microsoft-com:xml-analysis">\n                <Command>\n                    <Statement />\n                </Command>\n                <Properties>\n                </Properties>\n            </Execute>\n        </Body>\n    </Envelope>',Hs=function(t){return'\n    <Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/">\n        <Header>\n            <XA:EndSession soap:mustUnderstand="1" SessionId="'+t+'" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:XA="urn:schemas-microsoft-com:xml-analysis" />\n        </Header>\n        <Body>\n            <Execute xmlns="urn:schemas-microsoft-com:xml-analysis">\n                <Command>\n                    <Statement />\n                </Command>\n                <Properties>\n                </Properties>\n            </Execute>\n        </Body>\n    </Envelope>'},Vs=function(t,e,i){return'\n    <Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/">\n        <Header>\n            <XA:Session soap:mustUnderstand="1" SessionId="'+t+'" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:XA="urn:schemas-microsoft-com:xml-analysis" />\n        </Header>\n        <Body>\n            <Discover xmlns="urn:schemas-microsoft-com:xml-analysis">\n                <RequestType>MDSCHEMA_DIMENSIONS</RequestType>\n                <Restrictions>\n                    <RestrictionList>\n                        <CATALOG_NAME>'+e+"</CATALOG_NAME>\n                        <CUBE_NAME>"+i+"</CUBE_NAME>\n                    </RestrictionList>\n                </Restrictions>\n                <Properties>\n                </Properties>\n            </Discover>\n        </Body>\n    </Envelope>"},Us=function(t,e,i,n){return'\n    <Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/">\n        <Header>\n            <XA:Session soap:mustUnderstand="1" SessionId="'+t+'" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:XA="urn:schemas-microsoft-com:xml-analysis" />\n        </Header>\n        <Body>\n            <Discover xmlns="urn:schemas-microsoft-com:xml-analysis">\n                <RequestType>MDSCHEMA_HIERARCHIES</RequestType>\n                <Restrictions>\n                    <RestrictionList>\n                        <CATALOG_NAME>'+e+"</CATALOG_NAME>\n                        <CUBE_NAME>"+i+"</CUBE_NAME>\n                        <DIMENSION_UNIQUE_NAME>"+n+"</DIMENSION_UNIQUE_NAME>\n                    </RestrictionList>\n                </Restrictions>\n                <Properties>\n                </Properties>\n            </Discover>\n        </Body>\n    </Envelope>"},Gs=function(t,e,i){return'\n    <Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/">\n        <Header>\n            <XA:Session soap:mustUnderstand="1" SessionId="'+t+'" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:XA="urn:schemas-microsoft-com:xml-analysis" />\n        </Header>\n        <Body>\n            <Discover xmlns="urn:schemas-microsoft-com:xml-analysis">\n                <RequestType>MDSCHEMA_MEASURES</RequestType>\n                <Restrictions>\n                    <RestrictionList>\n                        <CATALOG_NAME>'+e+"</CATALOG_NAME>\n                        <CUBE_NAME>"+i+"</CUBE_NAME>\n                    </RestrictionList>\n                </Restrictions>\n                <Properties>\n                </Properties>\n            </Discover>\n        </Body>\n    </Envelope>"},Ws=function(t,e,i){return'\n    <Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/">\n        <Header>\n            <XA:Session soap:mustUnderstand="1" SessionId="'+t+'" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:XA="urn:schemas-microsoft-com:xml-analysis" />\n        </Header>\n        <Body>\n            <Discover xmlns="urn:schemas-microsoft-com:xml-analysis">\n                <RequestType>MDSCHEMA_KPIS</RequestType>\n                <Restrictions>\n                    <RestrictionList>\n                        <CATALOG_NAME>'+e+"</CATALOG_NAME>\n                        <CUBE_NAME>"+i+"</CUBE_NAME>\n                    </RestrictionList>\n                </Restrictions>\n                <Properties>\n                </Properties>\n            </Discover>\n        </Body>\n    </Envelope>"},Ys=function(t,e,i){return'\n    <Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/">\n        <Header>\n            <XA:Session soap:mustUnderstand="1" SessionId="'+t+'" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:XA="urn:schemas-microsoft-com:xml-analysis" />\n        </Header>\n        <Body>\n            <Discover xmlns="urn:schemas-microsoft-com:xml-analysis">\n                <RequestType>MDSCHEMA_PROPERTIES</RequestType>\n                <Restrictions>\n                    <RestrictionList>\n                        <CATALOG_NAME>'+e+"</CATALOG_NAME>\n                        <CUBE_NAME>"+i+"</CUBE_NAME>\n                        <PROPERTY_NAME>MEMBER_VALUE</PROPERTY_NAME>\n                    </RestrictionList>\n                </Restrictions>\n                <Properties>\n                </Properties>\n            </Discover>\n        </Body>\n    </Envelope>"},qs=function(t,e,i){return'\n    <Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/">\n        <Header>\n            <XA:Session soap:mustUnderstand="1" SessionId="'+t+'" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:XA="urn:schemas-microsoft-com:xml-analysis" />\n        </Header>\n        <Body>\n            <Execute xmlns="urn:schemas-microsoft-com:xml-analysis">\n                <Command>\n                    <Statement>\n                        <![CDATA[\n                        '+i+"\n                        ]]>\n                    </Statement>\n                </Command>\n                <Properties>\n                    <PropertyList>\n                        <Catalog>"+e+"</Catalog>\n                        <Content>Data</Content>\n                    </PropertyList>\n                </Properties>\n            </Execute>\n        </Body>\n    </Envelope>"},Xs=function(){function t(t){this._fld=t;var e=t;this._valueFilter=new Rr(e),this._valueFilter.exclusiveValueSearch=this._fld.engine.exclusiveValueSearch,this._conditionFilter=new Tr(e)}return Object.defineProperty(t.prototype,"filterType",{get:function(){return null!=this._filterType?this._filterType:this._fld.engine.defaultFilterType},set:function(t){(t=Jt(t,jr,!0))!=this._filterType&&(this._filterType=t,this.clear())},enumerable:!0,configurable:!0}),t.prototype.apply=function(t){return this._conditionFilter.apply(t)&&this._valueFilter.apply(t)},Object.defineProperty(t.prototype,"isActive",{get:function(){return this._conditionFilter.isActive||this._valueFilter.isActive},enumerable:!0,configurable:!0}),t.prototype.clear=function(){var t=!1;this._valueFilter.isActive&&(this._valueFilter.clear(),t=!0),this._conditionFilter.isActive&&(this._valueFilter.clear(),t=!0),t&&this._fld.onPropertyChanged(new ot("filter",null,null))},Object.defineProperty(t.prototype,"valueFilter",{get:function(){return this._valueFilter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"conditionFilter",{get:function(){return this._conditionFilter},enumerable:!0,configurable:!0}),t}(),Ks=function(t){function e(e,i,n){var r=t.call(this,e)||this;r.finishEditing=new it,r.hostElement.tabIndex=-1;var o=r.getTemplate();r.applyTemplate("wj-control wj-content wj-pivotfiltereditor",o,{_divType:"div-type",_aVal:"a-val",_aCnd:"a-cnd",_divEdtVal:"div-edt-val",_divEdtCnd:"div-edt-cnd",_btnOk:"btn-ok"}),Ce(r._aVal,Ve.FlexGridFilter.values),Ce(r._aCnd,Ve.FlexGridFilter.conditions),Ce(r._btnOk,Ve.olap.PivotFieldEditor.ok);var s=r._btnClicked.bind(r);return r.addEventListener(r._btnOk,"click",s),r.addEventListener(r._aVal,"click",s),r.addEventListener(r._aCnd,"click",s),r.addEventListener(r.hostElement,"keydown",(function(t){switch(t.keyCode){case at.Enter:switch(t.target.tagName){case"A":case"BUTTON":r._btnClicked(t);break;default:r.onFinishEditing(new rt)}t.preventDefault();break;case at.Escape:r.onFinishEditing(new rt),t.preventDefault();break;case at.Tab:we(r.hostElement,t.shiftKey?-1:1),t.preventDefault()}})),r._fld=i,r._uniqueValues=i.filter.valueFilter.uniqueValues,r.initialize(n),r.updateEditor(),r}return ss(e,t),Object.defineProperty(e.prototype,"field",{get:function(){return this._fld},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filter",{get:function(){return this._fld?this._fld.filter:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEditorClear",{get:function(){switch(this._getFilterType()){case jr.Value:return!this._edtVal||this._edtVal.isEditorClear;case jr.Condition:return!this._edtCnd||this._edtCnd.isEditorClear}return Ht(!1,"unknown filter type?"),!1},enumerable:!0,configurable:!0}),e.prototype.updateEditor=function(){var t=jr,e=t.None;if(this.filter&&(e=this.filter.conditionFilter.isActive||0==(this.filter.filterType&t.Value)?t.Condition:t.Value,this._showFilter(e)),this._edtVal){var i=this._fld,n=i.engine;if(n.isServer&&!this._uniqueValues){var r=n._getUniqueValues(i);i.filter.valueFilter.uniqueValues=r}this._edtVal.updateEditor()}this._edtCnd&&this._edtCnd.updateEditor()},e.prototype.updateFilter=function(){switch(this._getFilterType()){case jr.Value:this._edtVal.updateFilter(),this.filter.conditionFilter.clear();break;case jr.Condition:this._edtCnd.updateFilter(),this.filter.valueFilter.clear()}this.field.onPropertyChanged(new ot("filter",null,null))},e.prototype.clearEditor=function(){this._edtVal&&this._edtVal.clearEditor(),this._edtCnd&&this._edtCnd.clearEditor()},e.prototype.onFinishEditing=function(t){return this.finishEditing.raise(this,t),!t.cancel},e.prototype._showFilter=function(t){switch(t==jr.Value&&null==this._edtVal&&(this._edtVal=new Or(this._divEdtVal,this.filter.valueFilter)),t==jr.Condition&&null==this._edtCnd&&(this._edtCnd=new Pr(this._divEdtCnd,this.filter.conditionFilter)),0!=(t&this.filter.filterType)&&(t==jr.Value?(this._divEdtVal.style.display="",this._divEdtCnd.style.display="none",this._enableLink(this._aVal,!1),this._enableLink(this._aCnd,!0)):(this._divEdtVal.style.display="none",this._divEdtCnd.style.display="",this._enableLink(this._aVal,!0),this._enableLink(this._aCnd,!1))),this.filter.filterType){case jr.None:case jr.Condition:case jr.Value:this._divType.style.display="none";break;default:this._divType.style.display=""}},e.prototype._enableLink=function(t,e){t.style.textDecoration=e?"":"none",t.style.fontWeight=e?"":"bold",ue(t,"href",e?"":null)},e.prototype._getFilterType=function(){var t=jr;return"none"!=this._divEdtVal.style.display?t.Value:t.Condition},e.prototype._btnClicked=function(t){t.preventDefault(),t.stopPropagation(),se(t.target,"wj-state-disabled")||(t.target!=this._aVal?t.target!=this._aCnd?this.onFinishEditing(new rt):(this._showFilter(jr.Condition),we(this._edtCnd.hostElement,0)):(this._showFilter(jr.Value),we(this._edtVal.hostElement,0)))},e.controlTemplate='<div><div wj-part="div-type" style="text-align:center;margin-bottom:12px;font-size:80%"><a wj-part="a-cnd" href="" tabindex="-1" draggable="false"></a>&nbsp;|&nbsp;<a wj-part="a-val" href="" tabindex="-1" draggable="false"></a></div><div wj-part="div-edt-val" tabindex="-1"></div><div wj-part="div-edt-cnd" tabindex="-1"></div><div style="text-align:right;margin-top:10px"><button wj-part="btn-ok" class="wj-btn"></button></div></div>',e}(li),Zs=function(t){function e(e,i){var n=t.call(this,e,null,!0)||this;n.hostElement.tabIndex=-1;var r=n.getTemplate();n.applyTemplate("wj-control wj-pivotfieldeditor",r,{_dBnd:"sp-bnd",_dHdr:"div-hdr",_dAgg:"div-agg",_dShw:"div-shw",_dWFl:"div-wfl",_dSrt:"div-srt",_btnFltEdt:"btn-flt-edt",_btnFltClr:"btn-flt-clr",_dFmt:"div-fmt",_dSmp:"div-smp",_btnApply:"btn-apply",_btnCancel:"btn-cancel",_gDlg:"g-dlg",_gHdr:"g-hdr",_gAgg:"g-agg",_gShw:"g-shw",_gWfl:"g-wfl",_gSrt:"g-srt",_gFlt:"g-flt",_gFmt:"g-fmt",_gSmp:"g-smp"}),n._pvDate=new Date;var o=Ve.olap.PivotFieldEditor;return Ce(n._gDlg,o.dialogHeader),Ce(n._gHdr,o.header),Ce(n._gAgg,o.summary),Ce(n._gShw,o.showAs),Ce(n._gWfl,o.weighBy),Ce(n._gSrt,o.sort),Ce(n._gFlt,o.filter),Ce(n._gFmt,o.format),Ce(n._gSmp,o.sample),Ce(n._btnFltEdt,o.edit),Ce(n._btnFltClr,o.clear),Ce(n._btnApply,o.ok),Ce(n._btnCancel,o.cancel),n._cmbHdr=new cn(n._dHdr),n._cmbAgg=new cn(n._dAgg),n._cmbShw=new cn(n._dShw),n._cmbWFl=new cn(n._dWFl),n._cmbSrt=new cn(n._dSrt),n._cmbFmt=new cn(n._dFmt),n._cmbSmp=new cn(n._dSmp),n._initAggregateOptions(),n._initShowAsOptions(),n._initFormatOptions(),n._initSortOptions(),n._updatePreview(),n._cmbShw.textChanged.addHandler(n._updateFormat,n),n._cmbFmt.textChanged.addHandler(n._updatePreview,n),n.addEventListener(n._btnFltEdt,"click",(function(t){n._editFilter(),t.preventDefault()})),n.addEventListener(n._btnFltClr,"click",(function(t){n._createFilterEditor(),setTimeout((function(){n._eFlt.clearEditor(),n._btnFltEdt.focus(),ke(n._btnFltClr,!1)})),t.preventDefault()})),n.addEventListener(n._btnApply,"click",(function(t){n.updateField()})),n.initialize(i),n}return ss(e,t),Object.defineProperty(e.prototype,"field",{get:function(){return this._fld},set:function(t){t!=this._fld&&(this._fld=Zt(t,ds),this.updateEditor())},enumerable:!0,configurable:!0}),e.prototype.updateEditor=function(){var t=this._fld;if(t&&t.engine){this._dBnd.textContent=t.binding,this._cmbHdr.text=t.header,this._cmbAgg.collectionView.refresh(),this._cmbAgg.selectedValue=t.aggregate,this._cmbSrt.selectedValue=t.descending,this._cmbShw.selectedValue=t.showAs,this._initWeighByOptions();var e=t.engine.defaultFilterType!=jr.None&&(null!=t.binding||Ct(t.getValue));ke(this._btnFltEdt,e),ke(this._btnFltClr,e&&t.filter.isActive),this._cmbFmt.collectionView.refresh(),this._cmbFmt.selectedValue=t.format,this._cmbFmt.selectedValue||(this._cmbFmt.text=t.format);var i=t instanceof fs;this._cmbAgg.isDisabled=i||!!t.getAggregateValue,this._cmbWFl.isDisabled=i}},e.prototype.updateField=function(){var t=this._fld;if(t){var e=this._cmbHdr.text.trim();t.header=e||te(t.binding),t.aggregate=this._cmbAgg.selectedValue,t.showAs=this._cmbShw.selectedValue,t.weightField=this._cmbWFl.selectedValue,t.descending=this._cmbSrt.selectedValue;var i=t.format;t.format=this._cmbFmt.selectedValue||this._cmbFmt.text;var n=this._eFlt;if(n){n.updateFilter();var r=t.dataType==lt.Number,o=t.dataType==lt.Date;if(i!=t.format&&(r||o)){var s=t.filter.valueFilter;if(s&&s.isActive&&!s.dataMap){var a={};if(r)for(var l in s.showValues){var h=Ue.parseFloat(l);a[Ue.format(h,t.format)]=!0}else if(o)for(var l in s.showValues)h=Ue.parseDate(l,i),a[Ue.format(h,t.format)]=!0;s.showValues=a}}}}},e.prototype._initAggregateOptions=function(){var t=this,e=Ve.olap.PivotFieldEditor.aggs,i=Ye,n=[{key:e.sum,val:i.Sum,all:!1},{key:e.cnt,val:i.Cnt,all:!0},{key:e.avg,val:i.Avg,all:!1},{key:e.max,val:i.Max,all:!0},{key:e.min,val:i.Min,all:!0},{key:e.rng,val:i.Rng,all:!1},{key:e.std,val:i.Std,all:!1},{key:e.var,val:i.Var,all:!1},{key:e.stdp,val:i.StdPop,all:!1},{key:e.varp,val:i.VarPop,all:!1},{key:e.first,val:i.First,all:!0},{key:e.last,val:i.Last,all:!0}];this._cmbAgg.itemsSource=n,this._cmbAgg.collectionView.filter=function(e){if(e&&e.all)return!0;if(t._fld){var i=t._fld.dataType;return i==lt.Number||i==lt.Boolean}return!1},this._cmbAgg.initialize({displayMemberPath:"key",selectedValuePath:"val"})},e.prototype._initShowAsOptions=function(){var t=Ve.olap.PivotFieldEditor.calcs,e=[{key:t.noCalc,val:gs.NoCalculation},{key:t.dRow,val:gs.DiffRow},{key:t.dRowPct,val:gs.DiffRowPct},{key:t.dCol,val:gs.DiffCol},{key:t.dColPct,val:gs.DiffColPct},{key:t.dPctGrand,val:gs.PctGrand},{key:t.dPctRow,val:gs.PctRow},{key:t.dPrevRow,val:gs.PctPrevRow},{key:t.dPctCol,val:gs.PctCol},{key:t.dPrevCol,val:gs.PctPrevCol},{key:t.dRunTot,val:gs.RunTot},{key:t.dRunTotPct,val:gs.RunTotPct}];this._cmbShw.itemsSource=e,this._cmbShw.initialize({displayMemberPath:"key",selectedValuePath:"val"})},e.prototype._initFormatOptions=function(){var t=this,e=Ve.olap.PivotFieldEditor.formats,i=[{key:e.n0,val:"n0",all:!0},{key:e.n2,val:"n2",all:!0},{key:e.c,val:"c",all:!0},{key:e.p0,val:"p0",all:!0},{key:e.p2,val:"p2",all:!0},{key:e.n2c,val:"n2,",all:!0},{key:e.n2cc,val:"n2,,",all:!0},{key:e.n2ccc,val:"n2,,,",all:!0},{key:e.d,val:"d",all:!1},{key:e.MMMMddyyyy,val:"MMMM dd, yyyy",all:!1},{key:e.dMyy,val:"d/M/yy",all:!1},{key:e.ddMyy,val:"dd/M/yy",all:!1},{key:e.dMyyyy,val:"dd/M/yyyy",all:!1},{key:e.MMMyyyy,val:"MMM yyyy",all:!1},{key:e.MMMMyyyy,val:"MMMM yyyy",all:!1},{key:e.yyyy,val:"yyyy",all:!1},{key:e.yyyyQq,val:'yyyy "Q"q',all:!1},{key:e.FYEEEEQU,val:'"FY"EEEE "Q"U',all:!1}];this._cmbFmt.itemsSource=i,this._cmbFmt.isEditable=!0,this._cmbFmt.isRequired=!1,this._cmbFmt.collectionView.filter=function(e){return!(!e||!e.all)||!!t._fld&&t._fld.dataType==lt.Date},this._cmbFmt.initialize({displayMemberPath:"key",selectedValuePath:"val"})},e.prototype._initWeighByOptions=function(){var t=this._fld;if(t){var e=[{key:Ve.olap.PivotFieldEditor.none,val:null}];t.engine.fields.forEach((function(i){i!=t&&i.dataType==lt.Number&&e.push({key:i.header,val:i})})),this._cmbWFl.initialize({displayMemberPath:"key",selectedValuePath:"val",itemsSource:e,selectedValue:t.weightField})}},e.prototype._initSortOptions=function(){var t=Ve.olap.PivotFieldEditor.sorts,e=[{key:t.asc,val:!1},{key:t.desc,val:!0}];this._cmbSrt.itemsSource=e,this._cmbSrt.initialize({displayMemberPath:"key",selectedValuePath:"val"})},e.prototype._updateFormat=function(){var t=gs[this._cmbShw.selectedValue];this._cmbFmt.selectedValue=t.indexOf("Pct")>-1?"p0":"n0"},e.prototype._updatePreview=function(){var t=this._cmbFmt.selectedValue||this._cmbFmt.text,e=Ue.format,i="";if(t){var n=t[0].toLowerCase();i="nfgxc".indexOf(n)>-1?e(1234.5678,t):e("p"==n?.12345678:this._pvDate,t)}this._cmbSmp.text=i},e.prototype._editFilter=function(){this._createFilterEditor(),_i(this._dFlt,this._btnFltEdt,!1,!1,!1),we(this._dFlt,0)},e.prototype._createFilterEditor=function(){var t=this;this._dFlt||(this._dFlt=document.createElement("div"),this._eFlt=new Ks(this._dFlt,this._fld),ae(this._dFlt,"wj-dropdown-panel"),this._eFlt.lostFocus.addHandler((function(){setTimeout((function(){var e=li.getControl(t._dFlt);e&&!e.containsFocus()&&t._closeFilter()}),10)})),this._eFlt.finishEditing.addHandler((function(){t._closeFilter(),ke(t._btnFltClr,!t._eFlt.isEditorClear)})))},e.prototype._closeFilter=function(){this._dFlt&&(mi(this._dFlt,!0),this.focus())},e.controlTemplate='<div><div class="wj-dialog-header" tabindex="-1"><span wj-part="g-dlg"></span> <span wj-part="sp-bnd"></span></div><div class="wj-dialog-body"><table style="table-layout:fixed"><tr><td wj-part="g-hdr"></td><td><div wj-part="div-hdr"></div></td></tr><tr class="wj-separator"><td wj-part="g-agg"></td><td><div wj-part="div-agg"></div></td></tr><tr class="wj-separator"><td wj-part="g-shw"></td><td><div wj-part="div-shw"></div></td></tr><tr><td wj-part="g-wfl"></td><td><div wj-part="div-wfl"></div></td></tr><tr><td wj-part="g-srt"></td><td><div wj-part="div-srt"></div></td></tr><tr class="wj-separator"><td wj-part="g-flt"></td><td><div><button wj-part="btn-flt-edt" class="wj-btn"></button>&nbsp;&nbsp;<button wj-part="btn-flt-clr" class="wj-btn"></button></div></td></tr><tr class="wj-separator"><td wj-part="g-fmt"></td><td><div wj-part="div-fmt"></div></td></tr><tr><td wj-part="g-smp"></td><td><div wj-part="div-smp" readonly tabindex="-1"></div></td></tr></table></div><div class="wj-dialog-footer"><button wj-part="btn-apply" class="wj-btn wj-hide"></button>&nbsp;&nbsp;<button wj-part="btn-cancel" class="wj-btn wj-hide"></button></div></div>',e}(li);Le("wijmo.olap",h);var Js=function(t){function e(e,i){var n=t.call(this,i)||this;return n._fld=e,n}return ss(e,t),e.prototype.getValue=function(e){var i=this._fld;return Ct(i.getValue)?i._getValue(e,!1):t.prototype.getValue.call(this,e)},e}(tt),Qs=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),$s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qs(e,t),e.tag="wj-pivot-grid",e.props=["isDisabled","tabOrder","newRowAtTop","allowAddNew","allowDelete","allowDragging","allowMerging","allowResizing","allowSorting","allowPinning","autoScroll","autoRowHeights","autoSizeMode","autoGenerateColumns","autoSearch","caseSensitiveSearch","quickAutoSize","bigCheckboxes","childItemsPath","groupHeaderFormat","headersVisibility","showSelectedHeaders","showMarquee","showPlaceholders","itemFormatter","isReadOnly","imeEnabled","mergeManager","selectionMode","showGroups","showSort","showDropDown","showAlternatingRows","showErrors","alternatingRowStep","itemValidator","validateEdits","treeIndent","itemsSource","autoClipboard","expandSelectionOnCopyPaste","frozenRows","frozenColumns","cloneFrozenCells","deferResizing","sortRowIndex","editColumnIndex","stickyHeaders","preserveSelectedState","preserveOutlineState","preserveWhiteSpace","keyActionTab","keyActionEnter","rowHeaderPath","virtualizationThreshold","anchorCursor","lazyRender","refreshOnEdit","copyHeaders","columnGroups","showDetailOnDoubleClick","customContextMenu","collapsibleSubtotals","centerHeadersVertically","showColumnFieldHeaders","showRowFieldHeaders","showValueFieldHeaders","outlineMode"],e.events=["initialized","gotFocus","lostFocus","refreshing","refreshed","invalidInput","beginningEdit","cellEditEnded","cellEditEnding","prepareCellForEdit","formatItem","resizingColumn","resizedColumn","autoSizingColumn","autoSizedColumn","draggingColumn","draggingColumnOver","draggedColumn","sortingColumn","sortedColumn","pinningColumn","pinnedColumn","resizingRow","resizedRow","autoSizingRow","autoSizedRow","draggingRow","draggingRowOver","draggedRow","deletingRow","deletedRow","loadingRows","loadedRows","rowEditStarting","rowEditStarted","rowEditEnding","rowEditEnded","rowAdded","groupCollapsedChanging","groupCollapsedChanged","columnGroupCollapsedChanging","columnGroupCollapsedChanged","itemsSourceChanging","itemsSourceChanged","selectionChanging","selectionChanged","scrollPositionChanged","updatingView","updatedView","updatingLayout","updatedLayout","pasting","pasted","pastingCell","pastedCell","copying","copied"],e.classCtor=function(){return Ts},e}(Vi);$s.register();var ta=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qs(e,t),e.tag="wj-pivot-chart",e.props=["isDisabled","tabOrder","chartType","showHierarchicalAxes","showTotals","showTitle","showLegend","legendPosition","stacking","maxSeries","maxPoints","itemsSource","header","footer","headerStyle","footerStyle"],e.events=["initialized","gotFocus","lostFocus","refreshing","refreshed","invalidInput"],e.classCtor=function(){return Rs},e}(Vi);ta.register();var ea=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qs(e,t),e.tag="wj-pivot-panel",e.props=["isDisabled","tabOrder","autoGenerateFields","viewDefinition","engine","itemsSource","showFieldIcons","restrictDragging","deferredUpdate"],e.events=["initialized","gotFocus","lostFocus","refreshing","refreshed","invalidInput","itemsSourceChanged","viewDefinitionChanged","updatingView","updatedView"],e.classCtor=function(){return ks},e}(Vi);ea.register();var ia=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qs(e,t),e.tag="wj-slicer",e.props=["isDisabled","tabOrder","field","showHeader","header","showCheckboxes","multiSelect"],e.events=["initialized","gotFocus","lostFocus","refreshing","refreshed","invalidInput"],e.classCtor=function(){return _s},e}(Vi);ia.register();var na,ra,oa,sa,aa,la=i(5733),ha=i.n(la),ua=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ca=function(){function t(){this._externalCancellation=null}return Object.defineProperty(t.prototype,"sheets",{get:function(){return null==this._sheets&&(this._sheets=[]),this._sheets},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"styles",{get:function(){return null==this._styles&&(this._styles=[]),this._styles},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"definedNames",{get:function(){return null==this._definedNames&&(this._definedNames=[]),this._definedNames},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"colorThemes",{get:function(){return null==this._colorThemes&&(this._colorThemes=[]),this._colorThemes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reservedContent",{get:function(){return null==this._reservedContent&&(this._reservedContent={}),this._reservedContent},set:function(t){this._reservedContent=t},enumerable:!0,configurable:!0}),t.prototype.save=function(e){var i=Fa.save(this),n=!(!this._reservedContent||!this._reservedContent.macros);return e&&t._saveToFile(i.base64,e,n),i.base64},t.prototype.saveAsync=function(e,i,n,r){var o=this;this.cancelAsync((function(){o._cs=Ct(o._externalCancellation)?o._externalCancellation():new za,Fa.saveAsync(o,o._cs,n,r).then((function(n){if(e){var s=!(!o._reservedContent||!o._reservedContent.macros);t._saveToFile(n,e,s)}o._cs=null,Ct(r)&&r(100),i&&i(n)}),(function(){return o._cs=null}))}))},t.prototype.cancelAsync=function(t){var e=this;this._cs?(this._cs.cancel(),setTimeout((function(){e._cs=null,Ct(t)&&t()}),100)):Ct(t)&&t()},t.prototype.load=function(t,e){void 0===e&&(e=!0),wt(t)&&(t=this._getBase64String(t));var i=Fa.load(t,e);this._deserialize(i),t=null,i=null},t.prototype.loadAsync=function(t,e,i,n){var r=this;void 0===n&&(n=!0),wt(t)&&(t=this._getBase64String(t)),Fa.loadAsync(t,n).then((function(i){r._deserialize(i),t=null,i=null,e(r)})).catch(i)},t.prototype._serialize=function(){var t={sheets:[]};return t.sheets=this._serializeWorkSheets(),this._styles&&this._styles.length>0&&(t.styles=this._serializeWorkbookStyles()),this._reservedContent&&(t.reservedContent=this._reservedContent),null!=this.activeWorksheet&&!isNaN(this.activeWorksheet)&&this.activeWorksheet>=0&&(t.activeWorksheet=this.activeWorksheet),this.application&&(t.application=this.application),this.company&&(t.company=this.company),null!=this.created&&(t.created=this.created),this.creator&&(t.creator=this.creator),this.lastModifiedBy&&(t.lastModifiedBy=this.lastModifiedBy),null!=this.modified&&(t.modified=this.modified),this._definedNames&&this._definedNames.length>0&&(t.definedNames=this._serializeDefinedNames()),this._colorThemes&&this._colorThemes.length>0&&(t.colorThemes=this._colorThemes.slice()),t},t.prototype._deserialize=function(t){this._deserializeWorkSheets(t.sheets),t.styles&&t.styles.length>0&&this._deserializeWorkbookStyles(t.styles),this.activeWorksheet=t.activeWorksheet,this.application=t.application,this.company=t.company,this.created=t.created,this.creator=t.creator,this.lastModifiedBy=t.lastModifiedBy,this.modified=t.modified,this.reservedContent=t.reservedContent,t.definedNames&&t.definedNames.length>0&&this._deserializeDefinedNames(t.definedNames),t.colorThemes&&t.colorThemes.length>0&&(this._colorThemes=t.colorThemes.slice())},t.prototype._addWorkSheet=function(t,e){null==this._sheets&&(this._sheets=[]),null==e||isNaN(e)?this._sheets.push(t):this._sheets[e]=t},t._saveToFile=function(t,e,i){var n,r,o=i?"xlsm":"xlsx",s="xlsm"===o?"application/vnd.ms-excel.sheet.macroEnabled.12":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";if((r=e.lastIndexOf("."))<0)e+="."+o;else{if(0===r)throw"Invalid file name.";(""===(n=e.substring(r+1))||n!==o)&&(e+="."+o)}ve(new Blob([Oa.toArray(t)],{type:s}),e)},t.prototype._getBase64String=function(t){if(null==t||0===t.length)throw"Invalid xlsx file content.";var e=t.search(/base64,/i);return-1!==e?t.substring(e+7):t},t.toXlsxDateFormat=function(t){var e;if(1===t.length)switch(t){case"r":case"R":return"ddd, dd MMM yyyy HH:mm:ss &quot;GMT&quot;";case"u":return"yyyy-MM-dd&quot;T&quot;HH:mm:ss&quot;Z&quot;";case"o":case"O":e=(e=Ve.Globalize.calendar.patterns[t]).replace(/f+k/gi,"000");break;default:e=Ve.Globalize.calendar.patterns[t]}return e||(e=t),e=e.replace(/"/g,"").replace(/tt/,"AM/PM").replace(/t/,"A/P").replace(/M+/gi,(function(t){return t.toLowerCase()})).replace(/g+y+/gi,(function(t){return t.substring(0,t.indexOf("y"))+"e"})),/FY|Q/i.test(e)?"General":e},t.toXlsxNumberFormat=function(t){var e,i,n,r=t?t.toLowerCase():"";if(/^[ncpfdg]\d*.*,*$/.test(r)&&(e=r[0],i=this._formatMap[e]),i){var o=r.split(",");if("c"===e){var s=Ve.Globalize.numberFormat.currency,a=t?t.match(/([a-z])(\d*)(,*)(.*)/i):null,l=a&&a[4]?a[4]:s.symbol;""===l&&(l="");var h=this._formatMap.n,u=s.pattern,c=u[0].replace("n",h).replace("$","{1}"),d=u[1].replace("n",h).replace("$","{1}");")"===c[c.length-1]&&(d+="_)"),i=(i=d+";"+c).replace(/\{1\}/g,l)}var f=-1;r.length>1?f=parseInt(o[0].substr(1)):"d"!==e&&(f=2);var p="";if(!isNaN(f))for(var g=0;g<f;g++)p+="0";for(g=0;g<o.length-1;g++)p+=",";n=p.length>0?"d"===e?i.replace(/\{0\}/g,p):i.replace(/\{0\}/g,(!isNaN(f)&&f>0?".":"")+p):"d"===e?i.replace(/\{0\}/g,"0"):i.replace(/\{0\}/g,"")}else n=r;return n},t.fromXlsxFormat=function(t){var e,i,n,r,o,s,a,l,h,u=[],c=Ve.Globalize.numberFormat.currency.symbol;if(!t||"General"===t)return[""];for(i=(t=t.replace(/;@/g,"").replace(/&quot;?/g,"")).split(";"),r=0;r<i.length;r++){if(n=i[r],/[hsmy\:]/i.test(n))e=this._fromXlsxDateFormat(n);else if(s=n.lastIndexOf("."),a=n.lastIndexOf("0"),l=n.lastIndexOf(","),e=n.search(/\[\$([^\-\]]+)[^\]]*\]/)>-1||n.indexOf(c)>-1&&-1===n.search(/\[\$([\-\]]+)[^\]]*\]/)?"c":"%"===n[t.length-1]?"p":"n",e+=s>-1&&s<a?n.substring(s,a).length:"0",/^0+,*$/.test(n)&&(e="d"+((a=n.lastIndexOf("0"))+1)),l>-1&&a>-1&&a<l)for(h=n.substring(a+1,l+1).split(""),o=0;o<h.length;o++)e+=",";u.push(e)}return u},t._fromXlsxDateFormat=function(t){return t.replace(/\[\$\-.+\]/g,"").replace(/(\\)(.)/g,"$2").replace(/H+/g,(function(t){return t.toLowerCase()})).replace(/m+/g,(function(t){return t.toUpperCase()})).replace(/S+/g,(function(t){return t.toLowerCase()})).replace(/AM\/PM/gi,"tt").replace(/A\/P/gi,"t").replace(/\.000/g,".fff").replace(/\.00/g,".ff").replace(/\.0/g,".f").replace(/\\[\-\s,]/g,(function(t){return t.substring(1)})).replace(/Y+/g,(function(t){return t.toLowerCase()})).replace(/D+/g,(function(t){return t.toLowerCase()})).replace(/M+:?|:?M+/gi,(function(t){return t.indexOf(":")>-1?t.toLowerCase():t})).replace(/g+e/gi,(function(t){return t.substring(0,t.length-1)+"yy"}))},t._parseCellFormat=function(t,e){return e?this.toXlsxDateFormat(t):this.toXlsxNumberFormat(t)},t._parseExcelFormat=function(t){if(null!=t){var e=t&&t.style&&t.style.format;if((null!=t.value||e)&&!isNaN(t.value)){var i=vt(t.value);return!i||e&&"General"!==e?t.isDate||St(t.value)||i||""===t.value||t.isNumber?this.fromXlsxFormat(e)[0]:e:yt(t.value)?"d":"f2"}}},t.xlsxAddress=function(t,e,i,n,r){var o=i?"$":"",s=null==n?o:n?"$":"";return!0===r?"":(isNaN(e)?"":s+this._numAlpha(e))+(!1===r||isNaN(t)?"":o+(t+1).toString())},t.tableAddress=function(t){var e=t&&/^((\$?)([A-Za-z]+))?((\$?)(\d+))?$/.exec(t),i={};return e?(e[3]&&(i.col=this._alphaNum(e[3]),i.absCol=!!e[2]),e[6]&&(i.row=+e[6]-1,i.absRow=!!e[5]),i):null},t._parseHAlignToString=function(t){switch(t){case na.Left:return"left";case na.Center:return"center";case na.Right:return"right";case na.Justify:return"justify";default:return"general"}},t._parseStringToHAlign=function(t){var e=t?t.toLowerCase():"";return"left"===e?na.Left:"center"===e?na.Center:"right"===e?na.Right:"justify"===e?na.Justify:na.General},t._parseVAlignToString=function(t){switch(t){case ra.Bottom:return"bottom";case ra.Center:return"center";case ra.Top:return"top";default:return null}},t._parseStringToVAlign=function(t){var e=t?t.toLowerCase():"";return"top"===e?ra.Top:"center"===e?ra.Center:"bottom"===e?ra.Bottom:null},t._parseBorderTypeToString=function(t){switch(t){case aa.Dashed:return"dashed";case aa.Dotted:return"dotted";case aa.Double:return"double";case aa.Hair:return"hair";case aa.Medium:return"medium";case aa.MediumDashDotDotted:return"mediumDashDotDot";case aa.MediumDashDotted:return"mediumDashDot";case aa.MediumDashed:return"mediumDashed";case aa.SlantedMediumDashDotted:return"slantDashDot";case aa.Thick:return"thick";case aa.Thin:return"thin";case aa.ThinDashDotDotted:return"dashDotDot";case aa.ThinDashDotted:return"dashDot";case aa.None:default:return"none"}},t._parseStringToBorderType=function(t){return"dashed"===t?aa.Dashed:"dotted"===t?aa.Dotted:"double"===t?aa.Double:"hair"===t?aa.Hair:"medium"===t?aa.Medium:"mediumDashDotDot"===t?aa.MediumDashDotDotted:"mediumDashDot"===t?aa.MediumDashDotted:"mediumDashed"===t?aa.MediumDashed:"slantDashDot"===t?aa.SlantedMediumDashDotted:"thick"===t?aa.Thick:"thin"===t?aa.Thin:"dashDotDot"===t?aa.ThinDashDotDotted:"dashDot"===t?aa.ThinDashDotted:null},t._escapeXML=function(t){return"string"==typeof t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):""},t._unescapeXML=function(t){return"string"==typeof t?t.indexOf("&")>=0?t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/").replace(/&amp;/g,"&"):t:""},t._numAlpha=function(t){var e=Math.floor(t/26)-1;return(e>-1?this._numAlpha(e):"")+this._alphabet.charAt(t%26)},t._alphaNum=function(t){var e=0;return t&&(t=t.toUpperCase()),2===t.length&&(e=this._alphaNum(t.charAt(0))+1),26*e+this._alphabet.indexOf(t.substr(-1))},t.prototype._serializeWorkSheets=function(){var t,e,i=[];for(e=0;e<this._sheets.length;e++)(t=this._sheets[e])&&(i[e]=t._serialize());return i},t.prototype._serializeWorkbookStyles=function(){var t,e,i=[];for(e=0;e<this._styles.length;e++)(t=this._styles[e])&&(i[e]=t._serialize());return i},t.prototype._serializeDefinedNames=function(){var t,e,i=[];for(e=0;e<this._definedNames.length;e++)(t=this._definedNames[e])&&(i[e]=t._serialize());return i},t.prototype._serializeTableStyles=function(){var t,e,i=[];for(e=0;e<this._tableStyles.length;e++)(t=this._tableStyles[e])&&(i[e]=t._serialize());return i},t.prototype._deserializeWorkSheets=function(t){var e,i,n;for(this._sheets=[],Ht(null!=t,"workSheets should not be null."),n=0;n<t.length;n++)(i=t[n])&&((e=new da)._deserialize(i),this._sheets[n]=e)},t.prototype._deserializeWorkbookStyles=function(t){var e,i,n;for(this._styles=[],n=0;n<t.length;n++)(i=t[n])&&((e=new ba)._deserialize(i),this._styles[n]=e)},t.prototype._deserializeDefinedNames=function(t){var e,i,n;for(this._definedNames=[],n=0;n<t.length;n++)(i=t[n])&&((e=new ja)._deserialize(i),this._definedNames[n]=e)},t.prototype._deserializeTableStyles=function(t){var e,i,n;for(this._tableStyles=[],n=0;n<t.length;n++)(i=t[n])&&((e=new ka)._deserialize(i),this._tableStyles[n]=e)},t._alphabet="ABCDEFGHIJKLMNOPQRSTUVWXYZ",t._formatMap={n:"#,##0{0}",c:"{1}#,##0{0}_);({1}#,##0{0})",p:"#,##0{0}%",f:"0{0}",d:"{0}",g:"0{0}"},t}(),da=function(){function t(){}return Object.defineProperty(t.prototype,"columns",{get:function(){return null==this._columns&&(this._columns=[]),this._columns},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return null==this._rows&&(this._rows=[]),this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tables",{get:function(){return null==this._tables&&(this._tables=[]),this._tables},enumerable:!0,configurable:!0}),t.prototype._serialize=function(){if(this._checkEmptyWorkSheet())return null;var t={};return this.style&&(t.style=this.style._serialize()),this._columns&&this._columns.length>0&&(t.columns=this._serializeWorkbookColumns()),this._rows&&this._rows.length>0&&(t.rows=this._serializeWorkbookRows()),this.frozenPane&&(t.frozenPane=this.frozenPane._serialize()),this.name&&(t.name=this.name),null!=this.summaryBelow&&(t.summaryBelow=this.summaryBelow),null!=this.visible&&(t.visible=this.visible),this._tables&&this._tables.length>0&&(t.tables=this._serializeTables()),this._extraColumn&&(t._extraColumn=this._extraColumn._serialize()),t.rightToLeft=this.rightToLeft,t},t.prototype._deserialize=function(t){var e,i;t.style&&((i=new ba)._deserialize(t.style),this.style=i),t.columns&&t.columns.length>0&&this._deserializeWorkbookColumns(t.columns),t.rows&&t.rows.length>0&&this._deserializeWorkbookRows(t.rows),t.frozenPane&&((e=new wa)._deserialize(t.frozenPane),this.frozenPane=e),this.name=t.name,this.summaryBelow=t.summaryBelow,this.visible=t.visible,t.tables&&t.tables.length>0&&this._deserializeTables(t.tables),t._extraColumn&&(this._extraColumn=new pa,this._extraColumn._deserialize(t._extraColumn)),this.rightToLeft=t.rightToLeft},t.prototype._addWorkbookColumn=function(t,e){null==this._columns&&(this._columns=[]),null==e||isNaN(e)?this._columns.push(t):this._columns[e]=t},t.prototype._addWorkbookRow=function(t,e){null==this._rows&&(this._rows=[]),null==e||isNaN(e)?this._rows.push(t):this._rows[e]=t},t.prototype._serializeWorkbookColumns=function(){var t,e,i=[];for(e=0;e<this._columns.length;e++)(t=this._columns[e])&&(i[e]=t._serialize());return i},t.prototype._serializeWorkbookRows=function(){var t,e,i=[];for(e=0;e<this._rows.length;e++)(t=this._rows[e])&&(i[e]=t._serialize());return i},t.prototype._serializeTables=function(){var t,e,i=[];for(e=0;e<this._tables.length;e++)(t=this._tables[e])&&(i[e]=t._serialize());return i},t.prototype._deserializeWorkbookColumns=function(t){var e,i,n;for(this._columns=[],n=0;n<t.length;n++)(e=t[n])&&((i=new fa)._deserialize(e),this._columns[n]=i)},t.prototype._deserializeWorkbookRows=function(t){var e,i,n;for(this._rows=[],n=0;n<t.length;n++)(e=t[n])&&((i=new ga)._deserialize(e),this._rows[n]=i)},t.prototype._deserializeTables=function(t){var e,i,n;for(this._tables=[],n=0;n<t.length;n++)(i=t[n])&&((e=new Sa)._deserialize(i),this._tables[n]=e)},t.prototype._checkEmptyWorkSheet=function(){return!(null!=this._rows||null!=this._columns||null!=this.visible||null!=this.summaryBelow||null!=this.frozenPane||null!=this.style||null!=this.name&&""!==this.name||null!=this._tables&&0!=this._tables.length)},t}(),fa=function(){function t(){}return t.prototype._serialize=function(){var t;return this._checkEmptyWorkbookColumn()?null:(t={},this.style&&(t.style=this.style._serialize()),null!=this.autoWidth&&(t.autoWidth=this.autoWidth),null!=this.width&&(t.width=this.width),null!=this.visible&&(t.visible=this.visible),t)},t.prototype._deserialize=function(t){var e;t.style&&((e=new ba)._deserialize(t.style),this.style=e),this.autoWidth=t.autoWidth,this.visible=t.visible,this.width=t.width},t.prototype._checkEmptyWorkbookColumn=function(){return null==this.style&&null==this.width&&null==this.autoWidth&&null==this.visible},t}(),pa=function(t){function e(){return t.call(this)||this}return ua(e,t),e.prototype._serialize=function(){var e=t.prototype._serialize.call(this);return e.min=this.min,e.max=this.max,e},e.prototype._deserialize=function(e){t.prototype._deserialize.call(this,e),this.min=e.min,this.max=e.max},e}(fa),ga=function(){function t(){}return Object.defineProperty(t.prototype,"cells",{get:function(){return null==this._cells&&(this._cells=[]),this._cells},enumerable:!0,configurable:!0}),t.prototype._serialize=function(){var t;return this._checkEmptyWorkbookRow()?null:(t={},this._cells&&this._cells.length>0&&(t.cells=this._serializeWorkbookCells()),this.style&&(t.style=this.style._serialize()),null!=this.collapsed&&(t.collapsed=this.collapsed),null==this.groupLevel||isNaN(this.groupLevel)||(t.groupLevel=this.groupLevel),null==this.height||isNaN(this.height)||(t.height=this.height),null!=this.visible&&(t.visible=this.visible),t)},t.prototype._deserialize=function(t){var e;t.cells&&t.cells.length>0&&this._deserializeWorkbookCells(t.cells),t.style&&((e=new ba)._deserialize(t.style),this.style=e),this.collapsed=t.collapsed,this.groupLevel=t.groupLevel,this.height=t.height,this.visible=t.visible},t.prototype._addWorkbookCell=function(t,e){null==this._cells&&(this._cells=[]),null==e||isNaN(e)?this._cells.push(t):this._cells[e]=t},t.prototype._serializeWorkbookCells=function(){var t,e,i=[];for(e=0;e<this._cells.length;e++)(t=this._cells[e])&&(i[e]=t._serialize());return i},t.prototype._deserializeWorkbookCells=function(t){var e,i,n;for(this._cells=[],n=0;n<t.length;n++)(e=t[n])&&((i=new _a)._deserialize(e),this._cells[n]=i)},t.prototype._checkEmptyWorkbookRow=function(){return null==this._cells&&null==this.style&&null==this.collapsed&&null==this.visible&&(null==this.height||isNaN(this.height))&&(null==this.groupLevel||isNaN(this.groupLevel))},t}(),_a=function(){function t(){}return t.prototype._serialize=function(){var t;return this._checkEmptyWorkbookCell()?null:(t={},this.style&&(t.style=this.style._serialize()),null!=this.value&&(t.value=this.value),this.formula&&(t.formula=this.formula),null!=this.isDate&&(t.isDate=this.isDate),null!=this.isNumber&&(t.isNumber=this.isNumber),null!=this.colSpan&&!isNaN(this.colSpan)&&this.colSpan>1&&(t.colSpan=this.colSpan),null!=this.rowSpan&&!isNaN(this.rowSpan)&&this.rowSpan>1&&(t.rowSpan=this.rowSpan),this.link&&(t.link=this.link),t.textRuns=Da.serialize(this.textRuns),this.note&&(t.note=this.note._serialize()),t)},t.prototype._deserialize=function(t){var e;t.style&&((e=new ba)._deserialize(t.style),this.style=e),this.value=t.value,this.formula=t.formula,this.isDate=t.isDate,this.isNumber=t.isNumber,this.colSpan=t.colSpan,this.rowSpan=t.rowSpan,this.link=t.link,this.textRuns=Da.deserialize(t.textRuns),t.note&&(this.note=new ma,this.note._deserialize(t.note))},t.prototype._checkEmptyWorkbookCell=function(){return null==this.style&&null==this.value&&null==this.isDate&&null==this.isNumber&&(null==this.formula||""===this.formula)&&(null==this.colSpan||isNaN(this.colSpan)||this.colSpan<=1)&&(null==this.rowSpan||isNaN(this.rowSpan)||this.rowSpan<=1)&&(null==this.link||""===this.link)},t}(),ma=function(){function t(){}return t.prototype._serialize=function(){if(!(null!=this.text||this.textRuns&&this.textRuns.length))return null;var t={};return null!=this.author&&(t.author=this.author),null!=this.text&&(t.text=this.text),t.textRuns=Da.serialize(this.textRuns),null!=this.visible&&(t.visible=this.visible),null!=this.offsetX&&(t.offsetX=this.offsetX),null!=this.offsetY&&(t.offsetY=this.offsetY),null!=this.width&&(t.width=this.width),null!=this.height&&(t.height=this.height),t},t.prototype._deserialize=function(t){this.author=t.author,this.text=t.text,this.textRuns=Da.deserialize(t.textRuns),this.visible=t.visible,this.offsetX=t.offsetX,this.offsetY=t.offsetY,this.width=t.width,this.height=t.height},t}(),wa=function(){function t(){}return t.prototype._serialize=function(){return null!=this.columns&&!isNaN(this.columns)&&0!==this.columns||null!=this.rows&&!isNaN(this.rows)&&0!==this.rows?{columns:this.columns,rows:this.rows}:null},t.prototype._deserialize=function(t){this.columns=t.columns,this.rows=t.rows},t}(),ba=function(){function t(){}return t.prototype._serialize=function(){var t;return this._checkEmptyWorkbookStyle()?null:(t={},this.basedOn&&(t.basedOn=this.basedOn._serialize()),this.fill&&(t.fill=this.fill._serialize()),this.font&&(t.font=this.font._serialize()),this.borders&&(t.borders=this.borders._serialize()),this.format&&(t.format=this.format),null!=this.hAlign&&(t.hAlign=Jt(this.hAlign,na,!1)),null!=this.vAlign&&(t.vAlign=Jt(this.vAlign,ra,!1)),null==this.indent||isNaN(this.indent)||(t.indent=this.indent),this.wordWrap&&(t.wordWrap=this.wordWrap),t)},t.prototype._deserialize=function(e){var i,n,r,o;e.basedOn&&((i=new t)._deserialize(e.basedOn),this.basedOn=i),e.fill&&((n=new ya)._deserialize(e.fill),this.fill=n),e.font&&((r=new va)._deserialize(e.font),this.font=r),e.borders&&((o=new xa)._deserialize(e.borders),this.borders=o),this.format=e.format,null!=e.hAlign&&(this.hAlign=Jt(e.hAlign,na,!1)),null!=e.vAlign&&(this.vAlign=Jt(e.vAlign,ra,!1)),null==e.indent||isNaN(e.indent)||(this.indent=e.indent),e.wordWrap&&(this.wordWrap=e.wordWrap)},t.prototype._checkEmptyWorkbookStyle=function(){return null==this.basedOn&&null==this.fill&&null==this.font&&null==this.borders&&(null==this.format||""===this.format)&&null==this.hAlign&&null==this.vAlign&&null==this.wordWrap},t}(),va=function(){function t(){}return t.prototype._serialize=function(){var t;return this._checkEmptyWorkbookFont()?null:(t={},null!=this.bold&&(t.bold=this.bold),null!=this.italic&&(t.italic=this.italic),null!=this.underline&&(t.underline=this.underline),this.color&&(t.color=this.color),this.family&&(t.family=this.family),null==this.size||isNaN(this.size)||(t.size=this.size),t)},t.prototype._deserialize=function(t){this.bold=t.bold,null!=t.color&&(this.color=t.color),this.family=t.family,this.italic=t.italic,this.size=t.size,this.underline=t.underline},t.prototype._checkEmptyWorkbookFont=function(){return null==this.bold&&null==this.italic&&null==this.underline&&(null==this.color||""===this.color)&&(null==this.family||""===this.family)&&(null==this.size||isNaN(this.size))},t}(),ya=function(){function t(){}return t.prototype._serialize=function(){return this.color?{color:this.color}:null},t.prototype._deserialize=function(t){null!=t.color&&(this.color=t.color)},t}(),xa=function(){function t(){}return t.prototype._serialize=function(){var t;return this._checkEmptyWorkbookBorder()?null:(t={},this.top&&(t.top=this.top._serialize()),this.bottom&&(t.bottom=this.bottom._serialize()),this.left&&(t.left=this.left._serialize()),this.right&&(t.right=this.right._serialize()),this.diagonal&&(t.diagonal=this.diagonal._serialize()),t)},t.prototype._deserialize=function(t){var e,i,n,r,o;t.top&&((e=new Ca)._deserialize(t.top),this.top=e),t.bottom&&((i=new Ca)._deserialize(t.bottom),this.bottom=i),t.left&&((n=new Ca)._deserialize(t.left),this.left=n),t.right&&((r=new Ca)._deserialize(t.right),this.right=r),t.diagonal&&((o=new Ca)._deserialize(t.diagonal),this.diagonal=o)},t.prototype._checkEmptyWorkbookBorder=function(){return null==this.top&&null==this.bottom&&null==this.left&&null==this.right&&null==this.diagonal},t}(),Ca=function(){function t(){}return t.prototype._serialize=function(){var t;return null!=this.color&&""!==this.color||null!=this.style?(t={},this.color&&(t.color=this.color),null!=this.style&&(t.style=Jt(this.style,aa,!1)),t):null},t.prototype._deserialize=function(t){null==t.color&&null==t.style||(this.color=t.color,null!=t.style&&(this.style=Jt(t.style,aa,!1)))},t}(),ja=function(){function t(){}return t.prototype._serialize=function(){var t;return null==this.name?null:(t={name:this.name,value:this.value},null!=this.sheetName&&(t.sheetName=this.sheetName),t)},t.prototype._deserialize=function(t){this.name=t.name,this.value=t.value,this.sheetName=t.sheetName},t}(),Sa=function(){function t(){}return Object.defineProperty(t.prototype,"columns",{get:function(){return null==this._columns&&(this._columns=[]),this._columns},enumerable:!0,configurable:!0}),t.prototype._serialize=function(){var t,e;return null==this.name||null==this.range||null==this._columns?null:(null!=this.style&&(e=this.style._serialize()),(t={name:this.name,range:this.range,showHeaderRow:this.showHeaderRow,showTotalRow:this.showTotalRow,style:e,showBandedColumns:this.showBandedColumns,showBandedRows:this.showBandedRows,alterFirstColumn:this.alterFirstColumn,alterLastColumn:this.alterLastColumn,columns:[]}).columns=this._serializeTableColumns(),t)},t.prototype._deserialize=function(t){var e;this.name=t.name,this.range=t.range,this.showHeaderRow=t.showHeaderRow,this.showTotalRow=t.showTotalRow,null!=t.style&&((e=new ka)._deserialize(t.style),this.style=e),this.showBandedColumns=t.showBandedColumns,this.showBandedRows=t.showBandedRows,this.alterFirstColumn=t.alterFirstColumn,this.alterLastColumn=t.alterLastColumn,this._deserializeTableColumns(t.columns)},t.prototype._serializeTableColumns=function(){var t,e,i=[];for(e=0;e<this._columns.length;e++)(t=this._columns[e])&&(i[e]=t._serialize());return i},t.prototype._deserializeTableColumns=function(t){var e,i,n;for(Ht(null!=t,"table Columns should not be null."),this._columns=[],n=0;n<t.length;n++)(i=t[n])&&((e=new Ea)._deserialize(i),this._columns[n]=e)},t}(),Ea=function(){function t(){}return t.prototype._serialize=function(){return null==this.name?null:{name:this.name,totalRowLabel:this.totalRowLabel,totalRowFunction:this.totalRowFunction,showFilterButton:this.showFilterButton}},t.prototype._deserialize=function(t){this.name=t.name,this.totalRowLabel=t.totalRowLabel,this.totalRowFunction=t.totalRowFunction,this.showFilterButton=t.showFilterButton},t}(),ka=function(){function t(){}return t.prototype._serialize=function(){var t;return this._checkEmptyWorkbookTableStyle()?null:(t={name:this.name},this.wholeTableStyle&&(t.wholeTableStyle=this.wholeTableStyle._serialize()),this.firstBandedColumnStyle&&(t.firstBandedColumnStyle=this.firstBandedColumnStyle._serialize()),this.firstBandedRowStyle&&(t.firstBandedRowStyle=this.firstBandedRowStyle._serialize()),this.secondBandedColumnStyle&&(t.secondBandedColumnStyle=this.secondBandedColumnStyle._serialize()),this.secondBandedRowStyle&&(t.secondBandedRowStyle=this.secondBandedRowStyle._serialize()),this.headerRowStyle&&(t.headerRowStyle=this.headerRowStyle._serialize()),this.totalRowStyle&&(t.totalRowStyle=this.totalRowStyle._serialize()),this.firstColumnStyle&&(t.firstColumnStyle=this.firstColumnStyle._serialize()),this.lastColumnStyle&&(t.lastColumnStyle=this.lastColumnStyle._serialize()),this.firstHeaderCellStyle&&(t.firstHeaderCellStyle=this.firstHeaderCellStyle._serialize()),this.lastHeaderCellStyle&&(t.lastHeaderCellStyle=this.lastHeaderCellStyle._serialize()),this.firstTotalCellStyle&&(t.firstTotalCellStyle=this.firstTotalCellStyle._serialize()),this.lastTotalCellStyle&&(t.lastTotalCellStyle=this.lastTotalCellStyle._serialize()),t)},t.prototype._deserialize=function(t){this.name=t.name,t.wholeTableStyle&&(this.wholeTableStyle=new Ta,this.wholeTableStyle._deserialize(t.wholeTableStyle)),t.firstBandedColumnStyle&&(this.firstBandedColumnStyle=new Pa,this.firstBandedColumnStyle._deserialize(t.firstBandedColumnStyle)),t.firstBandedRowStyle&&(this.firstBandedRowStyle=new Pa,this.firstBandedRowStyle._deserialize(t.firstBandedRowStyle)),t.secondBandedColumnStyle&&(this.secondBandedColumnStyle=new Pa,this.secondBandedColumnStyle._deserialize(t.secondBandedColumnStyle)),t.secondBandedRowStyle&&(this.secondBandedRowStyle=new Pa,this.secondBandedRowStyle._deserialize(t.secondBandedRowStyle)),t.headerRowStyle&&(this.headerRowStyle=new Ta,this.headerRowStyle._deserialize(t.headerRowStyle)),t.totalRowStyle&&(this.totalRowStyle=new Ta,this.totalRowStyle._deserialize(t.totalRowStyle)),t.firstColumnStyle&&(this.firstColumnStyle=new Ta,this.firstColumnStyle._deserialize(t.firstColumnStyle)),t.lastColumnStyle&&(this.lastColumnStyle=new Ta,this.lastColumnStyle._deserialize(t.lastColumnStyle)),t.firstHeaderCellStyle&&(this.firstHeaderCellStyle=new Ta,this.firstHeaderCellStyle._deserialize(t.firstHeaderCellStyle)),t.lastHeaderCellStyle&&(this.lastHeaderCellStyle=new Ta,this.lastHeaderCellStyle._deserialize(t.lastHeaderCellStyle)),t.firstTotalCellStyle&&(this.firstTotalCellStyle=new Ta,this.firstTotalCellStyle._deserialize(t.firstTotalCellStyle)),t.lastTotalCellStyle&&(this.lastTotalCellStyle=new Ta,this.lastTotalCellStyle._deserialize(t.lastTotalCellStyle))},t.prototype._checkEmptyWorkbookTableStyle=function(){return null==this.name||null==this.wholeTableStyle&&null==this.firstBandedColumnStyle&&null==this.firstBandedRowStyle&&null==this.secondBandedColumnStyle&&null==this.secondBandedRowStyle&&null==this.headerRowStyle&&null==this.totalRowStyle&&null==this.firstColumnStyle&&null==this.lastColumnStyle&&null==this.firstHeaderCellStyle&&null==this.lastHeaderCellStyle&&null==this.firstTotalCellStyle&&null==this.lastTotalCellStyle},t}(),Ta=function(t){function e(){return t.call(this)||this}return ua(e,t),e.prototype._deserialize=function(e){var i;t.prototype._deserialize.call(this,e),e.borders&&((i=new Aa)._deserialize(e.borders),this.borders=i)},e}(ba),Pa=function(t){function e(){return t.call(this)||this}return ua(e,t),e.prototype._serialize=function(){var e;return(e=t.prototype._serialize.call(this)).size=this.size,e},e.prototype._deserialize=function(e){t.prototype._deserialize.call(this,e),null!=e.size&&(this.size=e.size)},e}(Ta),Aa=function(t){function e(){return t.call(this)||this}return ua(e,t),e.prototype._serialize=function(){var e;return null!=(e=t.prototype._serialize.call(this))||this.vertical&&this.horizontal||(e={}),this.vertical&&(e.vertical=this.vertical._serialize()),this.horizontal&&(e.horizontal=this.horizontal._serialize()),e},e.prototype._deserialize=function(e){var i,n;t.prototype._deserialize.call(this,e),e.vertical&&((i=new Ca)._deserialize(e.vertical),this.vertical=i),e.horizontal&&((n=new Ca)._deserialize(e.horizontal),this.horizontal=n)},e}(xa),Ra=function(){function t(){}return t.prototype._serialize=function(){var t={text:this.text};return this.font&&(t.font=this.font._serialize()),t},t.prototype._deserialize=function(t){t.font&&(this.font=new va,this.font._deserialize(t.font)),this.text=t.text},t}(),Oa=function(){function t(){}return t.toArray=function(t){for(var e=atob(t),i=e.length,n=new Uint8Array(i),r=0;r<i;r++)n[r]=e.charCodeAt(r);return n},t}(),Da=function(){function t(){}return t.deserialize=function(t){return t&&t.length?t.map((function(t){var e=new Ra;return e._deserialize(t),e})):null},t.serialize=function(t){return t&&t.length?t.map((function(t){return t._serialize()})):null},t}();!function(t){t[t.General=0]="General",t[t.Left=1]="Left",t[t.Center=2]="Center",t[t.Right=3]="Right",t[t.Fill=4]="Fill",t[t.Justify=5]="Justify"}(na||(na={})),function(t){t[t.Top=0]="Top",t[t.Center=1]="Center",t[t.Bottom=2]="Bottom",t[t.Justify=3]="Justify"}(ra||(ra={})),function(t){t[t.Context=0]="Context",t[t.LeftToRight=1]="LeftToRight",t[t.RightToLeft=2]="RightToLeft"}(oa||(oa={})),function(t){t[t.Horizontal=0]="Horizontal",t[t.Vertical=1]="Vertical",t[t.RotateUp=2]="RotateUp",t[t.RotateDown=3]="RotateDown"}(sa||(sa={})),function(t){t[t.None=0]="None",t[t.Thin=1]="Thin",t[t.Medium=2]="Medium",t[t.Dashed=3]="Dashed",t[t.Dotted=4]="Dotted",t[t.Thick=5]="Thick",t[t.Double=6]="Double",t[t.Hair=7]="Hair",t[t.MediumDashed=8]="MediumDashed",t[t.ThinDashDotted=9]="ThinDashDotted",t[t.MediumDashDotted=10]="MediumDashDotted",t[t.ThinDashDotDotted=11]="ThinDashDotDotted",t[t.MediumDashDotDotted=12]="MediumDashDotDotted",t[t.SlantedMediumDashDotted=13]="SlantedMediumDashDotted"}(aa||(aa={}));var Ia=ha();function Ma(t){Ia=t}var Fa=function(){function t(){}return t.load=function(t,e){void 0===e&&(e=!0);var i=new Ia;Ht(null==i.loadAsync,"Please use JSZip 2.5 to load excel files synchronously.");var n,r=new Na(i);return this._loadImpl(r,t,e).then((function(t){return n=t})),n},t.loadAsync=function(t,e){void 0===e&&(e=!0);var i=new Ia;return Ht(null!=i.loadAsync,"Please use JSZip 3.0 to load excel files asynchrounously."),this._loadImpl(i,t,e)},t.save=function(t){var e,i=Date.now();this._saveWorkbookToZip(t,null,!1).then((function(t){return e=t})),i=Date.now()-i;var n;n=this._macroEnabled?"application/vnd.ms-excel.sheet.macroEnabled.12;":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;";var r=Date.now(),o=e.generate({compression:"DEFLATE"});return{base64:o,zipTime:Date.now()-r,processTime:i,href:function(){return"data:"+n+"base64,"+o}}},t.saveAsync=function(t,e,i,n){var r=new za(e);return Ct(n)&&n(0),this._saveWorkbookToZip(t,e,!0,(function(t){Ct(n)&&n(Math.round(Ha(t,0,100,0,90)))})).then((function(t){Ct(n)&&n(91);var o=t.generateAsync({type:"base64",compression:"DEFLATE"});o.catch((function(t){i&&i(t),r.reject(t)})),o.then((function(t){e&&e.cancelled?r.cancel():(Ct(n)&&n(100),r.resolve(t))}))}),(function(t){r.reject(t)})),r},t._loadImpl=function(t,e,i){var n,r=this,o=this,s=Date.now(),a={sheets:[]},l=t.loadAsync(e,{base64:wt(e)}).then((function(t){return n=t}));e=null;var h=l.constructor;return(l=(l=(l=(l=(l=(l=(l=(l=l.then((function(){var t=n.file("xl/theme/theme1.xml");if(t)return t.async("string").then((function(t){o._getTheme(t),a.colorThemes=o._colorThemes}))}))).then((function(){var t=n.file("xl/styles.xml");if(t)return t.async("string").then((function(t){o._getStyle(t,i),i&&(a.styles=o._styles,null!=o._tableStyles&&(a.tableStyles=o._tableStyles))}))}))).then((function(){var t=n.file("xl/sharedStrings.xml");if(t)return t.async("string").then((function(t){o._getSharedString(t)}))}))).then((function(){var t=n.file("xl/workbook.xml");if(t)return t.async("string").then((function(t){o._getWorkbook(t,a)}))}))).then((function(){o._tables=null;var t=h.resolve();return n.folder("xl/tables").forEach((function(e,i){null==o._tables&&(o._tables=[]),t=t.then((function(){return i.async("string").then((function(t){var e=o._getTable(t);e.fileName=i.name.substring(i.name.lastIndexOf("/")+1),o._tables.push(e)}))}))})),t}))).then((function(){var t=n.file("docProps/core.xml");if(t)return t.async("string").then((function(t){o._getCoreSetting(t,a)}))}))).then((function(){var t=n.file("xl/vbaProject.bin");if(t)return t.async("uint8array").then((function(t){null==a.reservedContent&&(a.reservedContent={}),a.reservedContent.macros=t}))}))).then((function(){var t=h.resolve();return n.folder("xl/worksheets").forEach((function(e,r){if(e&&-1===e.indexOf("/")){var s=o._getSheetIndex(r.name);isNaN(s)||(t=t.then((function(){return r.async("string").then((function(t){o._getSheet(t,s-1,a,i);var e=n.file("xl/worksheets/_rels/sheet"+s+".xml.rels");if(e)return e.async("string").then((function(t){for(var e,i,r=t.split("<Relationship "),l=r.length;--l;){var u=r[l],c=o._getAttr(u,"Id");if(a.sheets[s-1].tableRIds&&-1!==a.sheets[s-1].tableRIds.indexOf(c))null==a.sheets[s-1].tables&&(a.sheets[s-1].tables=[]),a.sheets[s-1].tables.push(o._getSheetRelatedTable(u));else if(a.sheets[s-1].hyperlinkRIds)o._getSheetRelatedHyperlink(u,c,a.sheets[s-1]);else{var d=o._getAttr(u,"Type");/\/comments$/.test(d)?e={id:o._getAttr(u,"Id"),target:o._getAttr(u,"Target")}:/\/vmlDrawing$/.test(d)&&(i={id:o._getAttr(u,"Id"),target:o._getAttr(u,"Target")})}}if(e&&i)return function(t){var r=h.resolve();return o._readNotes(t,e,i,n,r).then((function(){}))}(a.sheets[s-1])}))}))})))}})),t}))).then((function(){return a.processTime=Date.now()-s,n=null,r._sharedStrings=null,r._colorThemes=null,r._styles=null,r._sharedFormulas=null,r._borders=null,r._fonts=null,r._fills=null,r._contentTypes=null,r._props=null,r._xlRels=null,r._worksheets=null,r._tableStyles=null,r._dxfs=null,r._tables=null,r._notes=null,a}))},t._readNotes=function(e,i,n,r,o){var s=this,a=function(t){return t&&t.replace(/^..\//,"xl/")},l=r.file(a(i.target));return l&&(o=o.then((function(){return l.async("string").then((function(i){for(var o=i.substring(i.indexOf("<authors>"),i.indexOf("</authors>")).split("<author>"),l=[],h=1;h<o.length;h++)l.push(o[h].substring(0,o[h].indexOf("</author>")));for(o=i.substring(i.indexOf("<commentList>"),i.indexOf("</commentList>")).split("<comment "),h=1;h<o.length;h++){var u=t._getAttr(o[h],"ref"),c=s._alphaNum(u.match(/[a-zA-Z]*/g)[0]),d=+u.match(/\d*/g).join("")-1,f=o[h],p=f.substring(f.indexOf("<text>")+"<text>".length,f.lastIndexOf("</text>")),g=s._extractTextRuns(p),_=e.rows[d].cells[c];null==_&&(e.rows[d].cells[c]=_={}),_.note={author:l[t._getAttr(f,"authorId")],textRuns:g,text:s._getTextOfTextRuns(g)}}var m=r.file(a(n.target));if(m)return m.async("string").then((function(t){var i={};t.substring(0,t.indexOf(">")).split("xmlns:").forEach((function(t){t.indexOf("vml")>=0?i.vml=t.substring(0,t.indexOf("=")):t.indexOf("office:office")>=0?i.office=t.substring(0,t.indexOf("=")):t.indexOf("office:excel")>=0&&(i.excel=t.substring(0,t.indexOf("=")))}));for(var n=t.split("<"+i.vml+":shape "),r=new Ba(e),o=1;o<n.length;o++){var a=n[o],l=i.excel+":ClientData",h=a.indexOf(l);if(h>0){h+=l.length+1;var u=a.substring(h,a.indexOf("</"+l,h));if("Note"===s._getAttr(u,"ObjectType")){var c=+s._getElementValue(u,i.excel+":Row",null,null),d=+s._getElementValue(u,i.excel+":Column",null,null),f=e.rows[c].cells[d].note;Ht(null!=f,"No related note was found, row=${row}, col=${col}."),f.visible=s._getElementValue(u,i.excel+":Visible",!1,!0);var p=s._getElementValue(u,i.excel+":Anchor",null,null).split(",").map((function(t){return parseFloat(t)}));r.fromAnchor(p,f,c,d)}}}i=null}))}))}))),o},t._saveWorkbookToZip=function(t,e,i,n){var r=this,o=new Ia;i?Ht(null!=o.generateAsync,"Please use JSZip 3.0 to save excel files asynchrounously."):Ht(null==o.generateAsync,"Please use JSZip 2.5 to save excel files synchronously."),Ct(n)&&n(0),o.folder("_rels").file(".rels",this._xmlDescription+this._generateRelsDoc());var s=o.folder("docProps"),a=o.folder("xl");this._colorThemes=t.colorThemes,a.folder("theme").file("theme1.xml",this._xmlDescription+this._generateThemeDoc()),this._macroEnabled=!(!t.reservedContent||!t.reservedContent.macros),this._macroEnabled&&a.file("vbaProject.bin",t.reservedContent.macros),s.file("core.xml",this._xmlDescription+this._generateCoreDoc(t)),this._sharedStrings=[[],0],this._styles=new Array(1),this._borders=new Array(1),this._fonts=new Array(1),this._fills=new Array(2),this._tableStyles=new Array,this._dxfs=new Array,this._contentTypes=[],this._props=[],this._xlRels=[],this._worksheets=[],this._tables=[],this._tableStyles=[],this._notes={};var l=new za(e);return this._generateWorksheets(t,a,e,i,n).then((function(){r._writeNotes(t.sheets,a),a.file("styles.xml",r._xmlDescription+r._generateStyleDoc()),o.file("[Content_Types].xml",r._xmlDescription+r._generateContentTypesDoc(t)),s.file("app.xml",r._xmlDescription+r._generateAppDoc(t)),a.folder("_rels").file("workbook.xml.rels",r._xmlDescription+r._generateWorkbookRels());var e=r._xmlDescription+r._generateSharedStringsDoc();r._sharedStrings=[[],0],a.file("sharedStrings.xml",e),e=null,a.file("workbook.xml",r._xmlDescription+r._generateWorkbook(t)),Ct(n)&&n(100),l.resolve(o)})),l},t._writeNotes=function(t,e){var i=this;t.forEach((function(t,n){var r=i._notes[n];r&&(e.folder("drawings").file("vmlDrawing"+(n+1)+".vml",function(t){var e='<xml xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel">\r\n';e+='<o:shapelayout v:ext="edit">\r\n',e+='<o:idmap v:ext="edit" data="1"/>\r\n',e+="</o:shapelayout>\r\n",e+='<v:shapetype id="_x0000_t202" coordsize="21600,21600" o:spt="202" path="m,l,21600r21600,l21600,xe">\r\n',e+='<v:stroke joinstyle="miter"/>\r\n',e+='<v:path gradientshapeok="t" o:connecttype="rect"/>\r\n',e+="</v:shapetype>\r\n";var i=1e3*(n+1)+50,o=new Ba(t);return r.forEach((function(t,n){Ht(t._row>=0&&t._col>=0,"Invalid cell's indicies.");var r=null==t.visible||!0===t.visible;e+='<v:shape id="_x0000_s'+i+++'" type="#_x0000_t202" style=\'position:absolute; visibility:'+(r?"visible":"hidden")+"; z-index:"+(n+1)+';\' fillcolor="infoBackground [80]" o:insetmode="auto">\r\n',e+='<v:fill color2="infoBackground [80]"/>\r\n',e+='<v:shadow color="none [81]" obscured="t"/>\r\n',e+='<v:path o:connecttype="none"/>\r\n',e+='<v:textbox style="mso-direction-alt:auto;" ',e+=">\r\n",e+='<div style="text-align:left;"></div>\r\n',e+="</v:textbox>\r\n",e+='<x:ClientData ObjectType="Note">\r\n',e+="<x:MoveWithCells/>\r\n",e+="<x:SizeWithCells/>\r\n",null==t.width&&(t.width=144),null==t.height&&(t.height=79),null==t.offsetX&&(t.offsetX=15),null==t.offsetY&&(t.offsetY=0==t._row?2:15);var s=o.toAnchor(t,t._row,t._col);e+="<x:Anchor>"+s.toString()+"</x:Anchor>\r\n",e+="<x:AutoFill>False</x:AutoFill>\r\n",e+="<x:Row>"+t._row+"</x:Row>\r\n",e+="<x:Column>"+t._col+"</x:Column>\r\n",r&&(e+="<x:Visible/>\r\n"),e+="</x:ClientData>\r\n",e+="</v:shape>\r\n"})),e+"</xml>"}(t)),e.file("comments"+(n+1)+".xml",function(t){var e='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n';e+='<comments xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="xr" xmlns:xr="http://schemas.microsoft.com/office/spreadsheetml/2014/revision">\r\n';var n={},o=[],s={family:"Tahoma",size:12};return r.forEach((function(t){var e=t.author||"";null==n[e]&&(n[e]=o.length,o.push(e))})),e+="<authors>\r\n",o.forEach((function(t){return e+="<author>"+t+"</author>\r\n"})),e+="</authors>\r\n",e+="<commentList>\r\n",r.forEach((function(t){var r=i._numAlpha(t._col)+(t._row+1);e+='<comment ref="'+r+'" authorId="'+n[t.author||""]+'" shapeId="0" xr:uid="'+function(){Ua>4294967295&&(Ua=0);var t=(65535&Ua|65536).toString(16).substr(1),e=(Ua>>16&65535|65536).toString(16).substr(1);return Ua++,"{00000000-0000-0000-0000"+e+t+"}"}()+'">\r\n',e+="<text>\r\n";var o=t.textRuns&&t.textRuns.length?t.textRuns:[{text:t.text}];o=o.map((function(t){return t.font=t.font||s,t})),e+=i._generateTextRuns(o,i._defaultFontName.toLowerCase()),e+="</text>",e+="</comment>\r\n"})),(e+="</commentList>\r\n")+"</comments>"}()))}))},t._generateWorksheets=function(t,e,i,n,r){for(var o,s=this,a=e.folder("worksheets"),l=t.sheets.length,h=[],u=t.sheets.map((function(t){return t.rows.length})).reduce((function(t,e){return t+e})),c=t.sheets.map((function(t){return t.rows.length/u})),d=l-1,f=0,p=0,g=function(){var u=l;h.push((function(){var l=new za(i);return s._generateWorkSheet(u,t,a,i,n,(function(t){Ct(r)&&(t=Math.round(t*c[u]),d!==u&&(d=u,p+=f),f=t,r(p+t))})).then((function(){var i=t.sheets[u],n=i&&i.externalLinks,r=s._sheetHasNotes(u);if(i&&(i.tables&&i.tables.length>0||n&&n.length>0||r)){var h=1,c='<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">';if(r&&(c+='<Relationship Id="rId'+h+++'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing" Target="../drawings/vmlDrawing'+(u+1)+'.vml" />',c+='<Relationship Id="rId'+h+++'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments" Target="../comments'+(u+1)+'.xml" />'),n&&n.length>0&&(c+=s._generateHyperlinkRel(n,h),h+=n.length),i.tables&&i.tables.length>0){null==o&&(o=e.folder("tables"));for(var d=0;d<i.tables.length;d++){var f=i.tables[d];s._generateTable(f,o),c+='<Relationship Target="../tables/'+f.fileName+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/table" Id="rId'+(d+h)+'"/>'}}c+="</Relationships>",a.folder("_rels").file("sheet"+(u+1)+".xml.rels",s._xmlDescription+c)}l.resolve()})),l}))};l--;)g();return za.serial(i,h).then((function(){Ct(r)&&r(100)}))},t._getSharedString=function(t){var e=t.split(/<si.*?>/g),i=e.length;for(this._sharedStrings=[];--i;)if(e[i].search(/<r>/gi)>-1)this._sharedStrings[i-1]=this._extractTextRuns(e[i]);else{var n=this._getElementValue(e[i],"t","","");this._sharedStrings[i-1]=this._unescape(n)}},t._extractTextRuns=function(t){for(var e=[],i=t.split(/<r>/g),n=1;n<i.length;n++){var r=void 0;-1!==i[n].indexOf("<rPr>")&&(r=this._getTextRunFont(i[n]));var o=this._getElementValue(i[n],"t","","");e.push({font:r,text:this._unescape(o)})}return e},t._getInlineString=function(t){for(var e=t.split("<t"),i=e.length,n="";--i;){var r=e[i];if(" "===r[0]||">"===r[0]){var o=r.indexOf("</t>");o>0&&(n=r.substring(r.indexOf(">")+1,o)+n)}}return n},t._escape=function(t){var e=this;return"string"==typeof t?(t=t.replace(/[\u0000-\u001F]/g,(function(t){return e._asciiCtrlReplacements[t.charCodeAt(0)]}))).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):""},t._unescape=function(t){return-1!==t.indexOf("&#")&&(t=this._unescapeNumericEntities(t)),-1!==t.indexOf("&")&&(t=t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&amp;/g,"&")),-1!==t.indexOf("_x")&&(t=t.replace(/_x([0-9A-F]{4})_/gi,(function(t,e){return Va(parseInt(e,16))}))),t},t._unescapeNumericEntities=function(t){if(D())return t.replace(/&#(x?)([0-9A-F]{1,6});/gi,(function(t,e,i){return i=e?parseInt(i,16):+i,Va(i)}));for(var e,i=0,n="";(e=t.indexOf("&#",i))>=0;){var r="x"===t[e+2],o=r?3:2,s=t.indexOf(";",e+o);if(-1===s)break;var a=s-e-o,l=void 0,h=a>0&&a<8;if(h){var u=t.substr(e+o,a);h=r?(l=parseInt(u,16))==l:(l=+u)==u}h?(n+=t.substring(i,e),n+=Va(l),i=s+1):(n+=t.substr(i,o),i+=o)}return i!==t.length&&(n+=t.substr(i)),n||t},t._getCoreSetting=function(t,e){var i,n;(n=t.indexOf("<dc:creator>"))>=0&&(i=t.substr(n+12),e.creator=i.substring(0,i.indexOf("</dc:creator>"))),(n=t.indexOf("<cp:lastModifiedBy>"))>=0&&(i=t.substr(n+19),e.lastModifiedBy=i.substring(0,i.indexOf("</cp:lastModifiedBy>"))),(n=t.indexOf('<dcterms:created xsi:type="dcterms:W3CDTF">'))>=0&&(i=t.substr(n+43),e.created=new Date(i.substring(0,i.indexOf("</dcterms:created>")))),(n=t.indexOf('<dcterms:modified xsi:type="dcterms:W3CDTF">'))>=0&&(i=t.substr(n+44),e.modified=new Date(i.substring(0,i.indexOf("</dcterms:modified>"))))},t._getWorkbook=function(t,e){var i,n,r,o,s,a,l,h,u=t.substring(t.indexOf("<bookViews>"),t.indexOf("</bookViews>")),c="",d=t.indexOf("<definedNames>");for(u&&(c=this._getAttr(u,"activeTab")),e.activeWorksheet=+c,a=(s=t.split("<sheet ")).length;--a;)l=this._getAttr(s[a],"name"),h="hidden"!==this._getAttr(s[a],"state"),e.sheets.unshift({name:l,visible:h,columns:[],rows:[]});if(d>-1)for(e.definedNames=[],a=(s=t.substring(d,t.indexOf("</definedNames>")).split("<definedName ")).length;--a;)l=this._getAttr(s[a],"name"),(n=s[a].match(/.*>.+(?=<\/definedName>)/))&&(n=n[0].replace(/(.*>)(.+)/,"$2"),n=isNaN(+n)?n:+n),i={name:l,value:n},""!==(r=this._getAttr(s[a],"localSheetId"))&&(o=e.sheets[+r])&&(i.sheetName=o.name),e.definedNames.unshift(i)},t._getTheme=function(t){t=t.substring(t.indexOf("<a:clrScheme"),t.indexOf("</a:clrScheme>")),this._colorThemes=this._defaultColorThemes.slice(),this._colorThemes[0]=this._getAttr(t.substring(t.indexOf("a:lt1"),t.indexOf("</a:lt1>")),"lastClr")||this._getAttr(t.substring(t.indexOf("a:lt1"),t.indexOf("</a:lt1>")),"val"),this._colorThemes[1]=this._getAttr(t.substring(t.indexOf("a:dk1"),t.indexOf("</a:dk1>")),"lastClr")||this._getAttr(t.substring(t.indexOf("a:dk1"),t.indexOf("</a:dk1>")),"val"),this._colorThemes[2]=this._getAttr(t.substring(t.indexOf("a:lt2"),t.indexOf("</a:lt2>")),"val"),this._colorThemes[3]=this._getAttr(t.substring(t.indexOf("a:dk2"),t.indexOf("</a:dk2>")),"val");for(var e=t.substring(t.indexOf("<a:accent1"),t.indexOf("</a:accent6>")).split("<a:accent"),i=e.length;--i;)this._colorThemes[i+3]=this._getAttr(e[i],"val")},t._getStyle=function(t,e){var i=[],n=[],r=[],o=this._numFmts.slice();this._styles=[];var s=t.indexOf("<numFmts");if(s>=0)for(var a=t.substring(s+8,t.indexOf("</numFmts>")).split("<numFmt"),l=a.length;--l;){var h=a[l];o[+this._getAttr(h,"numFmtId")]=this._getAttr(h,"formatCode")}if(e){if((s=t.indexOf("<fonts"))>=0){var u=t.substring(s,t.indexOf("</fonts>")).split("<font>");for(l=u.length;--l;){h=u[l];var c=this._getChildNodeValue(h,"sz"),d=void 0;i[l-1]={bold:/<b\s*\/>/.test(h)||"true"===this._getChildNodeValue(h,"b"),italic:/<i\s*\/>/.test(h)||"true"===this._getChildNodeValue(h,"i"),underline:/<u\s*\/>/.test(h)||!!(d=this._getChildNodeValue(h,"u"))&&"none"!==d,size:Math.round(c?96*+c/72:14),family:this._getChildNodeValue(h,"name"),color:this._getColor(h,!1)},c=null}}if((s=t.indexOf("<fills"))>=0){var f=t.substring(s,t.indexOf("</fills>")).split("<fill>");for(l=f.length;--l;)n[l-1]=this._getColor(f[l],!0)}if((s=t.indexOf("<borders"))>=0){var p=t.substring(s+8,t.indexOf("</borders>")).split("<border");for(l=p.length;--l;)h=p[l],r[l-1]={left:this._getEdgeBorder(h,"left"),right:this._getEdgeBorder(h,"right"),top:this._getEdgeBorder(h,"top"),bottom:this._getEdgeBorder(h,"bottom")}}}if((s=t.indexOf("<cellXfs"))>=0){var g=t.substring(s,t.indexOf("</cellXfs>")).split("<xf");for(l=g.length;--l;){h=g[l];var _=+this._getAttr(h,"numFmtId"),m=o[_],w="unknown";m&&(/[hsmy\:]/i.test(m)?w="date":m.indexOf("0")>-1?w="number":"@"===m&&(w="string"));var b={formatCode:m,type:w,quotePrefix:1==+this._getAttr(h,"quotePrefix")};if(e){var v=(_=+this._getAttr(h,"fontId"))>0?i[_]:null,y=(_=+this._getAttr(h,"fillId"))>1?n[_]:null,x=(_=+this._getAttr(h,"borderId"))>0?r[_]:null;s=h.indexOf("<alignment"),b.font=v,b.fillColor=y,b.borders=x,b.hAlign=s>=0?ca._parseStringToHAlign(this._getAttr(h,"horizontal")):null,b.vAlign=s>=0?ca._parseStringToVAlign(this._getAttr(h,"vertical")):null,b.wordWrap=s>=0?"1"===this._getAttr(h,"wrapText"):null}this._styles.unshift(b)}}if(e&&t.indexOf("<tableStyle ")>-1){this._tableStyles=[];var C=t.substring(t.indexOf("<tableStyles "),t.indexOf("</tableStyles>")),j=t.substring(t.indexOf("<dxfs "),t.indexOf("</dxfs>"));this._getTableStyles(C,j.split("<dxf>"))}},t._getEdgeBorder=function(t,e){var i,n,r,o,s=t.indexOf("<"+e),a=t.indexOf("</"+e+">");if(s>=0){n=t.substring(s),n=a>=0?n.substring(0,a):n.substring(0,n.indexOf("/>"));var l=this._getAttr(n,"style");l&&(r=ca._parseStringToBorderType(l),o=this._getColor(n,!1),r===aa.Thin&&o&&"#c6c6c6"===o.toLowerCase()||((i={}).style=r,i.color=o))}return i},t._getSheet=function(t,e,i,n){var r,o=[];if(t.indexOf("<mergeCells")>-1)for(var s=t.substring(t.indexOf("<mergeCells"),t.indexOf("</mergeCells>")).split("<mergeCell "),a=s.length;--a;)2===(r=this._getAttr(s[a],"ref").split(":")).length&&o.unshift({topRow:+r[0].match(/\d*/g).join("")-1,leftCol:this._alphaNum(r[0].match(/[a-zA-Z]*/g)[0]),bottomRow:+r[1].match(/\d*/g).join("")-1,rightCol:this._alphaNum(r[1].match(/[a-zA-Z]*/g)[0])});this._getsBaseSharedFormulas(t);var l=t.split("<row "),h=i.sheets[e];if(l[0].indexOf("<dimension")>=0){var u=this._getAttr(l[0].substr(l[0].indexOf("<dimension")),"ref");u&&(u=u.substr(u.indexOf(":")+1),h.maxCol=this._alphaNum(u.match(/[a-zA-Z]*/g)[0])+1,h.maxRow=+u.match(/\d*/g).join(""))}var c=this._getElementValue(t,"sheetView",null,null);h.rightToLeft=c&&"1"===this._getAttr(c,"rightToLeft");var d,f=t.indexOf("<tableParts");if(f>-1){var p=t.substring(f,t.indexOf("</tableParts>")).split("<tablePart "),g=p.length;for(h.tableRIds=[];--g;)h.tableRIds.unshift(this._getAttr(p[g],"r:id"))}if(l.length>0&&l[0].indexOf("<pane")>-1&&"frozen"===this._getAttr(l[0].substr(l[0].indexOf("<pane")),"state")){var _=this._getAttr(l[0].substr(l[0].indexOf("<pane")),"ySplit"),m=this._getAttr(l[0].substr(l[0].indexOf("<pane")),"xSplit");h.frozenPane={rows:_?+_:NaN,columns:m?+m:NaN}}for(h.summaryBelow="0"!==this._getAttr(l[0],"summaryBelow"),a=l.length,l.length<=1?(h.maxCol=20,h.maxRow=200):(null==h.maxRow||h.maxRow<a-1)&&(h.maxRow=a-1);--a;){var w=h.rows[+this._getAttr(l[a],"r")-1]={visible:!0,groupLevel:NaN,cells:[]};if(l[a].substring(0,l[a].indexOf(">")).indexOf("hidden")>-1&&"1"===this._getAttr(l[a],"hidden")&&(w.visible=!1),"1"===this._getAttr(l[a],"customHeight")){var b=+this._getAttr(l[a].substring(0,l[a].indexOf(">")).replace("customHeight",""),"ht");w.height=96*b/72}var v=null;"1"===this._getAttr(l[a],"customFormat")&&((L=this._styles[+this._getAttr(l[a].substring(l[a].indexOf(" s=")),"s")]||{type:"General",formatCode:null}).formatCode&&"General"!==L.formatCode&&(v={format:L.formatCode&&"General"!==L.formatCode?L.formatCode:null}),n&&(L.font||L.fillColor||L.hAlign||L.vAlign||L.wordWrap||L.borders)&&((v=v||{}).font=L.font,v.fill={color:L.fillColor},v.borders=L.borders,v.hAlign=L.hAlign,v.vAlign=L.vAlign,v.wordWrap=L.wordWrap)),w.style=v;var y=this._getAttr(l[a],"outlineLevel");w.groupLevel=y&&""!==y?+y:NaN,w.collapsed="1"===this._getAttr(l[a],"collapsed");var x=l[a].split("<c "),C=x.length;for((null==h.maxCol||h.maxCol<C-1)&&(h.maxCol=C-1);--C;){var j=x[C],S=null;(L=this._styles[+this._getAttr(j,"s")]||{type:"General",formatCode:null}).formatCode&&"General"!==L.formatCode&&(S={format:L.formatCode&&"General"!==L.formatCode?L.formatCode:null}),n&&(L.font||L.fillColor||L.hAlign||L.vAlign||L.wordWrap||L.borders)&&((S=S||{}).font=L.font,S.fill={color:L.fillColor},S.borders=L.borders,S.hAlign=L.hAlign,S.vAlign=L.vAlign,S.wordWrap=L.wordWrap);var E=this._getAttr(j.substring(0,j.indexOf(">")),"t")||L.type,k=null,T="inlineStr"===E||j.indexOf("<is>")>=0;k=T?this._getInlineString(j):this._getElementValue(j,"v","",""),k=this._unescape(k);var P=null,A=null,R=null;j.indexOf("<f")>-1&&(j.indexOf("</f>")>-1?(P=j.match(/<f.*>.+(?=<\/f>)/))&&(P=P[0].replace(/(\<f.*>)(.+)/,"$2")):(A=this._getAttr(j,"si"))&&(R=this._getAttr(j,"r"),P=this._getSharedFormula(A,R))),null!=P&&(P=P.replace(/\[\#This Row\]\s*,\s*/gi,"@")),"str"===E||"e"===E||T||(k=k?+k:k),d=this._alphaNum(this._getAttr(j,"r").match(/[a-zA-Z]*/g)[0]);var O=null;switch(E){case"s":null!=(k=this._sharedStrings[k])&&(wt(k)?L&&L.quotePrefix&&(k="'"+k):(O=k.slice(),k=this._getTextOfTextRuns(O)));break;case"b":k=1===k;break;case"date":k=k?this._convertDate(k):""}vt(k)&&(null==S&&(S={format:""}),yt(k)?S.format=S.format||"#,##0":S.format=S.format||"#,##0.00"),w.cells[d]={value:k,textRuns:O,isDate:"date"===E,isNumber:"number"===E,formula:ca._unescapeXML(P),style:S}}}var D=[],I=[];if(l.length>0&&l[0].indexOf("<cols>")>-1)for(var M=(D=l[0].substring(l[0].indexOf("<cols>")+6,l[0].indexOf("</cols>")).split("<col ")).length-1;M>0;M--){var F=this._parseCharWidthToPixel(+this._getAttr(D[M],"width")),L=null,N=null;D[M].indexOf("style")>-1&&(L=this._styles[+this._getAttr(D[M],"style")]||{type:"General",formatCode:null}),L&&L.formatCode&&"General"!==L.formatCode&&(N={format:L.formatCode&&"General"!==L.formatCode?L.formatCode:null}),n&&L&&(L.font||L.fillColor||L.hAlign||L.vAlign||L.wordWrap||L.borders)&&((N=N||{}).font=L.font,N.fill={color:L.fillColor},N.borders=L.borders,N.hAlign=L.hAlign,N.vAlign=L.vAlign,N.wordWrap=L.wordWrap);var z=+this._getAttr(D[M],"min"),B=+this._getAttr(D[M],"max");if(B>h.maxCol)h._extraColumn={min:z,max:B,width:F,style:N};else for(d=z-1;d<B&&d<h.maxCol;d++)I[d]={visible:"1"!==this._getAttr(D[M],"hidden"),autoWidth:"1"===this._getAttr(D[M],"bestFit"),width:F,style:N}}h.columns=I;var H,V=t.indexOf("<hyperlinks");if(V>-1)for(var U=t.substring(V,t.indexOf("</hyperlinks>")).split("<hyperlink "),G=U.length;--G;)this._getHyperlink(h,U[G]);if(h.frozenPane){if(!isNaN(h.frozenPane.rows))for(a=0;a<h.rows.length&&a<h.frozenPane.rows;a++)h.rows[a]&&!h.rows[a].visible&&h.frozenPane.rows++;if(!isNaN(h.frozenPane.columns))for(a=0;a<I.length&&a<h.frozenPane.columns;a++)I[a]&&!I[a].visible&&h.frozenPane.columns++}for(C=0;C<o.length;C++)H=o[C],h.rows[H.topRow]||(h.rows[H.topRow]={cells:[]}),h.rows[H.topRow].cells||(h.rows[H.topRow].cells=[]),h.rows[H.topRow].cells[H.leftCol]||(h.rows[H.topRow].cells[H.leftCol]={}),h.rows[H.topRow].cells[H.leftCol].rowSpan=H.bottomRow<h.maxRow?H.bottomRow-H.topRow+1:200,h.rows[H.topRow].cells[H.leftCol].colSpan=H.rightCol<h.maxCol?H.rightCol-H.leftCol+1:20},t._getTable=function(t){var e={};e.name=this._getAttr(t,"name"),e.range=this._getAttr(t,"ref");var i=this._getAttr(t,"headerRowCount");e.showHeaderRow=""==i||"1"===i;var n=this._getAttr(t,"totalsRowCount");e.showTotalRow="1"===n;var r=t.substring(t.indexOf("<tableStyleInfo")),o=this._getAttr(r,"name");this._isBuiltInStyleName(o)?e.style={name:o}:e.style=this._getTableStyleByName(o),e.showBandedColumns="1"===this._getAttr(r,"showColumnStripes"),e.showBandedRows="1"===this._getAttr(r,"showRowStripes"),e.alterFirstColumn="1"===this._getAttr(r,"showFirstColumn"),e.alterLastColumn="1"===this._getAttr(r,"showLastColumn");var s=t.split("<tableColumn ");e.columns=[];for(var a=1;a<s.length;a++){var l=s[a];e.columns.push(this._getTableColumn(l))}if(t.indexOf("filterColumn")>-1)for(var h=t.substring(t.indexOf("<autoFilter"),t.indexOf("</autoFilter>")).split("<filterColumn"),u=1;u<h.length;u++){var c=h[u],d=+this._getAttr(c,"colId");e.columns[d].showFilterButton="1"!==this._getAttr(c,"hiddenButton")}return e},t._getTableColumn=function(t){var e={};e.name=this._getAttr(t,"name");var i=this._getAttr(t,"totalsRowLabel");if(i)e.totalRowLabel=i;else{var n=this._getAttr(t,"totalsRowFunction");"custom"===n&&(n=t.substring(t.indexOf("<totalsRowFormula>")+2+"totalsRowFormula".length,t.indexOf("</totalsRowFormula>"))),e.totalRowFunction=n}return e},t._getSheetRelatedTable=function(t){var e=this._getAttr(t,"Target");e=e.substring(e.lastIndexOf("/")+1);for(var i=0;i<this._tables.length;i++){var n=this._tables[i];if(e===n.fileName)return n}return null},t._getSheetRelatedHyperlink=function(t,e,i){for(var n=0;n<i.hyperlinkRIds.length;n++){var r=i.hyperlinkRIds[n];if(r.rId===e){var o=this._getAttr(t,"Target");i.rows[r.ref.row]&&i.rows[r.ref.row].cells[r.ref.col]&&(i.rows[r.ref.row].cells[r.ref.col].link=o)}}},t._getTableStyles=function(t,e){for(var i=t.split("<tableStyle "),n=i.length;--n;){var r={},o=i[n];r.name=this._getAttr(o,"name");for(var s=o.split("<tableStyleElement "),a=s.length;--a;){var l=s[a],h=this._getAttr(l,"type");switch(h){case"firstRowStripe":h="firstBandedRowStyle";break;case"secondRowStripe":h="secondBandedRowStyle";break;case"firstColumnStripe":h="firstBandedColumnStyle";break;case"secondColumnStripe":h="secondBandedColumnStyle";break;default:h+="Style"}var u=this._getAttr(l,"dxfId");""!==u&&(r[h]=this._getTableStyleElement(e[+u+1]));var c=this._getAttr(l,"size");c&&(null==r[h]&&(r[h]={}),r[h].size=+c)}this._tableStyles.push(r)}},t._getTableStyleElement=function(t){var e=null,i=null,n=null,r=null,o=t.indexOf("<font>");if(o>=0){e=t.substring(o,t.indexOf("</font>"));var s=this._getChildNodeValue(e,"sz");i={bold:"1"===this._getChildNodeValue(e,"b"),italic:"1"===this._getChildNodeValue(e,"i"),underline:"1"===this._getChildNodeValue(e,"u"),size:Math.round(s?96*+s/72:14),family:this._getChildNodeValue(e,"name"),color:this._getColor(e,!1)}}return e=null,(o=t.indexOf("<fill>"))>=0&&(e=t.substring(o,t.indexOf("</fill>")),n={color:this._getColor(e,!0)}),e=null,(o=t.indexOf("<border>"))>=0&&(e=t.substring(o,t.indexOf("</border>")),r={left:this._getEdgeBorder(e,"left"),right:this._getEdgeBorder(e,"right"),top:this._getEdgeBorder(e,"top"),bottom:this._getEdgeBorder(e,"bottom"),vertical:this._getEdgeBorder(e,"vertical"),horizontal:this._getEdgeBorder(e,"horizontal")}),{font:i,fill:n,borders:r}},t._getTableStyleByName=function(t){var e,i;if(null==this._tableStyles||0===this._tableStyles.length)return null;for(e=0;e<this._tableStyles.length;e++)if((i=this._tableStyles[e])&&i.name.toLowerCase()===t.toLowerCase())return i;return null},t._getHyperlink=function(t,e){var i,n,r,o,s,a;if(null!=(i=this._getAttr(e,"ref"))){r=i.split(":"),null==(s=this._getAttr(e,"r:id"))&&(a=this._getAttr(e,"location"));for(var l=0;l<r.length;l++)n=r[l],o=ca.tableAddress(n),s?(null==t.hyperlinkRIds&&(t.hyperlinkRIds=[]),t.hyperlinkRIds.push({ref:o,rId:s})):a&&t.rows[o.row]&&t.rows[o.row].cells[o.col]&&(t.rows[o.row].cells[o.col].link=a)}},t._getTextRunFont=function(t){var e,i=this._getChildNodeValue(t,"sz");return{bold:t.indexOf("<b/>")>=0||"true"===this._getChildNodeValue(t,"b"),italic:t.indexOf("<i/>")>=0||"true"===this._getChildNodeValue(t,"i"),underline:t.indexOf("<u/>")>=0||(e=this._getChildNodeValue(t,"u"))&&"none"!==e,size:Math.round(i?96*+i/72:14),family:this._getChildNodeValue(t,"rFont"),color:this._getColor(t,!1)}},t._getTextOfTextRuns=function(t){var e,i,n="";for(e=0;e<t.length;e++)(i=t[e])&&(n+=i.text);return n},t._isBuiltInStyleName=function(t){var e;if(0===t.search(/TableStyleLight/i)){if(e=+t.substring(15),!isNaN(e)&&e>=1&&e<=21)return!0}else if(0===t.search(/TableStyleMedium/i)){if(e=+t.substring(16),!isNaN(e)&&e>=1&&e<=28)return!0}else if(0===t.search(/TableStyleDark/i)&&(e=+t.substring(14),!isNaN(e)&&e>=1&&e<=11))return!0;return!1},t._generateRelsDoc=function(){return'<Relationships xmlns="'+this._relationshipsNS+'"><Relationship Target="docProps/app.xml" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Id="rId3"/><Relationship Target="docProps/core.xml" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Id="rId2"/><Relationship Target="xl/workbook.xml" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Id="rId1"/></Relationships>'},t._generateThemeDoc=function(){return'<a:theme name="Office Theme" xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main"><a:themeElements>'+this._generateClrScheme()+this._generateFontScheme()+this._generateFmtScheme()+"</a:themeElements><a:objectDefaults/><a:extraClrSchemeLst/></a:theme>"},t._generateClrScheme=function(){return null===this._colorThemes&&(this._colorThemes=[]),'<a:clrScheme name="Office"><a:dk1><a:sysClr lastClr="'+(this._colorThemes[1]||"000000")+'" val="windowText"/></a:dk1><a:lt1><a:sysClr lastClr="'+(this._colorThemes[0]||"FFFFFF")+'" val="window"/></a:lt1><a:dk2><a:srgbClr val="'+(this._colorThemes[3]||"1F497D")+'"/></a:dk2><a:lt2><a:srgbClr val="'+(this._colorThemes[2]||"EEECE1")+'"/></a:lt2><a:accent1><a:srgbClr val="'+(this._colorThemes[4]||"4F81BD")+'"/></a:accent1><a:accent2><a:srgbClr val="'+(this._colorThemes[5]||"C0504D")+'"/></a:accent2><a:accent3><a:srgbClr val="'+(this._colorThemes[6]||"9BBB59")+'"/></a:accent3><a:accent4><a:srgbClr val="'+(this._colorThemes[7]||"8064A2")+'"/></a:accent4><a:accent5><a:srgbClr val="'+(this._colorThemes[8]||"4BACC6")+'"/></a:accent5><a:accent6><a:srgbClr val="'+(this._colorThemes[9]||"F79646")+'"/></a:accent6><a:hlink><a:srgbClr val="0000FF"/></a:hlink><a:folHlink><a:srgbClr val="800080"/></a:folHlink></a:clrScheme>'},t._generateFontScheme=function(){return'<a:fontScheme name="Office"><a:majorFont><a:latin typeface="Cambria"/><a:ea typeface=""/><a:cs typeface=""/><a:font typeface=" " script="Jpan"/><a:font typeface=" " script="Hang"/><a:font typeface="" script="Hans"/><a:font typeface="" script="Hant"/><a:font typeface="Times New Roman" script="Arab"/><a:font typeface="Times New Roman" script="Hebr"/><a:font typeface="Tahoma" script="Thai"/><a:font typeface="Nyala" script="Ethi"/><a:font typeface="Vrinda" script="Beng"/><a:font typeface="Shruti" script="Gujr"/><a:font typeface="MoolBoran" script="Khmr"/><a:font typeface="Tunga" script="Knda"/><a:font typeface="Raavi" script="Guru"/><a:font typeface="Euphemia" script="Cans"/><a:font typeface="Plantagenet Cherokee" script="Cher"/><a:font typeface="Microsoft Yi Baiti" script="Yiii"/><a:font typeface="Microsoft Himalaya" script="Tibt"/><a:font typeface="MV Boli" script="Thaa"/><a:font typeface="Mangal" script="Deva"/><a:font typeface="Gautami" script="Telu"/><a:font typeface="Latha" script="Taml"/><a:font typeface="Estrangelo Edessa" script="Syrc"/><a:font typeface="Kalinga" script="Orya"/><a:font typeface="Kartika" script="Mlym"/><a:font typeface="DokChampa" script="Laoo"/><a:font typeface="Iskoola Pota" script="Sinh"/><a:font typeface="Mongolian Baiti" script="Mong"/><a:font typeface="Times New Roman" script="Viet"/><a:font typeface="Microsoft Uighur" script="Uigh"/><a:font typeface="Sylfaen" script="Geor"/></a:majorFont><a:minorFont><a:latin typeface="Calibri"/><a:ea typeface=""/><a:cs typeface=""/><a:font typeface=" " script="Jpan"/><a:font typeface=" " script="Hang"/><a:font typeface="" script="Hans"/><a:font typeface="" script="Hant"/><a:font typeface="Arial" script="Arab"/><a:font typeface="Arial" script="Hebr"/><a:font typeface="Tahoma" script="Thai"/><a:font typeface="Nyala" script="Ethi"/><a:font typeface="Vrinda" script="Beng"/><a:font typeface="Shruti" script="Gujr"/><a:font typeface="DaunPenh" script="Khmr"/><a:font typeface="Tunga" script="Knda"/><a:font typeface="Raavi" script="Guru"/><a:font typeface="Euphemia" script="Cans"/><a:font typeface="Plantagenet Cherokee" script="Cher"/><a:font typeface="Microsoft Yi Baiti" script="Yiii"/><a:font typeface="Microsoft Himalaya" script="Tibt"/><a:font typeface="MV Boli" script="Thaa"/><a:font typeface="Mangal" script="Deva"/><a:font typeface="Gautami" script="Telu"/><a:font typeface="Latha" script="Taml"/><a:font typeface="Estrangelo Edessa" script="Syrc"/><a:font typeface="Kalinga" script="Orya"/><a:font typeface="Kartika" script="Mlym"/><a:font typeface="DokChampa" script="Laoo"/><a:font typeface="Iskoola Pota" script="Sinh"/><a:font typeface="Mongolian Baiti" script="Mong"/><a:font typeface="Arial" script="Viet"/><a:font typeface="Microsoft Uighur" script="Uigh"/><a:font typeface="Sylfaen" script="Geor"/></a:minorFont></a:fontScheme>'},t._generateFmtScheme=function(){return'<a:fmtScheme name="Office">'+this._generateFillScheme()+this._generateLineStyles()+this._generateEffectScheme()+this._generateBgFillScheme()+"</a:fmtScheme>"},t._generateFillScheme=function(){return'<a:fillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:satMod val="350000"/></a:schemeClr></a:gs></a:gsLst><a:lin scaled="1" ang="16200000"/></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="51000"/><a:satMod val="130000"/></a:schemeClr></a:gs><a:gs pos="80000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="130000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="94000"/><a:satMod val="135000"/></a:schemeClr></a:gs></a:gsLst><a:lin scaled="1" ang="16200000"/></a:gradFill></a:fillStyleLst>'},t._generateLineStyles=function(){return'<a:lnStyleLst><a:ln algn="ctr" cmpd="sng" cap="flat" w="9525"><a:solidFill><a:schemeClr val="phClr"><a:shade val="9500"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln><a:ln algn="ctr" cmpd="sng" cap="flat" w="25400"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln><a:ln algn="ctr" cmpd="sng" cap="flat" w="38100"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln></a:lnStyleLst>'},t._generateEffectScheme=function(){return'<a:effectStyleLst><a:effectStyle><a:effectLst><a:outerShdw dir="5400000" rotWithShape="0" dist="23000" blurRad="40000"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw dir="5400000" rotWithShape="0" dist="23000" blurRad="40000"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw dir="5400000" rotWithShape="0" dist="23000" blurRad="40000"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw></a:effectLst><a:scene3d><a:camera prst="orthographicFront"><a:rot rev="0" lon="0" lat="0"/></a:camera><a:lightRig dir="t" rig="threePt"><a:rot rev="1200000" lon="0" lat="0"/></a:lightRig></a:scene3d><a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d></a:effectStyle></a:effectStyleLst>'},t._generateBgFillScheme=function(){return'<a:bgFillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs><a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs></a:gsLst><a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="200000"/></a:schemeClr></a:gs></a:gsLst><a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path></a:gradFill></a:bgFillStyleLst>'},t._generateCoreDoc=function(t){var e='<cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">';return t.creator?e+="<dc:creator>"+t.creator+"</dc:creator>":e+="<dc:creator/>",t.lastModifiedBy?e+="<cp:lastModifiedBy>"+t.lastModifiedBy+"</cp:lastModifiedBy>":e+="<cp:lastModifiedBy/>",e+'<dcterms:created xsi:type="dcterms:W3CDTF">'+(t.created||new Date).toISOString()+'</dcterms:created><dcterms:modified xsi:type="dcterms:W3CDTF">'+(t.modified||new Date).toISOString()+"</dcterms:modified></cp:coreProperties>"},t._generateSheetGlobalSetting=function(t,e,i){var n=e.rows&&e.rows[0]&&e.rows[0].cells?e.rows[0].cells.length:0,r=' xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships"';this._sheetHasNotes(t)&&(r+=' xmlns:xdr="http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"'),r+=' xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac">',r+='<sheetPr><outlinePr summaryBelow="0"/></sheetPr>',r+='<dimension ref="A1'+(n>0?":"+this._numAlpha(n-1)+e.rows.length:"")+'"/>',r+='<sheetViews><sheetView workbookViewId="0"',t===i.activeWorksheet&&(r+=' tabSelected="1"'),e.rightToLeft&&(r+=' rightToLeft="1"');var o=0,s=0;return e.frozenPane&&((o=e.frozenPane.rows||0)||(s=e.frozenPane.columns||0))?(r+=">",r+='<pane state="frozen" activePane="'+(0!==o&&0!==s?"bottomRight":0!==o?"bottomLeft":"topRight")+'" topLeftCell="'+(this._numAlpha(s)+(o+1))+'" ySplit="'+o.toString()+'" xSplit="'+s.toString()+'"/>',r+="</sheetView>"):r+="/>",(r+="</sheetViews>")+'<sheetFormatPr defaultRowHeight="15" x14ac:dyDescent="0.25"/>'},t._generateCell=function(t,e,i,n,r,o){var s='<c r="'+this._numAlpha(e)+(t+1)+'" s="'+i.toString()+'"';n&&(s+=' t="'+n+'"');var a="";return o&&("="===o[0]&&(o=o.substring(1)),o=o.replace(/\@\s*/gi,"[#This Row], "),a+="<f>"+ca._escapeXML(o)+"</f>"),null!=r&&""!==r&&(a+="<v>"+r+"</v>"),s+(a?">"+a+"</c>":"/>")},t._generateMergeSetting=function(t){for(var e='<mergeCells count="'+t.length.toString()+'">',i=0;i<t.length;i++)e+='<mergeCell ref="'+t[i].join(":")+'"/>';return e+"</mergeCells>"},t._generateStyleDoc=function(){var t='<styleSheet xmlns="'+this._workbookNS+'" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac">',e="",i="",n=[],r=0,o=0,s="",a="";a=this._generateFontStyle({},!0);var l="",h="";h+=this._generateFillStyle("none",null),h+=this._generateFillStyle("gray125",null);var u="",c="";c+=this._generateBorderStyle({});var d="",f="";for(f+=this._generateCellXfs(0,0,0,0,{});r<this._styles.length;){var p=this._styles[r];if(p){var g=0;if((p=JSON.parse(p)).format&&"General"!==p.format&&(g=this._numFmts.indexOf(p.format))<0){var _=n.indexOf(p.format);-1===_?(n.push(p.format),i+='<numFmt numFmtId="'+(g=164+o).toString()+'" formatCode="'+p.format+'"/>',o++):g=164+_}var m=0;if(p.borders){var w=JSON.stringify(p.borders);(m=this._borders.indexOf(w))<0&&(m=this._borders.push(w)-1,c+=this._generateBorderStyle(p.borders))}var b=0;if(p.font){var v=JSON.stringify(p.font);(b=this._fonts.indexOf(v))<0&&(b=this._fonts.push(v)-1,a+=this._generateFontStyle(p.font))}var y=0;if(p.fill&&p.fill.color){var x=JSON.stringify(p.fill);(y=this._fills.indexOf(x))<0&&(y=this._fills.push(x)-1,h+=this._generateFillStyle("solid",p.fill.color))}f+=this._generateCellXfs(g,m,b,y,p)}r++}n=null,o>0?(e='<numFmts count="'+o+'">',e+=i,e+="</numFmts>"):e='<numFmts count="0"/>',t+=e,s='<fonts count="'+this._fonts.length+'" x14ac:knownFonts="1">',s+=a,t+=s+="</fonts>",l='<fills count="'+this._fills.length+'">',l+=h,t+=l+="</fills>",u='<borders count="'+this._borders.length+'">',u+=c,t+=u+="</borders>",t+='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',d='<cellXfs count="'+this._styles.length+'">',d+=f,d+="</cellXfs>";var C="",j="";return this._tableStyles.length>0&&(this._getDxfs(),this._dxfs.length>0&&(C=this._generateDxfs()),j=this._generateTableStyles()),t+(d+'<cellStyles count="1"><cellStyle xfId="0" builtinId="0" name="Normal"/></cellStyles>')+(""===C?'<dxfs count="0"/>':C)+(""===j?'<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleLight16"/>':j)+'<extLst><ext uri="{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}"><x14ac:slicerStyles defaultSlicerStyle="SlicerStyleLight1" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"/></ext></extLst></styleSheet>'},t._generateBorderStyle=function(t,e){void 0===e&&(e=!1);var i,n,r="<border>";for(var o in{left:0,right:0,top:0,bottom:0,diagonal:0,vertical:0,horizontal:0})(e||"vertical"!==o&&"horizontal"!==o)&&(t[o]?(i="<"+o+' style="'+t[o].style+'">',6===(n=(n=t[o].color)?"#"===n[0]?n.substring(1):n:"").length&&(n="FF"+n),n||(n="FF000000"),i+='<color rgb="'+n+'"/>',i+="</"+o+">"):i="<"+o+"/>",r+=i);return r+"</border>"},t._generateFontStyle=function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var n=i?"<rPr>":"<font>";return t.bold&&(n+="<b/>"),t.italic&&(n+="<i/>"),t.underline&&(n+="<u/>"),n+='<sz val="'+(t.size?Math.round(72*t.size/96):this._defaultFontSize)+'"/>',t.color?n+='<color rgb="FF'+this._parseColor(t.color).substring(1)+'"/>':n+='<color theme="1"/>',n+="<"+(i?"rFont":"name")+' val="'+(t.family||this._defaultFontName)+'" />',n+='<family val="2"/>',e&&(n+='<scheme val="minor"/>'),n+(i?"</rPr>":"</font>")},t._generateFillStyle=function(t,e,i){void 0===i&&(i=!1);var n,r='<fill><patternFill patternType="'+t+'">';return e&&(n=i?"<bgColor ":"<fgColor ",r+=n+='rgb="FF'+("#"===e[0]?e.substring(1):e)+'"/>'),r+"</patternFill></fill>"},t._generateCellXfs=function(t,e,i,n,r){var o='<xf xfId="0" ';if(o+='numFmtId="'+t.toString()+'" ',t>0&&(o+='applyNumberFormat="1" '),o+='borderId="'+e.toString()+'" ',e>0&&(o+='applyBorder="1" '),o+='fontId="'+i.toString()+'" ',i>0&&(o+='applyFont="1" '),o+='fillId="'+n.toString()+'" ',n>0&&(o+='applyFill="1" '),r.quotePrefix&&(o+='quotePrefix="1" '),r.hAlign||r.vAlign||r.indent||r.wordWrap){o+='applyAlignment="1">';var s="<alignment ";r.hAlign&&(s+='horizontal="'+r.hAlign+'" '),r.vAlign&&(s+='vertical="'+r.vAlign+'" '),r.indent&&(s+='indent="'+r.indent+'" '),r.wordWrap&&(s+='wrapText="1"'),o+=s+="/>",o+="</xf>"}else o+="/>";return o},t._generateContentTypesDoc=function(t){var e=this,i='<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">',n=t.sheets,r=n.reduce((function(t,i,n){return t||e._sheetHasNotes(n)}),this._sheetHasNotes(0));this._macroEnabled&&(i+='<Default ContentType="application/vnd.ms-office.vbaProject" Extension="bin"/>'),r&&(i+='<Default Extension="vml" ContentType = "application/vnd.openxmlformats-officedocument.vmlDrawing" />'),i+='<Default ContentType="application/vnd.openxmlformats-package.relationships+xml" Extension="rels"/><Default ContentType="application/xml" Extension="xml"/><Override ContentType="'+(this._macroEnabled?"application/vnd.ms-excel.sheet.macroEnabled.main+xml":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml")+'" PartName="/xl/workbook.xml"/>';for(var o=0;o<this._contentTypes.length;o++)i+=this._contentTypes[o];if(i+='<Override ContentType="application/vnd.openxmlformats-officedocument.theme+xml" PartName="/xl/theme/theme1.xml"/><Override ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml" PartName="/xl/styles.xml"/><Override ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml" PartName="/xl/sharedStrings.xml"/><Override ContentType="application/vnd.openxmlformats-package.core-properties+xml" PartName="/docProps/core.xml"/><Override ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml" PartName="/docProps/app.xml"/>',r){o=0;for(var s=0;o<n.length;o++)this._sheetHasNotes(o)&&(i+='<Override PartName="/xl/comments'+ ++s+'.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"/>')}for(o=0;o<this._tables.length;o++)i+='<Override ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml" PartName="/xl/tables/'+this._tables[o]+'"/>';return i+"</Types>"},t._generateAppDoc=function(t){for(var e='<Properties xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes" xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties"><Application>'+(t.application||"wijmo.xlsx")+'</Application><DocSecurity>0</DocSecurity><ScaleCrop>false</ScaleCrop><HeadingPairs><vt:vector baseType="variant" size="2"><vt:variant><vt:lpstr>Worksheets</vt:lpstr></vt:variant><vt:variant><vt:i4>'+this._props.length+'</vt:i4></vt:variant></vt:vector></HeadingPairs><TitlesOfParts><vt:vector baseType="lpstr" size="'+this._props.length+'">',i=0;i<this._props.length;i++)e+="<vt:lpstr>"+this._props[i]+"</vt:lpstr>";return e+"</vt:vector></TitlesOfParts><Manager/><Company>"+(t.company||"GrapeCity, Inc.")+"</Company><LinksUpToDate>false</LinksUpToDate><SharedDoc>false</SharedDoc><HyperlinksChanged>false</HyperlinksChanged><AppVersion>1.0</AppVersion></Properties>"},t._generateWorkbookRels=function(){for(var t='<Relationships xmlns="'+this._relationshipsNS+'">',e=0;e<this._xlRels.length;e++)t+=this._xlRels[e];return t+='<Relationship Target="sharedStrings.xml" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Id="rId'+(this._xlRels.length+1)+'"/><Relationship Target="styles.xml" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Id="rId'+(this._xlRels.length+2)+'"/><Relationship Target="theme/theme1.xml" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Id="rId'+(this._xlRels.length+3)+'"/>',this._macroEnabled&&(t+='<Relationship Target="vbaProject.bin" Type="http://schemas.microsoft.com/office/2006/relationships/vbaProject" Id="rId'+(this._xlRels.length+4)+'"/>'),t+"</Relationships>"},t._generateWorkbook=function(t){for(var e='<workbook xmlns="'+this._workbookNS+'" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships"><fileVersion rupBuild="9303" lowestEdited="5" lastEdited="5" appName="xl"/><workbookPr/><bookViews><workbookView xWindow="480" yWindow="60" windowWidth="18195" windowHeight="8505"'+(null!=t.activeWorksheet?' activeTab="'+t.activeWorksheet.toString()+'"':"")+"/></bookViews><sheets>",i=0;i<this._worksheets.length;i++)e+=this._worksheets[i];if(e+="</sheets>",t.definedNames&&t.definedNames.length>0){for(e+="<definedNames>",i=0;i<t.definedNames.length;i++){var n=-1;t.definedNames[i].sheetName&&(n=this._getSheetIndexBySheetName(t,t.definedNames[i].sheetName)),e+='<definedName name="'+t.definedNames[i].name+'" '+(n>-1?'localSheetId="'+n+'"':"")+">"+t.definedNames[i].value+"</definedName>"}e+="</definedNames>"}return e+'<calcPr fullCalcOnLoad="1"/></workbook>'},t._generateWorksheetRows=function(t,e,i,n,r,o,s,a,l,h){for(var u,c=this,d=i.rows,f=function(f,g){if(s&&s.cancelled)return{value:void 0};if(a&&f-e>100&&Date.now()-t>100)return setTimeout((function(){s&&s.cancelled||(l(Math.round((f+1)/d.length*100)),c._generateWorksheetRows(Date.now(),f,i,n,r,o,s,a,l,h))}),0),{value:void 0};var _=-1,m=d[f]&&d[f].cells?d[f].cells.length:0,w=null;if(o.sheetData+='<row x14ac:dyDescent="0.25" r="'+(f+1).toString()+'"',d[f]&&(d[f].height&&(o.sheetData+=' customHeight="1" ht="'+(72*+d[f].height/96).toString()+'"'),d[f].groupLevel&&(o.sheetData+=' outlineLevel="'+d[f].groupLevel.toString()+'"'),w=d[f].style?p._cloneStyle(d[f].style):null)){(w=p._resolveStyleInheritance(w)).font&&w.font.color&&(w.font.color=p._parseColor(w.font.color)),w.fill&&w.fill.color&&(w.fill.color=p._parseColor(w.fill.color)),null==w.hAlign||wt(w.hAlign)||(w.hAlign=ca._parseHAlignToString(Jt(w.hAlign,na))),null==w.vAlign||wt(w.vAlign)||(w.vAlign=ca._parseVAlignToString(Jt(w.vAlign,ra)));var b=JSON.stringify(w);(E=p._styles.indexOf(b))<0&&(E=p._styles.push(b)-1),o.sheetData+=' customFormat="1" s="'+E.toString()+'"'}for(d[f]&&!1===d[f].visible&&(o.sheetData+=' hidden="1"'),d[f]&&!0===d[f].collapsed&&(o.sheetData+=' collapsed="1"'),o.sheetData+=">";++_<m;){var v=d[f].cells[_];if(null!=v){var y="",x=-1,C=v?v.textRuns:null,j=v&&v.hasOwnProperty("value")?v.value:v,S=v&&v.style?p._cloneStyle(v.style):{};S=p._resolveStyleInheritance(S);var E,k=r[_];k&&(k=p._resolveStyleInheritance(k),S=p._extend(S,k)),w&&(S=p._extend(S,w)),n&&(n=p._resolveStyleInheritance(n),S=p._extend(S,n)),null==S.hAlign||wt(S.hAlign)||(S.hAlign=ca._parseHAlignToString(Jt(S.hAlign,na))),null==S.vAlign||wt(S.vAlign)||(S.vAlign=ca._parseVAlignToString(Jt(S.vAlign,ra))),S.font&&S.font.color&&(S.font.color=p._parseColor(S.font.color)),S.fill&&S.fill.color&&(S.fill.color=p._parseColor(S.fill.color)),p._applyDefaultBorder(S),S.borders&&(S.borders=p._extend({},S.borders),p._parseBorder(S.borders,!!S.fill&&!!S.fill.color)),v&&v.isDate&&!St(j)&&St(u=new Date(j))&&(j=u),!vt(j)||!isNaN(j)&&isFinite(j)||(j=j.toString()),C||j&&wt(j)&&("@"===S.format||"General"===S.format||(+j).toString()!==j||!isFinite(+j))?(p._sharedStrings[1]++,"'"===(j=C?"{RichTextMark}"+JSON.stringify(C):j)[0]&&(S.quotePrefix=!0,j=j.substring(1)),(x=p._sharedStrings[0].indexOf(j))<0&&(x=p._sharedStrings[0].push(j)-1),j=x,y="s"):xt(j)?(j=j?1:0,y="b"):St(j)?(j=p._convertDate(j),S.format=S.format||"mm-dd-yy"):kt(j)&&(j=null),b=JSON.stringify(S),(E=p._styles.indexOf(b))<0&&(E=p._styles.push(b)-1),v&&(v.colSpan>1||v.rowSpan>1)&&(v.colSpan=v.colSpan||1,v.rowSpan=v.rowSpan||1,p._checkRangeForIntersections(o.merges,f,v.rowSpan,_,v.colSpan)&&o.merges.push([f,v.rowSpan,_,v.colSpan])),v&&v.link&&(null==o.hyperlinks&&(o.hyperlinks=[]),o.hyperlinks.push({ref:ca.xlsxAddress(f,_),value:j,href:v.link})),S=null,o.sheetData+=p._generateCell(f,_,E,y,j,v&&v.formula?v.formula:null)}}o.sheetData+="</row>"},p=this,g=e,_=d.length;g<_;g++){var m=f(g);if("object"==typeof m)return m.value}o.merges&&(o.merges=o.merges.map((function(t){var e=t[0],i=t[1],n=t[2],r=t[3];return[c._numAlpha(n)+(e+1),c._numAlpha(n+r-1)+(e+i)]}))),Ct(h)&&h()},t._generateWorkSheet=function(t,e,i,n,r,o){var s=this,a=e.sheets[t];if(!a)throw"Worksheet should not be empty!";o(0),this._collectNotes(a,t);var l=new za(n),h=a.columns,u=this._cloneColumnsStyle(h),c=a.style?this._cloneStyle(a.style):null,d='<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main"'+this._generateSheetGlobalSetting(t,a,e),f={hyperlinks:[],merges:[],sheetData:"<sheetData>"};return this._generateWorksheetRows(Date.now(),0,a,c,u,f,n,r,o,(function(){var e=t+1;if(f.sheetData+="</sheetData>",h&&h.length>0){d+="<cols>";for(var n=0;n<h.length;n++)d+=s._generateWorksheetColumn(u[n],h[n],n);var r=a._extraColumn;r&&(r.min=Math.max(h.length,r.min),r.min<=r.max&&(d+=s._generateWorksheetColumn(r.style,r,-1))),d+="</cols>"}f.sheetData=d+f.sheetData,d=f.sheetData,f.sheetData=null,f.merges.length>0&&(d+=s._generateMergeSetting(f.merges));var c=1,p=0;s._sheetHasNotes(t)&&(p=c++);var g=f.hyperlinks;if(g&&g.length>0){for(d+="<hyperlinks>",n=0;n<g.length;n++)/\'?(\w+)\'?\!\$?[A-Za-z]{1,2}\$?\d+(:\$?[A-Za-z]{1,2}\$?\d+)?/.test(g[n].href)||/^\$?[A-Za-z]{1,2}\$?\d+(:\$?[A-Za-z]{1,2}\$?\d+)?$/.test(g[n].href)?d+='<hyperlink ref="'+g[n].ref+'" display="'+g[n].value+'" location="'+g[n].href+'"/>':(null==a.externalLinks&&(a.externalLinks=[]),a.externalLinks.push(g[n].href),d+='<hyperlink ref="'+g[n].ref+'" r:id="rId'+c+'"/>',c++);d+="</hyperlinks>"}if(d+='<pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3"/>',a.tables&&a.tables.length>0){for(d+='<tableParts count="'+a.tables.length+'">',n=0;n<a.tables.length;n++)d+='<tablePart r:id="rId'+c+'"/>',c++;d+="</tableParts>"}p>0&&(d+='<legacyDrawing r:id="rId'+p+'"/>'),d+="</worksheet>",i.file("sheet"+e+".xml",s._xmlDescription+d),d=null;var _='<Override ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" PartName="/xl/worksheets/sheet'+e+'.xml"/>';s._contentTypes.unshift(_),s._props.unshift(s._escape(a.name)||"Sheet"+e);var m='<Relationship Target="worksheets/sheet'+e+'.xml" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Id="rId'+e+'"/>';s._xlRels.unshift(m);var w='<sheet r:id="rId'+e+'" sheetId="'+e+'" name="'+(s._escape(a.name)||"Sheet"+e)+'"'+(!1===a.visible?' state="hidden"':"")+"/>";s._worksheets.unshift(w),o(100),l.resolve()})),l},t._generateWorksheetColumn=function(t,e,i){var n=-1,r="";if(!this._isEmpty(t)){(t=this._resolveStyleInheritance(t)).font&&t.font.color&&(t.font.color=this._parseColor(t.font.color)),t.fill&&t.fill.color&&(t.fill.color=this._parseColor(t.fill.color)),null==t.hAlign||wt(t.hAlign)||(t.hAlign=ca._parseHAlignToString(Jt(t.hAlign,na))),null==t.vAlign||wt(t.vAlign)||(t.vAlign=ca._parseVAlignToString(Jt(t.vAlign,ra)));var o=JSON.stringify(t);(n=this._styles.indexOf(o))<0&&(n=this._styles.push(o)-1)}if(!this._isEmpty(e)){var s=e.width;if(s=null!=s?"string"==typeof s&&s.indexOf("ch")>-1?this._parseCharCountToCharWidth(s.substring(0,s.indexOf("ch"))):this._parsePixelToCharWidth(s):8.43,-1==i)r+='<col min="'+e.min+'" max="'+e.max+'"';else{var a=(i+1).toString();r+='<col min="'+a+'" max="'+a+'"'}n>=0&&(r+=' style="'+n.toString()+'"'),s&&(r+=' width="'+s+'" customWidth="1"'),!1!==e.autoWidth&&(r+=' bestFit="1"'),!1===e.visible&&(r+=' hidden="1"'),r+="/>"}return r},t._generateSharedStringsDoc=function(){for(var t='<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="'+this._sharedStrings[1]+'" uniqueCount="'+this._sharedStrings[0].length+'">',e=0;e<this._sharedStrings[0].length;e++){t+="<si>";var i=this._sharedStrings[0][e];if(i&&0===i.indexOf("{RichTextMark}"))try{var n=JSON.parse(i.substring(14));t+=this._generateTextRuns(n,this._defaultFontName.toLowerCase())+"</si>"}catch(e){t+=this._generatePlainText(i)+"</si>"}else t+=this._generatePlainText(i)+"</si>"}return t+"</sst>"},t._generateTextRuns=function(t,e){var i="";if(t&&t.length>0)for(var n=0;n<t.length;n++){i+="<r>";var r=t[n];if(r.font){var o=!r.font.family||r.font.family.toLowerCase()===e;i+=this._generateFontStyle(r.font,o,!0)}i+=this._generatePlainText(r.text),i+="</r>"}return i},t._generatePlainText=function(t){if(""===t)return"<t/>";var e="<t";return(bt(t)||/^\s+\w*|\w*\s+$/.test(t))&&(e+=' xml:space="preserve"'),e+">"+this._escape(t)+"</t>"},t._generateTable=function(t,e){var i=this._tables.length+1,n="table"+i+".xml";t.fileName=n,this._tables.push(n);var r='<table ref="'+t.range+'" displayName="'+t.name+'" name="'+t.name+'" id="'+i+'" '+(!1===t.showHeaderRow?'headerRowCount="0" ':"")+(!0===t.showTotalRow?'totalsRowCount="1" ':'totalsRowShown="0" ')+' xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main">';!1!==t.showHeaderRow&&(r+=this._generateTableFilterSetting(t.range,t.showTotalRow,t.columns)),r+='<tableColumns count="'+t.columns.length+'">';for(var o="",s=0;s<t.columns.length;s++){var a=t.columns[s];o+='<tableColumn name="'+a.name+'" id="'+(s+1)+'" ',a.totalRowFunction?this._tableColumnFunctions.indexOf(a.totalRowFunction)>-1?o+='totalsRowFunction="'+a.totalRowFunction+'"/>':o+='totalsRowFunction="custom"><totalsRowFormula>'+a.totalRowFunction+"</totalsRowFormula></tableColumn>":o+=(a.totalRowLabel?'totalsRowLabel="'+a.totalRowLabel+'"':"")+"/>"}if(r+=o+"</tableColumns>",r+='<tableStyleInfo name="'+t.style.name+'" showColumnStripes="'+(t.showBandedColumns?"1":"0")+'" showRowStripes="'+(t.showBandedRows?"1":"0")+'" showLastColumn="'+(t.alterLastColumn?"1":"0")+'" showFirstColumn="'+(t.alterFirstColumn?"1":"0")+'"/></table>',!this._isBuiltInStyleName(t.style.name)){var l=JSON.stringify(t.style);-1===this._tableStyles.indexOf(l)&&this._tableStyles.push(l)}e.file(n,this._xmlDescription+r),r=null},t._generateTableFilterSetting=function(t,e,i){var n=t;if(e){var r=n.indexOf(":")+1,o=ca.tableAddress(n.substring(n.indexOf(":")+1));o.row-=1,n=n.substring(0,r)+ca.xlsxAddress(o.row,o.col)}for(var s='<autoFilter ref="'+n+'"',a="",l=0;l<i.length;l++)!1===i[l].showFilterButton&&(a+='<filterColumn hiddenButton="1" colId="'+l+'"/>');return s+(""===a?"/>":">"+a+"</autoFilter>")},t._generateHyperlinkRel=function(t,e){for(var i="",n=0;n<t.length;n++)i+='<Relationship TargetMode="External" Target="'+t[n]+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink" Id="rId'+(e+n)+'"/>';return i},t._getDxfs=function(){for(var t,e=this,i=0;i<this._tableStyles.length;i++)t=JSON.parse(this._tableStyles[i]),Object.keys(t).forEach((function(i){var n,r,o=t[i];!o||wt(o)||e._isEmptyStyleEle(o)||(n=JSON.stringify(o),-1===(r=e._dxfs.indexOf(n))&&(r=e._dxfs.push(n)-1,o.styleIndex=r))})),this._tableStyles[i]=t},t._generateDxfs=function(){for(var t,e='<dxfs count="'+this._dxfs.length+'">',i=0;i<this._dxfs.length;i++)e+="<dxf>",(t=JSON.parse(this._dxfs[i])).font&&(e+=this._generateFontStyle(t.font)),t.fill&&t.fill.color&&(e+=this._generateFillStyle("solid",t.fill.color,!0)),t.borders&&!this._isEmpty(t.borders)&&(t.borders=this._extend({},t.borders),this._parseBorder(t.borders,!1),e+=this._generateBorderStyle(t.borders,!0)),e+="</dxf>";return e+"</dxfs>"},t._generateTableStyles=function(){for(var t,e,i,n,r,o,s='<tableStyles count="'+this._tableStyles.length+'" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleLight16">',a=0;a<this._tableStyles.length;a++){t=this._tableStyles[a],e=Object.keys(t),r="",o=0;for(var l=0;l<e.length;l++)if(!wt(n=t[i=e[l]])){switch(o++,r+="<tableStyleElement",null!=n.styleIndex&&(r+=' dxfId="'+n.styleIndex+'"'),i){case"firstBandedColumnStyle":r+=' type="firstColumnStripe"',null!=n.size&&(r+=' size="'+n.size+'"');break;case"secondBandedColumnStyle":r+=' type="secondColumnStripe"',null!=n.size&&(r+=' size="'+n.size+'"');break;case"firstBandedRowStyle":r+=' type="firstRowStripe"',null!=n.size&&(r+=' size="'+n.size+'"');break;case"secondBandedRowStyle":r+=' type="secondRowStripe"',null!=n.size&&(r+=' size="'+n.size+'"');break;default:r+=' type="'+i.substring(0,i.length-5)+'"'}r+="/>"}o>0&&(s+='<tableStyle count="'+o+'" name="'+t.name+'" pivot="0">',s+=r+"</tableStyle>")}return s+"</tableStyles>"},t._isEmptyStyleEle=function(t){return this._isEmpty(t.borders)&&(this._isEmpty(t.fill)||bt(t.fill.color))&&(this._isEmpty(t.font)||!0!==t.font.bold&&bt(t.font.color)&&bt(t.font.family)&&!0!==t.font.italic&&null==t.font.size&&!0!==t.font.underline)},t._getTableFileName=function(t,e){for(var i="",n=0;n<t.length;n++){var r=t[n];if(r.name===e){i=r.fileName;break}}return i},t._getColor=function(t,e){var i,n=-1,r=-1,o=-1;if(e&&-1===(n=t.search(/<fgcolor/i))&&-1===(r=t.search(/<bgcolor/i))||!e&&-1===(o=t.search(/<color/i)))return null;if(e){var s=n>=0?n:r,a=s>=0?t.search(/<\/fgc/i):t.indexOf(/<\/bgc/i);a=a>0?a:t.indexOf("/>"),t=t.substring(s,a)}else t=t.substring(o);if(-1!==t.indexOf("rgb="))(i=this._getAttr(t,"rgb"))&&8===i.length&&(i=i.substring(2));else if(-1!==t.indexOf("indexed")){var l=+this._getAttr(t,"indexed");i=this._indexedColors[l]||""}else if(-1!==t.indexOf("auto")&&"1"===this._getAttr(t,"auto"))i="#000000";else{var h,u=+this._getAttr(t,"theme");-1!==t.indexOf("tint")&&(h=+this._getAttr(t,"tint")),i=this._getThemeColor(u,h)}return i&&"#"===i[0]?i:"#"+i},t._getThemeColor=function(t,e){if(!this._colorThemes)return"#000000";var i=this._colorThemes[t];if(null!=e){var n=new He("#"+i),r=n.getHsl();return r[2]=e<0?r[2]*(1+e):r[2]*(1-e)+(1-1*(1-e)),(n=He.fromHsl(r[0],r[1],r[2])).toString().substring(1)}return i},t._parseColor=function(t){var e=this._parsedColors[t];if(!e){var i=new He(t);i.a<1&&(i=He.toOpaque(i)),this._parsedColors[t]=e=i.toString()}return e},t._getsBaseSharedFormulas=function(t){var e,i,n,r=t.match(/\<f[^<]*ref[^<]*>[^<]+(?=\<\/f>)/g);if(this._sharedFormulas=[],r&&r.length>0)for(var o=0;o<r.length;o++)e=r[o],i=this._getAttr(e,"si"),n=(n=this._getAttr(e,"ref"))?n.substring(0,n.indexOf(":")):"",e=e.replace(/(\<f.*>)(.+)/,"$2"),this._sharedFormulas[+i]=this._parseSharedFormulaInfo(n,e)},t._parseSharedFormulaInfo=function(t,e){var i,n,r,o,s,a=e.match(/(\'?\w+\'?\!)?(\$?[A-Za-z]+)(\$?\d+)/g);if(o=ca.tableAddress(t),a&&a.length>0){s=[];for(var l=0;l<a.length;l++)i=a[l],e=e.replace(i,"{"+l+"}"),(n=i.indexOf("!"))>0&&(r=i.substring(0,n),i=i.substring(n+1)),s[l]={cellAddress:ca.tableAddress(i),sheetRef:r}}return{cellRef:o,formula:e,formulaRefs:s}},t._getSharedFormula=function(t,e){var i,n,r,o,s,a,l,h,u,c,d,f;if(this._sharedFormulas&&this._sharedFormulas.length>0&&(i=this._sharedFormulas[+t])){if(u=i.formula,(c=i.formulaRefs)&&c.length>0){n=ca.tableAddress(e),l=i.cellRef?i.cellRef.row:0,h=i.cellRef?i.cellRef.col:0,r=n.row-l,o=n.col-h;for(var p=0;p<c.length;p++)s=(d=c[p]).cellAddress.row+(d.cellAddress.absRow?0:r),a=d.cellAddress.col+(d.cellAddress.absCol?0:o),f=ca.xlsxAddress(s,a,d.cellAddress.absRow,d.cellAddress.absCol),null!=d.sheetRef&&""!==d.sheetRef&&(f=d.sheetRef+"!"+f),u=u.replace("{"+p+"}",f)}return u}return""},t._convertDate=function(t){var e,i,n=new Date(1900,0,0),r=Date.UTC(1900,0,0),o="[object Date]"===Object.prototype.toString.call(t),s=6e4*((o?t.getTimezoneOffset():(new Date).getTimezoneOffset())-n.getTimezoneOffset()),a=n.getTime()-r-6e4*n.getTimezoneOffset();return o?(t.getTime()-n.getTime()-s+a)/864e5+1:vt(t)?(e=t>59?1:0,0!=(s=6e4*((i=new Date(1e3*Math.round((+n+864e5*(t-e))/1e3))).getTimezoneOffset()-n.getTimezoneOffset()))?new Date(1e3*Math.round((+n+s-a+864e5*(t-e))/1e3)):i):null},t._parseBorder=function(t,e){for(var i in{left:0,right:0,top:0,bottom:0,diagonal:0}){var n=t[i];n&&(wt(n.color)&&(n.color=this._parseColor(n.color)),null==n.style||wt(n.style)||(n.style=ca._parseBorderTypeToString(Jt(n.style,aa,!1))),!e&&n.color&&"#c6c6c6"===n.color.toLowerCase()&&"thin"===n.style&&(t[i]=null))}},t._applyDefaultBorder=function(t){if(t.fill&&t.fill.color)for(var e in null==t.borders&&(t.borders={}),{left:0,right:0,top:0,bottom:0})null==t.borders[e]&&(t.borders[e]={style:aa.Thin,color:"#C6C6C6"})},t._resolveStyleInheritance=function(t){var e;if(!t.basedOn)return t;for(var i in t.basedOn)if("basedOn"===i)for(i in e=this._resolveStyleInheritance(t.basedOn)){var n=e[i];t[i]=null==t[i]?n:this._extend(t[i],n)}else n=t.basedOn[i],t[i]=null==t[i]?n:this._extend(t[i],n);return delete t.basedOn,t},t._parsePixelToCharWidth=function(t){return null==t||isNaN(+t)?null:((+t-5)/7*100+.5)/100},t._parseCharWidthToPixel=function(t){return null==t||isNaN(+t)?null:Math.floor((256*+t+128/7)/256*7)+5},t._parseCharCountToCharWidth=function(t){return null==t||isNaN(+t)?null:(7*+t+5)/7*256/256},t._numAlpha=function(t){for(var e="",i=this._alphabet;t>=0;)e=i[t%26]+e,t=Math.floor(t/26)-1;return e},t._alphaNum=function(t){for(var e=0,i=t.length,n=this._alphabetMap,r=0;r<i-1;r++)e+=(n[t[r]]+1)*Math.pow(26,i-(r+1));return e+n[t[i-1]]},t._typeOf=function(t){return{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()},t._extend=function(t,e){if(kt(t)&&kt(e)){for(var i in e){var n=e[i];kt(n)&&null!=t[i]?this._extend(t[i],n):null!=n&&null==t[i]&&(t[i]=n)}return t}return e},t._isEmpty=function(t){var e=Object.prototype.hasOwnProperty;if(null==t)return!0;if(t.length>0)return!1;if(0===t.length)return!0;for(var i in t)if(e.call(t,i))return!1;return!0},t._cloneStyle=function(t){var e;if(null==t||"object"!=typeof t)return t;for(var i in e={},t)t.hasOwnProperty(i)&&(e[i]=this._cloneStyle(t[i]));return e},t._cloneColumnsStyle=function(t){for(var e,i=[],n=0;n<t.length;n++)(e=t[n])&&e.style&&(i[n]=this._cloneStyle(e.style));return i},t._getSheetIndex=function(t){return+(t=t.substring(0,t.lastIndexOf(".xml"))).substring(t.lastIndexOf("sheet")+5)},t._checkRangeForIntersections=function(t,e,i,n,r){for(var o=0;o<t.length;o++){var s=t[o],a=s[0],l=a+s[1]-1,h=s[2],u=h+s[3]-1;if(!(e>l||e+i-1<a||n>u||n+r-1<h))return!1}return!0},t._getAttr=function(t,e){var i=t.indexOf(e+'="');return i>=0?(i+=e.length+2,t.substring(i,t.indexOf('"',i))):""},t._getChildNodeValue=function(t,e){var i=t.indexOf(e+' val="');return i>=0?(i+=e.length+6,t.substring(i,t.indexOf('"',i))):""},t._getElementValue=function(t,e,i,n){var r=t.indexOf("<"+e);if(r>=0){var o=void 0;return(r=t.indexOf(">",r+1+e.length))>0&&"/"!==t[r-1]&&(o=t.substring(r+1,t.indexOf("</",r+1))),o||n}return i},t._getSubElement=function(t,e){if(t){var i=t.indexOf("<"+e);if(i>=0){var n=i+1+e.length,r=t.indexOf("</"+e,n);return r<0&&(r=t.indexOf("/>",n)),t.substring(n,r)}}},t._getSheetIndexBySheetName=function(t,e){for(var i=0;i<t.sheets.length;i++)if(t.sheets[i].name===e)return i;return-1},t._sheetHasNotes=function(t){return!!this._notes[t]},t._collectNotes=function(t,e){for(var i,n=t.rows,r=0,o=n.length;r<o;r++){var s=n[r];if(s)for(var a=0,l=s.cells.length;a<l;a++){var h=s.cells[a];if(h){var u=h.note;u&&(null!=u.text||u.textRuns&&u.textRuns.length>0)&&(i||(i=this._notes[e])||(this._notes[e]=i=[]),u._row=r,u._col=a,i.push(u))}}}},t._alphabet="ABCDEFGHIJKLMNOPQRSTUVWXYZ",t._alphabetMap="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("").reduce((function(t,e,i){return t[e]=i,t}),{}),t._indexedColors=["000000","FFFFFF","FF0000","00FF00","0000FF","FFFF00","FF00FF","00FFFF","000000","FFFFFF","FF0000","00FF00","0000FF","FFFF00","FF00FF","00FFFF","800000","008000","000080","808000","800080","008080","C0C0C0","808080","9999FF","993366","FFFFCC","CCFFFF","660066","FF8080","0066CC","CCCCFF","000080","FF00FF","FFFF00","00FFFF","800080","800000","008080","0000FF","00CCFF","CCFFFF","CCFFCC","FFFF99","99CCFF","FF99CC","CC99FF","FFCC99","3366FF","33CCCC","99CC00","FFCC00","FF9900","FF6600","666699","969696","003366","339966","003300","333300","993300","993366","333399","333333","000000","FFFFFF"],t._numFmts=["General","0","0.00","#,##0","#,##0.00",,,"$#,##0.00_);($#,##0.00)",,"0%","0.00%","0.00E+00","# ?/?","# ??/??","m/d/yyyy","d-mmm-yy","d-mmm","mmm-yy","h:mm AM/PM","h:mm:ss AM/PM","h:mm","h:mm:ss","m/d/yy h:mm",,,,,,,,,,,,,,,"#,##0 ;(#,##0)","#,##0 ;[Red](#,##0)","#,##0.00;(#,##0.00)","#,##0.00;[Red](#,##0.00)",,,,,"mm:ss","[h]:mm:ss","mmss.0","##0.0E+0","@"],t._tableColumnFunctions="average, count, countNums, max, min, stdDev, sum, var",t._xmlDescription='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>',t._workbookNS="http://schemas.openxmlformats.org/spreadsheetml/2006/main",t._relationshipsNS="http://schemas.openxmlformats.org/package/2006/relationships",t._defaultFontName="Calibri",t._defaultFontSize=11,t._macroEnabled=!1,t._defaultColorThemes=["FFFFFF","000000","EEECE1","1F497D","4F818D","C0504D","9BBB59","8064A2","4BACC6","F79646"],t._asciiCtrlReplacements=["_x0000_","_x0001_","_x0002_","_x0003_","_x0004_","_x0005_","_x0006_","_x0007_","_x0008_","\t","\n","_x000B_","_x000C_","\r","_x000E_","_x000F_","_x0010_","_x0011_","_x0012_","_x0013_","_x0014_","_x0015_","_x0016_","_x0017_","_x0018_","_x0019_","_x001A_","_x001B_","_x001C_","_x001D_","_x001E_","_x001F_"],t._parsedColors={},t}(),La=function(){function t(t){this.value=t}return t.prototype.then=function(e,i){return new t(e?e(this.value):null)},t.prototype.catch=function(t){return this.then(null,t)},t.resolve=function(){return new t},t}(),Na=function(){function t(t){this._obj=t}return t.prototype.loadAsync=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var n=(t=this._obj).load.apply(t,e);return new La(this._wrapOrNull(n))},t.prototype.file=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var n=(t=this._obj).file.apply(t,e);return this._wrapOrNull(n)},Object.defineProperty(t.prototype,"name",{get:function(){return this._obj.name},enumerable:!0,configurable:!0}),t.prototype.async=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return t=e&&e.length>0&&"uint8array"===e[0].toLowerCase()?this._obj.asUint8Array():this._obj.asText(),new La(t)},t.prototype.folder=function(t){var e=this._obj.folder(t);return this._wrapOrNull(e)},t.prototype.forEach=function(e){var i=this._obj.root,n=i.length,r=this._obj.files;for(var o in r)o.length>n&&o.substr(0,n).toLowerCase()===i&&e(o.substr(n),new t(r[o]))},t.prototype._wrapOrNull=function(e){return null!=e?new t(e):null},t}(),za=function(){function t(t,e){this._callbacks=[],this._cs=t,this._onCancel=e}return t.serial=function(e,i){i=i.slice();var n=new t(e),r=[],o=function(){n.cancelled?i=[]:i.length?i.shift()().then((function(t){r.push(t),o()}),(function(t){i=[],n.reject(t)})):n.resolve(r)};return o(),n},t.prototype.cancel=function(t){void 0===t&&(t=!0),this._cancelled=!0,t&&this._onCancel&&this._onCancel()},Object.defineProperty(t.prototype,"cancelled",{get:function(){return this._cancelled||this._cs&&this._cs.cancelled},enumerable:!0,configurable:!0}),t.prototype.then=function(t,e){return this._callbacks.push({onFulfilled:t,onRejected:e}),this._resolved&&this.resolve(this._resolved.value),this},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.resolve=function(t){if(this.cancelled)return this;this._resolved={value:t};try{this.onFulfilled(t)}catch(t){this.onRejected(t)}return this},t.prototype.reject=function(t){return this.cancelled||this.onRejected(t),this},t.prototype.onFulfilled=function(t){for(;this._callbacks.length;){var e=this._callbacks[0];e.onFulfilled&&e.onFulfilled(t),this._callbacks.shift()}},t.prototype.onRejected=function(t){for(var e;e=this._callbacks.shift();)e.onRejected&&e.onRejected(t)},t}(),Ba=function(){function t(t){this._colsWidthCnt=0,this._colsWidth=[],this._rowsHeightCnt=0,this._rowsHeight=[],this._cols=t.columns,this._rows=t.rows}return t.prototype.toAnchor=function(t,e,i){var n,r,o,s,a,l,h,u,c=t.offsetX,d=t.offsetY;if(c<0){var f=void 0;for(n=i,r=-c;n>=0&&!(r<=(f=this._getColWidth(n)));n--)r-=f;r=f-r}else for(n=i+1,r=c;r>=0&&!(r<=(f=this._getColWidth(n)));n++)r-=f;if(d<0)for(o=e-1,s=-d;o>=0&&!(s<=(p=this._getRowHeight(o)));o--)s-=p;else for(o=e,s=d;s>=0;o++){var p;if(s<=(p=this._getRowHeight(o)))break;s-=p}for(a=n,l=r+t.width;l>=0&&!(l<=(f=this._getColWidth(a)));a++)l-=f;for(h=o,u=s+t.height;u>=0;h++){var g=this._getRowHeight(h);if(u<=g)break;u-=g}return[n,r,o,s,a,l,h,u]},t.prototype.fromAnchor=function(t,e,i,n){var r=t[0],o=t[1],s=t[2],a=t[3],l=t[4],h=t[5],u=t[6],c=t[7],d=0;if(n===r)d=-(this._getColWidth(n)-o);else if(r>n){d+=o;for(var f=n+1,p=r-1;f<=p;f++)d+=this._getColWidth(f)}else{for(f=r+1,p=n;f<=p;f++)d-=this._getColWidth(f);d-=this._getColWidth(r)-o}var g=0;if(i===s)g=a;else if(s>i){for(var _=i,m=s-1;_<=m;_++)g+=this._getRowHeight(_);g+=a}else{var w=s+1;for(m=i;w<m;w++)g-=this._getRowHeight(w);g-=this._getRowHeight(s)-a}var b=0;if(r===l)b=h-o;else{for(f=r+1,p=l-1;f<=p;f++)b+=this._getColWidth(f);b+=this._getColWidth(r)-o,b+=h}var v=0;if(s===u)v=c-a;else{var y=s+1;for(m=u-1;y<=m;y++)v+=this._getRowHeight(y);v+=this._getRowHeight(s)-a,v+=c}e.offsetX=d,e.offsetY=g,e.width=b,e.height=v},t.prototype._getColWidth=function(t){var e=this._colsWidth[t];if(null==e){this._colsWidthCnt>1e3&&(this._colsWidth=[],this._colsWidthCnt=0);var i=this._cols[t];e=!i||null==i.visible||i.visible?i&&null!=i.width?Math.max(i.width-5,0):64:0,this._colsWidth[t]=e,this._colsWidthCnt++}return e},t.prototype._getRowHeight=function(t){var e=this._rowsHeight[t];if(null==e){this._rowsHeightCnt>1e3&&(this._rowsHeight=[],this._rowsHeightCnt=0);var i=this._rows[t];e=!i||null==i.visible||i.visible?i&&null!=i.height?i.height:20:0,this._rowsHeight[t]=e,this._rowsHeightCnt++}return e},t}();function Ha(t,e,i,n,r){var o=i-e;return 0==o&&(o=1),(r-n)/o*(t-e)+n}var Va=String.fromCodePoint||function(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),t%1024+56320))},Ua=0;Le("wijmo.xlsx",u);var Ga=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();function Wa(){return Ne("wijmo.grid.detail")}function Ya(){return Ne("wijmo.grid.multirow")}function qa(){return Ne("wijmo.grid.transposed")}function Xa(){return Ne("wijmo.grid.transposedmultirow")}var Ka,Za=function(){function t(){}return t.save=function(t,e,i){var n=new ca;return this._saveFlexGridToWorkbook(n,t,e,!1,null),i&&n.save(i),n},t.saveAsync=function(t,e,i,n,r,o,s){var a=this,l=new ca;if(!s)return this._saveFlexGridToWorkbook(l,t,e,!1,null),i?l.saveAsync(i,(function(t){Ct(n)&&n(t,l)}),r,null):Ct(n)&&n(null,l),l;var h=null!=i;return this.cancelAsync((function(){var s,u=[t.collectionView&&t.collectionView.collectionChanged,t.columns&&t.columns.collectionChanged,t.rows&&t.rows.collectionChanged,t.resizedColumn,t.resizedRow],c=function(){return u.forEach((function(t){t&&t.removeHandler(d)}))},d=function(){a._cs&&a._cs.cancel(!1),clearTimeout(s),s=setTimeout((function(){c(),l=null,a.saveAsync(t,e,i,n,r,o)}),100)},f=function(){clearTimeout(s),a._cs=null,c()};a._cs=new za(null,f),u.forEach((function(t){t&&t.addHandler(d)})),a._saveFlexGridToWorkbook(l,t,e,!0,a._cs,(function(t){Ct(o)&&o(h?Math.round(Ha(t,0,100,0,50)):t)})).then((function(){i?(l._externalCancellation=function(){return a._cs},l.saveAsync(i,(function(t){f(),Ct(n)&&n(t,l)}),(function(t){f(),Ct(r)&&r(t)}),(function(t){Ct(o)&&o(Math.round(Ha(t,0,100,51,100)))}))):(f(),Ct(o)&&o(100),Ct(n)&&n(null,l))}),(function(t){throw f(),t}))})),null},t.cancelAsync=function(t){var e=this;this._cs?(this._cs.cancel(),setTimeout((function(){e._cs=null,Ct(t)&&t()}),100)):Ct(t)&&t()},t.load=function(t,e,i){var n=this;if(e instanceof Blob)tl(e,(function(r){e=null;var o=new ca;o.load(r,i?i.includeStyles:void 0),r=null,t.deferUpdate((function(){n._loadToFlexGrid(t,o,i),o=null}))}));else if(e instanceof ca)t.deferUpdate((function(){n._loadToFlexGrid(t,e,i),e=null}));else{if(!(e instanceof ArrayBuffer||wt(e)))throw"Invalid workbook.";var r=new ca;r.load(e,i?i.includeStyles:void 0),e=null,t.deferUpdate((function(){n._loadToFlexGrid(t,r,i),r=null}))}},t.loadAsync=function(t,e,i,n,r){var o=this;if(e instanceof Blob)tl(e,(function(s){e=null;var a=new ca;a.loadAsync(s,(function(){s=null,t.deferUpdate((function(){o._loadToFlexGrid(t,a,i),n&&n(a),a=null}))}),r,i?i.includeStyles:void 0)}));else if(e instanceof ca)t.deferUpdate((function(){o._loadToFlexGrid(t,e,i),n&&n(e),e=null}));else{if(!(e instanceof ArrayBuffer||wt(e)))throw"Invalid workbook.";var s=new ca;s.loadAsync(e,(function(){e=null,t.deferUpdate((function(){o._loadToFlexGrid(t,s,i),n&&n(s),s=null}))}),r,i?i.includeStyles:void 0)}},t._saveFlexGridToWorkbook=function(t,e,i,n,r,o){var s=new za(r),a=new da,l=!i||null==i.includeColumnHeaders||i.includeColumnHeaders,h=!(!i||null==i.includeRowHeaders)&&i.includeRowHeaders,u=Ka.Cache,c=i?i.includeColumns:null,d=i?i.formatItem:null,f=[],p=i&&null!=i.convertHtmlEntities?Jt(i.convertHtmlEntities,Qa):Qa.Auto;i&&(null!=i.includeCellStyles&&Vt("includeCellStyles","includeStyles"),u=!1===Yt(null!=i.includeStyles?i.includeStyles:i.includeCellStyles,!0)?Ka.None:!1===Yt(i.quickCellStyles,!0)?Ka.Regular:Ka.Cache);var g=u===Ka.Cache?new $a(500):null;null==this.hasCssText&&(this.hasCssText="cssText"in document.body.style),a.name=i?i.sheetName:"",a.visible=!i||!1!==i.sheetVisible,a.rightToLeft=e.rightToLeft;var _,m=e.wj_sheetInfo;if(m&&m.tables&&m.tables.length>0)for(var w=0;w<m.tables.length;w++)a.tables.push(m.tables[w]);m||u===Ka.None&&!d||((_=document.createElement("div")).style.visibility="hidden",_.setAttribute($n._WJS_MEASURE,"true"),e.hostElement.appendChild(_));var b=h?e.rowHeaders.columns.length:0,v=this._getPerRowColumnsSettings(e,h?[e.topLeftCells,e.columnHeaders]:[e.columnHeaders]),y=v.cols,x=Ya()&&e instanceof Ya().MultiRow?this._getPerRowColumnsSettings(e,h?[e.rowHeaders,e.cells]:[e.cells],e.rowsPerItem).cols:null,C=y.length,j=[[e.topLeftCells,e.columnHeaders],[e.rowHeaders,e.cells],[e.bottomLeftCells,e.columnFooters]];l||j.shift();var S=j.map((function(t){return t[1].rows.length})).reduce((function(t,e){return t+e}));return y.length&&y[0].forEach((function(t,e){var i=v.bndCols[0][e];if(!(e>=b&&c)||c(i)){var n=new fa;n._deserialize(t),a._addWorkbookColumn(n)}})),this._saveContentToWorksheet(r,n,Date.now(),0,{panels:j,panelIdx:0,globRowIdx:0,rowsOffset:0,totalRows:S},e,a,h,(function(t){return t==En.Cell&&x?x:y}),u,_,f,g,c,p,d,(function(t){o(Math.round(t/S*100))}),(function(){var n=new wa;n.rows=l?e.frozenRows+C:e.frozenRows,n.columns=h?e.frozenColumns+b:e.frozenColumns,a.frozenPane=n,t._addWorkSheet(a),m||u===Ka.None&&!d||(e.hostElement.removeChild(_),f.forEach((function(t){return t.forEach((function(t){t&&t.parentElement&&t.parentElement.removeChild(t)}))}))),g&&g.clear(),t.activeWorksheet=i?i.activeWorksheet:null,s.resolve()})),s},t._saveContentToWorksheet=function(t,e,i,n,r,o,s,a,l,h,u,c,d,f,p,g,_,m){for(var w=this,b=h?20:200,v=function(v){if(t&&t.cancelled)return{value:void 0};if(e&&v-n>b&&Date.now()-i>100)return setTimeout((function(){t&&t.cancelled||(_(v),w._saveContentToWorksheet(t,e,Date.now(),v,r,o,s,a,l,h,u,c,d,f,p,g,_,m))}),0),{value:void 0};for(;v-r.rowsOffset>=r.panels[r.panelIdx][1].rows.length;)r.rowsOffset+=r.panels[r.panelIdx][1].rows.length,r.panelIdx++;var x=r.panels[r.panelIdx],C=x[0],j=x[1],S=v-r.rowsOffset,E=j.rows[S];if(j.cellType!==En.Cell&&E.renderSize<=0||E instanceof ir)return"continue";var k=0,T={},P=new ga,A=E instanceof Wn,R=0;j.cellType===En.Cell&&(A?R=E.level:o.rows.maxGroupLevel>-1&&(R=o.rows.maxGroupLevel+1));var O=l(j.cellType);a&&(k=y._parseFlexGridRowToSheetRow(s,C,T,S,0,O,h,u,c,d,A,R,f,p,g)),y._parseFlexGridRowToSheetRow(s,j,T,S,k,O,h,u,c,d,A,R,f,p,g),T.cells.length>0&&(P._deserialize(T),s._addWorkbookRow(P,r.globRowIdx)),r.globRowIdx++},y=this,x=n;x<r.totalRows;x++){var C=v(x);if("object"==typeof C)return C.value}Ct(m)&&m()},t._loadToFlexGrid=function(t,e,i){if(Xa()&&t instanceof Xa().TransposedMultiRow)throw"Not supported.";i=i||{};var n,r=null!=t.wj_sheetInfo,o={},s=[],a=[],l={};t.itemsSource=null,t.columns.clear(),t.columnHeaders.rows.clear(),t.rows.clear(),t.frozenColumns=0,t.frozenRows=0;var h=null==i.sheetIndex||isNaN(i.sheetIndex)?0:i.sheetIndex;if(h<0||h>=e.sheets.length)throw"The sheet index option is out of the sheet range of current workbook.";if(null!=i.sheetName)for(var u=0;u<e.sheets.length;u++)if(i.sheetName===e.sheets[u].name){n=e.sheets[u];break}if(null!=(n=n||e.sheets[h]).rows){for(var c=this._getColumnCount(n.rows),d=this._getRowCount(n.rows,c),f=n.columns,p=0;p<c;p++)t.columns.push(new Un),f[p]&&(isNaN(+f[p].width)||(t.columns[p].width=+f[p].width),f[p].visible||null==f[p].visible||(t.columns[p].visible=!!f[p].visible),f[p].style&&f[p].style.wordWrap&&(t.columns[p].wordWrap=f[p].style.wordWrap));var g,_=(null==i.includeColumnHeaders||i.includeColumnHeaders)&&n.rows.length>0,m=_?this._getColumnHeadersHeight(n):0,w=!1,b=[],v=n.frozenPane&&n.frozenPane.rows,y=n.frozenPane&&n.frozenPane.columns;v=vt(v)&&!isNaN(v)?v:null,y=vt(y)&&!isNaN(y)?y:null;for(var x=m;x<d;x++){var C=!1,j=null,S=n.rows[x];if(S)for(var E=x+1;E<n.rows.length;){var k=n.rows[E];if(k){(isNaN(S.groupLevel)&&!isNaN(k.groupLevel)||!isNaN(S.groupLevel)&&S.groupLevel<k.groupLevel)&&(C=!0);break}E++}if(C&&!n.summaryBelow)g&&(g.isCollapsed=w),(g=new Wn).isReadOnly=!1,w=null!=S.collapsed&&S.collapsed,g.level=isNaN(S.groupLevel)?0:S.groupLevel,l[g.level]=w,this._checkParentCollapsed(l,g.level)&&g._setFlag(Fn.ParentCollapsed,!0),t.rows.push(g);else{var T=new Gn;S&&this._checkParentCollapsed(l,S.groupLevel)&&T._setFlag(Fn.ParentCollapsed,!0),t.rows.push(T)}for(S&&S.height&&!isNaN(S.height)&&(t.rows[x-m].height=S.height),p=0;p<c;p++)if(S){var P=S.cells[p],A=P?P.formula:null;A&&"="!==A[0]&&(A="="+A),P&&P.textRuns&&P.textRuns.length>0?(t.rows[x-m].isContentHtml=!0,t.setCellData(x-m,p,this._parseTextRunsToHTML(P.textRuns))):t.setCellData(x-m,p,A&&r?A:this._getItemValue(P)),C||this._setColumn(b,p,P);var R=x*c+p,O=P?P.style:null;if(O&&(j=(null==j||j)&&!!O.wordWrap,r)){var D=ca._parseExcelFormat(P),I=void 0;if(O.hAlign)I=ca._parseHAlignToString(Jt(O.hAlign,na));else switch(this._getItemType(P)){case lt.Number:I="right";break;case lt.Boolean:I="center";break;default:I=D&&0===D.search(/[n,c,p]/i)?"right":"left"}if(o[R]={fontWeight:O.font&&O.font.bold?"bold":"none",fontStyle:O.font&&O.font.italic?"italic":"none",textDecoration:O.font&&O.font.underline?"underline":"none",textAlign:I,fontFamily:O.font&&O.font.family?O.font.family:"",fontSize:O.font&&O.font.size?O.font.size+"px":"",color:O.font&&O.font.color?O.font.color:"",backgroundColor:O.fill&&O.fill.color?O.fill.color:"",whiteSpace:O.wordWrap?"pre-wrap":"normal",format:D},O.borders&&(O.borders.left&&(this._parseBorderStyle(O.borders.left.style,"Left",o[R]),o[R].borderLeftColor=O.borders.left.color),O.borders.right&&(this._parseBorderStyle(O.borders.right.style,"Right",o[R]),o[R].borderRightColor=O.borders.right.color),O.borders.top&&(this._parseBorderStyle(O.borders.top.style,"Top",o[R]),o[R].borderTopColor=O.borders.top.color),O.borders.bottom&&(this._parseBorderStyle(O.borders.bottom.style,"Bottom",o[R]),o[R].borderBottomColor=O.borders.bottom.color)),O.fill&&O.fill.color){var M=o[R],F=O.borders,L=O.fill.color;F?(F.left&&F.left.color||(M.borderLeftColor=L),F.right&&F.right.color||p===y-1||(M.borderRightColor=L),F.top&&F.top.color||(M.borderTopColor=L),F.bottom&&F.bottom.color||x===v-1||(M.borderBottomColor=L)):(M.borderLeftColor=L,p!==y-1&&(M.borderRightColor=L),M.borderTopColor=L,x!==v-1&&(M.borderBottomColor=L))}O.font&&-1===a.indexOf(O.font.family)&&a.push(O.font.family)}r&&P&&vt(P.rowSpan)&&P.rowSpan>0&&vt(P.colSpan)&&P.colSpan>0&&(P.rowSpan>1||P.colSpan>1)&&s.push(new Tn(x,p,x+P.rowSpan-1,p+P.colSpan-1))}S&&(this._checkParentCollapsed(l,S.groupLevel)||S.visible||null==S.visible||(t.rows[x-m].visible=S.visible),t.rows[x-m].wordWrap=!!S.style&&!!S.style.wordWrap||!!j)}for(g&&(g.isCollapsed=w),null!=y&&(t.frozenColumns=y),null!=v&&(t.frozenRows=_&&v>0?v-1:v),p=0;p<t.columnHeaders.columns.length;p++){var N=b[p],z=t.columns[p];z.isRequired=!1,N&&(N.dataType===lt.Boolean&&(z.dataType=N.dataType),z.format=N.format,z.align=N.hAlign,z.wordWrap=z.wordWrap||!!N.wordWrap)}for(u=0;u<Math.max(m,1);u++)t.columnHeaders.rows.push(new Gn);for(u=0;u<m;u++)for(var B=0;B<t.columnHeaders.columns.length;B++){var H=n.rows[u]?n.rows[u].cells[B]:null,V=H&&null!=H.value?H.value:"",U=t.columnHeaders.columns[B];if(V){var G=ca._parseExcelFormat(H);V=Ue.format(V,G)}U.header=U.header||V,t.columnHeaders.setCellData(u,B,V)}if(r){var W=null==i.sheetVisible||i.sheetVisible;t.wj_sheetInfo.name=n.name,t.wj_sheetInfo.visible=!0===W||!1!==n.visible,t.wj_sheetInfo.styledCells=o,t.wj_sheetInfo.mergedRanges=s,t.wj_sheetInfo.fonts=a,t.wj_sheetInfo.tables=n.tables}}},t._getColumnHeadersHeight=function(t){var e;if(!t||!(e=t.rows).length)return 0;if(!e[0])return 1;for(var i=0,n=1;i<e.length&&n>0;i++,n--){var r=e[i].cells.reduce((function(t,e){return Math.max(t,e.rowSpan||0)}),1);r>n&&(n=r)}return i},t._escapePlainText=function(t){return null==t?"":""===t?"'":t&&("'"===t[0]||t.length>1&&"="===t[0]&&"="===t[1])?"'"+t:t},t._parseFlexGridRowToSheetRow=function(t,e,i,n,r,o,s,a,l,h,u,c,d,f,p){var g=e.grid,_=g.wj_sheetInfo,m=e.rows[n],w=0,b=_&&_.evaluateFormula;null==m.recordIndex?e.cellType===En.ColumnHeader&&e.rows.length>1&&(w=Math.min(n,o.length-1)):w=m.recordIndex,i.cells||(i.cells=[]),i.visible=m.isVisible,i.height=m.renderHeight||e.rows.defaultSize,i.groupLevel=c,u&&(i.collapsed=m.isCollapsed),m.wordWrap&&(i.style={wordWrap:m.wordWrap});for(var v,y=m.constructor===Gn||m.constructor===ir||qa()&&g instanceof qa().TransposedGrid&&m instanceof Gn||Wa()&&m.constructor===Wa().DetailRow||Ya()&&m.constructor===Ya()._MultiRow||Xa()&&m instanceof Xa()._MultiRow,x=Wa()&&m.constructor===Wa().DetailRow,C=0,j=Math.round(Fa._parsePixelToCharWidth(g.treeIndent)||0),S=function(t){return t*j};C<e.columns.length;C++){var E=void 0,k=void 0,T=void 0,P=1,A=1,R=!1,O=g._getBindingColumn(e,n,e.columns[C]),D=0;if(_&&e===g.cells){var I=n*e.columns.length+C;_.mergedRanges&&(E=this._getMergedRange(n,C,_.mergedRanges)),_.styledCells&&(k=_.styledCells[I])}else s!==Ka.None&&(T=this._getMeasureCell(e,C,a,l),k=(E=g.getMergedRange(e,n,C,!1))?this._getCellStyle(e,T,E.bottomRow,E.rightCol,h,!!p)||{}:this._getCellStyle(e,T,n,C,h,!!p)||{});if(E||(E=g.getMergedRange(e,n,C,!1)),E?n===E.topRow&&C===E.leftCol&&(A=E.bottomRow-E.topRow+1,P=this._getColSpan(e,E,d),R=!0):R=!0,!d||d(O)){var M=o[w]?o[w][C+r]:null,F=void 0,L=void 0,N=void 0,z=void 0,B=void 0,H=void 0,V=void 0;if(y||u){if(N=R?e.getCellData(n,C,!0):null,z=R?e.getCellData(n,C,!1):null,L=this._isFormula(N),F=null,B=St(z),k&&k.format?(H=k.format,/[hsmyt\:]/i.test(H)&&(B=!0),V=ca._parseCellFormat(k.format,B)):M&&M.style&&M.style.format?(H=O.format,V=M.style.format):V=null,L&&null!=b&&Ct(b)&&(F=b(N)),!V)if(B)V="m/d/yyyy";else if(vt(z)&&!O.dataMap)V=yt(z)?"#,##0":"#,##0.00";else if(L){var U=N.toLowerCase();U.indexOf("now()")>-1?(V="m/d/yyyy h:mm",B=!0):U.indexOf("today()")>-1||U.indexOf("date(")>-1?(V="m/d/yyyy",B=!0):U.indexOf("time(")>-1&&(V="h:mm AM/PM",B=!0)}else V="General"}else N=R?g.columnHeaders.getCellData(0,C,!0):null,V="General";var G=void 0;wt(N)&&-1!==N.indexOf("<span")&&(G=this._parseToTextRuns(N),N=null);var W=this._parseCellStyle(k)||{};if(e===g.cells&&u&&m.hasChildren&&C===g.columns.firstVisibleIndex){var Y=void 0;if(L&&null!=F?Y=F:(N?Y=N:R&&(Y=m.getGroupHeader()),Y&&(Y=Y.replace(/<\/?\w+>/g,"").replace(/&#39;/g,"'"))),null==Y&&!k)continue;!(B=St(Y))&&H&&"d"===H.toLowerCase()&&yt(Y)&&(V="0"),Y=wt(Y)?ca._unescapeXML(Y):Y,C===g.columns.firstVisibleIndex&&g.treeIndent&&(D=S(c)),v={value:Y,isDate:B,formula:L?this._parseToExcelFormula(N,B):null,colSpan:P,rowSpan:A,style:this._extend(W,{format:V,font:g.childItemsPath?{}:{bold:!0},hAlign:t.rightToLeft?na.Right:na.Left,indent:D}),textRuns:G}}else{(u||f===Qa.Auto&&O.isContentHtml||f===Qa.Yes)&&(N=wt(N)?ca._unescapeXML(N):N,z=wt(z)?ca._unescapeXML(z):z),!B&&H&&"d"===H.toLowerCase()&&yt(z)&&(V="0");var q;q=W&&W.hAlign?W.hAlign:M&&M.style&&null!=M.style.hAlign?Jt(M.style.hAlign,na,!0):St(z)?na.Left:na.General,e===g.cells&&C===g.columns.firstVisibleIndex&&g.treeIndent&&(t.rightToLeft&&q===na.Right||!t.rightToLeft&&q===na.Left||q===na.General)&&(D=S(c)),v={value:L?F:"General"!==V||""===N&&null==z?this._escapePlainText(z):this._escapePlainText(N),isDate:B,formula:L?this._parseToExcelFormula(N,B):null,colSpan:C<g.columns.firstVisibleIndex?1:P,rowSpan:A,style:this._extend(W,{format:V,hAlign:q,vAlign:A>1?e===g.cells||!1===g.centerHeadersVertically?ra.Top:ra.Center:null,indent:D}),textRuns:G}}if(p&&p(new Ja(e,new Tn(n,C),T,a,l,h,v)),x){var X=e.getCellElement(n,C);if(X){var K=m.detail;X.appendChild(K),li.refreshAll(K)}}i.cells.push(v)}}return r+C},t._parseCellStyle=function(t,e){if(void 0===e&&(e=!1),null==t)return null;var i=t.fontSize;i=i?+i.substring(0,i.indexOf("px")):null,isNaN(i)&&(i=null);var n=t.whiteSpace;n=!!n&&n.indexOf("pre")>-1;var r=t.textAlign;return"start"===r&&(r="rtl"===t.direction?"right":"left"),"end"===r&&(r="rtl"===t.direction?"left":"right"),{font:{bold:"bold"===t.fontWeight||+t.fontWeight>=700,italic:"italic"===t.fontStyle,underline:"underline"===(t.textDecorationStyle||t.textDecoration),family:this._parseToExcelFontFamily(t.fontFamily),size:i,color:t.color},fill:{color:t.backgroundColor},borders:this._parseBorder(t,e),hAlign:ca._parseStringToHAlign(r),wordWrap:n}},t._parseBorder=function(t,e){var i={left:this._parseEgdeBorder(t,"Left"),right:this._parseEgdeBorder(t,"Right"),top:this._parseEgdeBorder(t,"Top"),bottom:this._parseEgdeBorder(t,"Bottom")};return e&&(i.vertical=this._parseEgdeBorder(t,"Vertical"),i.horizontal=this._parseEgdeBorder(t,"Horizontal")),i},t._parseEgdeBorder=function(t,e){var i,n=t["border"+e+"Style"],r=t["border"+e+"Width"];if(r&&(r=parseFloat(r)),n&&"none"!==n&&"hidden"!==n&&0!==r){switch(i={},n=n.toLowerCase()){case"dotted":i.style=r>1?aa.MediumDashDotted:aa.Dotted;break;case"dashed":i.style=r>1?aa.MediumDashed:aa.Dashed;break;case"double":i.style=aa.Double;break;default:i.style=r>2?aa.Thick:r>1?aa.Medium:aa.Thin}i.color=t["border"+e+"Color"]}return i},t._parseBorderStyle=function(t,e,i){var n="border"+e+"Style",r="border"+e+"Width";switch(t){case aa.Dotted:case aa.Hair:i[n]="dotted",i[r]="1px";break;case aa.Dashed:case aa.ThinDashDotDotted:case aa.ThinDashDotted:i[n]="dashed",i[r]="1px";break;case aa.MediumDashed:case aa.MediumDashDotDotted:case aa.MediumDashDotted:case aa.SlantedMediumDashDotted:i[n]="dashed",i[r]="2px";break;case aa.Double:i[n]="double",i[r]="3px";break;case aa.Medium:i[n]="solid",i[r]="2px";break;case aa.Thick:i[n]="solid",i[r]="3px";break;default:i[n]="solid",i[r]="1px"}},t._parseToExcelFontFamily=function(t){var e;return t&&(e=t.split(","))&&e.length>0&&(t=e[0].replace(/\"|\'/g,"")),t},t._parseToExcelFormula=function(t,e){var i=t.match(/(floor|ceiling)\([+-]?\d+\.?\d*\)/gi);if(i)for(var n=0;n<i.length;n++){var r=(s=i[n]).substring(0,s.lastIndexOf(")"))+", 1)";t=t.replace(s,r)}if(i=null,i=t.match(/text\(\"?\w+\"?\s*\,\s*\"\w+\"\)/gi)){var o=/\"?\w+\"?\s*\,\s*\"(\w+)\"/i;for(n=0;n<i.length;n++){var s,a=(s=i[n]).match(o);if(a&&2===a.length){var l=a[1];if(!/^d{1,4}?$/.test(l)){var h=ca._parseCellFormat(l,e);r=s.replace(l,h),t=t.replace(s,r)}}}}return t},t._parseToTextRuns=function(t){for(var e=t.split("<span "),i=[],n=0;n<e.length;n++){var r=e[n],o=void 0;o=-1!==r.indexOf("</span>")?{text:r.substring(r.indexOf(">")+1,r.indexOf("</span>")),font:this._parseToTextRunFont(r.substring(r.indexOf('style="')+7,r.indexOf(';"')))}:{text:r},i.push(o)}return i},t._parseToTextRunFont=function(t){var e,i=t.split(";");if(i.length>0){for(var n=void 0,r=void 0,o=void 0,s=void 0,a=void 0,l=void 0,h=0;h<i.length;h++){var u=i[h].split(":");if(2===u.length)switch(u[1]=u[1].trim(),u[0]){case"font-size":s=+u[1].substring(0,u[1].indexOf("px")),isNaN(s)&&(s=null);break;case"font-weight":n="bold"===u[1]||+u[1]>=700;break;case"font-style":r="italic"===u[1];break;case"text-decoration-style":case"text-decoration":o="underline"===u[1];break;case"font-family":a=this._parseToExcelFontFamily(u[1]);break;case"color":l=u[1]}}e={bold:n,italic:r,underline:o,family:a,size:s,color:l}}return e},t._getMeasureCell=function(t,e,i,n){var r=n[t.cellType],o=r&&r[e],s=null==o;return o?this.hasCssText&&(o.style.cssText="",o.style.visibility="hidden"):(r||(n[t.cellType]=r=[]),r[e]=o=i.cloneNode()),!s&&o.parentElement||(t.hostElement.children.length>0?t.hostElement.children[0].appendChild(o):t.hostElement.appendChild(o)),o},t._getColumnSetting=function(t,e,i){var n=t;return null!=t.colspan&&(n=this._getRenderColumn(e,i)),n?{autoWidth:!0,width:n.renderWidth||i.defaultSize,visible:n.visible&&0!==n.width&&!n._getFlag(Fn.ParentCollapsed),style:{format:t.format?ca._parseCellFormat(t.format,t.dataType===lt.Date):"",hAlign:ca._parseStringToHAlign(this._toExcelHAlign(n.getAlignment())),wordWrap:n.wordWrap}}:null},t._getPerRowColumnsSettings=function(t,e,i){var n=this,r=[],o=[];return e.forEach((function(s,a){for(var l=0,h=a>0?e[0].columns.length:0,u=function(e){return null!=i&&e>=i?"break":s.rows[e].renderSize<=0?"continue":(r[l]=r[l]||[],o[l]=o[l]||[],s.columns.forEach((function(i,a){var u=t._getBindingColumn(s,e,i),c=n._getColumnSetting(u,a,s.columns);c&&(r[l][h+a]=c,o[l][h+a]=u)})),void l++)},c=0;c<s.rows.length&&"break"!==u(c);c++);})),{cols:r,bndCols:o}},t._toExcelHAlign=function(t){return(t=t?t.trim().toLowerCase():t)?t.indexOf("center")>-1?"center":t.indexOf("right")>-1||t.indexOf("end")>-1?"right":t.indexOf("justify")>-1?"justify":"left":t},t._getColumnCount=function(t){for(var e=0,i=0;i<t.length;i++){var n=t[i]&&t[i].cells?t[i].cells:[];if(n&&n.length>0){var r=n.length;yt(n[r-1].colSpan)&&n[r-1].colSpan>1&&(r=r+n[r-1].colSpan-1),r>e&&(e=r)}}return e},t._getRowCount=function(t,e){for(var i=t.length,n=i-1,r=0;r<e;r++)t:for(;n>=0;n--){var o=t[n],s=(o&&o.cells?o.cells:[])[r];if(s&&(null!=s.value&&""!==s.value||yt(s.rowSpan)&&s.rowSpan>1)){yt(s.rowSpan)&&s.rowSpan>1&&n+s.rowSpan>i&&(i=n+s.rowSpan);break t}}return i},t._numAlpha=function(t){var e=Math.floor(t/26)-1;return(e>-1?this._numAlpha(e):"")+String.fromCharCode(65+t%26)},t._getItemType=function(t){return null==t||null==t.value||isNaN(t.value)?null:Rt(t.value)},t._setColumn=function(t,e,i){var n=t[e];if(n){var r=this._getItemType(i);if(n.dataType!==r&&n.dataType===lt.Boolean&&r!==lt.Boolean&&(n.dataType=r),i&&null!=i.value&&(!wt(i.value)||!bt(i.value))){var o=ca._parseExcelFormat(i);o&&n.format!==o&&"General"!==o&&(n.format=o)}var s=void 0;i&&i.style&&(i.style.hAlign&&(s=ca._parseHAlignToString(Jt(i.style.hAlign,na))),null==n.wordWrap?n.wordWrap=!!i.style.wordWrap:n.wordWrap=n.wordWrap&&!!i.style.wordWrap),s||r!==lt.Number||(s="right"),n.hAlign=s}else t[e]={dataType:this._getItemType(i),format:ca._parseExcelFormat(i),hAlign:"",wordWrap:null}},t._getItemValue=function(t){if(null==t||null==t.value)return null;var e=t.value;return wt(e)&&"'"===e[0]&&(e=e.substr(1)),vt(e)&&isNaN(e)||e instanceof Date&&isNaN(e.getTime())?"":e},t._getCellStyle=function(t,e,i,n,r,o){var s,a=t.grid;try{var l=!(r&&!a.formatItem.hasHandlers&&!a.itemFormatter&&!o);a.cellFactory.updateCell(t,i,n,e,null,l),e.className=e.className.replace("wj-state-selected",""),e.className=e.className.replace("wj-state-multi-selected","")}catch(t){return null}if(r){var h=t.hostElement,u=e,c=u.style.cssText.split(/;\s+/).filter((function(t){var e=t.substring(0,t.indexOf(":"));return/^(color|background|border|font|text|whitespace)/i.test(e)})).join(";");do{c=u.className+c}while(u!==h&&(u=u.parentElement));(s=r.getValue(c))||(s=window.getComputedStyle(e),r.add(c,s))}else s=window.getComputedStyle(e);return s},t._parseTextRunsToHTML=function(t){for(var e="",i=0;i<t.length;i++){var n=t[i],r=n.font;e+=r?'<span style="'+(r.bold?"font-weight: bold;":"")+(r.italic?"font-style: italic;":"")+(r.underline?"text-decoration: underline;":"")+(r.family?"font-family: "+r.family+";":"")+(null!=r.size?"font-size: "+r.size+"px;":"")+(r.color?"color: "+r.color+";":"")+'">'+n.text+"</span>":n.text}return e},t._extend=function(t,e){for(var i in e){var n=e[i];kt(n)&&t[i]?Bt(t[i],n):t[i]=n}return t},t._checkParentCollapsed=function(t,e){var i=!1;return Object.keys(t).forEach((function(n){!0===t[n]&&!1===i&&!isNaN(e)&&+n<e&&(i=!0)})),i},t._getColSpan=function(t,e,i){for(var n=0,r=e.leftCol;r<=e.rightCol;r++)i&&!i(t.columns[r])||n++;return n},t._getRenderColumn=function(t,e){return t>=e.length?null:e[t]},t._getMergedRange=function(t,e,i){for(var n=0;n<i.length;n++){var r=i[n];if(t>=r.topRow&&t<=r.bottomRow&&e>=r.leftCol&&e<=r.rightCol)return r}return null},t._isFormula=function(t){return t&&"string"==typeof t&&t.length>1&&"="===t[0]&&"="!==t[1]},t}(),Ja=function(t){function e(e,i,n,r,o,s,a){var l=t.call(this,e,i)||this;return l._cell=n,l._patternCell=r,l._xlsxCell=a,l._cellsCache=o,l._styleCache=s,l}return Ga(e,t),Object.defineProperty(e.prototype,"cell",{get:function(){return this._cell},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"xlsxCell",{get:function(){return this._xlsxCell},set:function(t){this._xlsxCell=t},enumerable:!0,configurable:!0}),e.prototype.getFormattedCell=function(){return this._cell||(this._cell=Za._getMeasureCell(this.panel,this.col,this._patternCell,this._cellsCache),Za._getCellStyle(this.panel,this._cell,this.row,this.col,this._styleCache,!0)),this._cell},e}(Dn);!function(t){t[t.None=0]="None",t[t.Regular=1]="Regular",t[t.Cache=2]="Cache"}(Ka||(Ka={}));var Qa,$a=function(){function t(t){this._cache={},this._size=0,this._max=t}return t.prototype.add=function(t,e){this._size>=this._max&&this.clear(),this._cache[t]=this._cloneStyle(e),this._size++},t.prototype.clear=function(){this._cache={},this._size=0},t.prototype.getValue=function(t){return this._cache[t]||null},t.prototype.hasKey=function(t){return!!this._cache[t]},t.prototype._cloneStyle=function(t){if(!t)return null;for(var e={},i=function(t){return t.replace(/\-([a-z])/g,(function(t,e,i){return i>0?e.toUpperCase():e}))},n=0,r=t.length;n<r;n++){var o=t[n];e[i(o)]=t.getPropertyValue(o)}return e},t}();function tl(t,e){if(t&&e)if(t.arrayBuffer)t.arrayBuffer().then((function(t){return e(t)}));else{var i=new FileReader;i.onload=function(){e(i.result),i=null},i.readAsArrayBuffer(t)}}!function(t){t[t.Auto=0]="Auto",t[t.No=1]="No",t[t.Yes=2]="Yes"}(Qa||(Qa={})),Le("wijmo.grid.xlsx",c);var el=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),il=function(){return(il=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function nl(){return Ne("wijmo.pdf.security")}!function(t){"object"==typeof localExports&&"undefined"!=typeof localModule?localModule.localExports=t():"function"==typeof localDefine&&localDefine.amd?localDefine([],t):("undefined"!=typeof window?window:void 0!==i.g?i.g:"undefined"!=typeof self?self:this).PDFDocument=t()}((function(){return function t(e,i,n){function r(s,a){if(!i[s]){if(!e[s]){var l="function"==typeof localRequire&&localRequire;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var u=i[s]={localExports:{}};e[s][0].call(u.localExports,(function(t){return r(e[s][1][t]||t)}),u,u.localExports,t,e,i,n)}return i[s].localExports}for(var o="function"==typeof localRequire&&localRequire,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(t,e,i){(function(i){(function(){var n=t("restructure"),r=t("@babel/runtime-corejs2/core-js/object/define-property"),o=t("@babel/runtime-corejs2/core-js/object/keys"),s=t("@babel/runtime-corejs2/core-js/object/freeze"),a=t("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),l=t("@babel/runtime-corejs2/core-js/map"),h=t("@babel/runtime-corejs2/core-js/array/is-array"),u=t("@babel/runtime-corejs2/core-js/string/from-code-point"),c=t("@babel/runtime-corejs2/core-js/set"),d=t("@babel/runtime-corejs2/core-js/array/from"),f=t("unicode-properties"),p=t("clone"),g=t("@babel/runtime-corejs2/core-js/promise"),_={logErrors:!1},m=[];function w(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function b(t,e,i){return e&&w(t.prototype,e),i&&w(t,i),t}function v(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,y(t,e)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function C(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(i)return(i=i.call(t)).next.bind(i);if(Array.isArray(t)||(i=function(t,e){if(t){if("string"==typeof t)return x(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?x(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function j(t,e,i,n,r){var o={};return Object.keys(n).forEach((function(t){o[t]=n[t]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,n){return n(t,e,i)||i}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}function S(t,e,i){if(i.get){var n=i.get;i.get=function(){var t=n.call(this);return r(this,e,{value:t}),t}}else if("function"==typeof i.value){var o=i.value;return{get:function(){var t=new l;function i(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];var r=i.length>0?i[0]:"value";if(t.has(r))return t.get(r);var s=o.apply(this,i);return t.set(r,s),s}return r(this,e,{value:i}),i}}}}_.registerFormat=function(t){m.push(t)},_.create=function(t,e){for(var i=0;i<m.length;i++){var r=m[i];if(r.probe(t)){var o=new r(new n.DecodeStream(t));return e?o.getFont(e):o}}throw new Error("Unknown font format")},_.defaultLanguage="en",_.setDefaultLanguage=function(t){void 0===t&&(t="en"),_.defaultLanguage=t};var E=new n.Struct({firstCode:n.uint16,entryCount:n.uint16,idDelta:n.int16,idRangeOffset:n.uint16}),k=new n.Struct({startCharCode:n.uint32,endCharCode:n.uint32,glyphID:n.uint32}),T=new n.Struct({startUnicodeValue:n.uint24,additionalCount:n.uint8}),P=new n.Struct({unicodeValue:n.uint24,glyphID:n.uint16}),A=new n.Array(T,n.uint32),R=new n.Array(P,n.uint32),O=new n.Struct({varSelector:n.uint24,defaultUVS:new n.Pointer(n.uint32,A,{type:"parent"}),nonDefaultUVS:new n.Pointer(n.uint32,R,{type:"parent"})}),D=new n.VersionedStruct(n.uint16,{0:{length:n.uint16,language:n.uint16,codeMap:new n.LazyArray(n.uint8,256)},2:{length:n.uint16,language:n.uint16,subHeaderKeys:new n.Array(n.uint16,256),subHeaderCount:function(t){return Math.max.apply(Math,t.subHeaderKeys)},subHeaders:new n.LazyArray(E,"subHeaderCount"),glyphIndexArray:new n.LazyArray(n.uint16,"subHeaderCount")},4:{length:n.uint16,language:n.uint16,segCountX2:n.uint16,segCount:function(t){return t.segCountX2>>1},searchRange:n.uint16,entrySelector:n.uint16,rangeShift:n.uint16,endCode:new n.LazyArray(n.uint16,"segCount"),reservedPad:new n.Reserved(n.uint16),startCode:new n.LazyArray(n.uint16,"segCount"),idDelta:new n.LazyArray(n.int16,"segCount"),idRangeOffset:new n.LazyArray(n.uint16,"segCount"),glyphIndexArray:new n.LazyArray(n.uint16,(function(t){return(t.length-t._currentOffset)/2}))},6:{length:n.uint16,language:n.uint16,firstCode:n.uint16,entryCount:n.uint16,glyphIndices:new n.LazyArray(n.uint16,"entryCount")},8:{reserved:new n.Reserved(n.uint16),length:n.uint32,language:n.uint16,is32:new n.LazyArray(n.uint8,8192),nGroups:n.uint32,groups:new n.LazyArray(k,"nGroups")},10:{reserved:new n.Reserved(n.uint16),length:n.uint32,language:n.uint32,firstCode:n.uint32,entryCount:n.uint32,glyphIndices:new n.LazyArray(n.uint16,"numChars")},12:{reserved:new n.Reserved(n.uint16),length:n.uint32,language:n.uint32,nGroups:n.uint32,groups:new n.LazyArray(k,"nGroups")},13:{reserved:new n.Reserved(n.uint16),length:n.uint32,language:n.uint32,nGroups:n.uint32,groups:new n.LazyArray(k,"nGroups")},14:{length:n.uint32,numRecords:n.uint32,varSelectors:new n.LazyArray(O,"numRecords")}}),I=new n.Struct({platformID:n.uint16,encodingID:n.uint16,table:new n.Pointer(n.uint32,D,{type:"parent",lazy:!0})}),M=new n.Struct({version:n.uint16,numSubtables:n.uint16,tables:new n.Array(I,"numSubtables")}),F=new n.Struct({version:n.int32,revision:n.int32,checkSumAdjustment:n.uint32,magicNumber:n.uint32,flags:n.uint16,unitsPerEm:n.uint16,created:new n.Array(n.int32,2),modified:new n.Array(n.int32,2),xMin:n.int16,yMin:n.int16,xMax:n.int16,yMax:n.int16,macStyle:new n.Bitfield(n.uint16,["bold","italic","underline","outline","shadow","condensed","extended"]),lowestRecPPEM:n.uint16,fontDirectionHint:n.int16,indexToLocFormat:n.int16,glyphDataFormat:n.int16}),L=new n.Struct({version:n.int32,ascent:n.int16,descent:n.int16,lineGap:n.int16,advanceWidthMax:n.uint16,minLeftSideBearing:n.int16,minRightSideBearing:n.int16,xMaxExtent:n.int16,caretSlopeRise:n.int16,caretSlopeRun:n.int16,caretOffset:n.int16,reserved:new n.Reserved(n.int16,4),metricDataFormat:n.int16,numberOfMetrics:n.uint16}),N=new n.Struct({advance:n.uint16,bearing:n.int16}),z=new n.Struct({metrics:new n.LazyArray(N,(function(t){return t.parent.hhea.numberOfMetrics})),bearings:new n.LazyArray(n.int16,(function(t){return t.parent.maxp.numGlyphs-t.parent.hhea.numberOfMetrics}))}),B=new n.Struct({version:n.int32,numGlyphs:n.uint16,maxPoints:n.uint16,maxContours:n.uint16,maxComponentPoints:n.uint16,maxComponentContours:n.uint16,maxZones:n.uint16,maxTwilightPoints:n.uint16,maxStorage:n.uint16,maxFunctionDefs:n.uint16,maxInstructionDefs:n.uint16,maxStackElements:n.uint16,maxSizeOfInstructions:n.uint16,maxComponentElements:n.uint16,maxComponentDepth:n.uint16});function H(t,e,i){return void 0===i&&(i=0),1===t&&U[i]?U[i]:V[t][e]}var V=[["utf16be","utf16be","utf16be","utf16be","utf16be","utf16be"],["macroman","shift-jis","big5","euc-kr","iso-8859-6","iso-8859-8","macgreek","maccyrillic","symbol","Devanagari","Gurmukhi","Gujarati","Oriya","Bengali","Tamil","Telugu","Kannada","Malayalam","Sinhalese","Burmese","Khmer","macthai","Laotian","Georgian","Armenian","gb-2312-80","Tibetan","Mongolian","Geez","maccenteuro","Vietnamese","Sindhi"],["ascii"],["symbol","utf16be","shift-jis","gb18030","big5","wansung","johab",null,null,null,"utf16be"]],U={15:"maciceland",17:"macturkish",18:"maccroatian",24:"maccenteuro",25:"maccenteuro",26:"maccenteuro",27:"maccenteuro",28:"maccenteuro",30:"maciceland",37:"macromania",38:"maccenteuro",39:"maccenteuro",40:"maccenteuro",143:"macinuit",146:"macgaelic"},G=[[],{0:"en",30:"fo",60:"ks",90:"rw",1:"fr",31:"fa",61:"ku",91:"rn",2:"de",32:"ru",62:"sd",92:"ny",3:"it",33:"zh",63:"bo",93:"mg",4:"nl",34:"nl-BE",64:"ne",94:"eo",5:"sv",35:"ga",65:"sa",128:"cy",6:"es",36:"sq",66:"mr",129:"eu",7:"da",37:"ro",67:"bn",130:"ca",8:"pt",38:"cz",68:"as",131:"la",9:"no",39:"sk",69:"gu",132:"qu",10:"he",40:"si",70:"pa",133:"gn",11:"ja",41:"yi",71:"or",134:"ay",12:"ar",42:"sr",72:"ml",135:"tt",13:"fi",43:"mk",73:"kn",136:"ug",14:"el",44:"bg",74:"ta",137:"dz",15:"is",45:"uk",75:"te",138:"jv",16:"mt",46:"be",76:"si",139:"su",17:"tr",47:"uz",77:"my",140:"gl",18:"hr",48:"kk",78:"km",141:"af",19:"zh-Hant",49:"az-Cyrl",79:"lo",142:"br",20:"ur",50:"az-Arab",80:"vi",143:"iu",21:"hi",51:"hy",81:"id",144:"gd",22:"th",52:"ka",82:"tl",145:"gv",23:"ko",53:"mo",83:"ms",146:"ga",24:"lt",54:"ky",84:"ms-Arab",147:"to",25:"pl",55:"tg",85:"am",148:"el-polyton",26:"hu",56:"tk",86:"ti",149:"kl",27:"es",57:"mn-CN",87:"om",150:"az",28:"lv",58:"mn",88:"so",151:"nn",29:"se",59:"ps",89:"sw"},[],{1078:"af",16393:"en-IN",1159:"rw",1074:"tn",1052:"sq",6153:"en-IE",1089:"sw",1115:"si",1156:"gsw",8201:"en-JM",1111:"kok",1051:"sk",1118:"am",17417:"en-MY",1042:"ko",1060:"sl",5121:"ar-DZ",5129:"en-NZ",1088:"ky",11274:"es-AR",15361:"ar-BH",13321:"en-PH",1108:"lo",16394:"es-BO",3073:"ar",18441:"en-SG",1062:"lv",13322:"es-CL",2049:"ar-IQ",7177:"en-ZA",1063:"lt",9226:"es-CO",11265:"ar-JO",11273:"en-TT",2094:"dsb",5130:"es-CR",13313:"ar-KW",2057:"en-GB",1134:"lb",7178:"es-DO",12289:"ar-LB",1033:"en",1071:"mk",12298:"es-EC",4097:"ar-LY",12297:"en-ZW",2110:"ms-BN",17418:"es-SV",6145:"ary",1061:"et",1086:"ms",4106:"es-GT",8193:"ar-OM",1080:"fo",1100:"ml",18442:"es-HN",16385:"ar-QA",1124:"fil",1082:"mt",2058:"es-MX",1025:"ar-SA",1035:"fi",1153:"mi",19466:"es-NI",10241:"ar-SY",2060:"fr-BE",1146:"arn",6154:"es-PA",7169:"aeb",3084:"fr-CA",1102:"mr",15370:"es-PY",14337:"ar-AE",1036:"fr",1148:"moh",10250:"es-PE",9217:"ar-YE",5132:"fr-LU",1104:"mn",20490:"es-PR",1067:"hy",6156:"fr-MC",2128:"mn-CN",3082:"es",1101:"as",4108:"fr-CH",1121:"ne",1034:"es",2092:"az-Cyrl",1122:"fy",1044:"nb",21514:"es-US",1068:"az",1110:"gl",2068:"nn",14346:"es-UY",1133:"ba",1079:"ka",1154:"oc",8202:"es-VE",1069:"eu",3079:"de-AT",1096:"or",2077:"sv-FI",1059:"be",1031:"de",1123:"ps",1053:"sv",2117:"bn",5127:"de-LI",1045:"pl",1114:"syr",1093:"bn-IN",4103:"de-LU",1046:"pt",1064:"tg",8218:"bs-Cyrl",2055:"de-CH",2070:"pt-PT",2143:"tzm",5146:"bs",1032:"el",1094:"pa",1097:"ta",1150:"br",1135:"kl",1131:"qu-BO",1092:"tt",1026:"bg",1095:"gu",2155:"qu-EC",1098:"te",1027:"ca",1128:"ha",3179:"qu",1054:"th",3076:"zh-HK",1037:"he",1048:"ro",1105:"bo",5124:"zh-MO",1081:"hi",1047:"rm",1055:"tr",2052:"zh",1038:"hu",1049:"ru",1090:"tk",4100:"zh-SG",1039:"is",9275:"smn",1152:"ug",1028:"zh-TW",1136:"ig",4155:"smj-NO",1058:"uk",1155:"co",1057:"id",5179:"smj",1070:"hsb",1050:"hr",1117:"iu",3131:"se-FI",1056:"ur",4122:"hr-BA",2141:"iu-Latn",1083:"se",2115:"uz-Cyrl",1029:"cs",2108:"ga",2107:"se-SE",1091:"uz",1030:"da",1076:"xh",8251:"sms",1066:"vi",1164:"prs",1077:"zu",6203:"sma-NO",1106:"cy",1125:"dv",1040:"it",7227:"sms",1160:"wo",2067:"nl-BE",2064:"it-CH",1103:"sa",1157:"sah",1043:"nl",1041:"ja",7194:"sr-Cyrl-BA",1144:"ii",3081:"en-AU",1099:"kn",3098:"sr",1130:"yo",10249:"en-BZ",1087:"kk",6170:"sr-Latn-BA",4105:"en-CA",1107:"km",2074:"sr-Latn",9225:"en-029",1158:"quc",1132:"nso"}],W=new n.Struct({platformID:n.uint16,encodingID:n.uint16,languageID:n.uint16,nameID:n.uint16,length:n.uint16,string:new n.Pointer(n.uint16,new n.String("length",(function(t){return H(t.platformID,t.encodingID,t.languageID)})),{type:"parent",relativeTo:function(t){return t.parent.stringOffset},allowNull:!1})}),Y=new n.Struct({length:n.uint16,tag:new n.Pointer(n.uint16,new n.String("length","utf16be"),{type:"parent",relativeTo:function(t){return t.stringOffset}})}),q=new n.VersionedStruct(n.uint16,{0:{count:n.uint16,stringOffset:n.uint16,records:new n.Array(W,"count")},1:{count:n.uint16,stringOffset:n.uint16,records:new n.Array(W,"count"),langTagCount:n.uint16,langTags:new n.Array(Y,"langTagCount")}}),X=["copyright","fontFamily","fontSubfamily","uniqueSubfamily","fullName","version","postscriptName","trademark","manufacturer","designer","description","vendorURL","designerURL","license","licenseURL",null,"preferredFamily","preferredSubfamily","compatibleFull","sampleText","postscriptCIDFontName","wwsFamilyName","wwsSubfamilyName"];q.process=function(t){for(var e,i={},n=C(this.records);!(e=n()).done;){var r=e.value,o=G[r.platformID][r.languageID];null==o&&null!=this.langTags&&r.languageID>=32768&&(o=this.langTags[r.languageID-32768].tag),null==o&&(o=r.platformID+"-"+r.languageID);var s=r.nameID>=256?"fontFeatures":X[r.nameID]||r.nameID;null==i[s]&&(i[s]={});var a=i[s];r.nameID>=256&&(a=a[r.nameID]||(a[r.nameID]={})),"string"!=typeof r.string&&"string"==typeof a[o]||(a[o]=r.string)}this.records=i},q.preEncode=function(){if(!h(this.records)){this.version=0;var t=[];for(var e in this.records){var n=this.records[e];"fontFeatures"!==e&&(t.push({platformID:3,encodingID:1,languageID:1033,nameID:X.indexOf(e),length:i.byteLength(n.en,"utf16le"),string:n.en}),"postscriptName"===e&&t.push({platformID:1,encodingID:0,languageID:0,nameID:X.indexOf(e),length:n.en.length,string:n.en}))}this.records=t,this.count=t.length,this.stringOffset=q.size(this,null,!1)}};var K=new n.VersionedStruct(n.uint16,{header:{xAvgCharWidth:n.int16,usWeightClass:n.uint16,usWidthClass:n.uint16,fsType:new n.Bitfield(n.uint16,[null,"noEmbedding","viewOnly","editable",null,null,null,null,"noSubsetting","bitmapOnly"]),ySubscriptXSize:n.int16,ySubscriptYSize:n.int16,ySubscriptXOffset:n.int16,ySubscriptYOffset:n.int16,ySuperscriptXSize:n.int16,ySuperscriptYSize:n.int16,ySuperscriptXOffset:n.int16,ySuperscriptYOffset:n.int16,yStrikeoutSize:n.int16,yStrikeoutPosition:n.int16,sFamilyClass:n.int16,panose:new n.Array(n.uint8,10),ulCharRange:new n.Array(n.uint32,4),vendorID:new n.String(4),fsSelection:new n.Bitfield(n.uint16,["italic","underscore","negative","outlined","strikeout","bold","regular","useTypoMetrics","wws","oblique"]),usFirstCharIndex:n.uint16,usLastCharIndex:n.uint16},0:{},1:{typoAscender:n.int16,typoDescender:n.int16,typoLineGap:n.int16,winAscent:n.uint16,winDescent:n.uint16,codePageRange:new n.Array(n.uint32,2)},2:{typoAscender:n.int16,typoDescender:n.int16,typoLineGap:n.int16,winAscent:n.uint16,winDescent:n.uint16,codePageRange:new n.Array(n.uint32,2),xHeight:n.int16,capHeight:n.int16,defaultChar:n.uint16,breakChar:n.uint16,maxContent:n.uint16},5:{typoAscender:n.int16,typoDescender:n.int16,typoLineGap:n.int16,winAscent:n.uint16,winDescent:n.uint16,codePageRange:new n.Array(n.uint32,2),xHeight:n.int16,capHeight:n.int16,defaultChar:n.uint16,breakChar:n.uint16,maxContent:n.uint16,usLowerOpticalPointSize:n.uint16,usUpperOpticalPointSize:n.uint16}}),Z=K.versions;Z[3]=Z[4]=Z[2];var J=new n.VersionedStruct(n.fixed32,{header:{italicAngle:n.fixed32,underlinePosition:n.int16,underlineThickness:n.int16,isFixedPitch:n.uint32,minMemType42:n.uint32,maxMemType42:n.uint32,minMemType1:n.uint32,maxMemType1:n.uint32},1:{},2:{numberOfGlyphs:n.uint16,glyphNameIndex:new n.Array(n.uint16,"numberOfGlyphs"),names:new n.Array(new n.String(n.uint8))},2.5:{numberOfGlyphs:n.uint16,offsets:new n.Array(n.uint8,"numberOfGlyphs")},3:{},4:{map:new n.Array(n.uint32,(function(t){return t.parent.maxp.numGlyphs}))}}),Q=new n.Struct({controlValues:new n.Array(n.int16)}),$=new n.Struct({instructions:new n.Array(n.uint8)}),tt=new n.VersionedStruct("head.indexToLocFormat",{0:{offsets:new n.Array(n.uint16)},1:{offsets:new n.Array(n.uint32)}});tt.process=function(){if(0===this.version)for(var t=0;t<this.offsets.length;t++)this.offsets[t]<<=1},tt.preEncode=function(){if(0===this.version)for(var t=0;t<this.offsets.length;t++)this.offsets[t]>>>=1};var et=new n.Struct({controlValueProgram:new n.Array(n.uint8)}),it=new n.Array(new n.Buffer),nt={};nt.cmap=M,nt.head=F,nt.hhea=L,nt.hmtx=z,nt.maxp=B,nt.name=q,nt["OS/2"]=K,nt.post=J,nt.fpgm=$,nt.loca=tt,nt.prep=et,nt["cvt "]=Q,nt.glyf=it;var rt,ot=new n.Struct({tag:new n.String(4),checkSum:n.uint32,offset:new n.Pointer(n.uint32,"void",{type:"global"}),length:n.uint32}),st=new n.Struct({tag:new n.String(4),numTables:n.uint16,searchRange:n.uint16,entrySelector:n.uint16,rangeShift:n.uint16,tables:new n.Array(ot,"numTables")});function at(t,e){for(var i=0,n=t.length-1;i<=n;){var r=i+n>>1,o=e(t[r]);if(o<0)n=r-1;else{if(!(o>0))return r;i=r+1}}return-1}function lt(t,e){for(var i=[];t<e;)i.push(t++);return i}st.process=function(){for(var t,e={},i=C(this.tables);!(t=i()).done;){var n=t.value;e[n.tag]=n}this.tables=e},st.preEncode=function(t){var e=[];for(var i in this.tables){var r=this.tables[i];r&&e.push({tag:i,checkSum:0,offset:new n.VoidPointer(nt[i],r),length:nt[i].size(r)})}this.tag="true",this.numTables=e.length,this.tables=e;var o=Math.floor(Math.log(this.numTables)/Math.LN2),s=Math.pow(2,o);this.searchRange=16*s,this.entrySelector=Math.log(s)/Math.LN2,this.rangeShift=16*this.numTables-this.searchRange};try{var ht=t("iconv-lite")}catch(t){}var ut=(j((rt=function(){function t(t){if(this.encoding=null,this.cmap=this.findSubtable(t,[[3,10],[0,6],[0,4],[3,1],[0,3],[0,2],[0,1],[0,0]]),!this.cmap&&ht)for(var e,i=C(t.tables);!(e=i()).done;){var n=e.value,r=H(n.platformID,n.encodingID,n.table.language-1);ht.encodingExists(r)&&(this.cmap=n.table,this.encoding=r)}if(!this.cmap)throw new Error("Could not find a supported cmap table");this.uvs=this.findSubtable(t,[[0,5]]),this.uvs&&14!==this.uvs.version&&(this.uvs=null)}var e=t.prototype;return e.findSubtable=function(t,e){for(var i,n=C(e);!(i=n()).done;)for(var r,o=i.value,s=o[0],a=o[1],l=C(t.tables);!(r=l()).done;){var h=r.value;if(h.platformID===s&&h.encodingID===a)return h.table}return null},e.lookup=function(t,e){if(this.encoding){var i=ht.encode(u(t),this.encoding);t=0;for(var n=0;n<i.length;n++)t=t<<8|i[n]}else if(e){var r=this.getVariationSelector(t,e);if(r)return r}var o=this.cmap;switch(o.version){case 0:return o.codeMap.get(t)||0;case 4:for(var s=0,a=o.segCount-1;s<=a;){var l=s+a>>1;if(t<o.startCode.get(l))a=l-1;else{if(!(t>o.endCode.get(l))){var h=o.idRangeOffset.get(l),c=void 0;if(0===h)c=t+o.idDelta.get(l);else{var d=h/2+(t-o.startCode.get(l))-(o.segCount-l);0!==(c=o.glyphIndexArray.get(d)||0)&&(c+=o.idDelta.get(l))}return 65535&c}s=l+1}}return 0;case 8:throw new Error("TODO: cmap format 8");case 6:case 10:return o.glyphIndices.get(t-o.firstCode)||0;case 12:case 13:for(var f=0,p=o.nGroups-1;f<=p;){var g=f+p>>1,_=o.groups.get(g);if(t<_.startCharCode)p=g-1;else{if(!(t>_.endCharCode))return 12===o.version?_.glyphID+(t-_.startCharCode):_.glyphID;f=g+1}}return 0;case 14:throw new Error("TODO: cmap format 14");default:throw new Error("Unknown cmap format "+o.version)}},e.getVariationSelector=function(t,e){if(!this.uvs)return 0;var i=this.uvs.varSelectors.toArray(),n=at(i,(function(t){return e-t.varSelector})),r=i[n];return-1!==n&&r.defaultUVS&&(n=at(r.defaultUVS,(function(e){return t<e.startUnicodeValue?-1:t>e.startUnicodeValue+e.additionalCount?1:0}))),-1!==n&&r.nonDefaultUVS&&-1!==(n=at(r.nonDefaultUVS,(function(e){return t-e.unicodeValue})))?r.nonDefaultUVS[n].glyphID:0},e.getCharacterSet=function(){var t=this.cmap;switch(t.version){case 0:return lt(0,t.codeMap.length);case 4:for(var e=[],i=t.endCode.toArray(),n=0;n<i.length;n++){var r=i[n]+1,o=t.startCode.get(n);e.push.apply(e,lt(o,r))}return e;case 8:throw new Error("TODO: cmap format 8");case 6:case 10:return lt(t.firstCode,t.firstCode+t.glyphIndices.length);case 12:case 13:for(var s,a=[],l=C(t.groups.toArray());!(s=l()).done;){var h=s.value;a.push.apply(a,lt(h.startCharCode,h.endCharCode+1))}return a;case 14:throw new Error("TODO: cmap format 14");default:throw new Error("Unknown cmap format "+t.version)}},e.codePointsForGlyph=function(t){var e=this.cmap;switch(e.version){case 0:for(var i=[],n=0;n<256;n++)e.codeMap.get(n)===t&&i.push(n);return i;case 4:for(var r=[],o=0;o<e.segCount;o++)for(var s=e.endCode.get(o),a=e.startCode.get(o),l=e.idRangeOffset.get(o),h=e.idDelta.get(o),u=a;u<=s;u++){var c=0;if(0===l)c=u+h;else{var d=l/2+(u-a)-(e.segCount-o);0!==(c=e.glyphIndexArray.get(d)||0)&&(c+=h)}c===t&&r.push(u)}return r;case 12:for(var f,p=[],g=C(e.groups.toArray());!(f=g()).done;){var _=f.value;t>=_.glyphID&&t<=_.glyphID+(_.endCharCode-_.startCharCode)&&p.push(_.startCharCode+(t-_.glyphID))}return p;case 13:for(var m,w=[],b=C(e.groups.toArray());!(m=b()).done;){var v=m.value;t===v.glyphID&&w.push.apply(w,lt(v.startCharCode,v.endCharCode+1))}return w;default:throw new Error("Unknown cmap format "+e.version)}},t}()).prototype,"getCharacterSet",[S],a(rt.prototype,"getCharacterSet"),rt.prototype),j(rt.prototype,"codePointsForGlyph",[S],a(rt.prototype,"codePointsForGlyph"),rt.prototype),rt),ct=function(){function t(t){this.font=t}var e=t.prototype;return e.positionGlyphs=function(t,e){for(var i=0,n=0,r=0;r<t.length;r++)t[r].isMark?n=r:(i!==n&&this.positionCluster(t,e,i,n),i=n=r);return i!==n&&this.positionCluster(t,e,i,n),e},e.positionCluster=function(t,e,i,n){var r=t[i],o=r.cbox.copy();r.codePoints.length>1&&(o.minX+=(r.codePoints.length-1)*o.width/r.codePoints.length);for(var s=-e[i].xAdvance,a=0,l=this.font.unitsPerEm/16,h=i+1;h<=n;h++){var u=t[h],c=u.cbox,d=e[h],f=this.getCombiningClass(u.codePoints[0]);if("Not_Reordered"!==f){switch(d.xOffset=d.yOffset=0,f){case"Double_Above":case"Double_Below":d.xOffset+=o.minX-c.width/2-c.minX;break;case"Attached_Below_Left":case"Below_Left":case"Above_Left":d.xOffset+=o.minX-c.minX;break;case"Attached_Above_Right":case"Below_Right":case"Above_Right":d.xOffset+=o.maxX-c.width-c.minX;break;default:d.xOffset+=o.minX+(o.width-c.width)/2-c.minX}switch(f){case"Double_Below":case"Below_Left":case"Below":case"Below_Right":case"Attached_Below_Left":case"Attached_Below":"Attached_Below_Left"!==f&&"Attached_Below"!==f||(o.minY+=l),d.yOffset=-o.minY-c.maxY,o.minY+=c.height;break;case"Double_Above":case"Above_Left":case"Above":case"Above_Right":case"Attached_Above":case"Attached_Above_Right":"Attached_Above"!==f&&"Attached_Above_Right"!==f||(o.maxY+=l),d.yOffset=o.maxY-c.minY,o.maxY+=c.height}d.xAdvance=d.yAdvance=0,d.xOffset+=s,d.yOffset+=a}else s-=d.xAdvance,a-=d.yAdvance}},e.getCombiningClass=function(t){var e=f.getCombiningClass(t);if(3584==(-256&t))if("Not_Reordered"===e)switch(t){case 3633:case 3636:case 3637:case 3638:case 3639:case 3655:case 3660:case 3645:case 3662:return"Above_Right";case 3761:case 3764:case 3765:case 3766:case 3767:case 3771:case 3788:case 3789:return"Above";case 3772:return"Below"}else if(3642===t)return"Below_Right";switch(e){case"CCC10":case"CCC11":case"CCC12":case"CCC13":case"CCC14":case"CCC15":case"CCC16":case"CCC17":case"CCC18":case"CCC20":case"CCC22":case"CCC29":case"CCC32":case"CCC118":case"CCC129":case"CCC132":return"Below";case"CCC23":return"Attached_Above";case"CCC24":case"CCC107":return"Above_Right";case"CCC25":case"CCC19":return"Above_Left";case"CCC26":case"CCC27":case"CCC28":case"CCC30":case"CCC31":case"CCC33":case"CCC34":case"CCC35":case"CCC36":case"CCC122":case"CCC130":return"Above";case"CCC21":break;case"CCC103":return"Below_Right"}return e},t}(),dt=function(){function t(t,e,i,n){void 0===t&&(t=1/0),void 0===e&&(e=1/0),void 0===i&&(i=-1/0),void 0===n&&(n=-1/0),this.minX=t,this.minY=e,this.maxX=i,this.maxY=n}var e=t.prototype;return e.addPoint=function(t,e){Math.abs(t)!==1/0&&(t<this.minX&&(this.minX=t),t>this.maxX&&(this.maxX=t)),Math.abs(e)!==1/0&&(e<this.minY&&(this.minY=e),e>this.maxY&&(this.maxY=e))},e.copy=function(){return new t(this.minX,this.minY,this.maxX,this.maxY)},b(t,[{key:"width",get:function(){return this.maxX-this.minX}},{key:"height",get:function(){return this.maxY-this.minY}}]),t}(),ft={Caucasian_Albanian:"aghb",Arabic:"arab",Imperial_Aramaic:"armi",Armenian:"armn",Avestan:"avst",Balinese:"bali",Bamum:"bamu",Bassa_Vah:"bass",Batak:"batk",Bengali:["bng2","beng"],Bopomofo:"bopo",Brahmi:"brah",Braille:"brai",Buginese:"bugi",Buhid:"buhd",Chakma:"cakm",Canadian_Aboriginal:"cans",Carian:"cari",Cham:"cham",Cherokee:"cher",Coptic:"copt",Cypriot:"cprt",Cyrillic:"cyrl",Devanagari:["dev2","deva"],Deseret:"dsrt",Duployan:"dupl",Egyptian_Hieroglyphs:"egyp",Elbasan:"elba",Ethiopic:"ethi",Georgian:"geor",Glagolitic:"glag",Gothic:"goth",Grantha:"gran",Greek:"grek",Gujarati:["gjr2","gujr"],Gurmukhi:["gur2","guru"],Hangul:"hang",Han:"hani",Hanunoo:"hano",Hebrew:"hebr",Hiragana:"hira",Pahawh_Hmong:"hmng",Katakana_Or_Hiragana:"hrkt",Old_Italic:"ital",Javanese:"java",Kayah_Li:"kali",Katakana:"kana",Kharoshthi:"khar",Khmer:"khmr",Khojki:"khoj",Kannada:["knd2","knda"],Kaithi:"kthi",Tai_Tham:"lana",Lao:"lao ",Latin:"latn",Lepcha:"lepc",Limbu:"limb",Linear_A:"lina",Linear_B:"linb",Lisu:"lisu",Lycian:"lyci",Lydian:"lydi",Mahajani:"mahj",Mandaic:"mand",Manichaean:"mani",Mende_Kikakui:"mend",Meroitic_Cursive:"merc",Meroitic_Hieroglyphs:"mero",Malayalam:["mlm2","mlym"],Modi:"modi",Mongolian:"mong",Mro:"mroo",Meetei_Mayek:"mtei",Myanmar:["mym2","mymr"],Old_North_Arabian:"narb",Nabataean:"nbat",Nko:"nko ",Ogham:"ogam",Ol_Chiki:"olck",Old_Turkic:"orkh",Oriya:["ory2","orya"],Osmanya:"osma",Palmyrene:"palm",Pau_Cin_Hau:"pauc",Old_Permic:"perm",Phags_Pa:"phag",Inscriptional_Pahlavi:"phli",Psalter_Pahlavi:"phlp",Phoenician:"phnx",Miao:"plrd",Inscriptional_Parthian:"prti",Rejang:"rjng",Runic:"runr",Samaritan:"samr",Old_South_Arabian:"sarb",Saurashtra:"saur",Shavian:"shaw",Sharada:"shrd",Siddham:"sidd",Khudawadi:"sind",Sinhala:"sinh",Sora_Sompeng:"sora",Sundanese:"sund",Syloti_Nagri:"sylo",Syriac:"syrc",Tagbanwa:"tagb",Takri:"takr",Tai_Le:"tale",New_Tai_Lue:"talu",Tamil:["tml2","taml"],Tai_Viet:"tavt",Telugu:["tel2","telu"],Tifinagh:"tfng",Tagalog:"tglg",Thaana:"thaa",Thai:"thai",Tibetan:"tibt",Tirhuta:"tirh",Ugaritic:"ugar",Vai:"vai ",Warang_Citi:"wara",Old_Persian:"xpeo",Cuneiform:"xsux",Yi:"yi  ",Inherited:"zinh",Common:"zyyy",Unknown:"zzzz"};for(var pt in ft){var gt=ft[pt];if(h(gt))for(var _t,mt=C(gt);!(_t=mt()).done;)_t.value}for(var wt={arab:!0,hebr:!0,syrc:!0,thaa:!0,cprt:!0,khar:!0,phnx:!0,"nko ":!0,lydi:!0,avst:!0,armi:!0,phli:!0,prti:!0,sarb:!0,orkh:!0,samr:!0,mand:!0,merc:!0,mero:!0,mani:!0,mend:!0,nbat:!0,narb:!0,palm:!0,phlp:!0},bt=function(){function t(t,e,i,n,r){if(this.glyphs=t,this.positions=null,this.script=i,this.language=n||null,this.direction=r||function(t){return wt[t]?"rtl":"ltr"}(i),this.features={},h(e))for(var o,s=C(e);!(o=s()).done;){var a=o.value;this.features[a]=!0}else"object"==typeof e&&(this.features=e)}return b(t,[{key:"advanceWidth",get:function(){for(var t,e=0,i=C(this.positions);!(t=i()).done;)e+=t.value.xAdvance;return e}},{key:"advanceHeight",get:function(){for(var t,e=0,i=C(this.positions);!(t=i()).done;)e+=t.value.yAdvance;return e}},{key:"bbox",get:function(){for(var t=new dt,e=0,i=0,n=0;n<this.glyphs.length;n++){var r=this.glyphs[n],o=this.positions[n],s=r.bbox;t.addPoint(s.minX+e+o.xOffset,s.minY+i+o.yOffset),t.addPoint(s.maxX+e+o.xOffset,s.maxY+i+o.yOffset),e+=o.xAdvance,i+=o.yAdvance}return t}}]),t}(),vt=function(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.xAdvance=t,this.yAdvance=e,this.xOffset=i,this.yOffset=n},yt=function(){function t(t){this.font=t,this.unicodeLayoutEngine=null,this.kernProcessor=null}var e=t.prototype;return e.layout=function(t,e,i,n,r){if("string"==typeof e&&(r=n,n=i,i=e,e=[]),"string"==typeof t){null==i&&(i=function(t){for(var e=t.length,i=0;i<e;){var n=t.charCodeAt(i++);if(55296<=n&&n<=56319&&i<e){var r=t.charCodeAt(i);56320<=r&&r<=57343&&(i++,n=((1023&n)<<10)+(1023&r)+65536)}var o=f.getScript(n);if("Common"!==o&&"Inherited"!==o&&"Unknown"!==o)return ft[o]}return ft.Unknown}(t));var o=this.font.glyphsForString(t)}else{if(null==i){for(var s,a=[],l=C(t);!(s=l()).done;){var h=s.value;a.push.apply(a,h.codePoints)}i=function(t){for(var e=0;e<t.length;e++){var i=t[e],n=f.getScript(i);if("Common"!==n&&"Inherited"!==n&&"Unknown"!==n)return ft[n]}return ft.Unknown}(a)}o=t}var u=new bt(o,e,i,n,r);return 0===o.length?(u.positions=[],u):(this.engine&&this.engine.setup&&this.engine.setup(u),this.substitute(u),this.position(u),this.hideDefaultIgnorables(u.glyphs,u.positions),this.engine&&this.engine.cleanup&&this.engine.cleanup(),u)},e.substitute=function(t){this.engine&&this.engine.substitute&&this.engine.substitute(t)},e.position=function(t){t.positions=t.glyphs.map((function(t){return new vt(t.advanceWidth)}));var e=null;this.engine&&this.engine.position&&(e=this.engine.position(t)),e||this.engine&&!this.engine.fallbackPosition||(this.unicodeLayoutEngine||(this.unicodeLayoutEngine=new ct(this.font)),this.unicodeLayoutEngine.positionGlyphs(t.glyphs,t.positions))},e.hideDefaultIgnorables=function(t,e){for(var i=this.font.glyphForCodePoint(32),n=0;n<t.length;n++)this.isDefaultIgnorable(t[n].codePoints[0])&&(t[n]=i,e[n].xAdvance=0,e[n].yAdvance=0)},e.isDefaultIgnorable=function(t){var e=t>>16;if(0===e)switch(t>>8){case 0:return 173===t;case 3:return 847===t;case 6:return 1564===t;case 23:return 6068<=t&&t<=6069;case 24:return 6155<=t&&t<=6158;case 32:return 8203<=t&&t<=8207||8234<=t&&t<=8238||8288<=t&&t<=8303;case 254:return 65024<=t&&t<=65039||65279===t;case 255:return 65520<=t&&t<=65528;default:return!1}else switch(e){case 1:return 113824<=t&&t<=113827||119155<=t&&t<=119162;case 14:return 917504<=t&&t<=921599;default:return!1}},e.getAvailableFeatures=function(t,e){var i=[];return this.engine&&i.push.apply(i,this.engine.getAvailableFeatures(t,e)),this.font.kern&&-1===i.indexOf("kern")&&i.push("kern"),i},e.stringsForGlyph=function(t){for(var e,i=new c,n=C(this.font._cmapProcessor.codePointsForGlyph(t));!(e=n()).done;){var r=e.value;i.add(u(r))}if(this.engine&&this.engine.stringsForGlyph)for(var o,s=C(this.engine.stringsForGlyph(t));!(o=s()).done;){var a=o.value;i.add(a)}return d(i)},t}(),xt={moveTo:"M",lineTo:"L",quadraticCurveTo:"Q",bezierCurveTo:"C",closePath:"Z"},Ct=function(){function t(){this.commands=[],this._bbox=null,this._cbox=null}var e=t.prototype;return e.toFunction=function(){var t=this;return function(e){t.commands.forEach((function(t){return e[t.command].apply(e,t.args)}))}},e.toSVG=function(){return this.commands.map((function(t){var e=t.args.map((function(t){return Math.round(100*t)/100}));return""+xt[t.command]+e.join(" ")})).join("")},e.mapPoints=function(e){for(var i,n=new t,r=C(this.commands);!(i=r()).done;){for(var o=i.value,s=[],a=0;a<o.args.length;a+=2){var l=e(o.args[a],o.args[a+1]),h=l[0],u=l[1];s.push(h,u)}n[o.command].apply(n,s)}return n},e.transform=function(t,e,i,n,r,o){return this.mapPoints((function(s,a){return[s=t*s+i*a+r,a=e*s+n*a+o]}))},e.translate=function(t,e){return this.transform(1,0,0,1,t,e)},e.rotate=function(t){var e=Math.cos(t),i=Math.sin(t);return this.transform(e,i,-i,e,0,0)},e.scale=function(t,e){return void 0===e&&(e=t),this.transform(t,0,0,e,0,0)},b(t,[{key:"cbox",get:function(){if(!this._cbox){for(var t,e=new dt,i=C(this.commands);!(t=i()).done;)for(var n=t.value,r=0;r<n.args.length;r+=2)e.addPoint(n.args[r],n.args[r+1]);this._cbox=s(e)}return this._cbox}},{key:"bbox",get:function(){if(this._bbox)return this._bbox;for(var t,e=new dt,i=0,n=0,r=function(t){return Math.pow(1-t,3)*y[E]+3*Math.pow(1-t,2)*t*x[E]+3*(1-t)*Math.pow(t,2)*j[E]+Math.pow(t,3)*S[E]},o=C(this.commands);!(t=o()).done;){var a=t.value;switch(a.command){case"moveTo":case"lineTo":var l=a.args,h=l[0],u=l[1];e.addPoint(h,u),i=h,n=u;break;case"quadraticCurveTo":case"bezierCurveTo":if("quadraticCurveTo"===a.command)var c=a.args,d=c[0],f=c[1],p=i+2/3*(d-i),g=n+2/3*(f-n),_=(b=c[2])+2/3*(d-b),m=(v=c[3])+2/3*(f-v);else var w=a.args,b=(p=w[0],g=w[1],_=w[2],m=w[3],w[4]),v=w[5];e.addPoint(b,v);for(var y=[i,n],x=[p,g],j=[_,m],S=[b,v],E=0;E<=1;E++){var k=6*y[E]-12*x[E]+6*j[E],T=-3*y[E]+9*x[E]-9*j[E]+3*S[E];if(a=3*x[E]-3*y[E],0!==T){var P=Math.pow(k,2)-4*a*T;if(!(P<0)){var A=(-k+Math.sqrt(P))/(2*T);0<A&&A<1&&(0===E?e.addPoint(r(A),e.maxY):1===E&&e.addPoint(e.maxX,r(A)));var R=(-k-Math.sqrt(P))/(2*T);0<R&&R<1&&(0===E?e.addPoint(r(R),e.maxY):1===E&&e.addPoint(e.maxX,r(R)))}}else{if(0===k)continue;var O=-a/k;0<O&&O<1&&(0===E?e.addPoint(r(O),e.maxY):1===E&&e.addPoint(e.maxX,r(O)))}}i=b,n=v}}return this._bbox=s(e)}}]),t}(),jt=function(){var t=Et[St];Ct.prototype[t]=function(){this._bbox=this._cbox=null;for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return this.commands.push({command:t,args:i}),this}},St=0,Et=["moveTo","lineTo","quadraticCurveTo","bezierCurveTo","closePath"];St<Et.length;St++)jt();var kt,Tt,Pt=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"],At=(j((kt=function(){function t(t,e,i){this.id=t,this.codePoints=e,this._font=i,this.isMark=this.codePoints.length>0&&this.codePoints.every(f.isMark),this.isLigature=this.codePoints.length>1}var e=t.prototype;return e._getPath=function(){return new Ct},e._getCBox=function(){return this.path.cbox},e._getBBox=function(){return this.path.bbox},e._getTableMetrics=function(t){if(this.id<t.metrics.length)return t.metrics.get(this.id);var e=t.metrics.get(t.metrics.length-1);return{advance:e?e.advance:0,bearing:t.bearings.get(this.id-t.metrics.length)||0}},e._getMetrics=function(t){if(this._metrics)return this._metrics;var e,i=this._getTableMetrics(this._font.hmtx),n=i.advance,r=i.bearing;if(this._font.vmtx)var o=this._getTableMetrics(this._font.vmtx),s=o.advance,a=o.bearing;else if(null==t&&(t=this.cbox),(e=this._font["OS/2"])&&e.version>0)s=Math.abs(e.typoAscender-e.typoDescender),a=e.typoAscender-t.maxY;else{var l=this._font.hhea;s=Math.abs(l.ascent-l.descent),a=l.ascent-t.maxY}return this._font._variationProcessor&&this._font.HVAR&&(n+=this._font._variationProcessor.getAdvanceAdjustment(this.id,this._font.HVAR)),this._metrics={advanceWidth:n,advanceHeight:s,leftBearing:r,topBearing:a}},e.getScaledPath=function(t){var e=1/this._font.unitsPerEm*t;return this.path.scale(e)},e._getName=function(){var t=this._font.post;if(!t)return null;switch(t.version){case 1:return Pt[this.id];case 2:var e=t.glyphNameIndex[this.id];return e<Pt.length?Pt[e]:t.names[e-Pt.length];case 2.5:return Pt[this.id+t.offsets[this.id]];case 4:return String.fromCharCode(t.map[this.id])}},e.render=function(t,e){t.save();var i=1/this._font.head.unitsPerEm*e;t.scale(i,i),this.path.toFunction()(t),t.fill(),t.restore()},b(t,[{key:"cbox",get:function(){return this._getCBox()}},{key:"bbox",get:function(){return this._getBBox()}},{key:"path",get:function(){return this._getPath()}},{key:"advanceWidth",get:function(){return this._getMetrics().advanceWidth}},{key:"advanceHeight",get:function(){return this._getMetrics().advanceHeight}},{key:"ligatureCaretPositions",get:function(){}},{key:"name",get:function(){return this._getName()}}]),t}()).prototype,"cbox",[S],a(kt.prototype,"cbox"),kt.prototype),j(kt.prototype,"bbox",[S],a(kt.prototype,"bbox"),kt.prototype),j(kt.prototype,"path",[S],a(kt.prototype,"path"),kt.prototype),j(kt.prototype,"advanceWidth",[S],a(kt.prototype,"advanceWidth"),kt.prototype),j(kt.prototype,"advanceHeight",[S],a(kt.prototype,"advanceHeight"),kt.prototype),j(kt.prototype,"name",[S],a(kt.prototype,"name"),kt.prototype),kt),Rt=new n.Struct({numberOfContours:n.int16,xMin:n.int16,yMin:n.int16,xMax:n.int16,yMax:n.int16}),Ot=function(){function t(t,e,i,n){void 0===i&&(i=0),void 0===n&&(n=0),this.onCurve=t,this.endContour=e,this.x=i,this.y=n}return t.prototype.copy=function(){return new t(this.onCurve,this.endContour,this.x,this.y)},t}(),Dt=function(t,e,i){this.glyphID=t,this.dx=e,this.dy=i,this.pos=0,this.scaleX=this.scaleY=1,this.scale01=this.scale10=0},It=function(t){function e(e,i,n){return t.apply(this,arguments)||this}v(e,t);var i=e.prototype;return i._getCBox=function(t){if(this._font._variationProcessor&&!t)return this.path.cbox;var e=this._font._getTableStream("glyf");e.pos+=this._font.loca.offsets[this.id];var i=Rt.decode(e),n=new dt(i.xMin,i.yMin,i.xMax,i.yMax);return s(n)},i._parseGlyphCoord=function(t,e,i,n){if(i){var r=t.readUInt8();n||(r=-r),r+=e}else r=n?e:e+t.readInt16BE();return r},i._decode=function(){var t=this._font.loca.offsets[this.id];if(t===this._font.loca.offsets[this.id+1])return null;var e=this._font._getTableStream("glyf");e.pos+=t;var i=e.pos,n=Rt.decode(e);return n.numberOfContours>0?this._decodeSimple(n,e):n.numberOfContours<0&&this._decodeComposite(n,e,i),n},i._decodeSimple=function(t,e){t.points=[];var i=new n.Array(n.uint16,t.numberOfContours).decode(e);t.instructions=new n.Array(n.uint8,n.uint16).decode(e);for(var r=[],o=i[i.length-1]+1;r.length<o;){var s=e.readUInt8();if(r.push(s),8&s)for(var a=e.readUInt8(),l=0;l<a;l++)r.push(s)}for(var h=0;h<r.length;h++){s=r[h];var u=new Ot(!!(1&s),i.indexOf(h)>=0,0,0);t.points.push(u)}var c=0;for(h=0;h<r.length;h++)s=r[h],t.points[h].x=c=this._parseGlyphCoord(e,c,2&s,16&s);var d=0;for(h=0;h<r.length;h++)s=r[h],t.points[h].y=d=this._parseGlyphCoord(e,d,4&s,32&s);if(this._font._variationProcessor){var f=t.points.slice();f.push.apply(f,this._getPhantomPoints(t)),this._font._variationProcessor.transformPoints(this.id,f),t.phantomPoints=f.slice(-4)}},i._decodeComposite=function(t,e,i){void 0===i&&(i=0),t.components=[];for(var n=!1,r=32;32&r;){r=e.readUInt16BE();var o=e.pos-i,s=e.readUInt16BE();if(n||(n=0!=(256&r)),1&r)var a=e.readInt16BE(),l=e.readInt16BE();else a=e.readInt8(),l=e.readInt8();(c=new Dt(s,a,l)).pos=o,8&r?c.scaleX=c.scaleY=(e.readUInt8()<<24|e.readUInt8()<<16)/1073741824:64&r?(c.scaleX=(e.readUInt8()<<24|e.readUInt8()<<16)/1073741824,c.scaleY=(e.readUInt8()<<24|e.readUInt8()<<16)/1073741824):128&r&&(c.scaleX=(e.readUInt8()<<24|e.readUInt8()<<16)/1073741824,c.scale01=(e.readUInt8()<<24|e.readUInt8()<<16)/1073741824,c.scale10=(e.readUInt8()<<24|e.readUInt8()<<16)/1073741824,c.scaleY=(e.readUInt8()<<24|e.readUInt8()<<16)/1073741824),t.components.push(c)}if(this._font._variationProcessor){for(var h=[],u=0;u<t.components.length;u++){var c=t.components[u];h.push(new Ot(!0,!0,c.dx,c.dy))}h.push.apply(h,this._getPhantomPoints(t)),this._font._variationProcessor.transformPoints(this.id,h),t.phantomPoints=h.splice(-4,4);for(var d=0;d<h.length;d++){var f=h[d];t.components[d].dx=f.x,t.components[d].dy=f.y}}return n},i._getPhantomPoints=function(t){var e=this._getCBox(!0);null==this._metrics&&(this._metrics=At.prototype._getMetrics.call(this,e));var i=this._metrics,n=i.advanceWidth,r=i.advanceHeight,o=i.leftBearing,s=i.topBearing;return[new Ot(!1,!0,t.xMin-o,0),new Ot(!1,!0,t.xMin-o+n,0),new Ot(!1,!0,0,t.yMax+s),new Ot(!1,!0,0,t.yMax+s+r)]},i._getContours=function(){var t=this._decode();if(!t)return[];var e=[];if(t.numberOfContours<0)for(var i,n=C(t.components);!(i=n()).done;)for(var r=i.value,o=this._font.getGlyph(r.glyphID)._getContours(),s=0;s<o.length;s++)for(var a=o[s],l=0;l<a.length;l++){var h=a[l],u=h.x*r.scaleX+h.y*r.scale01+r.dx,c=h.y*r.scaleY+h.x*r.scale10+r.dy;e.push(new Ot(h.onCurve,h.endContour,u,c))}else e=t.points||[];t.phantomPoints&&!this._font.directory.tables.HVAR&&(this._metrics.advanceWidth=t.phantomPoints[1].x-t.phantomPoints[0].x,this._metrics.advanceHeight=t.phantomPoints[3].y-t.phantomPoints[2].y,this._metrics.leftBearing=t.xMin-t.phantomPoints[0].x,this._metrics.topBearing=t.phantomPoints[2].y-t.yMax);for(var d=[],f=[],p=0;p<e.length;p++){var g=e[p];f.push(g),g.endContour&&(d.push(f),f=[])}return d},i._getMetrics=function(){if(this._metrics)return this._metrics;var e=this._getCBox(!0);return t.prototype._getMetrics.call(this,e),this._font._variationProcessor&&!this._font.HVAR&&this.path,this._metrics},i._getPath=function(){for(var t=this._getContours(),e=new Ct,i=0;i<t.length;i++){var n=t[i],r=n[0],o=n[n.length-1],s=0;if(r.onCurve){var a=null;s=1}else a=r=o.onCurve?o:new Ot(!1,!1,(r.x+o.x)/2,(r.y+o.y)/2);e.moveTo(r.x,r.y);for(var l=s;l<n.length;l++){var h=n[l],u=0===l?r:n[l-1];if(u.onCurve&&h.onCurve)e.lineTo(h.x,h.y);else if(u.onCurve&&!h.onCurve)a=h;else if(u.onCurve||h.onCurve){if(u.onCurve||!h.onCurve)throw new Error("Unknown TTF path state");e.quadraticCurveTo(a.x,a.y,h.x,h.y),a=null}else{var c=(u.x+h.x)/2,d=(u.y+h.y)/2;e.quadraticCurveTo(u.x,u.y,c,d);a=h}}a&&e.quadraticCurveTo(a.x,a.y,r.x,r.y),e.closePath()}return e},e}(At),Mt=g.resolve(),Ft=function(){function t(t){this.font=t,this.glyphs=[],this.mapping={},this.includeGlyph(0)}var e=t.prototype;return e.includeGlyph=function(t){return"object"==typeof t&&(t=t.id),null==this.mapping[t]&&(this.glyphs.push(t),this.mapping[t]=this.glyphs.length-1),this.mapping[t]},e.encodeStream=function(){var t=this,e=new n.EncodeStream;return Mt.then((function(){return t.encode(e),e.end()})),e},t}(),Lt=function(){function t(){}return t.size=function(t){return t>=0&&t<=255?1:2},t.encode=function(t,e){e>=0&&e<=255?t.writeUInt8(e):t.writeInt16BE(e)},t}(),Nt=new n.Struct({numberOfContours:n.int16,xMin:n.int16,yMin:n.int16,xMax:n.int16,yMax:n.int16,endPtsOfContours:new n.Array(n.uint16,"numberOfContours"),instructions:new n.Array(n.uint8,n.uint16),flags:new n.Array(n.uint8,0),xPoints:new n.Array(Lt,0),yPoints:new n.Array(Lt,0)}),zt=function(){function t(){}var e=t.prototype;return e.encodeSimple=function(t,e){void 0===e&&(e=[]);for(var i=[],r=[],o=[],s=[],a=0,l=0,h=0,u=0,c=0,d=0;d<t.commands.length;d++){for(var f=t.commands[d],p=0;p<f.args.length;p+=2){var g=f.args[p],_=f.args[p+1],m=0;if("quadraticCurveTo"===f.command&&2===p){var w=t.commands[d+1];if(w&&"quadraticCurveTo"===w.command){var b=(l+w.args[0])/2,v=(h+w.args[1])/2;if(g===b&&_===v)continue}}"quadraticCurveTo"===f.command&&0===p||(m|=1),m=this._encodePoint(g,l,r,m,2,16),(m=this._encodePoint(_,h,o,m,4,32))===u&&a<255?(s[s.length-1]|=8,a++):(a>0&&(s.push(a),a=0),s.push(m),u=m),l=g,h=_,c++}"closePath"===f.command&&i.push(c-1)}t.commands.length>1&&"closePath"!==t.commands[t.commands.length-1].command&&i.push(c-1);var y=t.bbox,x={numberOfContours:i.length,xMin:y.minX,yMin:y.minY,xMax:y.maxX,yMax:y.maxY,endPtsOfContours:i,instructions:e,flags:s,xPoints:r,yPoints:o},C=Nt.size(x),j=4-C%4,S=new n.EncodeStream(C+j);return Nt.encode(S,x),0!==j&&S.fill(0,j),S.buffer},e._encodePoint=function(t,e,i,n,r,o){var s=t-e;return t===e?n|=o:(-255<=s&&s<=255&&(n|=r,s<0?s=-s:n|=o),i.push(s)),n},t}(),Bt=function(t){function e(e){var i;return(i=t.call(this,e)||this).glyphEncoder=new zt,i}v(e,t);var n=e.prototype;return n._addGlyph=function(t){var e=this.font.getGlyph(t),n=e._decode(),r=this.font.loca.offsets[t],o=this.font.loca.offsets[t+1],s=this.font._getTableStream("glyf");s.pos+=r;var a=s.readBuffer(o-r);if(n&&n.numberOfContours<0){a=new i(a);for(var l,h=C(n.components);!(l=h()).done;){var u=l.value;t=this.includeGlyph(u.glyphID),a.writeUInt16BE(t,u.pos)}}else n&&this.font._variationProcessor&&(a=this.glyphEncoder.encodeSimple(e.path,n.instructions));return this.glyf.push(a),this.loca.offsets.push(this.offset),this.hmtx.metrics.push({advance:e.advanceWidth,bearing:e._getMetrics().leftBearing}),this.offset+=a.length,this.glyf.length-1},n.encode=function(t){this.glyf=[],this.offset=0,this.loca={offsets:[],version:this.font.loca.version},this.hmtx={metrics:[],bearings:[]};for(var e=0;e<this.glyphs.length;)this._addGlyph(this.glyphs[e++]);var i=p(this.font.maxp);i.numGlyphs=this.glyf.length,this.loca.offsets.push(this.offset);var n=p(this.font.head);n.indexToLocFormat=this.loca.version;var r=p(this.font.hhea);r.numberOfMetrics=this.hmtx.metrics.length,st.encode(t,{tables:{head:n,hhea:r,loca:this.loca,maxp:i,"cvt ":this.font["cvt "],prep:this.font.prep,glyf:this.glyf,hmtx:this.hmtx,fpgm:this.font.fpgm}})},e}(Ft),Ht=(j((Tt=function(){function t(t,e){for(var i in void 0===e&&(e=null),this.defaultLanguage=null,this.stream=t,this.variationCoords=e,this._directoryPos=this.stream.pos,this._tables={},this._glyphs={},this._decodeDirectory(),this.directory.tables){var n=this.directory.tables[i];nt[i]&&n.length>0&&r(this,i,{get:this._getTable.bind(this,n)})}}t.probe=function(t){var e=t.toString("ascii",0,4);return"true"===e||"OTTO"===e||e===String.fromCharCode(0,1,0,0)};var e=t.prototype;return e.setDefaultLanguage=function(t){void 0===t&&(t=null),this.defaultLanguage=t},e._getTable=function(t){if(!(t.tag in this._tables))try{this._tables[t.tag]=this._decodeTable(t)}catch(e){_.logErrors&&(console.error("Error decoding table "+t.tag),console.error(e.stack))}return this._tables[t.tag]},e._getTableStream=function(t){var e=this.directory.tables[t];return e?(this.stream.pos=e.offset,this.stream):null},e._decodeDirectory=function(){return this.directory=st.decode(this.stream,{_startOffset:0})},e._decodeTable=function(t){var e=this.stream.pos,i=this._getTableStream(t.tag),n=nt[t.tag].decode(i,this,t.length);return this.stream.pos=e,n},e.getName=function(t,e){void 0===e&&(e=this.defaultLanguage||_.defaultLanguage);var i=this.name&&this.name.records[t];return i&&(i[e]||i[this.defaultLanguage]||i[_.defaultLanguage]||i.en||i[o(i)[0]])||null},e.hasGlyphForCodePoint=function(t){return!!this._cmapProcessor.lookup(t)},e.glyphForCodePoint=function(t){return this.getGlyph(this._cmapProcessor.lookup(t),[t])},e.glyphsForString=function(t){for(var e=[],i=t.length,n=0,r=-1,o=-1;n<=i;){var s=0,a=0;if(n<i){if(55296<=(s=t.charCodeAt(n++))&&s<=56319&&n<i){var l=t.charCodeAt(n);56320<=l&&l<=57343&&(n++,s=((1023&s)<<10)+(1023&l)+65536)}a=65024<=s&&s<=65039||917760<=s&&s<=917999?1:0}else n++;0===o&&1===a?e.push(this.getGlyph(this._cmapProcessor.lookup(r,s),[r,s])):0===o&&0===a&&e.push(this.glyphForCodePoint(r)),r=s,o=a}return e},e.layout=function(t,e,i,n,r){return this._layoutEngine.layout(t,e,i,n,r)},e.stringsForGlyph=function(t){return this._layoutEngine.stringsForGlyph(t)},e.getAvailableFeatures=function(t,e){return this._layoutEngine.getAvailableFeatures(t,e)},e._getBaseGlyph=function(t,e){return void 0===e&&(e=[]),this._glyphs[t]||this.directory.tables.glyf&&(this._glyphs[t]=new It(t,e,this)),this._glyphs[t]||null},e.getGlyph=function(t,e){return void 0===e&&(e=[]),this._glyphs[t]||this._getBaseGlyph(t,e),this._glyphs[t]||null},e.createSubset=function(){return new Bt(this)},e.getVariation=function(e){if(!this.directory.tables.fvar||!(this.directory.tables.gvar&&this.directory.tables.glyf||this.directory.tables.CFF2))throw new Error("Variations require a font with the fvar, gvar and glyf, or CFF2 tables.");if("string"==typeof e&&(e=this.namedVariations[e]),"object"!=typeof e)throw new Error("Variation settings must be either a variation name or settings object.");var i=this.fvar.axis.map((function(t,i){var n=t.axisTag.trim();return n in e?Math.max(t.minValue,Math.min(t.maxValue,e[n])):t.defaultValue})),r=new n.DecodeStream(this.stream.buffer);r.pos=this._directoryPos;var o=new t(r,i);return o._tables=this._tables,o},e.getFont=function(t){return this.getVariation(t)},b(t,[{key:"postscriptName",get:function(){return this.getName("postscriptName")}},{key:"fullName",get:function(){return this.getName("fullName")}},{key:"familyName",get:function(){return this.getName("fontFamily")}},{key:"subfamilyName",get:function(){return this.getName("fontSubfamily")}},{key:"copyright",get:function(){return this.getName("copyright")}},{key:"version",get:function(){return this.getName("version")}},{key:"ascent",get:function(){return this.hhea.ascent}},{key:"descent",get:function(){return this.hhea.descent}},{key:"lineGap",get:function(){return this.hhea.lineGap}},{key:"underlinePosition",get:function(){return this.post.underlinePosition}},{key:"underlineThickness",get:function(){return this.post.underlineThickness}},{key:"italicAngle",get:function(){return this.post.italicAngle}},{key:"capHeight",get:function(){var t=this["OS/2"];return t?t.capHeight:this.ascent}},{key:"xHeight",get:function(){var t=this["OS/2"];return t?t.xHeight:0}},{key:"numGlyphs",get:function(){return this.maxp.numGlyphs}},{key:"unitsPerEm",get:function(){return this.head.unitsPerEm}},{key:"bbox",get:function(){return s(new dt(this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax))}},{key:"_cmapProcessor",get:function(){return new ut(this.cmap)}},{key:"characterSet",get:function(){return this._cmapProcessor.getCharacterSet()}},{key:"_layoutEngine",get:function(){return new yt(this)}},{key:"availableFeatures",get:function(){return this._layoutEngine.getAvailableFeatures()}},{key:"variationAxes",get:function(){var t={};if(!this.fvar)return t;for(var e,i=C(this.fvar.axis);!(e=i()).done;){var n=e.value;t[n.axisTag.trim()]={name:n.name.en,min:n.minValue,default:n.defaultValue,max:n.maxValue}}return t}},{key:"namedVariations",get:function(){var t={};if(!this.fvar)return t;for(var e,i=C(this.fvar.instance);!(e=i()).done;){for(var n=e.value,r={},o=0;o<this.fvar.axis.length;o++)r[this.fvar.axis[o].axisTag.trim()]=n.coord[o];t[n.name.en]=r}return t}},{key:"_variationProcessor",get:function(){return null}}]),t}()).prototype,"bbox",[S],a(Tt.prototype,"bbox"),Tt.prototype),j(Tt.prototype,"_cmapProcessor",[S],a(Tt.prototype,"_cmapProcessor"),Tt.prototype),j(Tt.prototype,"characterSet",[S],a(Tt.prototype,"characterSet"),Tt.prototype),j(Tt.prototype,"_layoutEngine",[S],a(Tt.prototype,"_layoutEngine"),Tt.prototype),j(Tt.prototype,"variationAxes",[S],a(Tt.prototype,"variationAxes"),Tt.prototype),j(Tt.prototype,"namedVariations",[S],a(Tt.prototype,"namedVariations"),Tt.prototype),j(Tt.prototype,"_variationProcessor",[S],a(Tt.prototype,"_variationProcessor"),Tt.prototype),Tt),Vt=new n.VersionedStruct(n.uint32,{65536:{numFonts:n.uint32,offsets:new n.Array(n.uint32,"numFonts")},131072:{numFonts:n.uint32,offsets:new n.Array(n.uint32,"numFonts"),dsigTag:n.uint32,dsigLength:n.uint32,dsigOffset:n.uint32}}),Ut=function(){function t(t){if(this.stream=t,"ttcf"!==t.readString(4))throw new Error("Not a TrueType collection");this.header=Vt.decode(t)}return t.probe=function(t){return"ttcf"===t.toString("ascii",0,4)},t.prototype.getFont=function(t){for(var e,i=C(this.header.offsets);!(e=i()).done;){var r=e.value,o=new n.DecodeStream(this.stream.buffer);o.pos=r;var s=new Ht(o);if(s.postscriptName===t)return s}return null},b(t,[{key:"fonts",get:function(){for(var t,e=[],i=C(this.header.offsets);!(t=i()).done;){var r=t.value,o=new n.DecodeStream(this.stream.buffer);o.pos=r,e.push(new Ht(o))}return e}}]),t}(),Gt=new n.String(n.uint8),Wt=(new n.Struct({len:n.uint32,buf:new n.Buffer("len")}),new n.Struct({id:n.uint16,nameOffset:n.int16,attr:n.uint8,dataOffset:n.uint24,handle:n.uint32})),Yt=new n.Struct({name:new n.String(4),maxTypeIndex:n.uint16,refList:new n.Pointer(n.uint16,new n.Array(Wt,(function(t){return t.maxTypeIndex+1})),{type:"parent"})}),qt=new n.Struct({length:n.uint16,types:new n.Array(Yt,(function(t){return t.length+1}))}),Xt=new n.Struct({reserved:new n.Reserved(n.uint8,24),typeList:new n.Pointer(n.uint16,qt),nameListOffset:new n.Pointer(n.uint16,"void")}),Kt=new n.Struct({dataOffset:n.uint32,map:new n.Pointer(n.uint32,Xt),dataLength:n.uint32,mapLength:n.uint32}),Zt=function(){function t(t){this.stream=t,this.header=Kt.decode(this.stream);for(var e,i=C(this.header.map.typeList.types);!(e=i()).done;){for(var n,r=e.value,o=C(r.refList);!(n=o()).done;){var s=n.value;s.nameOffset>=0?(this.stream.pos=s.nameOffset+this.header.map.nameListOffset,s.name=Gt.decode(this.stream)):s.name=null}"sfnt"===r.name&&(this.sfnt=r)}}return t.probe=function(t){var e=new n.DecodeStream(t);try{var i=Kt.decode(e)}catch(t){return!1}for(var r,o=C(i.map.typeList.types);!(r=o()).done;)if("sfnt"===r.value.name)return!0;return!1},t.prototype.getFont=function(t){if(!this.sfnt)return null;for(var e,i=C(this.sfnt.refList);!(e=i()).done;){var r=e.value,o=this.header.dataOffset+r.dataOffset+4,s=new n.DecodeStream(this.stream.buffer.slice(o)),a=new Ht(s);if(a.postscriptName===t)return a}return null},b(t,[{key:"fonts",get:function(){for(var t,e=[],i=C(this.sfnt.refList);!(t=i()).done;){var r=t.value,o=this.header.dataOffset+r.dataOffset+4,s=new n.DecodeStream(this.stream.buffer.slice(o));e.push(new Ht(s))}return e}}]),t}();_.registerFormat(Ht),_.registerFormat(Ut),_.registerFormat(Zt),e.localExports=_}).call(this)}).call(this,t("buffer").Buffer)},{"@babel/runtime-corejs2/core-js/array/from":2,"@babel/runtime-corejs2/core-js/array/is-array":3,"@babel/runtime-corejs2/core-js/map":4,"@babel/runtime-corejs2/core-js/object/define-property":5,"@babel/runtime-corejs2/core-js/object/freeze":6,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":7,"@babel/runtime-corejs2/core-js/object/keys":8,"@babel/runtime-corejs2/core-js/promise":9,"@babel/runtime-corejs2/core-js/set":10,"@babel/runtime-corejs2/core-js/string/from-code-point":11,buffer:152,clone:123,"iconv-lite":151,restructure:250,"unicode-properties":125}],2:[function(t,e,i){e.localExports=t("core-js/library/fn/array/from")},{"core-js/library/fn/array/from":12}],3:[function(t,e,i){e.localExports=t("core-js/library/fn/array/is-array")},{"core-js/library/fn/array/is-array":13}],4:[function(t,e,i){e.localExports=t("core-js/library/fn/map")},{"core-js/library/fn/map":14}],5:[function(t,e,i){e.localExports=t("core-js/library/fn/object/define-property")},{"core-js/library/fn/object/define-property":15}],6:[function(t,e,i){e.localExports=t("core-js/library/fn/object/freeze")},{"core-js/library/fn/object/freeze":16}],7:[function(t,e,i){e.localExports=t("core-js/library/fn/object/get-own-property-descriptor")},{"core-js/library/fn/object/get-own-property-descriptor":17}],8:[function(t,e,i){e.localExports=t("core-js/library/fn/object/keys")},{"core-js/library/fn/object/keys":18}],9:[function(t,e,i){e.localExports=t("core-js/library/fn/promise")},{"core-js/library/fn/promise":19}],10:[function(t,e,i){e.localExports=t("core-js/library/fn/set")},{"core-js/library/fn/set":20}],11:[function(t,e,i){e.localExports=t("core-js/library/fn/string/from-code-point")},{"core-js/library/fn/string/from-code-point":21}],12:[function(t,e,i){t("../../modules/es6.string.iterator"),t("../../modules/es6.array.from"),e.localExports=t("../../modules/_core").Array.from},{"../../modules/_core":36,"../../modules/es6.array.from":100,"../../modules/es6.string.iterator":112}],13:[function(t,e,i){t("../../modules/es6.array.is-array"),e.localExports=t("../../modules/_core").Array.isArray},{"../../modules/_core":36,"../../modules/es6.array.is-array":101}],14:[function(t,e,i){t("../modules/es6.object.to-string"),t("../modules/es6.string.iterator"),t("../modules/web.dom.iterable"),t("../modules/es6.map"),t("../modules/es7.map.to-json"),t("../modules/es7.map.of"),t("../modules/es7.map.from"),e.localExports=t("../modules/_core").Map},{"../modules/_core":36,"../modules/es6.map":103,"../modules/es6.object.to-string":108,"../modules/es6.string.iterator":112,"../modules/es7.map.from":113,"../modules/es7.map.of":114,"../modules/es7.map.to-json":115,"../modules/web.dom.iterable":121}],15:[function(t,e,i){t("../../modules/es6.object.define-property");var n=t("../../modules/_core").Object;e.localExports=function(t,e,i){return n.defineProperty(t,e,i)}},{"../../modules/_core":36,"../../modules/es6.object.define-property":104}],16:[function(t,e,i){t("../../modules/es6.object.freeze"),e.localExports=t("../../modules/_core").Object.freeze},{"../../modules/_core":36,"../../modules/es6.object.freeze":105}],17:[function(t,e,i){t("../../modules/es6.object.get-own-property-descriptor");var n=t("../../modules/_core").Object;e.localExports=function(t,e){return n.getOwnPropertyDescriptor(t,e)}},{"../../modules/_core":36,"../../modules/es6.object.get-own-property-descriptor":106}],18:[function(t,e,i){t("../../modules/es6.object.keys"),e.localExports=t("../../modules/_core").Object.keys},{"../../modules/_core":36,"../../modules/es6.object.keys":107}],19:[function(t,e,i){t("../modules/es6.object.to-string"),t("../modules/es6.string.iterator"),t("../modules/web.dom.iterable"),t("../modules/es6.promise"),t("../modules/es7.promise.finally"),t("../modules/es7.promise.try"),e.localExports=t("../modules/_core").Promise},{"../modules/_core":36,"../modules/es6.object.to-string":108,"../modules/es6.promise":109,"../modules/es6.string.iterator":112,"../modules/es7.promise.finally":116,"../modules/es7.promise.try":117,"../modules/web.dom.iterable":121}],20:[function(t,e,i){t("../modules/es6.object.to-string"),t("../modules/es6.string.iterator"),t("../modules/web.dom.iterable"),t("../modules/es6.set"),t("../modules/es7.set.to-json"),t("../modules/es7.set.of"),t("../modules/es7.set.from"),e.localExports=t("../modules/_core").Set},{"../modules/_core":36,"../modules/es6.object.to-string":108,"../modules/es6.set":110,"../modules/es6.string.iterator":112,"../modules/es7.set.from":118,"../modules/es7.set.of":119,"../modules/es7.set.to-json":120,"../modules/web.dom.iterable":121}],21:[function(t,e,i){t("../../modules/es6.string.from-code-point"),e.localExports=t("../../modules/_core").String.fromCodePoint},{"../../modules/_core":36,"../../modules/es6.string.from-code-point":111}],22:[function(t,e,i){e.localExports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},{}],23:[function(t,e,i){e.localExports=function(){}},{}],24:[function(t,e,i){e.localExports=function(t,e,i,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(i+": incorrect invocation!");return t}},{}],25:[function(t,e,i){var n=t("./_is-object");e.localExports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},{"./_is-object":55}],26:[function(t,e,i){var n=t("./_for-of");e.localExports=function(t,e){var i=[];return n(t,!1,i.push,i,e),i}},{"./_for-of":45}],27:[function(t,e,i){var n=t("./_to-iobject"),r=t("./_to-length"),o=t("./_to-absolute-index");e.localExports=function(t){return function(e,i,s){var a,l=n(e),h=r(l.length),u=o(s,h);if(t&&i!=i){for(;h>u;)if((a=l[u++])!=a)return!0}else for(;h>u;u++)if((t||u in l)&&l[u]===i)return t||u||0;return!t&&-1}}},{"./_to-absolute-index":89,"./_to-iobject":91,"./_to-length":92}],28:[function(t,e,i){var n=t("./_ctx"),r=t("./_iobject"),o=t("./_to-object"),s=t("./_to-length"),a=t("./_array-species-create");e.localExports=function(t,e){var i=1==t,l=2==t,h=3==t,u=4==t,c=6==t,d=5==t||c,f=e||a;return function(e,a,p){for(var g,_,m=o(e),w=r(m),b=n(a,p,3),v=s(w.length),y=0,x=i?f(e,v):l?f(e,0):void 0;v>y;y++)if((d||y in w)&&(_=b(g=w[y],y,m),t))if(i)x[y]=_;else if(_)switch(t){case 3:return!0;case 5:return g;case 6:return y;case 2:x.push(g)}else if(u)return!1;return c?-1:h||u?u:x}}},{"./_array-species-create":30,"./_ctx":38,"./_iobject":52,"./_to-length":92,"./_to-object":93}],29:[function(t,e,i){var n=t("./_is-object"),r=t("./_is-array"),o=t("./_wks")("species");e.localExports=function(t){var e;return r(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!r(e.prototype)||(e=void 0),n(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},{"./_is-array":54,"./_is-object":55,"./_wks":98}],30:[function(t,e,i){var n=t("./_array-species-constructor");e.localExports=function(t,e){return new(n(t))(e)}},{"./_array-species-constructor":29}],31:[function(t,e,i){var n=t("./_cof"),r=t("./_wks")("toStringTag"),o="Arguments"==n(function(){return arguments}());e.localExports=function(t){var e,i,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?i:o?n(e):"Object"==(s=n(e))&&"function"==typeof e.callee?"Arguments":s}},{"./_cof":32,"./_wks":98}],32:[function(t,e,i){var n={}.toString;e.localExports=function(t){return n.call(t).slice(8,-1)}},{}],33:[function(t,e,i){var n=t("./_object-dp").f,r=t("./_object-create"),o=t("./_redefine-all"),s=t("./_ctx"),a=t("./_an-instance"),l=t("./_for-of"),h=t("./_iter-define"),u=t("./_iter-step"),c=t("./_set-species"),d=t("./_descriptors"),f=t("./_meta").fastKey,p=t("./_validate-collection"),g=d?"_s":"size",_=function(t,e){var i,n=f(e);if("F"!==n)return t._i[n];for(i=t._f;i;i=i.n)if(i.k==e)return i};e.localExports={getConstructor:function(t,e,i,h){var u=t((function(t,n){a(t,u,e,"_i"),t._t=e,t._i=r(null),t._f=void 0,t._l=void 0,t[g]=0,null!=n&&l(n,i,t[h],t)}));return o(u.prototype,{clear:function(){for(var t=p(this,e),i=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete i[n.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var i=p(this,e),n=_(i,t);if(n){var r=n.n,o=n.p;delete i._i[n.i],n.r=!0,o&&(o.n=r),r&&(r.p=o),i._f==n&&(i._f=r),i._l==n&&(i._l=o),i[g]--}return!!n},forEach:function(t){p(this,e);for(var i,n=s(t,arguments.length>1?arguments[1]:void 0,3);i=i?i.n:this._f;)for(n(i.v,i.k,this);i&&i.r;)i=i.p},has:function(t){return!!_(p(this,e),t)}}),d&&n(u.prototype,"size",{get:function(){return p(this,e)[g]}}),u},def:function(t,e,i){var n,r,o=_(t,e);return o?o.v=i:(t._l=o={i:r=f(e,!0),k:e,v:i,p:n=t._l,n:void 0,r:!1},t._f||(t._f=o),n&&(n.n=o),t[g]++,"F"!==r&&(t._i[r]=o)),t},getEntry:_,setStrong:function(t,e,i){h(t,e,(function(t,i){this._t=p(t,e),this._k=i,this._l=void 0}),(function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?u(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,u(1))}),i?"entries":"values",!i,!0),c(e)}}},{"./_an-instance":24,"./_ctx":38,"./_descriptors":40,"./_for-of":45,"./_iter-define":58,"./_iter-step":60,"./_meta":63,"./_object-create":66,"./_object-dp":67,"./_redefine-all":78,"./_set-species":82,"./_validate-collection":97}],34:[function(t,e,i){var n=t("./_classof"),r=t("./_array-from-iterable");e.localExports=function(t){return function(){if(n(this)!=t)throw TypeError(t+"#toJSON isn't generic");return r(this)}}},{"./_array-from-iterable":26,"./_classof":31}],35:[function(t,e,i){var n=t("./_global"),r=t("./_export"),o=t("./_meta"),s=t("./_fails"),a=t("./_hide"),l=t("./_redefine-all"),h=t("./_for-of"),u=t("./_an-instance"),c=t("./_is-object"),d=t("./_set-to-string-tag"),f=t("./_object-dp").f,p=t("./_array-methods")(0),g=t("./_descriptors");e.localExports=function(t,e,i,_,m,w){var b=n[t],v=b,y=m?"set":"add",x=v&&v.prototype,C={};return g&&"function"==typeof v&&(w||x.forEach&&!s((function(){(new v).entries().next()})))?(v=e((function(e,i){u(e,v,t,"_c"),e._c=new b,null!=i&&h(i,m,e[y],e)})),p("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),(function(t){var e="add"==t||"set"==t;t in x&&(!w||"clear"!=t)&&a(v.prototype,t,(function(i,n){if(u(this,v,t),!e&&w&&!c(i))return"get"==t&&void 0;var r=this._c[t](0===i?0:i,n);return e?this:r}))})),w||f(v.prototype,"size",{get:function(){return this._c.size}})):(v=_.getConstructor(e,t,m,y),l(v.prototype,i),o.NEED=!0),d(v,t),C[t]=v,r(r.G+r.W+r.F,C),w||_.setStrong(v,t,m),v}},{"./_an-instance":24,"./_array-methods":28,"./_descriptors":40,"./_export":43,"./_fails":44,"./_for-of":45,"./_global":46,"./_hide":48,"./_is-object":55,"./_meta":63,"./_object-dp":67,"./_redefine-all":78,"./_set-to-string-tag":83}],36:[function(t,e,i){var n=e.localExports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},{}],37:[function(t,e,i){var n=t("./_object-dp"),r=t("./_property-desc");e.localExports=function(t,e,i){e in t?n.f(t,e,r(0,i)):t[e]=i}},{"./_object-dp":67,"./_property-desc":77}],38:[function(t,e,i){var n=t("./_a-function");e.localExports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}}},{"./_a-function":22}],39:[function(t,e,i){e.localExports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},{}],40:[function(t,e,i){e.localExports=!t("./_fails")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},{"./_fails":44}],41:[function(t,e,i){var n=t("./_is-object"),r=t("./_global").document,o=n(r)&&n(r.createElement);e.localExports=function(t){return o?r.createElement(t):{}}},{"./_global":46,"./_is-object":55}],42:[function(t,e,i){e.localExports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],43:[function(t,e,i){var n=t("./_global"),r=t("./_core"),o=t("./_ctx"),s=t("./_hide"),a=t("./_has"),l=function t(e,i,l){var h,u,c,d=e&t.F,f=e&t.G,p=e&t.S,g=e&t.P,_=e&t.B,m=e&t.W,w=f?r:r[i]||(r[i]={}),b=w.prototype,v=f?n:p?n[i]:(n[i]||{}).prototype;for(h in f&&(l=i),l)(u=!d&&v&&void 0!==v[h])&&a(w,h)||(c=u?v[h]:l[h],w[h]=f&&"function"!=typeof v[h]?l[h]:_&&u?o(c,n):m&&v[h]==c?function(t){var e=function(e,i,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(c):g&&"function"==typeof c?o(Function.call,c):c,g&&((w.virtual||(w.virtual={}))[h]=c,e&t.R&&b&&!b[h]&&s(b,h,c)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.localExports=l},{"./_core":36,"./_ctx":38,"./_global":46,"./_has":47,"./_hide":48}],44:[function(t,e,i){e.localExports=function(t){try{return!!t()}catch(t){return!0}}},{}],45:[function(t,e,i){var n=t("./_ctx"),r=t("./_iter-call"),o=t("./_is-array-iter"),s=t("./_an-object"),a=t("./_to-length"),l=t("./core.get-iterator-method"),h={},u={};(i=e.localExports=function(t,e,i,c,d){var f,p,g,_,m=d?function(){return t}:l(t),w=n(i,c,e?2:1),b=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(o(m)){for(f=a(t.length);f>b;b++)if((_=e?w(s(p=t[b])[0],p[1]):w(t[b]))===h||_===u)return _}else for(g=m.call(t);!(p=g.next()).done;)if((_=r(g,w,p.value,e))===h||_===u)return _}).BREAK=h,i.RETURN=u},{"./_an-object":25,"./_ctx":38,"./_is-array-iter":53,"./_iter-call":56,"./_to-length":92,"./core.get-iterator-method":99}],46:[function(t,e,i){var n=e.localExports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],47:[function(t,e,i){var n={}.hasOwnProperty;e.localExports=function(t,e){return n.call(t,e)}},{}],48:[function(t,e,i){var n=t("./_object-dp"),r=t("./_property-desc");e.localExports=t("./_descriptors")?function(t,e,i){return n.f(t,e,r(1,i))}:function(t,e,i){return t[e]=i,t}},{"./_descriptors":40,"./_object-dp":67,"./_property-desc":77}],49:[function(t,e,i){var n=t("./_global").document;e.localExports=n&&n.documentElement},{"./_global":46}],50:[function(t,e,i){e.localExports=!t("./_descriptors")&&!t("./_fails")((function(){return 7!=Object.defineProperty(t("./_dom-create")("div"),"a",{get:function(){return 7}}).a}))},{"./_descriptors":40,"./_dom-create":41,"./_fails":44}],51:[function(t,e,i){e.localExports=function(t,e,i){var n=void 0===i;switch(e.length){case 0:return n?t():t.call(i);case 1:return n?t(e[0]):t.call(i,e[0]);case 2:return n?t(e[0],e[1]):t.call(i,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(i,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(i,e[0],e[1],e[2],e[3])}return t.apply(i,e)}},{}],52:[function(t,e,i){var n=t("./_cof");e.localExports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},{"./_cof":32}],53:[function(t,e,i){var n=t("./_iterators"),r=t("./_wks")("iterator"),o=Array.prototype;e.localExports=function(t){return void 0!==t&&(n.Array===t||o[r]===t)}},{"./_iterators":61,"./_wks":98}],54:[function(t,e,i){var n=t("./_cof");e.localExports=Array.isArray||function(t){return"Array"==n(t)}},{"./_cof":32}],55:[function(t,e,i){e.localExports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},{}],56:[function(t,e,i){var n=t("./_an-object");e.localExports=function(t,e,i,r){try{return r?e(n(i)[0],i[1]):e(i)}catch(e){var o=t.return;throw void 0!==o&&n(o.call(t)),e}}},{"./_an-object":25}],57:[function(t,e,i){var n=t("./_object-create"),r=t("./_property-desc"),o=t("./_set-to-string-tag"),s={};t("./_hide")(s,t("./_wks")("iterator"),(function(){return this})),e.localExports=function(t,e,i){t.prototype=n(s,{next:r(1,i)}),o(t,e+" Iterator")}},{"./_hide":48,"./_object-create":66,"./_property-desc":77,"./_set-to-string-tag":83,"./_wks":98}],58:[function(t,e,i){var n=t("./_library"),r=t("./_export"),o=t("./_redefine"),s=t("./_hide"),a=t("./_iterators"),l=t("./_iter-create"),h=t("./_set-to-string-tag"),u=t("./_object-gpo"),c=t("./_wks")("iterator"),d=!([].keys&&"next"in[].keys()),f=function(){return this};e.localExports=function(t,e,i,p,g,_,m){l(i,e,p);var w,b,v,y=function(t){if(!d&&t in S)return S[t];switch(t){case"keys":case"values":return function(){return new i(this,t)}}return function(){return new i(this,t)}},x=e+" Iterator",C="values"==g,j=!1,S=t.prototype,E=S[c]||S["@@iterator"]||g&&S[g],k=E||y(g),T=g?C?y("entries"):k:void 0,P="Array"==e&&S.entries||E;if(P&&(v=u(P.call(new t)))!==Object.prototype&&v.next&&(h(v,x,!0),n||"function"==typeof v[c]||s(v,c,f)),C&&E&&"values"!==E.name&&(j=!0,k=function(){return E.call(this)}),n&&!m||!d&&!j&&S[c]||s(S,c,k),a[e]=k,a[x]=f,g)if(w={values:C?k:y("values"),keys:_?k:y("keys"),entries:T},m)for(b in w)b in S||o(S,b,w[b]);else r(r.P+r.F*(d||j),e,w);return w}},{"./_export":43,"./_hide":48,"./_iter-create":57,"./_iterators":61,"./_library":62,"./_object-gpo":70,"./_redefine":79,"./_set-to-string-tag":83,"./_wks":98}],59:[function(t,e,i){var n=t("./_wks")("iterator"),r=!1;try{var o=[7][n]();o.return=function(){r=!0},Array.from(o,(function(){throw 2}))}catch(t){}e.localExports=function(t,e){if(!e&&!r)return!1;var i=!1;try{var o=[7],s=o[n]();s.next=function(){return{done:i=!0}},o[n]=function(){return s},t(o)}catch(t){}return i}},{"./_wks":98}],60:[function(t,e,i){e.localExports=function(t,e){return{value:e,done:!!t}}},{}],61:[function(t,e,i){e.localExports={}},{}],62:[function(t,e,i){e.localExports=!0},{}],63:[function(t,e,i){var n=t("./_uid")("meta"),r=t("./_is-object"),o=t("./_has"),s=t("./_object-dp").f,a=0,l=Object.isExtensible||function(){return!0},h=!t("./_fails")((function(){return l(Object.preventExtensions({}))})),u=function(t){s(t,n,{value:{i:"O"+ ++a,w:{}}})},c=e.localExports={KEY:n,NEED:!1,fastKey:function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,n)){if(!l(t))return"F";if(!e)return"E";u(t)}return t[n].i},getWeak:function(t,e){if(!o(t,n)){if(!l(t))return!0;if(!e)return!1;u(t)}return t[n].w},onFreeze:function(t){return h&&c.NEED&&l(t)&&!o(t,n)&&u(t),t}}},{"./_fails":44,"./_has":47,"./_is-object":55,"./_object-dp":67,"./_uid":95}],64:[function(t,e,i){var n=t("./_global"),r=t("./_task").set,o=n.MutationObserver||n.WebKitMutationObserver,s=n.process,a=n.Promise,l="process"==t("./_cof")(s);e.localExports=function(){var t,e,i,h=function(){var n,r;for(l&&(n=s.domain)&&n.exit();t;){r=t.fn,t=t.next;try{r()}catch(n){throw t?i():e=void 0,n}}e=void 0,n&&n.enter()};if(l)i=function(){s.nextTick(h)};else if(!o||n.navigator&&n.navigator.standalone)if(a&&a.resolve){var u=a.resolve(void 0);i=function(){u.then(h)}}else i=function(){r.call(n,h)};else{var c=!0,d=document.createTextNode("");new o(h).observe(d,{characterData:!0}),i=function(){d.data=c=!c}}return function(n){var r={fn:n,next:void 0};e&&(e.next=r),t||(t=r,i()),e=r}}},{"./_cof":32,"./_global":46,"./_task":88}],65:[function(t,e,i){var n=t("./_a-function");function r(t){var e,i;this.promise=new t((function(t,n){if(void 0!==e||void 0!==i)throw TypeError("Bad Promise constructor");e=t,i=n})),this.resolve=n(e),this.reject=n(i)}e.localExports.f=function(t){return new r(t)}},{"./_a-function":22}],66:[function(t,e,i){var n=t("./_an-object"),r=t("./_object-dps"),o=t("./_enum-bug-keys"),s=t("./_shared-key")("IE_PROTO"),a=function(){},l=function(){var e,i=t("./_dom-create")("iframe"),n=o.length;for(i.style.display="none",t("./_html").appendChild(i),i.src="javascript:",(e=i.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;n--;)delete l.prototype[o[n]];return l()};e.localExports=Object.create||function(t,e){var i;return null!==t?(a.prototype=n(t),i=new a,a.prototype=null,i[s]=t):i=l(),void 0===e?i:r(i,e)}},{"./_an-object":25,"./_dom-create":41,"./_enum-bug-keys":42,"./_html":49,"./_object-dps":68,"./_shared-key":84}],67:[function(t,e,i){var n=t("./_an-object"),r=t("./_ie8-dom-define"),o=t("./_to-primitive"),s=Object.defineProperty;i.f=t("./_descriptors")?Object.defineProperty:function(t,e,i){if(n(t),e=o(e,!0),n(i),r)try{return s(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},{"./_an-object":25,"./_descriptors":40,"./_ie8-dom-define":50,"./_to-primitive":94}],68:[function(t,e,i){var n=t("./_object-dp"),r=t("./_an-object"),o=t("./_object-keys");e.localExports=t("./_descriptors")?Object.defineProperties:function(t,e){r(t);for(var i,s=o(e),a=s.length,l=0;a>l;)n.f(t,i=s[l++],e[i]);return t}},{"./_an-object":25,"./_descriptors":40,"./_object-dp":67,"./_object-keys":72}],69:[function(t,e,i){var n=t("./_object-pie"),r=t("./_property-desc"),o=t("./_to-iobject"),s=t("./_to-primitive"),a=t("./_has"),l=t("./_ie8-dom-define"),h=Object.getOwnPropertyDescriptor;i.f=t("./_descriptors")?h:function(t,e){if(t=o(t),e=s(e,!0),l)try{return h(t,e)}catch(t){}if(a(t,e))return r(!n.f.call(t,e),t[e])}},{"./_descriptors":40,"./_has":47,"./_ie8-dom-define":50,"./_object-pie":73,"./_property-desc":77,"./_to-iobject":91,"./_to-primitive":94}],70:[function(t,e,i){var n=t("./_has"),r=t("./_to-object"),o=t("./_shared-key")("IE_PROTO"),s=Object.prototype;e.localExports=Object.getPrototypeOf||function(t){return t=r(t),n(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},{"./_has":47,"./_shared-key":84,"./_to-object":93}],71:[function(t,e,i){var n=t("./_has"),r=t("./_to-iobject"),o=t("./_array-includes")(!1),s=t("./_shared-key")("IE_PROTO");e.localExports=function(t,e){var i,a=r(t),l=0,h=[];for(i in a)i!=s&&n(a,i)&&h.push(i);for(;e.length>l;)n(a,i=e[l++])&&(~o(h,i)||h.push(i));return h}},{"./_array-includes":27,"./_has":47,"./_shared-key":84,"./_to-iobject":91}],72:[function(t,e,i){var n=t("./_object-keys-internal"),r=t("./_enum-bug-keys");e.localExports=Object.keys||function(t){return n(t,r)}},{"./_enum-bug-keys":42,"./_object-keys-internal":71}],73:[function(t,e,i){i.f={}.propertyIsEnumerable},{}],74:[function(t,e,i){var n=t("./_export"),r=t("./_core"),o=t("./_fails");e.localExports=function(t,e){var i=(r.Object||{})[t]||Object[t],s={};s[t]=e(i),n(n.S+n.F*o((function(){i(1)})),"Object",s)}},{"./_core":36,"./_export":43,"./_fails":44}],75:[function(t,e,i){e.localExports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},{}],76:[function(t,e,i){var n=t("./_an-object"),r=t("./_is-object"),o=t("./_new-promise-capability");e.localExports=function(t,e){if(n(t),r(e)&&e.constructor===t)return e;var i=o.f(t);return(0,i.resolve)(e),i.promise}},{"./_an-object":25,"./_is-object":55,"./_new-promise-capability":65}],77:[function(t,e,i){e.localExports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},{}],78:[function(t,e,i){var n=t("./_hide");e.localExports=function(t,e,i){for(var r in e)i&&t[r]?t[r]=e[r]:n(t,r,e[r]);return t}},{"./_hide":48}],79:[function(t,e,i){e.localExports=t("./_hide")},{"./_hide":48}],80:[function(t,e,i){var n=t("./_export"),r=t("./_a-function"),o=t("./_ctx"),s=t("./_for-of");e.localExports=function(t){n(n.S,t,{from:function(t){var e,i,n,a,l=arguments[1];return r(this),(e=void 0!==l)&&r(l),null==t?new this:(i=[],e?(n=0,a=o(l,arguments[2],2),s(t,!1,(function(t){i.push(a(t,n++))}))):s(t,!1,i.push,i),new this(i))}})}},{"./_a-function":22,"./_ctx":38,"./_export":43,"./_for-of":45}],81:[function(t,e,i){var n=t("./_export");e.localExports=function(t){n(n.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},{"./_export":43}],82:[function(t,e,i){var n=t("./_global"),r=t("./_core"),o=t("./_object-dp"),s=t("./_descriptors"),a=t("./_wks")("species");e.localExports=function(t){var e="function"==typeof r[t]?r[t]:n[t];s&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},{"./_core":36,"./_descriptors":40,"./_global":46,"./_object-dp":67,"./_wks":98}],83:[function(t,e,i){var n=t("./_object-dp").f,r=t("./_has"),o=t("./_wks")("toStringTag");e.localExports=function(t,e,i){t&&!r(t=i?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},{"./_has":47,"./_object-dp":67,"./_wks":98}],84:[function(t,e,i){var n=t("./_shared")("keys"),r=t("./_uid");e.localExports=function(t){return n[t]||(n[t]=r(t))}},{"./_shared":85,"./_uid":95}],85:[function(t,e,i){var n=t("./_core"),r=t("./_global"),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(e.localExports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:n.version,mode:t("./_library")?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},{"./_core":36,"./_global":46,"./_library":62}],86:[function(t,e,i){var n=t("./_an-object"),r=t("./_a-function"),o=t("./_wks")("species");e.localExports=function(t,e){var i,s=n(t).constructor;return void 0===s||null==(i=n(s)[o])?e:r(i)}},{"./_a-function":22,"./_an-object":25,"./_wks":98}],87:[function(t,e,i){var n=t("./_to-integer"),r=t("./_defined");e.localExports=function(t){return function(e,i){var o,s,a=String(r(e)),l=n(i),h=a.length;return l<0||l>=h?t?"":void 0:(o=a.charCodeAt(l))<55296||o>56319||l+1===h||(s=a.charCodeAt(l+1))<56320||s>57343?t?a.charAt(l):o:t?a.slice(l,l+2):s-56320+(o-55296<<10)+65536}}},{"./_defined":39,"./_to-integer":90}],88:[function(t,e,i){var n,r,o,s=t("./_ctx"),a=t("./_invoke"),l=t("./_html"),h=t("./_dom-create"),u=t("./_global"),c=u.process,d=u.setImmediate,f=u.clearImmediate,p=u.MessageChannel,g=u.Dispatch,_=0,m={},w=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},b=function(t){w.call(t.data)};d&&f||(d=function(t){for(var e=[],i=1;arguments.length>i;)e.push(arguments[i++]);return m[++_]=function(){a("function"==typeof t?t:Function(t),e)},n(_),_},f=function(t){delete m[t]},"process"==t("./_cof")(c)?n=function(t){c.nextTick(s(w,t,1))}:g&&g.now?n=function(t){g.now(s(w,t,1))}:p?(o=(r=new p).port2,r.port1.onmessage=b,n=s(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(n=function(t){u.postMessage(t+"","*")},u.addEventListener("message",b,!1)):n="onreadystatechange"in h("script")?function(t){l.appendChild(h("script")).onreadystatechange=function(){l.removeChild(this),w.call(t)}}:function(t){setTimeout(s(w,t,1),0)}),e.localExports={set:d,clear:f}},{"./_cof":32,"./_ctx":38,"./_dom-create":41,"./_global":46,"./_html":49,"./_invoke":51}],89:[function(t,e,i){var n=t("./_to-integer"),r=Math.max,o=Math.min;e.localExports=function(t,e){return(t=n(t))<0?r(t+e,0):o(t,e)}},{"./_to-integer":90}],90:[function(t,e,i){var n=Math.ceil,r=Math.floor;e.localExports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},{}],91:[function(t,e,i){var n=t("./_iobject"),r=t("./_defined");e.localExports=function(t){return n(r(t))}},{"./_defined":39,"./_iobject":52}],92:[function(t,e,i){var n=t("./_to-integer"),r=Math.min;e.localExports=function(t){return t>0?r(n(t),9007199254740991):0}},{"./_to-integer":90}],93:[function(t,e,i){var n=t("./_defined");e.localExports=function(t){return Object(n(t))}},{"./_defined":39}],94:[function(t,e,i){var n=t("./_is-object");e.localExports=function(t,e){if(!n(t))return t;var i,r;if(e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;if("function"==typeof(i=t.valueOf)&&!n(r=i.call(t)))return r;if(!e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":55}],95:[function(t,e,i){var n=0,r=Math.random();e.localExports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},{}],96:[function(t,e,i){var n=t("./_global").navigator;e.localExports=n&&n.userAgent||""},{"./_global":46}],97:[function(t,e,i){var n=t("./_is-object");e.localExports=function(t,e){if(!n(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},{"./_is-object":55}],98:[function(t,e,i){var n=t("./_shared")("wks"),r=t("./_uid"),o=t("./_global").Symbol,s="function"==typeof o;(e.localExports=function(t){return n[t]||(n[t]=s&&o[t]||(s?o:r)("Symbol."+t))}).store=n},{"./_global":46,"./_shared":85,"./_uid":95}],99:[function(t,e,i){var n=t("./_classof"),r=t("./_wks")("iterator"),o=t("./_iterators");e.localExports=t("./_core").getIteratorMethod=function(t){if(null!=t)return t[r]||t["@@iterator"]||o[n(t)]}},{"./_classof":31,"./_core":36,"./_iterators":61,"./_wks":98}],100:[function(t,e,i){var n=t("./_ctx"),r=t("./_export"),o=t("./_to-object"),s=t("./_iter-call"),a=t("./_is-array-iter"),l=t("./_to-length"),h=t("./_create-property"),u=t("./core.get-iterator-method");r(r.S+r.F*!t("./_iter-detect")((function(t){})),"Array",{from:function(t){var e,i,r,c,d=o(t),f="function"==typeof this?this:Array,p=arguments.length,g=p>1?arguments[1]:void 0,_=void 0!==g,m=0,w=u(d);if(_&&(g=n(g,p>2?arguments[2]:void 0,2)),null==w||f==Array&&a(w))for(i=new f(e=l(d.length));e>m;m++)h(i,m,_?g(d[m],m):d[m]);else for(c=w.call(d),i=new f;!(r=c.next()).done;m++)h(i,m,_?s(c,g,[r.value,m],!0):r.value);return i.length=m,i}})},{"./_create-property":37,"./_ctx":38,"./_export":43,"./_is-array-iter":53,"./_iter-call":56,"./_iter-detect":59,"./_to-length":92,"./_to-object":93,"./core.get-iterator-method":99}],101:[function(t,e,i){var n=t("./_export");n(n.S,"Array",{isArray:t("./_is-array")})},{"./_export":43,"./_is-array":54}],102:[function(t,e,i){var n=t("./_add-to-unscopables"),r=t("./_iter-step"),o=t("./_iterators"),s=t("./_to-iobject");e.localExports=t("./_iter-define")(Array,"Array",(function(t,e){this._t=s(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?i:"values"==e?t[i]:[i,t[i]])}),"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},{"./_add-to-unscopables":23,"./_iter-define":58,"./_iter-step":60,"./_iterators":61,"./_to-iobject":91}],103:[function(t,e,i){var n=t("./_collection-strong"),r=t("./_validate-collection");e.localExports=t("./_collection")("Map",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=n.getEntry(r(this,"Map"),t);return e&&e.v},set:function(t,e){return n.def(r(this,"Map"),0===t?0:t,e)}},n,!0)},{"./_collection":35,"./_collection-strong":33,"./_validate-collection":97}],104:[function(t,e,i){var n=t("./_export");n(n.S+n.F*!t("./_descriptors"),"Object",{defineProperty:t("./_object-dp").f})},{"./_descriptors":40,"./_export":43,"./_object-dp":67}],105:[function(t,e,i){var n=t("./_is-object"),r=t("./_meta").onFreeze;t("./_object-sap")("freeze",(function(t){return function(e){return t&&n(e)?t(r(e)):e}}))},{"./_is-object":55,"./_meta":63,"./_object-sap":74}],106:[function(t,e,i){var n=t("./_to-iobject"),r=t("./_object-gopd").f;t("./_object-sap")("getOwnPropertyDescriptor",(function(){return function(t,e){return r(n(t),e)}}))},{"./_object-gopd":69,"./_object-sap":74,"./_to-iobject":91}],107:[function(t,e,i){var n=t("./_to-object"),r=t("./_object-keys");t("./_object-sap")("keys",(function(){return function(t){return r(n(t))}}))},{"./_object-keys":72,"./_object-sap":74,"./_to-object":93}],108:[function(t,e,i){},{}],109:[function(t,e,i){var n,r,o,s,a=t("./_library"),l=t("./_global"),h=t("./_ctx"),u=t("./_classof"),c=t("./_export"),d=t("./_is-object"),f=t("./_a-function"),p=t("./_an-instance"),g=t("./_for-of"),_=t("./_species-constructor"),m=t("./_task").set,w=t("./_microtask")(),b=t("./_new-promise-capability"),v=t("./_perform"),y=t("./_user-agent"),x=t("./_promise-resolve"),C=l.TypeError,j=l.process,S=j&&j.versions,E=S&&S.v8||"",k=l.Promise,T="process"==u(j),P=function(){},A=r=b.f,R=!!function(){try{var e=k.resolve(1),i=(e.constructor={})[t("./_wks")("species")]=function(t){t(P,P)};return(T||"function"==typeof PromiseRejectionEvent)&&e.then(P)instanceof i&&0!==E.indexOf("6.6")&&-1===y.indexOf("Chrome/66")}catch(t){}}(),O=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},D=function(t,e){if(!t._n){t._n=!0;var i=t._c;w((function(){for(var n=t._v,r=1==t._s,o=0,s=function(e){var i,o,s,a=r?e.ok:e.fail,l=e.resolve,h=e.reject,u=e.domain;try{a?(r||(2==t._h&&F(t),t._h=1),!0===a?i=n:(u&&u.enter(),i=a(n),u&&(u.exit(),s=!0)),i===e.promise?h(C("Promise-chain cycle")):(o=O(i))?o.call(i,l,h):l(i)):h(n)}catch(t){u&&!s&&u.exit(),h(t)}};i.length>o;)s(i[o++]);t._c=[],t._n=!1,e&&!t._h&&I(t)}))}},I=function(t){m.call(l,(function(){var e,i,n,r=t._v,o=M(t);if(o&&(e=v((function(){T?j.emit("unhandledRejection",r,t):(i=l.onunhandledrejection)?i({promise:t,reason:r}):(n=l.console)&&n.error&&n.error("Unhandled promise rejection",r)})),t._h=T||M(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},M=function(t){return 1!==t._h&&0===(t._a||t._c).length},F=function(t){m.call(l,(function(){var e;T?j.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})}))},L=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),D(e,!0))},N=function t(e){var i,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw C("Promise can't be resolved itself");(i=O(e))?w((function(){var r={_w:n,_d:!1};try{i.call(e,h(t,r,1),h(L,r,1))}catch(t){L.call(r,t)}})):(n._v=e,n._s=1,D(n,!1))}catch(e){L.call({_w:n,_d:!1},e)}}};R||(k=function(t){p(this,k,"Promise","_h"),f(t),n.call(this);try{t(h(N,this,1),h(L,this,1))}catch(t){L.call(this,t)}},(n=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=t("./_redefine-all")(k.prototype,{then:function(t,e){var i=A(_(this,k));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=T?j.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&D(this,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new n;this.promise=t,this.resolve=h(N,t,1),this.reject=h(L,t,1)},b.f=A=function(t){return t===k||t===s?new o(t):r(t)}),c(c.G+c.W+c.F*!R,{Promise:k}),t("./_set-to-string-tag")(k,"Promise"),t("./_set-species")("Promise"),s=t("./_core").Promise,c(c.S+c.F*!R,"Promise",{reject:function(t){var e=A(this);return(0,e.reject)(t),e.promise}}),c(c.S+c.F*(a||!R),"Promise",{resolve:function(t){return x(a&&this===s?k:this,t)}}),c(c.S+c.F*!(R&&t("./_iter-detect")((function(t){k.all(t).catch(P)}))),"Promise",{all:function(t){var e=this,i=A(e),n=i.resolve,r=i.reject,o=v((function(){var i=[],o=0,s=1;g(t,!1,(function(t){var a=o++,l=!1;i.push(void 0),s++,e.resolve(t).then((function(t){l||(l=!0,i[a]=t,--s||n(i))}),r)})),--s||n(i)}));return o.e&&r(o.v),i.promise},race:function(t){var e=this,i=A(e),n=i.reject,r=v((function(){g(t,!1,(function(t){e.resolve(t).then(i.resolve,n)}))}));return r.e&&n(r.v),i.promise}})},{"./_a-function":22,"./_an-instance":24,"./_classof":31,"./_core":36,"./_ctx":38,"./_export":43,"./_for-of":45,"./_global":46,"./_is-object":55,"./_iter-detect":59,"./_library":62,"./_microtask":64,"./_new-promise-capability":65,"./_perform":75,"./_promise-resolve":76,"./_redefine-all":78,"./_set-species":82,"./_set-to-string-tag":83,"./_species-constructor":86,"./_task":88,"./_user-agent":96,"./_wks":98}],110:[function(t,e,i){var n=t("./_collection-strong"),r=t("./_validate-collection");e.localExports=t("./_collection")("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return n.def(r(this,"Set"),t=0===t?0:t,t)}},n)},{"./_collection":35,"./_collection-strong":33,"./_validate-collection":97}],111:[function(t,e,i){var n=t("./_export"),r=t("./_to-absolute-index"),o=String.fromCharCode,s=String.fromCodePoint;n(n.S+n.F*(!!s&&1!=s.length),"String",{fromCodePoint:function(t){for(var e,i=[],n=arguments.length,s=0;n>s;){if(e=+arguments[s++],r(e,1114111)!==e)throw RangeError(e+" is not a valid code point");i.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return i.join("")}})},{"./_export":43,"./_to-absolute-index":89}],112:[function(t,e,i){var n=t("./_string-at")(!0);t("./_iter-define")(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=n(e,i),this._i+=t.length,{value:t,done:!1})}))},{"./_iter-define":58,"./_string-at":87}],113:[function(t,e,i){t("./_set-collection-from")("Map")},{"./_set-collection-from":80}],114:[function(t,e,i){t("./_set-collection-of")("Map")},{"./_set-collection-of":81}],115:[function(t,e,i){var n=t("./_export");n(n.P+n.R,"Map",{toJSON:t("./_collection-to-json")("Map")})},{"./_collection-to-json":34,"./_export":43}],116:[function(t,e,i){var n=t("./_export"),r=t("./_core"),o=t("./_global"),s=t("./_species-constructor"),a=t("./_promise-resolve");n(n.P+n.R,"Promise",{finally:function(t){var e=s(this,r.Promise||o.Promise),i="function"==typeof t;return this.then(i?function(i){return a(e,t()).then((function(){return i}))}:t,i?function(i){return a(e,t()).then((function(){throw i}))}:t)}})},{"./_core":36,"./_export":43,"./_global":46,"./_promise-resolve":76,"./_species-constructor":86}],117:[function(t,e,i){var n=t("./_export"),r=t("./_new-promise-capability"),o=t("./_perform");n(n.S,"Promise",{try:function(t){var e=r.f(this),i=o(t);return(i.e?e.reject:e.resolve)(i.v),e.promise}})},{"./_export":43,"./_new-promise-capability":65,"./_perform":75}],118:[function(t,e,i){t("./_set-collection-from")("Set")},{"./_set-collection-from":80}],119:[function(t,e,i){t("./_set-collection-of")("Set")},{"./_set-collection-of":81}],120:[function(t,e,i){var n=t("./_export");n(n.P+n.R,"Set",{toJSON:t("./_collection-to-json")("Set")})},{"./_collection-to-json":34,"./_export":43}],121:[function(t,e,i){t("./es6.array.iterator");for(var n=t("./_global"),r=t("./_hide"),o=t("./_iterators"),s=t("./_wks")("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<a.length;l++){var h=a[l],u=n[h],c=u&&u.prototype;c&&!c[s]&&r(c,s,h),o[h]=o.Array}},{"./_global":46,"./_hide":48,"./_iterators":61,"./_wks":98,"./es6.array.iterator":102}],122:[function(t,e,i){i.byteLength=function(t){var e=h(t),i=e[0],n=e[1];return 3*(i+n)/4-n},i.toByteArray=function(t){var e,i,n=h(t),s=n[0],a=n[1],l=new o(function(t,e,i){return 3*(e+i)/4-i}(0,s,a)),u=0,c=a>0?s-4:s;for(i=0;i<c;i+=4)e=r[t.charCodeAt(i)]<<18|r[t.charCodeAt(i+1)]<<12|r[t.charCodeAt(i+2)]<<6|r[t.charCodeAt(i+3)],l[u++]=e>>16&255,l[u++]=e>>8&255,l[u++]=255&e;return 2===a&&(e=r[t.charCodeAt(i)]<<2|r[t.charCodeAt(i+1)]>>4,l[u++]=255&e),1===a&&(e=r[t.charCodeAt(i)]<<10|r[t.charCodeAt(i+1)]<<4|r[t.charCodeAt(i+2)]>>2,l[u++]=e>>8&255,l[u++]=255&e),l},i.fromByteArray=function(t){for(var e,i=t.length,r=i%3,o=[],s=0,a=i-r;s<a;s+=16383)o.push(u(t,s,s+16383>a?a:s+16383));return 1===r?(e=t[i-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===r&&(e=(t[i-2]<<8)+t[i-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),o.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=s.length;a<l;++a)n[a]=s[a],r[s.charCodeAt(a)]=a;function h(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=e),[i,i===e?0:4-i%4]}function u(t,e,i){for(var r,o,s=[],a=e;a<i;a+=3)r=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(n[(o=r)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},{}],123:[function(t,e,i){(function(t){(function(){var i=function(){function e(i,r,o,s){"object"==typeof r&&(o=r.depth,s=r.prototype,r.filter,r=r.circular);var a=[],l=[],h=void 0!==t;return void 0===r&&(r=!0),void 0===o&&(o=1/0),function i(o,u){if(null===o)return null;if(0==u)return o;var c,d;if("object"!=typeof o)return o;if(e.__isArray(o))c=[];else if(e.__isRegExp(o))c=new RegExp(o.source,n(o)),o.lastIndex&&(c.lastIndex=o.lastIndex);else if(e.__isDate(o))c=new Date(o.getTime());else{if(h&&t.isBuffer(o))return c=t.allocUnsafe?t.allocUnsafe(o.length):new t(o.length),o.copy(c),c;void 0===s?(d=Object.getPrototypeOf(o),c=Object.create(d)):(c=Object.create(s),d=s)}if(r){var f=a.indexOf(o);if(-1!=f)return l[f];a.push(o),l.push(c)}for(var p in o){var g;d&&(g=Object.getOwnPropertyDescriptor(d,p)),g&&null==g.set||(c[p]=i(o[p],u-1))}return c}(i,o)}function i(t){return Object.prototype.toString.call(t)}function n(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return e.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},e.__objToStr=i,e.__isDate=function(t){return"object"==typeof t&&"[object Date]"===i(t)},e.__isArray=function(t){return"object"==typeof t&&"[object Array]"===i(t)},e.__isRegExp=function(t){return"object"==typeof t&&"[object RegExp]"===i(t)},e.__getRegExpFlags=n,e}();"object"==typeof e&&e.localExports&&(e.localExports=i)}).call(this)}).call(this,t("buffer").Buffer)},{buffer:152}],124:[function(t,e,i){function n(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function r(t,e){this.source=t,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=e,this.destLen=0,this.ltree=new n,this.dtree=new n}var o=new n,s=new n,a=new Uint8Array(30),l=new Uint16Array(30),h=new Uint8Array(30),u=new Uint16Array(30),c=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),d=new n,f=new Uint8Array(320);function p(t,e,i,n){var r,o;for(r=0;r<i;++r)t[r]=0;for(r=0;r<30-i;++r)t[r+i]=r/i|0;for(o=n,r=0;r<30;++r)e[r]=o,o+=1<<t[r]}var g=new Uint16Array(16);function _(t,e,i,n){var r,o;for(r=0;r<16;++r)t.table[r]=0;for(r=0;r<n;++r)t.table[e[i+r]]++;for(t.table[0]=0,o=0,r=0;r<16;++r)g[r]=o,o+=t.table[r];for(r=0;r<n;++r)e[i+r]&&(t.trans[g[e[i+r]]++]=r)}function m(t){t.bitcount--||(t.tag=t.source[t.sourceIndex++],t.bitcount=7);var e=1&t.tag;return t.tag>>>=1,e}function w(t,e,i){if(!e)return i;for(;t.bitcount<24;)t.tag|=t.source[t.sourceIndex++]<<t.bitcount,t.bitcount+=8;var n=t.tag&65535>>>16-e;return t.tag>>>=e,t.bitcount-=e,n+i}function b(t,e){for(;t.bitcount<24;)t.tag|=t.source[t.sourceIndex++]<<t.bitcount,t.bitcount+=8;var i=0,n=0,r=0,o=t.tag;do{n=2*n+(1&o),o>>>=1,++r,i+=e.table[r],n-=e.table[r]}while(n>=0);return t.tag=o,t.bitcount-=r,e.trans[i+n]}function v(t,e,i){var n,r,o,s,a,l;for(n=w(t,5,257),r=w(t,5,1),o=w(t,4,4),s=0;s<19;++s)f[s]=0;for(s=0;s<o;++s){var h=w(t,3,0);f[c[s]]=h}for(_(d,f,0,19),a=0;a<n+r;){var u=b(t,d);switch(u){case 16:var p=f[a-1];for(l=w(t,2,3);l;--l)f[a++]=p;break;case 17:for(l=w(t,3,3);l;--l)f[a++]=0;break;case 18:for(l=w(t,7,11);l;--l)f[a++]=0;break;default:f[a++]=u}}_(e,f,0,n),_(i,f,n,r)}function y(t,e,i){for(;;){var n,r,o,s,c=b(t,e);if(256===c)return 0;if(c<256)t.dest[t.destLen++]=c;else for(n=w(t,a[c-=257],l[c]),r=b(t,i),s=o=t.destLen-w(t,h[r],u[r]);s<o+n;++s)t.dest[t.destLen++]=t.dest[s]}}function x(t){for(var e,i;t.bitcount>8;)t.sourceIndex--,t.bitcount-=8;if((e=256*(e=t.source[t.sourceIndex+1])+t.source[t.sourceIndex])!==(65535&~(256*t.source[t.sourceIndex+3]+t.source[t.sourceIndex+2])))return-3;for(t.sourceIndex+=4,i=e;i;--i)t.dest[t.destLen++]=t.source[t.sourceIndex++];return t.bitcount=0,0}!function(t,e){var i;for(i=0;i<7;++i)t.table[i]=0;for(t.table[7]=24,t.table[8]=152,t.table[9]=112,i=0;i<24;++i)t.trans[i]=256+i;for(i=0;i<144;++i)t.trans[24+i]=i;for(i=0;i<8;++i)t.trans[168+i]=280+i;for(i=0;i<112;++i)t.trans[176+i]=144+i;for(i=0;i<5;++i)e.table[i]=0;for(e.table[5]=32,i=0;i<32;++i)e.trans[i]=i}(o,s),p(a,l,4,3),p(h,u,2,1),a[28]=0,l[28]=258,e.localExports=function(t,e){var i,n,a=new r(t,e);do{switch(i=m(a),w(a,2,0)){case 0:n=x(a);break;case 1:n=y(a,o,s);break;case 2:v(a,a.ltree,a.dtree),n=y(a,a.ltree,a.dtree);break;default:n=-3}if(0!==n)throw new Error("Data error")}while(!i);return a.destLen<a.dest.length?"function"==typeof a.dest.slice?a.dest.slice(0,a.destLen):a.dest.subarray(0,a.destLen):a.dest}},{}],125:[function(t,e,i){var n=t("unicode-trie"),r=t("base64-js"),o=Math.log2||function(t){return Math.log(t)/Math.LN2},s=function(t){return o(t)+1|0},a=function(t,e){var i=s(t.categories.length-1),n=s(t.combiningClasses.length-1),r=s(t.scripts.length-1),o=s(t.eaw.length-1),a=n+r+o+10,l=r+o+10,h=o+10,u=(1<<i)-1,c=(1<<n)-1,d=(1<<r)-1,f=(1<<o)-1,p=function(i){var n=e.get(i);return t.categories[n>>a&u]};return{getCategory:p,getCombiningClass:function(i){var n=e.get(i);return t.combiningClasses[n>>l&c]},getScript:function(i){var n=e.get(i);return t.scripts[n>>h&d]},getEastAsianWidth:function(i){var n=e.get(i);return t.eaw[n>>10&f]},getNumericValue:function(t){var i=e.get(t),n=1023&i;if(0===n)return null;if(n<=50)return n-1;if(n<480)return((n>>4)-12)/(1+(15&n));if(n<768){i=(n>>5)-14;for(var r=2+(31&n);r>0;)i*=10,r--;return i}i=(n>>2)-191;for(var o=1+(3&n);o>0;)i*=60,o--;return i},isAlphabetic:function(t){var e=p(t);return"Lu"===e||"Ll"===e||"Lt"===e||"Lm"===e||"Lo"===e||"Nl"===e},isDigit:function(t){return"Nd"===p(t)},isPunctuation:function(t){var e=p(t);return"Pc"===e||"Pd"===e||"Pe"===e||"Pf"===e||"Pi"===e||"Po"===e||"Ps"===e},isLowerCase:function(t){return"Ll"===p(t)},isUpperCase:function(t){return"Lu"===p(t)},isTitleCase:function(t){return"Lt"===p(t)},isWhiteSpace:function(t){var e=p(t);return"Zs"===e||"Zl"===e||"Zp"===e},isBaseForm:function(t){var e=p(t);return"Nd"===e||"No"===e||"Nl"===e||"Lu"===e||"Ll"===e||"Lt"===e||"Lm"===e||"Lo"===e||"Me"===e||"Mc"===e},isMark:function(t){var e=p(t);return"Mn"===e||"Me"===e||"Mc"===e}}}({categories:["Cc","Zs","Po","Sc","Ps","Pe","Sm","Pd","Nd","Lu","Sk","Pc","Ll","So","Lo","Pi","Cf","No","Pf","Lt","Lm","Mn","Me","Mc","Nl","Zl","Zp","Cs","Co"],combiningClasses:["Not_Reordered","Above","Above_Right","Below","Attached_Above_Right","Attached_Below","Overlay","Iota_Subscript","Double_Below","Double_Above","Below_Right","Above_Left","CCC10","CCC11","CCC12","CCC13","CCC14","CCC15","CCC16","CCC17","CCC18","CCC19","CCC20","CCC21","CCC22","CCC23","CCC24","CCC25","CCC30","CCC31","CCC32","CCC27","CCC28","CCC29","CCC33","CCC34","CCC35","CCC36","Nukta","Virama","CCC84","CCC91","CCC103","CCC107","CCC118","CCC122","CCC129","CCC130","CCC132","Attached_Above","Below_Left","Left","Kana_Voicing","CCC26","Right"],scripts:["Common","Latin","Bopomofo","Inherited","Greek","Coptic","Cyrillic","Armenian","Hebrew","Arabic","Syriac","Thaana","Nko","Samaritan","Mandaic","Devanagari","Bengali","Gurmukhi","Gujarati","Oriya","Tamil","Telugu","Kannada","Malayalam","Sinhala","Thai","Lao","Tibetan","Myanmar","Georgian","Hangul","Ethiopic","Cherokee","Canadian_Aboriginal","Ogham","Runic","Tagalog","Hanunoo","Buhid","Tagbanwa","Khmer","Mongolian","Limbu","Tai_Le","New_Tai_Lue","Buginese","Tai_Tham","Balinese","Sundanese","Batak","Lepcha","Ol_Chiki","Braille","Glagolitic","Tifinagh","Han","Hiragana","Katakana","Yi","Lisu","Vai","Bamum","Syloti_Nagri","Phags_Pa","Saurashtra","Kayah_Li","Rejang","Javanese","Cham","Tai_Viet","Meetei_Mayek","null","Linear_B","Lycian","Carian","Old_Italic","Gothic","Old_Permic","Ugaritic","Old_Persian","Deseret","Shavian","Osmanya","Osage","Elbasan","Caucasian_Albanian","Linear_A","Cypriot","Imperial_Aramaic","Palmyrene","Nabataean","Hatran","Phoenician","Lydian","Meroitic_Hieroglyphs","Meroitic_Cursive","Kharoshthi","Old_South_Arabian","Old_North_Arabian","Manichaean","Avestan","Inscriptional_Parthian","Inscriptional_Pahlavi","Psalter_Pahlavi","Old_Turkic","Old_Hungarian","Hanifi_Rohingya","Old_Sogdian","Sogdian","Elymaic","Brahmi","Kaithi","Sora_Sompeng","Chakma","Mahajani","Sharada","Khojki","Multani","Khudawadi","Grantha","Newa","Tirhuta","Siddham","Modi","Takri","Ahom","Dogra","Warang_Citi","Nandinagari","Zanabazar_Square","Soyombo","Pau_Cin_Hau","Bhaiksuki","Marchen","Masaram_Gondi","Gunjala_Gondi","Makasar","Cuneiform","Egyptian_Hieroglyphs","Anatolian_Hieroglyphs","Mro","Bassa_Vah","Pahawh_Hmong","Medefaidrin","Miao","Tangut","Nushu","Duployan","SignWriting","Nyiakeng_Puachue_Hmong","Wancho","Mende_Kikakui","Adlam"],eaw:["N","Na","A","W","H","F"]},new n(r.toByteArray("AAARAAAAAADwfAEAZXl5ONRt+/5bPVFZimRfKoTQJNm37CGE7Iw0j3UsTWKsoyI7kwyyTiEUzSD7NiEzhWYijH0wMVkHE4Mx49fzfo+3nuP4/fdZjvv+XNd5n/d9nef1WZvmKhTxiZndzDQBSEYQqxqKwnsKvGQucFh+6t6cJ792ePQBZv5S9yXSwkyjf/P4T7mTNnIAv1dOVhMlR9lflbUL9JeJguqsjvG9NTj/wLb566VAURnLo2vvRi89S3gW/33ihh2eXpDn40BIW7REl/7coRKIhAFlAiOtbLDTt6mMb4GzMF1gNnvX/sBxtbsAIjfztCNcQjcNDtLThRvuXu5M5g/CBjaLBE4lJm4qy/oZD97+IJryApcXfgWYlkvWbhfXgujOJKVu8B+ozqTLbxyJ5kNiR75CxDqfBM9eOlDMmGeoZ0iQbbS5VUplIwI+ZNXEKQVJxlwqjhOY7w3XwPesbLK5JZE+Tt4X8q8km0dzInsPPzbscrjBMVjF5mOHSeRdJVgKUjLTHiHqXSPkep8N/zFk8167KLp75f6RndkvzdfB6Uz3MmqvRArzdCbs1/iRZjYPLLF3U8Qs+H+Rb8iK51a6NIV2V9+07uJsTGFWpPz8J++7iRu2B6eAKlK/kujrLthwaD/7a6J5w90TusnH1JMAc+gNrql4aspOUG/RrsxUKmPzhHgP4Bleru+6Vfc/MBjgXVx7who94nPn7MPFrnwQP7g0k0Dq0h2GSKO6fTZ8nLodN1SiOUj/5EL/Xo1DBvRm0wmrh3x6phcJ20/9CuMr5h8WPqXMSasLoLHoufTmE7mzYrs6B0dY7KjuCogKqsvxnxAwXWvd9Puc9PnE8DOHT2INHxRlIyVHrqZahtfV2E/A2PDdtA3ewlRHMtFIBKO/T4IozWTQZ+mb+gdKuk/ZHrqloucKdsOSJmlWTSntWjcxVMjUmroXLM10I6TwDLnBq4LP69TxgVeyGsd8yHvhF8ydPlrNRSNs9EP7WmeuSE7Lu10JbOuQcJw/63sDp68wB9iwP5AO+mBpV0R5VDDeyQUFCel1G+4KHBgEVFS0YK+m2sXLWLuGTlkVAd97WwKKdacjWElRCuDRauf33l/yVcDF6sVPKeTes99FC1NpNWcpieGSV/IbO8PCTy5pbUR1U8lxzf4T+y6fZMxOz3LshkQLeeDSd0WmUrQgajmbktrxsb2AZ0ACw2Vgni+gV/m+KvCRWLg08Clx7uhql+v9XySGcjjOHlsp8vBw/e8HS7dtiqF6T/XcSXuaMW66GF1g4q9YyBadHqy3Y5jin1c7yZos6BBr6dsomSHxiUHanYtcYQwnMMZhRhOnaYJeyJzaRuukyCUh48+e/BUvk/aEfDp8ag+jD64BHxNnQ5v/E7WRk7eLjGV13I3oqy45YNONi/1op1oDr7rPjkhPsTXgUpQtGDPlIs55KhQaic9kSGs/UrZ2QKQOflB8MTEQxRF9pullToWO7Eplan6mcMRFnUu2441yxi23x+KqKlr7RWWsi9ZXMWlr8vfP3llk1m2PRj0yudccxBuoa7VfIgRmnFPGX6Pm1WIfMm/Rm4n/xTn8IGqA0GWuqgu48pEUO0U9nN+ZdIvFpPb7VDPphIfRZxznlHeVFebkd9l+raXy9BpTMcIUIvBfgHEb6ndGo8VUkxpief14KjzFOcaANfgvFpvyY8lE8lE4raHizLpluPzMks1hx/e1Hok5yV0p7qQH7GaYeMzzZTFvRpv6k6iaJ4yNqzBvN8J7B430h2wFm1IBPcqbou33G7/NWPgopl4Mllla6e24L3TOTVNkza2zv3QKuDWTeDpClCEYgTQ+5vEBSQZs/rMF50+sm4jofTgWLqgX1x3TkrDEVaRqfY/xZizFZ3Y8/DFEFD31VSfBQ5raEB6nHnZh6ddehtclQJ8fBrldyIh99LNnV32HzKEej04hk6SYjdauCa4aYW0ru/QxvQRGzLKOAQszf3ixJypTW3WWL6BLSF2EMCMIw7OUvWBC6A/gDc2D1jvBapMCc7ztx6jYczwTKsRLL6dMNXb83HS8kdD0pTMMj161zbVHkU0mhSHo9SlBDDXdN6hDvRGizmohtIyR3ot8tF5iUG4GLNcXeGvBudSFrHu+bVZb9jirNVG+rQPI51A7Hu8/b0UeaIaZ4UgDO68PkYx3PE2HWpKapJ764Kxt5TFYpywMy4DLQqVRy11I7SOLhxUFmqiEK52NaijWArIfCg6qG8q5eSiwRCJb1R7GDJG74TrYgx/lVq7w9++Kh929xSJEaoSse5fUOQg9nMAnIZv+7fwVRcNv3gOHI46Vb5jYUC66PYHO6lS+TOmvEQjuYmx4RkffYGxqZIp/DPWNHAixbRBc+XKE3JEOgs4jIwu/dSAwhydruOGF39co91aTs85JJ3Z/LpXoF43hUwJsb/M1Chzdn8HX8vLXnqWUKvRhNLpfAF4PTFqva1sBQG0J+59HyYfmQ3oa4/sxZdapVLlo/fooxSXi/dOEQWIWq8E0FkttEyTFXR2aNMPINMIzZwCNEheYTVltsdaLkMyKoEUluPNAYCM2IG3br0DLy0fVNWKHtbSKbBjfiw7Lu06gQFalC7RC9BwRMSpLYDUo9pDtDfzwUiPJKLJ2LGcSphWBadOI/iJjNqUHV7ucG8yC6+iNM9QYElqBR7ECFXrcTgWQ3eG/tCWacT9bxIkfmxPmi3vOd36KxihAJA73vWNJ+Y9oapXNscVSVqS5g15xOWND/WuUCcA9YAAg6WFbjHamrblZ5c0L6Zx1X58ZittGcfDKU697QRSqW/g+RofNRyvrWMrBn44cPvkRe2HdTu/Cq01C5/riWPHZyXPKHuSDDdW8c1XPgd6ogvLh20qEIu8c19sqr4ufyHrwh37ZN5MkvY1dsGmEz9pUBTxWrvvhNyODyX2Q1k/fbX/T/vbHNcBrmjgDtvBdtZrVtiIg5iXQuzO/DEMvRX8Mi1zymSlt92BGILeKItjoShJXE/H7xwnf0Iewb8BFieJ9MflEBCQYEDm8eZniiEPfGoaYiiEdhQxHQNr2AuRdmbL9mcl18Kumh+HEZLp6z+j35ML9zTbUwahUZCyQQOgQrGfdfQtaR/OYJ/9dYXb2TWZFMijfCA8Nov4sa5FFDUe1T68h4q08WDE7JbbDiej4utRMR9ontevxlXv6LuJTXt1YEv8bDzEt683PuSsIN0afvu0rcBu9AbXZbkOG3K3AhtqQ28N23lXm7S3Yn6KXmAhBhz+GeorJJ4XxO/b3vZk2LXp42+QvsVxGSNVpfSctIFMTR1bD9t70i6sfNF3WKz/uKDEDCpzzztwhL45lsw89H2IpWN10sXHRlhDse9KCdpP5qNNpU84cTY+aiqswqR8XZ9ea0KbVRwRuOGQU3csAtV2fSbnq47U6es6rKlWLWhg3s/B9C9g+oTyp6RtIldR51OOkP5/6nSy6itUVPcMNOp4M/hDdKOz3uK6srbdxOrc2cJgr1Sg02oBxxSky6V7JaG+ziNwlfqnjnvh2/uq1lKfbp+qpwq/D/5OI5gkFl5CejKGxfc2YVJfGqc4E0x5e9PHK2ukbHNI7/RZV6LNe65apbTGjoCaQls0txPPbmQbCQn+/upCoXRZy9yzorWJvZ0KWcbXlBxU/d5I4ERUTxMuVWhSMmF677LNN7NnLwsmKawXkCgbrpcluOl0WChR1qhtSrxGXHu251dEItYhYX3snvn1gS2uXuzdTxCJjZtjsip0iT2sDC0qMS7Bk9su2NyXjFK5/f5ZoWwofg3DtTyjaFqspnOOTSh8xK/CKUFS57guVEkw9xoQuRCwwEO9Lu9z2vYxSa9NFV8DvSxv2C4WYLYF8Nrc4DzWkzNsk81JJOlZ/LYJrGCoj4MmZpnf3AXmzxT4rtl9jsqljEyedz468SGKdBiQzyz/qWKEhFg45ZczlZZ3KGL3l6sn+3TTa3zMVMhPa1obGp/z+fvY0QXTrJTf1XAT3EtQdUfYYlmWZyvPZ/6rWwU7UOQei7pVE0osgN94Iy+T1+omE6z4Rh2O20FjgBeK2y1mcoFiMDOJvuZPn5Moy9fmFH3wyfKvn4+TwfLvt/lHTTVnvrtoUWRBiQXhiNM8nE6ZoWeux/Z0b2unRcdUzdDpmL7CAgd1ToRXwgmHTZOgiGtVT+xr1QH9ObebRTT4NzL+XSpLuuWp62GqQvJVTPoZOeJCb6gIwd9XHMftQ+Kc08IKKdKQANSJ1a2gve3JdRhO0+tNiYzWAZfd7isoeBu67W7xuK8WX7nhJURld98Inb0t/dWOSau/kDvV4DJo/cImw9AO2Gvq0F2n0M7yIZKL8amMbjYld+qFls7hq8Acvq97K2PrCaomuUiesu7qNanGupEl6J/iem8lyr/NMnsTr6o41PO0yhQh3hPFN0wJP7S830je9iTBLzUNgYH+gUZpROo3rN2qgCI+6GewpX8w8CH+ro6QrWiStqmcMzVa3vEel+3/dDxMp0rDv1Q6wTMS3K64zTT6RWzK1y643im25Ja7X2ePCV2mTswd/4jshZPo4bLnerqIosq/hy2bKUAmVn9n4oun1+a0DIZ56UhVwmZHdUNpLa8gmPvxS1eNvCF1T0wo1wKPdCJi0qOrWz7oYRTzgTtkzEzZn308XSLwUog4OWGKJzCn/3FfF9iA32dZHSv30pRCM3KBY9WZoRhtdK/ChHk6DEQBsfV6tN2o1Cn0mLtPBfnkS+qy1L2xfFe9TQPtDE1Be44RTl82E9hPT2rS2+93LFbzhQQO3C/hD2jRFH3BWWbasAfuMhRJFcTri73eE835y016s22DjoFJ862WvLj69fu2TgSF3RHia9D5DSitlQAXYCnbdqjPkR287Lh6dCHDapos+eFDvcZPP2edPmTFxznJE/EBLoQQ0Qmn9EkZOyJmHxMbvKYb8o21ZHmv5YLqgsEPk9gWZwYQY9wLqGXuax/8QlV5qDaPbq9pLPT1yp+zOWKmraEy1OUJI7zdEcEmvBpbdwLrDCgEb2xX8S/nxZgjK4bRi+pbOmbh8bEeoPvU/L9ndx9kntlDALbdAvp0O8ZC3zSUnFg4cePsw7jxewWvL7HRSBLUn6J7vTH9uld5N76JFPgBCdXGF221oEJk++XfRwXplLSyrVO7HFWBEs99nTazKveW3HpbD4dH/YmdAl+lwbSt8BQWyTG7jAsACI7bPPUU9hI9XUHWqQOuezHzUjnx5Qqs6T1qNHfTTHleDtmqK7flA9a0gz2nycIpz1FHBuWxKNtUeTdqP29Fb3tv+tl5JyBqXoR+vCsdzZwZUhf6Lu8bvkB9yQP4x7GGegB0ym0Lpl03Q7e+C0cDsm9GSDepCDji7nUslLyYyluPfvLyKaDSX4xpR+nVYQjQQn5F8KbY1gbIVLiK1J3mW90zTyR1bqApX2BlWh7KG8LAY9/S9nWC0XXh9pZZo6xuir12T43rkaGfQssbQyIslA7uJnSHOV22NhlNtUo0czxPAsXhh8tIQYaTM4l/yAlZlydTcXhlG22Gs/n3BxKBd/3ZjYwg3NaUurVXhNB+afVnFfNr9TbC9ksNdvwpNfeHanyJ8M6GrIVfLlYAPv0ILe4dn0Z+BJSbJkN7eZY/c6+6ttDYcIDeUKIDXqUSE42Xdh5nRbuaObozjht0HJ5H1e+em+NJi/+8kQlyjCbJpPckwThZeIF9/u7lrVIKNeJLCN/TpPAeXxvd31/CUDWHK9MuP1V1TJgngzi4V0qzS3SW3Qy5UiGHqg02wQa5tsEl9s/X9nNMosgLlUgZSfCBj1DiypLfhr9/r0nR0XY2tmhDOcUS4E7cqa4EJBhzqvpbZa35Q5Iz5EqmhYiOGDAYk606Tv74+KGfPjKVuP15rIzgW0I7/niOu9el/sn2bRye0gV+GrePDRDMHjwO1lEdeXH8N+UTO3IoN18kpI3tPxz+fY+n2MGMSGFHAx/83tKeJOl+2i+f1O9v6FfEDBbqrw+lpM8Anav7zHNr7hE78nXUtPNodMbCnITWA7Ma/IHlZ50F9hWge/wzOvSbtqFVFtkS8Of2nssjZwbSFdU+VO8z6tCEc9UA9ACxT5zIUeSrkBB/v1krOpm7bVMrGxEKfI6LcnpB4D8bvn2hDKGqKrJaVAJuDaBEY3F7eXyqnFWlOoFV/8ZLspZiZd7orXLhd4mhHQgbuKbHjJWUzrnm0Dxw/LJLzXCkh7slMxKo8uxZIWZfdKHlfI7uj3LP6ARAuWdF7ZmZ7daOKqKGbz5LxOggTgS39oEioYmrqkCeUDvbxkBYKeHhcLmMN8dMF01ZMb32IpL/cH8R7VHQSI5I0YfL14g9d7P/6cjB1JXXxbozEDbsrPdmL8ph7QW10jio+v7YsqHKQ6xrBbOVtxU0/nFfzUGZwIBLwyUvg49ii+54nv9FyECBpURnQK4Ox6N7lw5fsjdd5l/2SwBcAHMJoyjO1Pifye2dagaOwCVMqdJWAo77pvBe0zdJcTWu5fdzPNfV2p1pc7/JKQ8zhKkwsOELUDhXygPJ5oR8Vpk2lsCen3D3QOQp2zdrSZHjVBstDF/wWO98rrkQ6/7zt/Drip7OHIug1lomNdmRaHRrjmqeodn22sesQQPgzimPOMqC60a5+i/UYh51uZm+ijWkkaI2xjrBO2558DZNZMiuDQlaVAvBy2wLn/bR3FrNzfnO/9oDztYqxZrr7JMIhqmrochbqmQnKowxW29bpqTaJu7kW1VotC72QkYX8OoDDdMDwV1kJRk3mufgJBzf+iwFRJ7XWQwO5ujVglgFgHtycWiMLx5N+6XU+TulLabWjOzoao03fniUW0xvIJNPbk7CQlFZd/RCOPvgQbLjh5ITE8NVJeKt3HGr6JTnFdIzcVOlEtwqbIIX0IM7saC+4N5047MTJ9+Wn11EhyEPIlwsHE5utCeXRjQzlrR+R1Cf/qDzcNbqLXdk3J7gQ39VUrrEkS/VMWjjg+t2oYrqB0tUZClcUF6+LBC3EQ7KnGIwm/qjZX4GKPtjTX1zQKV6nPAb2t/Rza5IqKRf8i2DFEhV/YSifX0YwsiF6TQnp48Gr65TFq0zUe6LGjiY7fq0LSGKL1VnC6ESI2yxvt3XqBx53B3gSlGFeJcPbUbonW1E9E9m4NfuwPh+t5QjRxX34lvBPVxwQd7aeTd+r9dw5CiP1pt8wMZoMdni7GapYdo6KPgeQKcmlFfq4UYhvV0IBgeiR3RnTMBaqDqpZrTRyLdsp4l0IXZTdErfH0sN3dqBG5vRIx3VgCYcHmmkqJ8Hyu3s9K9uBD1d8cZUEx3qYcF5vsqeRpF1GOg8emeWM2OmBlWPdZ6qAXwm3nENFyh+kvXk132PfWAlN0kb7yh4fz2T7VWUY/hEXX5DvxGABC03XRpyOG8t/u3Gh5tZdpsSV9AWaxJN7zwhVglgII1gV28tUViyqn4UMdIh5t+Ea2zo7PO48oba0TwQbiSZOH4YhD578kPF3reuaP7LujPMsjHmaDuId9XEaZBCJhbXJbRg5VCk3KJpryH/+8S3wdhR47pdFcmpZG2p0Bpjp/VbvalgIZMllYX5L31aMPdt1J7r/7wbixt0Mnz2ZvNGTARHPVD+2O1D8SGpWXlVnP2ekgon55YiinADDynyaXtZDXueVqbuTi8z8cHHK325pgqM+mWZwzHeEreMvhZopAScXM14SJHpGwZyRljMlDvcMm9FZ/1e9+r/puOnpXOtc9Iu2fmgBfEP9cGW1Fzb1rGlfJ08pACtq1ZW18bf2cevebzVeHbaA50G9qoUp39JWdPHbYkPCRXjt4gzlq3Cxge28Mky8MoS/+On72kc+ZI2xBtgJytpAQHQ1zrEddMIVyR5urX6yBNu8v5lKC8eLdGKTJtbgIZ3ZyTzSfWmx9f+cvcJe8yM39K/djkp2aUTE/9m2Lj5jg7b8vdRAer7DO3SyLNHs1CAm5x5iAdh2yGJYivArZbCBNY88Tw+w+C1Tbt7wK3zl2rzTHo/D8/gb3c3mYrnEIEipYqPUcdWjnTsSw471O3EUN7Gtg4NOAs9PJrxm03VuZKa5xwXAYCjt7Gs01Km6T2DhOYUMoFcCSu7Hk1p3yP1eG+M3v3Q5luAze6WwBnZIYO0TCucPWK+UJ36KoJ8Y+vpavhLO8g5ed704IjlQdfemrMu//EvPYXTQSGIPPfiagJS9nMqP5IvkxN9pvuJz7h8carPXTKMq8jnTeL0STan6dnLTAqwIswcIwWDR2KwbGddAVN8SYWRB7kfBfBRkSXzvHlIF8D6jo64kUzYk5o/n8oLjKqat0rdXvQ86MkwQGMnnlcasqPPT2+mVtUGb32KuH6cyZQenrRG11TArcAl27+nvOMBDe++EKHf4YdyGf7mznzOz33cFFGEcv329p4qG2hoaQ8ULiMyVz6ENcxhoqGnFIdupcn7GICQWuw3yO3W8S33mzCcMYJ8ywc7U7rmaQf/W5K63Gr4bVTpXOyOp4tbaPyIaatBNpXqlmQUTSZXjxPr19+73PSaT+QnI35YsWn6WpfJjRtK8vlJZoTSgjaRU39AGCkWOZtifJrnefCrqwTKDFmuWUCukEsYcRrMzCoit28wYpP7kSVjMD8WJYQiNc2blMjuqYegmf6SsfC1jqz8XzghMlOX+gn/MKZmgljszrmehEa4V98VreJDxYvHr3j7IeJB9/sBZV41BWT/AZAjuC5XorlIPnZgBAniBEhanp0/0+qZmEWDpu8ige1hUPIyTo6T6gDEcFhWSoduNh8YSu65KgMOGBw7VlNYzNIgwHtq9KP2yyTVysqX5v12sf7D+vQUdR2dRDvCV40rIInXSLWT/yrC6ExOQxBJwIDbeZcl3z1yR5Rj3l8IGpxspapnvBL+fwupA3b6fkFceID9wgiM1ILB0cHVdvo/R4xg8yqKXT8efl0GnGX1/27FUYeUW2L/GNRGGWVGp3i91oaJkb4rybENHre9a2P5viz/yqk8ngWUUS+Kv+fu+9BLFnfLiLXOFcIeBJLhnayCiuDRSqcx0Qu68gVsGYc6EHD500Fkt+gpDj6gvr884n8wZ5o6q7xtL5wA0beXQnffWYkZrs2NGIRgQbsc5NB302SVx+R4ROvmgZaR8wBcji128BMfJ9kcvJ4DC+bQ57kRmv5yxgU4ngZfn0/JNZ8JBwxjTqS+s9kjJFG1unGUGLwMiIuXUD9EFhNIJuyCEAmVZSIGKH4G6v1gRR1LyzQKH2ZqiI1DnHMoDEZspbDjTeaFIAbSvjSq3A+n46y9hhVM8wIpnARSXyzmOD96d9UXvFroSPgGw1dq2vdEqDq9fJN1EbL2WulNmHkFDvxSO9ZT/RX/Bw2gA/BrF90XrJACereVfbV/YXaKfp77Nmx5NjEIUlxojsy7iN7nBHSZigfsbFyVOX1ZTeCCxvqnRSExP4lk5ZeYlRu9caaa743TWNdchRIhEWwadsBIe245C8clpaZ4zrPsk+OwXzxWCvRRumyNSLW5KWaSJyJU95cwheK76gr7228spZ3hmTtLyrfM2QRFqZFMR8/Q6yWfVgwTdfX2Ry4w3+eAO/5VT5nFb5NlzXPvBEAWrNZ6Q3jbH0RF4vcbp+fDngf/ywpoyNQtjrfvcq93AVb1RDWRghvyqgI2BkMr1rwYi8gizZ0G9GmPpMeqPerAQ0dJbzx+KAFM4IBq6iSLpZHUroeyfd9o5o+4fR2EtsZBoJORQEA4SW0CmeXSnblx2e9QkCHIodyqV6+g5ETEpZsLqnd/Na60EKPX/tQpPEcO+COIBPcQdszDzSiHGyQFPly/7KciUh1u+mFfxTCHGv9nn2WqndGgeGjQ/kr02qmTBX7Hc1qiEvgiSz1Tz/sy7Es29wvn6FrDGPP7asXlhOaiHxOctPvTptFA1kHFUk8bME7SsTSnGbFbUrssxrq70LhoSh5OwvQna+w84XdXhZb2sloJ4ZsCg3j+PrjJL08/JBi5zGd6ud/ZxhmcGKLOXPcNunQq5ESW92iJvfsuRrNYtawWwSmNhPYoFj2QqWNF0ffLpGt/ad24RJ8vkb5sXkpyKXmvFG5Vcdzf/44k3PBL/ojJ52+kWGzOArnyp5f969oV3J2c4Li27Nkova9VwRNVKqN0V+gV+mTHitgkXV30aWd3A1RSildEleiNPA+5cp+3+T7X+xfHiRZXQ1s4FA9TxIcnveQs9JSZ5r5qNmgqlW4zMtZ6rYNvgmyVcywKtu8ZxnSbS5vXlBV+NXdIfi3+xzrnJ0TkFL+Un8v1PWOC2PPFCjVPq7qTH7mOpzOYj/b4h0ceT+eHgr97Jqhb1ziVfeANzfN8bFUhPKBi7hJBCukQnB0aGjFTYLJPXL26lQ2b80xrOD5cFWgA8hz3St0e69kwNnD3+nX3gy12FjrjO+ddRvvvfyV3SWbXcxqNHfmsb9u1TV+wHTb9B07/L2sB8WUHJ9eeNomDyysEWZ0deqEhH/oWI2oiEh526gvAK1Nx2kIhNvkYR+tPYHEa9j+nd1VBpQP1uzSjIDO+fDDB7uy029rRjDC5Sk6aKczyz1D5uA9Lu+Rrrapl8JXNL3VRllNQH2K1ZFxOpX8LprttfqQ56MbPM0IttUheXWD/mROOeFqGUbL+kUOVlXLTFX/525g4faLEFO4qWWdmOXMNvVjpIVTWt650HfQjX9oT3Dg5Au6+v1/Ci78La6ZOngYCFPT1AUwxQuZ0yt5xKdNXLaDTISMTeCj16XTryhM36K2mfGRIgot71voWs8tTpL/f1rvcwv3LSDf+/G8THCT7NpfHWcW+lsF/ol8q9Bi6MezNTqp0rpp/kJRiVfNrX/w27cRRTu8RIIqtUblBMkxy4jwAVqCjUJkiPBj2cAoVloG8B2/N5deLdMhDb7xs5nhd3dubJhuj8WbaFRyu1L678DHhhA+rMimNo4C1kGpp0tD/qnCfCFHejpf0LJX43OTr578PY0tnIIrlWyNYyuR/ie6j2xNb1OV6u0dOX/1Dtcd7+ya9W+rY2LmnyQMtk8SMLTon8RAdwOaN2tNg5zVnDKlmVeOxPV2vhHIo9QEPV7jc3f+zVDquiNg1OaHX3cZXJDRY5MJpo+VanAcmqp4oasYLG+wrXUL5vJU0kqk2hGEskhP+Jjigrz1l6QnEwp6n8PMVeJp70Ii6ppeaK9GhF6fJE00ceLyxv08tKiPat4QdxZFgSbQknnEiCLD8Qc1rjazVKM3r3gXnnMeONgdz/yFV1q+haaN+wnF3Fn4uYCI9XsKOuVwDD0LsCO/f0gj5cmxCFcr7sclIcefWjvore+3aSU474cyqDVxH7w1RX3CHsaqsMRX17ZLgjsDXws3kLm2XJdM3Ku383UXqaHqsywzPhx7NFir0Fqjym/w6cxD2U9ypa3dx7Z12w/fi3Jps8sqJ8f8Ah8aZAvkHXvIRyrsxK7rrFaNNdNvjI8+3Emri195DCNa858anj2Qdny6Czshkn4N2+1m+k5S8sunX3Ja7I+JutRzg1mc2e9Yc0Zv9PZn1SwhxIdU9sXwZRTd/J5FoUm0e+PYREeHg3oc2YYzGf2xfJxXExt4pT3RfDRHvMXLUmoXOy63xv5pLuhOEax0dRgSywZ/GH+YBXFgCeTU0hZ8SPEFsn8punp1Kurd1KgXxUZ+la3R5+4ePGR4ZF5UQtOa83+Vj8zh80dfzbhxWCeoJnQ4dkZJM4drzknZOOKx2n3WrvJnzFIS8p0xeic+M3ZRVXIp10tV2DyYKwRxLzulPwzHcLlYTxl4PF7v8l106Azr+6wBFejbq/3P72C/0j78cepY9990/d4eAurn2lqdGKLU8FffnMw7cY7pVeXJRMU73Oxwi2g2vh/+4gX8dvbjfojn/eLVhhYl8GthwCQ50KcZq4z2JeW5eeOnJWFQEnVxDoG459TaC4zXybECEoJ0V5q1tXrQbDMtUxeTV6Pdt1/zJuc7TJoV/9YZFWxUtCf6Ou3Vd/vR/vG0138hJQrHkNeoep5dLe+6umcSquKvMaFpm3EZHDBOvCi0XYyIFHMgX7Cqp3JVXlxJFwQfHSaIUEbI2u1lBVUdlNw4Qa9UsLPEK94Qiln3pyKxQVCeNlx8yd7EegVNQBkFLabKvnietYVB4IPZ1fSor82arbgYec8aSdFMaIluYTYuNx32SxfrjKUdPGq+UNp5YpydoEG3xVLixtmHO9zXxKAnHnPuH2fPGrjx0GcuCDEU+yXUtXh6nfUL+cykws1gJ5vkfYFaFBr9PdCXvVf35OJQxzUMmWjv0W6uGJK11uAGDqSpOwCf6rouSIjPVgw57cJCOQ4b9tkI/Y5WNon9Swe72aZryKo8d+HyHBEdWJKrkary0LIGczA4Irq353Wc0Zga3om7UQiAGCvIl8GGyaqz5zH+1gMP5phWUCpKtttWIyicz09vXg76GxkmiGSMQ06Z9X8BUwqOtauDbPIf4rpK/yYoeAHxJ9soXS9VDe1Aw+awOOxaN8foLrif0TXBvQ55dtRtulRq9emFDBxlQcqKCaD8NeTSE7FOHvcjf/+oKbbtRqz9gbofoc2EzQ3pL6W5JdfJzAWmOk8oeoECe90lVMruwl/ltM015P/zIPazqvdvFmLNVHMIZrwiQ2tIKtGh6PDVH+85ew3caqVt2BsDv5rOcu3G9srQWd7NmgtzCRUXLYknYRSwtH9oUtkqyN3CfP20xQ1faXQl4MEmjQehWR6GmGnkdpYNQYeIG408yAX7uCZmYUic9juOfb+Re28+OVOB+scYK4DaPcBe+5wmji9gymtkMpKo4UKqCz7yxzuN8VIlx9yNozpRJpNaWHtaZVEqP45n2JemTlYBSmNIK1FuSYAUQ1yBLnKxevrjayd+h2i8PjdB3YY6b0nr3JuOXGpPMyh4V2dslpR3DFEvgpsBLqhqLDOWP4yEvIL6f21PpA7/8B")));e.localExports=a},{"base64-js":122,"unicode-trie":126}],126:[function(t,e,i){var n=t("tiny-inflate"),r=t("./swap").swap32LE,o=function(){function t(t){var e="function"==typeof t.readUInt32BE&&"function"==typeof t.slice;if(e||t instanceof Uint8Array){var i;if(e)this.highStart=t.readUInt32LE(0),this.errorValue=t.readUInt32LE(4),i=t.readUInt32LE(8),t=t.slice(12);else{var o=new DataView(t.buffer);this.highStart=o.getUint32(0,!0),this.errorValue=o.getUint32(4,!0),i=o.getUint32(8,!0),t=t.subarray(12)}t=n(t,new Uint8Array(i)),t=n(t,new Uint8Array(i)),r(t),this.data=new Uint32Array(t.buffer)}else{var s=t;this.data=s.data,this.highStart=s.highStart,this.errorValue=s.errorValue}}return t.prototype.get=function(t){var e;return t<0||t>1114111?this.errorValue:t<55296||t>56319&&t<=65535?(e=(this.data[t>>5]<<2)+(31&t),this.data[e]):t<=65535?(e=(this.data[2048+(t-55296>>5)]<<2)+(31&t),this.data[e]):t<this.highStart?(e=this.data[2080+(t>>11)],e=((e=this.data[e+(t>>5&63)])<<2)+(31&t),this.data[e]):this.data[this.data.length-4]},t}();e.localExports=o},{"./swap":127,"tiny-inflate":124}],127:[function(t,e,i){var n=18===new Uint8Array(new Uint32Array([305419896]).buffer)[0],r=function(t,e,i){var n=t[e];t[e]=t[i],t[i]=n};e.localExports={swap32LE:function(t){n&&function(t){for(var e=t.length,i=0;i<e;i+=4)r(t,i,i+3),r(t,i+1,i+2)}(t)}}},{}],128:[function(t,e,i){i.byteLength=function(t){var e=h(t),i=e[0],n=e[1];return 3*(i+n)/4-n},i.toByteArray=function(t){var e,i,n=h(t),s=n[0],a=n[1],l=new o(function(t,e,i){return 3*(e+i)/4-i}(0,s,a)),u=0,c=a>0?s-4:s;for(i=0;i<c;i+=4)e=r[t.charCodeAt(i)]<<18|r[t.charCodeAt(i+1)]<<12|r[t.charCodeAt(i+2)]<<6|r[t.charCodeAt(i+3)],l[u++]=e>>16&255,l[u++]=e>>8&255,l[u++]=255&e;return 2===a&&(e=r[t.charCodeAt(i)]<<2|r[t.charCodeAt(i+1)]>>4,l[u++]=255&e),1===a&&(e=r[t.charCodeAt(i)]<<10|r[t.charCodeAt(i+1)]<<4|r[t.charCodeAt(i+2)]>>2,l[u++]=e>>8&255,l[u++]=255&e),l},i.fromByteArray=function(t){for(var e,i=t.length,r=i%3,o=[],s=0,a=i-r;s<a;s+=16383)o.push(u(t,s,s+16383>a?a:s+16383));return 1===r?(e=t[i-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===r&&(e=(t[i-2]<<8)+t[i-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),o.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=s.length;a<l;++a)n[a]=s[a],r[s.charCodeAt(a)]=a;function h(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=e),[i,i===e?0:4-i%4]}function u(t,e,i){for(var r,o,s=[],a=e;a<i;a+=3)r=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(n[(o=r)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},{}],129:[function(t,e,i){arguments[4][124][0].apply(i,arguments)},{dup:124}],130:[function(t,e,i){arguments[4][126][0].apply(i,arguments)},{"./swap":131,dup:126,"tiny-inflate":129}],131:[function(t,e,i){arguments[4][127][0].apply(i,arguments)},{dup:127}],132:[function(t,e,i){i.OP=0,i.CL=1,i.CP=2,i.QU=3,i.GL=4,i.NS=5,i.EX=6,i.SY=7,i.IS=8,i.PR=9,i.PO=10,i.NU=11,i.AL=12,i.HL=13,i.ID=14,i.IN=15,i.HY=16,i.BA=17,i.BB=18,i.B2=19,i.ZW=20,i.CM=21,i.WJ=22,i.H2=23,i.H3=24,i.JL=25,i.JV=26,i.JT=27,i.RI=28,i.EB=29,i.EM=30,i.ZWJ=31,i.CB=32,i.AI=33,i.BK=34,i.CJ=35,i.CR=36,i.LF=37,i.NL=38,i.SA=39,i.SG=40,i.SP=41,i.XX=42},{}],133:[function(t,e,i){var n=t("unicode-trie"),r=t("base64-js"),o=t("./classes"),s=o.BK,a=o.CR,l=o.LF,h=o.NL,u=o.SG,c=o.WJ,d=o.SP,f=o.ZWJ,p=o.BA,g=o.HY,_=o.NS,m=o.AI,w=o.AL,b=o.CJ,v=o.HL,y=o.RI,x=o.SA,C=o.XX,j=t("./pairs"),S=j.DI_BRK,E=j.IN_BRK,k=j.CI_BRK,T=j.CP_BRK,P=(j.PR_BRK,j.pairTable),A=new n(r.toByteArray("AAgOAAAAAABA2gAAAZ8OYPHtnQ2s1lUdx8/l3vvc+zz3uVzvhQuR4I23CMqRqdkbM42lqRlM1iSohrQaVjMmrZjmRIWEphOITWUtlbXhmI2GLowxC+cge6GcxrImw5oQtmmgWdpm37PnnD3nHs77y///gM/dPjv/8z9vv/M7v/P6//+f+71OQtaCu8AWsBc8BX4HngN/AX8LcI+DE+BNMKaLkB4w0GVPNxFxRgzxZiLsXHAhmAc+Ba4EC8FiId2XcP1V8E3wbXATuB3cBjaATeB+8BB4GDzC0lIew/Ve8BT4Lfg9+BN4AbwEjoFXwX8A6Ub9QBUMgkndjfCpcGd3N8Kp/4NwPwI+CS4FV4CFYDG4A+HL4K4AK1n81XDXsPTrwUZwH3iwuyHjdrg7wW7wC7APPNLZ8D8NDjL/IbiHWZqjcF8BJ8FbLPxpFr+z0nB7Kk09UAYqTSYypoARhhjXxCzEnSvFp3q+yCMPFy4W8rsM11eCa8ASsLzSrO/XcX0juEkq/3b4bxBsYS38d4EtQlrKVpZum3B/B653gT2Vht1TaPu+DncfjQeeAc+ztEeYewzuq+ANQZa3cd3do68nzz9GV3XkPx5MBjPAB8AF4BNgPrgcLADXgiVgObieybSSuavhrgHrwUZwH3iAhW2H+1PwmKYejwv3n8D1fokDwvUfwLPgr+Dv4GVwErwFOnsJ6QPjwNlgOng/OB98vJfZBdzLwGeZfxHcJb3+OlvO0lwPd6VH+tUBZd0qpblT8K9lNnYP7t0LHuht9Oftve48DH4GHge/Ar8GfwR/ZtdHLOn/IVz/y6PcNm3axMHHgbLlaNOmTZs2bdq0aXN68XoLyKDif72jz0N0dFQbZ3n0ulJtnKXxsLFVe/oJiHMOizcT7qSuxnnNubi+kOU9D+58cFW1cR74ObAI10tZuq/A/UZ19PkQZRXu3dKlL/tmKi9YC9aB74M7wXqwoR3WDmuHtcPaYcnDNoJ7wdZq48y0TLZVy6Xs+rdp08rErmN3oI/tAj+vhj+n24O0TyrS78e9g+AQeAG8JMU5Dv8J8CYYUyOkBgZqDbkmwh2plT/+rBrb4DVwwQDW0Qa2g2Ng8lmnhi2V7v0Q/mdBfRBr98HGve/CfRT8E/QOEXI5OFJt6OHL4MfgMOjsI+Q8QHoIuaav4Re5DWzuMLMPcV5keVCm1Qm5DjwIjoCp/YQs67fncyazqr+pnzZt2rR5p/Fov3nun4X5aG5NH35e7dQ1Cw/7KMIukdLOh/8qdu98zfkafS/rxsTvZZm4WlO/RYZ6U5bSubob86oi3gp2b6UlDxurFfpVYcpjjUKGdbXGu2Cv4fpuXG9h/h/B/QnYwfy74O4BTzA/PXvcX2ueKx6sjZbhEG3frsY6hr47eBTuK+ANjZ08hzzfFuT7N+jp09dxAX2Ps6/pp/Enwj/Sx+wV7lwWTs9AL9LkxdNf3KfW2SbDuemnkeZq8HnwBXAdy2MF3JWa/HTQ+qxGmlvBWrChb7R8tKxNLM/7hbrZeMggx3aE7fSUMze7W0yeMvgl08EBgy5+owl7xtEuchJa7+cTtj19L/FFQRd033qc5X8C7n8LsjNSV9/vqTfem6zXmzKOr9v38ZNZ/Blw5zjEF6HvWZZtG7628yHU8WP18so3cSnkugIsULTxtZp2b1W+CHmXJZCZ2vQKZtvfgvudevMd8dOBWwy2Ruu3DuF3B+hpc4E2nNr2t9ZHh28roC47mI53JupHu7vsZdrGz92QZW+98R3Ak8w9wMbgg55jMeUQ0hwGR8HLQvqTtM+AMdiT1fqb94dwPQmMgGlgNgubC/fDQrx5uL6E+T8DdyG7FvWxWNjvzWTplrF7X2PuDXDPEfKl52Q394+uwx3w/0DKf3G/vy7OJDbTtukKH4O29pc/FsQyTOwMgplgGmOGQxpXZgMsAUlnYwlGsPwjNXZN79G/MUIYmo2cxVx6JNLnSC+jLlCR/LkhrA5jCixTLp+2ZQfzD5P235x3OKo++V7N/Rx0sXagfb4qQO1zKoNf8zFikDRtmqfjcYektCKdkp+QvP1taub8W738VoPbh2gD3O+qM9mmxDRDlrRFUFS/PR3oCkyjI0SG0HaU1yq2ti3b7nJCdUHHfD5n8ftVop/DWp1Bod2GFdcV5trm7/4WIrR9awLyOt1Hp6LOKqT49X0ZY7Pr/qcmXMsy5axzhdjrbtOPHK6Ky+O46iN1u54JNiWPr2cSPnqok/D9VBn2l1Mncho6NvM+Le4hxX1bEbLq5Jfv6+IVaeut2MeKOkvw6XM55kdf+y6j76Wsuy0vX/kGGUWOa3J/KbN/pGoflz43rLhn01HovMPX26q8+f2qojzVOFp2+6TA1C42GWLWAap+6WovKh0U3R6x+k4tR0h/qBJ7+xc1HxXV/0NsWra5Mvq9Ts5UejfpwDZO5NoH8HHYdc11OvR/1zbJ3f9Nbeh6ni/KXPQzgCLHItO4FKN/37HHZXzMqesUenctL7f9u+StWyeKbRbSZ1OTcj7w7RO+441oB742P6tFkOWqRuZX99Aj35e2um587UKlkyEJ8V6XcD3I/BUFXSyd/EzENh6l3vfLz724S/86BDdmLZNqbTjocN80FpfFHNLsH7Fzi2hburUNfz4eMy7q5I3th67l69JPKpl3l8zZJVPG+kFep5n6UW7KLLvo8ulfBxk9fvjKahv3QnHdF+Xan8jzj2rtU0T5ZezP5P1FmWtlrvtuwc9tT1z/hq7/crUfXwdy+Yek+7KN8fk8h/wxa7uU5Nwnuu4f65Kft0fsuiV2L+drv6Y9XS5M+uVxytz7DXvoL5bU41/s3kleQ5n6YOx+YZCEzf2xsqvq4Ju2qH7hWs9U+/1U46NtPsk5Pst25fMehE7m1OcpuXDtS7b2km0sxfhh6lvD0nXZfZHC11o6m+J0Sf7xTPYRoR5yvHFk9LconaT53WSnwi/GpQwI0Pz4N56qdqDl1iyIMtBy2L8k1Oqml8nWIcQ1xTfZq2i3uvlhgiKtzzwn273LN1a8fuL3QvI3RC7pQ/cDYn+sGqhZwn3T1hLlLZJ6jI/Zz3J7l9uwRtzaRUzn8+6sq93k+P7PVLbqOzrVd5gmdOX5pnPVi9y+OcrzkSm0Liq55HuqcO7K393a2lalC7kOJt2ZbMjFHkLa2lZuiv5g0o3Jn8J+UuXvqrNY3cXK5ctAAhnon/icMlTWsQyfMnPodKxETF4x86oO3/kjJ/XANLJd5JDLpw+lKCtUBldd+uSj8rvel/OIrZ+r3l3T5Ojfpnrb9Mbz4eFjFeVMIWnGk5A66nSYQpcx7a6yOa4/VZwUMhelf1u9i0a2eRty31TZ9FRNfFV/kMPEfqfTk0oOVT4qeaYYylWh0tUUiaJsRPR3aqBh/LmYLD/96whwc8zDofbOZSqyj7jqqYwyfd0y9VZk2UXZSiq7ljGdo8rPwOUz3Apxex5hw/W9Gd2zDN0YZcN07i+eUxOpnuIYKPrpn6lPyPnzdzxU5+IqPY1j6M7SiaIMXZ3EdLH7Qd+5PTWyPPz3FDuEON3Cta2diJTWFq9buBbT2dCdheviqu7zZzOyPqaza5ubm6LKsZXvUm9b2HRy6jPUbgneJq2m/1T1V9nfdKK2Q9EefZgeiU0ntvVijnbQ6caG7/OvmDk41XyuW1/4vm+QWgZxzhNx1a8sk+97EDn0maI812ejofDvVfh+0WVNF/KMOOZ9IJfyY9+RMenHxX5s5eV4zz73s3xaRhnf8Mjtrau/yzuMofbG05f5PZXr/JHzvQ7f8VPO21f/ru3qqgdVPjH1t/Xx2PrLTATvKpCiy/Ndf6b8Vk/Ou4zv9WQZ3lcyOdcadU2b0t/CHSZ+v5vbar/JGws/s/DtDzn2Gz7w9Wmq9VkvaZ7V8N825mtTwu4PGOofW75qn8fLdXXldKY9ZIfgUvn5Xl18fmMrxwZ/n1S1Zy3D1nnZE5jL6ynLqtJhh+T67PHlfX7FM49YSKDsucrnuu2QrrmeUp3pFIHpjCs3Yn+itluVwvm7orb+5jrGi+PVe0jjXKyM/qySzXR2U9bcKq7Hc9Xbp+3K0oOsE5f9YFnycVsqo9w5UvlFnDOF2pvLM0VXW3Bpe105pjVZEfbkqhNbP7DJH7uf9+mPOW0q1u5c1ts5zjx1xLZLUWN3aDv7PhfJ2efK6B++upP7tO938qLthp4XprAV6orfw4bYqPx+icrOfNtPlCv0vDakTXXv4/D2cSnT1H+K7N9F95/UY4BoP7HnLqL8Jtt2rXOsPD5rAtf5UNcvRTv2aX9ux+JYYSsz9/qGlsl//5C/tyD/hqZtzRqyfhPLl+P6tF9s/eXfHnXBR76U809IX7Dps4h1mInY33FylV/+fbNBEvb7TTHjUqqxPHZ8pHkMCXnlaludvRetrxA9qsJV66dBT136tl9RNiGP2eJ4l+rd5lB7CXnPzHd8iF1bcfi7WalslOebam1kwkWftv6Sqj1M9pCzP9jmy5zjT+7xTkeNnPobR6ns1ofYsyeeRyudvciIfx0Ccjz5Ho9PNPFzy6yT07d9TP9/nJeTo31S6S10/Eo1h8boXjd++8gVqz+fNYgKHpZ6/i+i78eer6vmYptOYwiRUf6GJ9befSnznYYU8sd+r5NbP7n7iGnMUJ2FF21frmOa65iXon+m7sMh43jO/Iu0Nd95Ize5bEel11zzhE8binFVZ8kxfde3XkWNH642aatDSrtOIbfLuBFzHuDzm6Ku8vi2v09+KvsNrT//K8smOTWL35eQ36QR1yepf+cmdX71DPLmWMtOLghV2VM091OgaoMiy9DdF3+bSqUHVXjRnKNAlk8lr40UsvmU5yOPSj45rmtdphjy9LEtlasrS5c2tA+Yxu7YNnSdI3LmnatuNrt1ab/Q/F3LTEHRegwpx9TXi/qdQPG3s0z/FyK1TfiOu75lprar1HrPXX5q+VPJl6u/pqyfi+2EriV87N1njVDEuky11ojpa6b1S5FrthhCz3Ryn/H8Hw==")),R=function(t){switch(t){case m:case x:case u:case C:return w;case b:return _;default:return t}},O=function(t){switch(t){case l:case h:return s;case d:return c;default:return t}},D=function(t,e){void 0===e&&(e=!1),this.position=t,this.required=e},I=function(){function t(t){this.string=t,this.pos=0,this.lastPos=0,this.curClass=null,this.nextClass=null,this.LB8a=!1,this.LB21a=!1,this.LB30a=0}var e=t.prototype;return e.nextCodePoint=function(){var t=this.string.charCodeAt(this.pos++),e=this.string.charCodeAt(this.pos);return 55296<=t&&t<=56319&&56320<=e&&e<=57343?(this.pos++,1024*(t-55296)+(e-56320)+65536):t},e.nextCharClass=function(){return R(A.get(this.nextCodePoint()))},e.getSimpleBreak=function(){switch(this.nextClass){case d:return!1;case s:case l:case h:return this.curClass=s,!1;case a:return this.curClass=a,!1}return null},e.getPairTableBreak=function(t){var e=!1;switch(P[this.curClass][this.nextClass]){case S:e=!0;break;case E:e=t===d;break;case k:if(!(e=t===d))return!1;break;case T:if(t!==d)return e}return this.LB8a&&(e=!1),!this.LB21a||this.curClass!==g&&this.curClass!==p?this.LB21a=this.curClass===v:(e=!1,this.LB21a=!1),this.curClass===y?(this.LB30a++,2==this.LB30a&&this.nextClass===y&&(e=!0,this.LB30a=0)):this.LB30a=0,this.curClass=this.nextClass,e},e.nextBreak=function(){if(null==this.curClass){var t=this.nextCharClass();this.curClass=O(t),this.nextClass=t,this.LB8a=t===f,this.LB30a=0}for(;this.pos<this.string.length;){this.lastPos=this.pos;var e=this.nextClass;if(this.nextClass=this.nextCharClass(),this.curClass===s||this.curClass===a&&this.nextClass!==l)return this.curClass=O(R(this.nextClass)),new D(this.lastPos,!0);var i=this.getSimpleBreak();if(null===i&&(i=this.getPairTableBreak(e)),this.LB8a=this.nextClass===f,i)return new D(this.lastPos)}if(this.pos>=this.string.length)return this.lastPos<this.string.length?(this.lastPos=this.string.length,new D(this.string.length)):null},t}();e.localExports=I},{"./classes":132,"./pairs":134,"base64-js":128,"unicode-trie":130}],134:[function(t,e,i){i.DI_BRK=0,i.IN_BRK=1,i.CI_BRK=2,i.CP_BRK=3,i.PR_BRK=4,i.pairTable=[[4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,4,4,4,4,4,4,4,4,4,4,4],[0,4,4,1,1,4,4,4,4,1,1,0,0,0,0,0,1,1,0,0,4,2,4,0,0,0,0,0,0,0,0,1,0],[0,4,4,1,1,4,4,4,4,1,1,1,1,1,0,0,1,1,0,0,4,2,4,0,0,0,0,0,0,0,0,1,0],[4,4,4,1,1,1,4,4,4,1,1,1,1,1,1,1,1,1,1,1,4,2,4,1,1,1,1,1,1,1,1,1,1],[1,4,4,1,1,1,4,4,4,1,1,1,1,1,1,1,1,1,1,1,4,2,4,1,1,1,1,1,1,1,1,1,1],[0,4,4,1,1,1,4,4,4,0,0,0,0,0,0,0,1,1,0,0,4,2,4,0,0,0,0,0,0,0,0,1,0],[0,4,4,1,1,1,4,4,4,0,0,0,0,0,0,1,1,1,0,0,4,2,4,0,0,0,0,0,0,0,0,1,0],[0,4,4,1,1,1,4,4,4,0,0,1,0,1,0,0,1,1,0,0,4,2,4,0,0,0,0,0,0,0,0,1,0],[0,4,4,1,1,1,4,4,4,0,0,1,1,1,0,0,1,1,0,0,4,2,4,0,0,0,0,0,0,0,0,1,0],[1,4,4,1,1,1,4,4,4,0,0,1,1,1,1,0,1,1,0,0,4,2,4,1,1,1,1,1,0,1,1,1,0],[1,4,4,1,1,1,4,4,4,0,0,1,1,1,0,0,1,1,0,0,4,2,4,0,0,0,0,0,0,0,0,1,0],[1,4,4,1,1,1,4,4,4,1,1,1,1,1,0,1,1,1,0,0,4,2,4,0,0,0,0,0,0,0,0,1,0],[1,4,4,1,1,1,4,4,4,1,1,1,1,1,0,1,1,1,0,0,4,2,4,0,0,0,0,0,0,0,0,1,0],[1,4,4,1,1,1,4,4,4,1,1,1,1,1,0,1,1,1,0,0,4,2,4,0,0,0,0,0,0,0,0,1,0],[0,4,4,1,1,1,4,4,4,0,1,0,0,0,0,1,1,1,0,0,4,2,4,0,0,0,0,0,0,0,0,1,0],[0,4,4,1,1,1,4,4,4,0,0,0,0,0,0,1,1,1,0,0,4,2,4,0,0,0,0,0,0,0,0,1,0],[0,4,4,1,0,1,4,4,4,0,0,1,0,0,0,0,1,1,0,0,4,2,4,0,0,0,0,0,0,0,0,1,0],[0,4,4,1,0,1,4,4,4,0,0,0,0,0,0,0,1,1,0,0,4,2,4,0,0,0,0,0,0,0,0,1,0],[1,4,4,1,1,1,4,4,4,1,1,1,1,1,1,1,1,1,1,1,4,2,4,1,1,1,1,1,1,1,1,1,0],[0,4,4,1,1,1,4,4,4,0,0,0,0,0,0,0,1,1,0,4,4,2,4,0,0,0,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0],[1,4,4,1,1,1,4,4,4,1,1,1,1,1,0,1,1,1,0,0,4,2,4,0,0,0,0,0,0,0,0,1,0],[1,4,4,1,1,1,4,4,4,1,1,1,1,1,1,1,1,1,1,1,4,2,4,1,1,1,1,1,1,1,1,1,1],[0,4,4,1,1,1,4,4,4,0,1,0,0,0,0,1,1,1,0,0,4,2,4,0,0,0,1,1,0,0,0,1,0],[0,4,4,1,1,1,4,4,4,0,1,0,0,0,0,1,1,1,0,0,4,2,4,0,0,0,0,1,0,0,0,1,0],[0,4,4,1,1,1,4,4,4,0,1,0,0,0,0,1,1,1,0,0,4,2,4,1,1,1,1,0,0,0,0,1,0],[0,4,4,1,1,1,4,4,4,0,1,0,0,0,0,1,1,1,0,0,4,2,4,0,0,0,1,1,0,0,0,1,0],[0,4,4,1,1,1,4,4,4,0,1,0,0,0,0,1,1,1,0,0,4,2,4,0,0,0,0,1,0,0,0,1,0],[0,4,4,1,1,1,4,4,4,0,0,0,0,0,0,0,1,1,0,0,4,2,4,0,0,0,0,0,1,0,0,1,0],[0,4,4,1,1,1,4,4,4,0,1,0,0,0,0,1,1,1,0,0,4,2,4,0,0,0,0,0,0,0,1,1,0],[0,4,4,1,1,1,4,4,4,0,1,0,0,0,0,1,1,1,0,0,4,2,4,0,0,0,0,0,0,0,0,1,0],[1,4,4,1,1,1,4,4,4,1,1,1,1,1,0,1,1,1,0,0,4,2,4,0,0,0,0,0,0,0,0,1,0],[0,4,4,1,1,0,4,4,4,0,0,0,0,0,0,0,0,0,0,0,4,2,4,0,0,0,0,0,0,0,0,1,0]]},{}],135:[function(t,e,i){(function(i){(function(){var n=t("@babel/runtime-corejs2/core-js/object/assign"),r=t("stream"),o=t("@babel/runtime-corejs2/core-js/array/is-array"),s=t("@babel/runtime-corejs2/core-js/object/keys"),a=t("zlib"),l=t("@babel/runtime-corejs2/core-js/parse-int"),h=t("@babel/runtime-corejs2/core-js/number/is-finite"),u=t("@babel/runtime-corejs2/core-js/json/stringify"),c=t("fontkit"),d=t("@babel/runtime-corejs2/core-js/object/create"),f=t("events"),p=t("linebreak"),g=t("png-js");function _(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function m(t,e,i){return(m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}).apply(this,arguments)}function w(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,b(t,e)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function y(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(i)return(i=i.call(t)).next.bind(i);if(Array.isArray(t)||(i=function(t,e){if(t){if("string"==typeof t)return v(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?v(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var x,C,j,S,E,k,T=function(){function t(){}return t.prototype.toString=function(){throw new Error("Must be implemented by subclasses")},t}(),P=function(){function t(t){void 0===t&&(t={}),this._items={},this.limits="boolean"!=typeof t.limits||t.limits}var e=t.prototype;return e.add=function(t,e){return this._items[t]=e},e.get=function(t){return this._items[t]},e.toString=function(){var t=this,e=s(this._items).sort((function(e,i){return t._compareKeys(e,i)})),i=["<<"];if(this.limits&&e.length>1){var n=e[0],r=e[e.length-1];i.push("  /Limits "+D.convert([this._dataForKey(n),this._dataForKey(r)]))}i.push("  /"+this._keysName()+" [");for(var o,a=y(e);!(o=a()).done;){var l=o.value;i.push("    "+D.convert(this._dataForKey(l))+" "+D.convert(this._items[l]))}return i.push("]"),i.push(">>"),i.join("\n")},e._compareKeys=function(){throw new Error("Must be implemented by subclasses")},e._keysName=function(){throw new Error("Must be implemented by subclasses")},e._dataForKey=function(){throw new Error("Must be implemented by subclasses")},t}(),A=function(t,e){return(Array(e+1).join("0")+t).slice(-e)},R=/[\n\r\t\b\f()\\]/g,O={"\n":"\\n","\r":"\\r","\t":"\\t","\b":"\\b","\f":"\\f","\\":"\\\\","(":"\\(",")":"\\)"},D=function(){function t(){}return t.convert=function(e,n){if(void 0===n&&(n=null),"string"==typeof e)return"/"+e;if(e instanceof String){for(var r,s=e,a=!1,l=0,h=s.length;l<h;l++)if(s.charCodeAt(l)>127){a=!0;break}return r=a?function(t){var e=t.length;if(1&e)throw new Error("Buffer length must be even");for(var i=0,n=e-1;i<n;i+=2){var r=t[i];t[i]=t[i+1],t[i+1]=r}return t}(i.from("\ufeff"+s,"utf16le")):i.from(s.valueOf(),"ascii"),"("+(s=(s=n?n(r).toString("binary"):r.toString("binary")).replace(R,(function(t){return O[t]})))+")"}if(i.isBuffer(e))return"<"+e.toString("hex")+">";if(e instanceof T||e instanceof P)return e.toString();if(e instanceof Date){var u="D:"+A(e.getUTCFullYear(),4)+A(e.getUTCMonth()+1,2)+A(e.getUTCDate(),2)+A(e.getUTCHours(),2)+A(e.getUTCMinutes(),2)+A(e.getUTCSeconds(),2)+"Z";return n&&(u=(u=n(i.from(u,"ascii")).toString("binary")).replace(R,(function(t){return O[t]}))),"("+u+")"}if(o(e))return"["+e.map((function(e){return t.convert(e,n)})).join(" ")+"]";if("[object Object]"==={}.toString.call(e)){var c=["<<"];for(var d in e){var f=e[d];c.push("/"+d+" "+t.convert(f,n))}return c.push(">>"),c.join("\n")}return"number"==typeof e?t.number(e):""+e},t.number=function(t){if(t>-1e21&&t<1e21)return Math.round(1e6*t)/1e6;throw new Error("unsupported number: "+t)},t}(),I=function(t){function e(e,i,n){var r;return void 0===n&&(n={}),(r=t.call(this)||this).document=e,r.id=i,r.data=n,r.gen=0,r.compress=r.document.compress&&!r.data.Filter,r.uncompressedLength=0,r.buffer=[],r}w(e,t);var n=e.prototype;return n.write=function(t){if(i.isBuffer(t)||(t=i.from(t+"\n","binary")),this.uncompressedLength+=t.length,null==this.data.Length&&(this.data.Length=0),this.buffer.push(t),this.data.Length+=t.length,this.compress)return this.data.Filter="FlateDecode"},n.end=function(t){return t&&this.write(t),this.finalize()},n.finalize=function(){this.offset=this.document._offset;var t=this.document._security?this.document._security.getEncryptFn(this.id,this.gen):null;this.buffer.length&&(this.buffer=i.concat(this.buffer),this.compress&&(this.buffer=a.deflateSync(this.buffer)),t&&(this.buffer=t(this.buffer)),this.data.Length=this.buffer.length),this.document._write(this.id+" "+this.gen+" obj"),this.document._write(D.convert(this.data,t)),this.buffer.length&&(this.document._write("stream"),this.document._write(this.buffer),this.buffer=[],this.document._write("\nendstream")),this.document._write("endobj"),this.document._refEnd(this)},n.toString=function(){return this.id+" "+this.gen+" R"},e}(T),M={top:72,left:72,bottom:72,right:72},F={"4A0":[4767.87,6740.79],"2A0":[3370.39,4767.87],A0:[2383.94,3370.39],A1:[1683.78,2383.94],A2:[1190.55,1683.78],A3:[841.89,1190.55],A4:[595.28,841.89],A5:[419.53,595.28],A6:[297.64,419.53],A7:[209.76,297.64],A8:[147.4,209.76],A9:[104.88,147.4],A10:[73.7,104.88],B0:[2834.65,4008.19],B1:[2004.09,2834.65],B2:[1417.32,2004.09],B3:[1000.63,1417.32],B4:[708.66,1000.63],B5:[498.9,708.66],B6:[354.33,498.9],B7:[249.45,354.33],B8:[175.75,249.45],B9:[124.72,175.75],B10:[87.87,124.72],C0:[2599.37,3676.54],C1:[1836.85,2599.37],C2:[1298.27,1836.85],C3:[918.43,1298.27],C4:[649.13,918.43],C5:[459.21,649.13],C6:[323.15,459.21],C7:[229.61,323.15],C8:[161.57,229.61],C9:[113.39,161.57],C10:[79.37,113.39],RA0:[2437.8,3458.27],RA1:[1729.13,2437.8],RA2:[1218.9,1729.13],RA3:[864.57,1218.9],RA4:[609.45,864.57],SRA0:[2551.18,3628.35],SRA1:[1814.17,2551.18],SRA2:[1275.59,1814.17],SRA3:[907.09,1275.59],SRA4:[637.8,907.09],EXECUTIVE:[521.86,756],FOLIO:[612,936],LEGAL:[612,1008],LETTER:[612,792],TABLOID:[792,1224]},L=function(){function t(t,e){void 0===e&&(e={}),this.document=t,this.size=e.size||"letter",this.layout=e.layout||"portrait","number"==typeof e.margin?this.margins={top:e.margin,left:e.margin,bottom:e.margin,right:e.margin}:(this.margins=e.margins||M,this.margins={top:this.margins.top,left:this.margins.left,bottom:this.margins.bottom,right:this.margins.right});var i=o(this.size)?this.size:F[this.size.toUpperCase()];this.width=i["portrait"===this.layout?0:1],this.height=i["portrait"===this.layout?1:0],this.content=this.document.ref(),this.resources=this.document.ref({ProcSet:["PDF","Text","ImageB","ImageC","ImageI"]}),this.dictionary=this.document.ref({Type:"Page",Parent:this.document._root.data.Pages,MediaBox:[0,0,this.width,this.height],Contents:this.content,Resources:this.resources,Tabs:"S"}),this.markings=[]}var e=t.prototype;return e.maxY=function(){return this.height-this.margins.bottom},e.write=function(t){return this.content.write(t)},e.end=function(){return this.dictionary.end(),this.resources.end(),this.content.end()},function(t,e,i){e&&_(t.prototype,e),i&&_(t,i)}(t,[{key:"fonts",get:function(){var t=this.resources.data;return null!=t.Font?t.Font:t.Font={}}},{key:"xobjects",get:function(){var t=this.resources.data;return null!=t.XObject?t.XObject:t.XObject={}}},{key:"ext_gstates",get:function(){var t=this.resources.data;return null!=t.ExtGState?t.ExtGState:t.ExtGState={}}},{key:"patterns",get:function(){var t=this.resources.data;return null!=t.Pattern?t.Pattern:t.Pattern={}}},{key:"colorSpaces",get:function(){var t=this.resources.data;return t.ColorSpace||(t.ColorSpace={})}},{key:"annotations",get:function(){var t=this.dictionary.data;return null!=t.Annots?t.Annots:t.Annots=[]}},{key:"structParentTreeKey",get:function(){var t=this.dictionary.data;return null!=t.StructParents?t.StructParents:t.StructParents=this.document.createStructParentTreeNextKey()}}]),t}(),N=function(t){function e(){return t.apply(this,arguments)||this}w(e,t);var i=e.prototype;return i._compareKeys=function(t,e){return t.localeCompare(e)},i._keysName=function(){return"Names"},i._dataForKey=function(t){return new String(t)},e}(P),z=D.number,B=function(){function t(t){this.doc=t,this.stops=[],this.embedded=!1,this.transform=[1,0,0,1,0,0]}var e=t.prototype;return e.stop=function(t,e,i){if(null==i&&(i=1),e=this.doc._normalizeColor(e),0===this.stops.length)if(3===e.length)this._colorSpace="DeviceRGB";else if(4===e.length)this._colorSpace="DeviceCMYK";else{if(1!==e.length)throw new Error("Unknown color space");this._colorSpace="DeviceGray"}else if("DeviceRGB"===this._colorSpace&&3!==e.length||"DeviceCMYK"===this._colorSpace&&4!==e.length||"DeviceGray"===this._colorSpace&&1!==e.length)throw new Error("All gradient stops must use the same color space");return i=Math.max(0,Math.min(1,i)),this.stops.push([t,e,i]),this},e.setTransform=function(t,e,i,n,r,o){return this.transform=[t,e,i,n,r,o],this},e.embed=function(t){var e,i=this.stops.length;if(0!==i){this.embedded=!0,this.matrix=t;var n=this.stops[i-1];n[0]<1&&this.stops.push([1,n[1],n[2]]);for(var r=[],o=[],s=[],a=0;a<i-1;a++)o.push(0,1),a+2!==i&&r.push(this.stops[a+1][0]),e=this.doc.ref({FunctionType:2,Domain:[0,1],C0:this.stops[a+0][1],C1:this.stops[a+1][1],N:1}),s.push(e),e.end();1===i?e=s[0]:(e=this.doc.ref({FunctionType:3,Domain:[0,1],Functions:s,Bounds:r,Encode:o})).end(),this.id="Sh"+ ++this.doc._gradCount;var l=this.shader(e);l.end();var h=this.doc.ref({Type:"Pattern",PatternType:2,Shading:l,Matrix:this.matrix.map(z)});if(h.end(),this.stops.some((function(t){return t[2]<1}))){var u=this.opacityGradient();u._colorSpace="DeviceGray";for(var c,d=y(this.stops);!(c=d()).done;){var f=c.value;u.stop(f[0],[f[2]])}u=u.embed(this.matrix);var p=[0,0,this.doc.page.width,this.doc.page.height],g=this.doc.ref({Type:"XObject",Subtype:"Form",FormType:1,BBox:p,Group:{Type:"Group",S:"Transparency",CS:"DeviceGray"},Resources:{ProcSet:["PDF","Text","ImageB","ImageC","ImageI"],Pattern:{Sh1:u}}});g.write("/Pattern cs /Sh1 scn"),g.end(p.join(" ")+" re f");var _=this.doc.ref({Type:"ExtGState",SMask:{Type:"Mask",S:"Luminosity",G:g}});_.end();var m=this.doc.ref({Type:"Pattern",PatternType:1,PaintType:1,TilingType:2,BBox:p,XStep:p[2],YStep:p[3],Resources:{ProcSet:["PDF","Text","ImageB","ImageC","ImageI"],Pattern:{Sh1:h},ExtGState:{Gs1:_}}});m.write("/Gs1 gs /Pattern cs /Sh1 scn"),m.end(p.join(" ")+" re f"),this.doc.page.patterns[this.id]=m}else this.doc.page.patterns[this.id]=h;return h}},e.apply=function(t){var e=this.doc._ctm,i=e[0],n=e[1],r=e[2],o=e[3],s=e[4],a=e[5],l=this.transform,h=l[0],u=l[1],c=l[2],d=l[3],f=l[4],p=l[5],g=[i*h+r*u,n*h+o*u,i*c+r*d,n*c+o*d,i*f+r*p+s,n*f+o*p+a];this.embedded&&g.join(" ")===this.matrix.join(" ")||this.embed(g),this.doc._setColorSpace("Pattern",t);var _=t?"SCN":"scn";return this.doc.addContent("/"+this.id+" "+_)},t}(),H={PDFGradient:B,PDFLinearGradient:function(t){function e(e,i,n,r,o){var s;return(s=t.call(this,e)||this).x1=i,s.y1=n,s.x2=r,s.y2=o,s}w(e,t);var i=e.prototype;return i.shader=function(t){return this.doc.ref({ShadingType:2,ColorSpace:this._colorSpace,Coords:[this.x1,this.y1,this.x2,this.y2],Function:t,Extend:[!0,!0]})},i.opacityGradient=function(){return new e(this.doc,this.x1,this.y1,this.x2,this.y2)},e}(B),PDFRadialGradient:function(t){function e(e,i,n,r,o,s,a){var l;return(l=t.call(this,e)||this).doc=e,l.x1=i,l.y1=n,l.r1=r,l.x2=o,l.y2=s,l.r2=a,l}w(e,t);var i=e.prototype;return i.shader=function(t){return this.doc.ref({ShadingType:3,ColorSpace:this._colorSpace,Coords:[this.x1,this.y1,this.r1,this.x2,this.y2,this.r2],Function:t,Extend:[!0,!0]})},i.opacityGradient=function(){return new e(this.doc,this.x1,this.y1,this.r1,this.x2,this.y2,this.r2)},e}(B)},V=H.PDFGradient,U=H.PDFLinearGradient,G=H.PDFRadialGradient,W={initColor:function(){return this._opacityRegistry={},this._opacityCount=0,this._patternCount=0,this._gradCount=0},_normalizeColor:function(t){if("string"==typeof t)if("#"===t.charAt(0)){4===t.length&&(t=t.replace(/#([0-9A-F])([0-9A-F])([0-9A-F])/i,"#$1$1$2$2$3$3"));var e=l(t.slice(1),16);t=[e>>16,e>>8&255,255&e]}else Y[t]&&(t=Y[t]);return o(t)?(3===t.length?t=t.map((function(t){return t/255})):4===t.length&&(t=t.map((function(t){return t/100}))),t):null},_setColor:function(t,e){return t instanceof V?(t.apply(e),!0):this._setColorCore(t,e)},_setColorCore:function(t,e){if(!(t=this._normalizeColor(t)))return!1;var i=e?"SCN":"scn",n=this._getColorSpace(t);return this._setColorSpace(n,e),t=t.join(" "),this.addContent(t+" "+i),!0},_setColorSpace:function(t,e){var i=e?"CS":"cs";return this.addContent("/"+t+" "+i)},_getColorSpace:function(t){return 4===t.length?"DeviceCMYK":"DeviceRGB"},fillColor:function(t,e){return this._setColor(t,!1)&&this.fillOpacity(e),this._fillColor=[t,e],this},strokeColor:function(t,e){return this._setColor(t,!0)&&this.strokeOpacity(e),this},opacity:function(t){return this._doOpacity(t,t),this},fillOpacity:function(t){return this._doOpacity(t,null),this},strokeOpacity:function(t){return this._doOpacity(null,t),this},_doOpacity:function(t,e){var i,n;if(null!=t||null!=e){null!=t&&(t=Math.max(0,Math.min(1,t))),null!=e&&(e=Math.max(0,Math.min(1,e)));var r=t+"_"+e;if(this._opacityRegistry[r]){var o=this._opacityRegistry[r];i=o[0],n=o[1]}else i={Type:"ExtGState"},null!=t&&(i.ca=t),null!=e&&(i.CA=e),(i=this.ref(i)).end(),n="Gs"+ ++this._opacityCount,this._opacityRegistry[r]=[i,n];return this.page.ext_gstates[n]=i,this.addContent("/"+n+" gs")}},linearGradient:function(t,e,i,n){return new U(this,t,e,i,n)},radialGradient:function(t,e,i,n,r,o){return new G(this,t,e,i,n,r,o)}},Y={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};x=C=j=S=E=k=0;var q={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0},X={M:function(t,e){return x=e[0],C=e[1],j=S=null,E=x,k=C,t.moveTo(x,C)},m:function(t,e){return x+=e[0],C+=e[1],j=S=null,E=x,k=C,t.moveTo(x,C)},C:function(t,e){return x=e[4],C=e[5],j=e[2],S=e[3],t.bezierCurveTo.apply(t,e)},c:function(t,e){return t.bezierCurveTo(e[0]+x,e[1]+C,e[2]+x,e[3]+C,e[4]+x,e[5]+C),j=x+e[2],S=C+e[3],x+=e[4],C+=e[5]},S:function(t,e){return null===j&&(j=x,S=C),t.bezierCurveTo(x-(j-x),C-(S-C),e[0],e[1],e[2],e[3]),j=e[0],S=e[1],x=e[2],C=e[3]},s:function(t,e){return null===j&&(j=x,S=C),t.bezierCurveTo(x-(j-x),C-(S-C),x+e[0],C+e[1],x+e[2],C+e[3]),j=x+e[0],S=C+e[1],x+=e[2],C+=e[3]},Q:function(t,e){return j=e[0],S=e[1],x=e[2],C=e[3],t.quadraticCurveTo(e[0],e[1],x,C)},q:function(t,e){return t.quadraticCurveTo(e[0]+x,e[1]+C,e[2]+x,e[3]+C),j=x+e[0],S=C+e[1],x+=e[2],C+=e[3]},T:function(t,e){return null===j?(j=x,S=C):(j=x-(j-x),S=C-(S-C)),t.quadraticCurveTo(j,S,e[0],e[1]),j=x-(j-x),S=C-(S-C),x=e[0],C=e[1]},t:function(t,e){return null===j?(j=x,S=C):(j=x-(j-x),S=C-(S-C)),t.quadraticCurveTo(j,S,x+e[0],C+e[1]),x+=e[0],C+=e[1]},A:function(t,e){return K(t,x,C,e),x=e[5],C=e[6]},a:function(t,e){return e[5]+=x,e[6]+=C,K(t,x,C,e),x=e[5],C=e[6]},L:function(t,e){return x=e[0],C=e[1],j=S=null,t.lineTo(x,C)},l:function(t,e){return x+=e[0],C+=e[1],j=S=null,t.lineTo(x,C)},H:function(t,e){return x=e[0],j=S=null,t.lineTo(x,C)},h:function(t,e){return x+=e[0],j=S=null,t.lineTo(x,C)},V:function(t,e){return C=e[0],j=S=null,t.lineTo(x,C)},v:function(t,e){return C+=e[0],j=S=null,t.lineTo(x,C)},Z:function(t){return t.closePath(),x=E,C=k},z:function(t){return t.closePath(),x=E,C=k}},K=function(t,e,i,n){for(var r,o=n[0],s=n[1],a=n[2],l=n[3],h=n[4],u=n[5],c=n[6],d=y(Z(u,c,o,s,l,h,a,e,i));!(r=d()).done;){var f=r.value,p=J.apply(void 0,f);t.bezierCurveTo.apply(t,p)}},Z=function(t,e,i,n,r,o,s,a,l){var h=s*(Math.PI/180),u=Math.sin(h),c=Math.cos(h);i=Math.abs(i),n=Math.abs(n);var d=(j=c*(a-t)*.5+u*(l-e)*.5)*j/(i*i)+(S=c*(l-e)*.5-u*(a-t)*.5)*S/(n*n);d>1&&(i*=d=Math.sqrt(d),n*=d);var f=c/i,p=u/i,g=-u/n,_=c/n,m=f*a+p*l,w=g*a+_*l,b=f*t+p*e,v=g*t+_*e,y=1/((b-m)*(b-m)+(v-w)*(v-w))-.25;y<0&&(y=0);var x=Math.sqrt(y);o===r&&(x=-x);var C=.5*(m+b)-x*(v-w),E=.5*(w+v)+x*(b-m),k=Math.atan2(w-E,m-C),T=Math.atan2(v-E,b-C)-k;T<0&&1===o?T+=2*Math.PI:T>0&&0===o&&(T-=2*Math.PI);for(var P=Math.ceil(Math.abs(T/(.5*Math.PI+.001))),A=[],R=0;R<P;R++){var O=k+R*T/P,D=k+(R+1)*T/P;A[R]=[C,E,O,D,i,n,u,c]}return A},J=function(t,e,i,n,r,o,s,a){var l=a*r,h=-s*o,u=s*r,c=a*o,d=.5*(n-i),f=8/3*Math.sin(.5*d)*Math.sin(.5*d)/Math.sin(d),p=t+Math.cos(i)-f*Math.sin(i),g=e+Math.sin(i)+f*Math.cos(i),_=t+Math.cos(n),m=e+Math.sin(n),w=_+f*Math.sin(n),b=m-f*Math.cos(n);return[l*p+h*g,u*p+c*g,l*w+h*b,u*w+c*b,l*_+h*m,u*_+c*m]},Q=function(){function t(){}return t.apply=function(t,e){!function(t,e){x=C=j=S=E=k=0;for(var i=0;i<t.length;i++){var n=t[i];"function"==typeof X[n.cmd]&&X[n.cmd](e,n.args)}}(function(t){for(var e,i,n=[],r=[],o="",s=!1,a=0,l=y(t);!(i=l()).done;){var h=i.value;if(null!=q[h])a=q[h],e&&(o.length>0&&(r[r.length]=+o),n[n.length]={cmd:e,args:r},r=[],o="",s=!1),e=h;else if(-1!==[" ",","].indexOf(h)||"-"===h&&o.length>0&&"e"!==o[o.length-1]||"."===h&&s){if(0===o.length)continue;r.length===a?(n[n.length]={cmd:e,args:r},r=[+o],"M"===e&&(e="L"),"m"===e&&(e="l")):r[r.length]=+o,s="."===h,o=-1!==["-","."].indexOf(h)?h:""}else o+=h,"."===h&&(s=!0)}return o.length>0&&(r.length===a?(n[n.length]={cmd:e,args:r},r=[+o],"M"===e&&(e="L"),"m"===e&&(e="l")):r[r.length]=+o),n[n.length]={cmd:e,args:r},n}(e),t)},t}(),$=D.number,tt=(Math.sqrt(2)-1)/3*4,et={initVector:function(){return this._ctm=[1,0,0,1,0,0],this._ctmStack=[]},save:function(){return this._ctmStack.push(this._ctm.slice()),this.addContent("q")},restore:function(){return this._ctm=this._ctmStack.pop()||[1,0,0,1,0,0],this.addContent("Q")},closePath:function(){return this.addContent("h")},lineWidth:function(t){return this.addContent($(t)+" w")},_CAP_STYLES:{BUTT:0,ROUND:1,SQUARE:2},lineCap:function(t){return"string"==typeof t&&(t=this._CAP_STYLES[t.toUpperCase()]),this.addContent(t+" J")},_JOIN_STYLES:{MITER:0,ROUND:1,BEVEL:2},lineJoin:function(t){return"string"==typeof t&&(t=this._JOIN_STYLES[t.toUpperCase()]),this.addContent(t+" j")},miterLimit:function(t){return this.addContent($(t)+" M")},dash:function(t,e){void 0===e&&(e={});var i=t;if(o(t)||(t=[t,e.space||t]),!t.every((function(t){return h(t)&&t>0})))throw new Error("dash("+u(i)+", "+u(e)+") invalid, lengths must be numeric and greater than zero");return t=t.map($).join(" "),this.addContent("["+t+"] "+$(e.phase||0)+" d")},undash:function(){return this.addContent("[] 0 d")},moveTo:function(t,e){return this.addContent($(t)+" "+$(e)+" m")},lineTo:function(t,e){return this.addContent($(t)+" "+$(e)+" l")},bezierCurveTo:function(t,e,i,n,r,o){return this.addContent($(t)+" "+$(e)+" "+$(i)+" "+$(n)+" "+$(r)+" "+$(o)+" c")},quadraticCurveTo:function(t,e,i,n){return this.addContent($(t)+" "+$(e)+" "+$(i)+" "+$(n)+" v")},rect:function(t,e,i,n){return this.addContent($(t)+" "+$(e)+" "+$(i)+" "+$(n)+" re")},roundedRect:function(t,e,i,n,r){null==r&&(r=0);var o=(r=Math.min(r,.5*i,.5*n))*(1-tt);return this.moveTo(t+r,e),this.lineTo(t+i-r,e),this.bezierCurveTo(t+i-o,e,t+i,e+o,t+i,e+r),this.lineTo(t+i,e+n-r),this.bezierCurveTo(t+i,e+n-o,t+i-o,e+n,t+i-r,e+n),this.lineTo(t+r,e+n),this.bezierCurveTo(t+o,e+n,t,e+n-o,t,e+n-r),this.lineTo(t,e+r),this.bezierCurveTo(t,e+o,t+o,e,t+r,e),this.closePath()},ellipse:function(t,e,i,n){null==n&&(n=i);var r=i*tt,o=n*tt,s=(t-=i)+2*i,a=(e-=n)+2*n,l=t+i,h=e+n;return this.moveTo(t,h),this.bezierCurveTo(t,h-o,l-r,e,l,e),this.bezierCurveTo(l+r,e,s,h-o,s,h),this.bezierCurveTo(s,h+o,l+r,a,l,a),this.bezierCurveTo(l-r,a,t,h+o,t,h),this.closePath()},circle:function(t,e,i){return this.ellipse(t,e,i)},arc:function(t,e,i,n,r,o){null==o&&(o=!1);var s=2*Math.PI,a=.5*Math.PI,l=r-n;Math.abs(l)>s?l=s:0!==l&&o!==l<0&&(l=(o?-1:1)*s+l);var h=Math.ceil(Math.abs(l)/a),u=l/h,c=u/a*tt*i,d=n,f=-Math.sin(d)*c,p=Math.cos(d)*c,g=t+Math.cos(d)*i,_=e+Math.sin(d)*i;this.moveTo(g,_);for(var m=0;m<h;m++){var w=g+f,b=_+p;d+=u,g=t+Math.cos(d)*i,_=e+Math.sin(d)*i;var v=g-(f=-Math.sin(d)*c),y=_-(p=Math.cos(d)*c);this.bezierCurveTo(w,b,v,y,g,_)}return this},polygon:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.moveTo.apply(this,e.shift()||[]);for(var n=0,r=e;n<r.length;n++){var o=r[n];this.lineTo.apply(this,o||[])}return this.closePath()},path:function(t){return Q.apply(this,t),this},_windingRule:function(t){return/even-?odd/.test(t)?"*":""},fill:function(t,e){return/(even-?odd)|(non-?zero)/.test(t)&&(e=t,t=null),t&&this.fillColor(t),this.addContent("f"+this._windingRule(e))},stroke:function(t){return t&&this.strokeColor(t),this.addContent("S")},fillAndStroke:function(t,e,i){null==e&&(e=t);var n=/(even-?odd)|(non-?zero)/;return n.test(t)&&(i=t,t=null),n.test(e)&&(i=e,e=t),t&&(this.fillColor(t),this.strokeColor(e)),this.addContent("B"+this._windingRule(i))},clip:function(t){return this.addContent("W"+this._windingRule(t)+" n")},transform:function(t,e,i,n,r,o){var s=this._ctm,a=s[0],l=s[1],h=s[2],u=s[3],c=s[4],d=s[5];s[0]=a*t+h*e,s[1]=l*t+u*e,s[2]=a*i+h*n,s[3]=l*i+u*n,s[4]=a*r+h*o+c,s[5]=l*r+u*o+d;var f=[t,e,i,n,r,o].map((function(t){return $(t)})).join(" ");return this.addContent(f+" cm")},translate:function(t,e){return this.transform(1,0,0,1,t,e)},rotate:function(t,e){void 0===e&&(e={});var i,n=t*Math.PI/180,r=Math.cos(n),o=Math.sin(n),s=i=0;if(null!=e.origin){var a=e.origin,l=(s=a[0])*o+(i=a[1])*r;s-=s*r-i*o,i-=l}return this.transform(r,o,-o,r,s,i)},scale:function(t,e,i){var n;void 0===i&&(i={}),null==e&&(e=t),"object"==typeof e&&(i=e,e=t);var r=n=0;if(null!=i.origin){var o=i.origin;r=o[0],n=o[1],r-=t*r,n-=e*n}return this.transform(t,0,0,e,r,n)}},it={402:131,8211:150,8212:151,8216:145,8217:146,8218:130,8220:147,8221:148,8222:132,8224:134,8225:135,8226:149,8230:133,8364:128,8240:137,8249:139,8250:155,710:136,8482:153,338:140,339:156,732:152,352:138,353:154,376:159,381:142,382:158},nt="space:exclam:quotedbl:numbersign:dollar:percent:ampersand:quoteright:parenleft:parenright:asterisk:plus:comma:hyphen:period:slash:zero:one:two:three:four:five:six:seven:eight:nine:colon:semicolon:less:equal:greater:question:at:A:B:C:D:E:F:G:H:I:J:K:L:M:N:O:P:Q:R:S:T:U:V:W:X:Y:Z:bracketleft:backslash:bracketright:asciicircum:underscore:quoteleft:a:b:c:d:e:f:g:h:i:j:k:l:m:n:o:p:q:r:s:t:u:v:w:x:y:z:braceleft:bar:braceright:asciitilde:exclamdown:cent:sterling:fraction:yen:florin:section:currency:quotesingle:quotedblleft:guillemotleft:guilsinglleft:guilsinglright:fi:fl:endash:dagger:daggerdbl:periodcentered:paragraph:bullet:quotesinglbase:quotedblbase:quotedblright:guillemotright:ellipsis:perthousand:questiondown:grave:acute:circumflex:tilde:macron:breve:dotaccent:dieresis:ring:cedilla:hungarumlaut:ogonek:caron:emdash:AE:ordfeminine:Lslash:Oslash:OE:ordmasculine:ae:dotlessi:lslash:oslash:oe:germandbls:Idieresis:eacute:abreve:uhungarumlaut:ecaron:Ydieresis:divide:Yacute:Acircumflex:aacute:Ucircumflex:yacute:scommaaccent:ecircumflex:Uring:Udieresis:aogonek:Uacute:uogonek:Edieresis:Dcroat:commaaccent:copyright:Emacron:ccaron:aring:Ncommaaccent:lacute:agrave:Tcommaaccent:Cacute:atilde:Edotaccent:scaron:scedilla:iacute:lozenge:Rcaron:Gcommaaccent:ucircumflex:acircumflex:Amacron:rcaron:ccedilla:Zdotaccent:Thorn:Omacron:Racute:Sacute:dcaron:Umacron:uring:threesuperior:Ograve:Agrave:Abreve:multiply:uacute:Tcaron:partialdiff:ydieresis:Nacute:icircumflex:Ecircumflex:adieresis:edieresis:cacute:nacute:umacron:Ncaron:Iacute:plusminus:brokenbar:registered:Gbreve:Idotaccent:summation:Egrave:racute:omacron:Zacute:Zcaron:greaterequal:Eth:Ccedilla:lcommaaccent:tcaron:eogonek:Uogonek:Aacute:Adieresis:egrave:zacute:iogonek:Oacute:oacute:amacron:sacute:idieresis:Ocircumflex:Ugrave:Delta:thorn:twosuperior:Odieresis:mu:igrave:ohungarumlaut:Eogonek:dcroat:threequarters:Scedilla:lcaron:Kcommaaccent:Lacute:trademark:edotaccent:Igrave:Imacron:Lcaron:onehalf:lessequal:ocircumflex:ntilde:Uhungarumlaut:Eacute:emacron:gbreve:onequarter:Scaron:Scommaaccent:Ohungarumlaut:degree:ograve:Ccaron:ugrave:radical:Dcaron:rcommaaccent:Ntilde:otilde:Rcommaaccent:Lcommaaccent:Atilde:Aogonek:Aring:Otilde:zdotaccent:Ecaron:Iogonek:kcommaaccent:minus:Icircumflex:ncaron:tcommaaccent:logicalnot:odieresis:udieresis:notequal:gcommaaccent:eth:zcaron:ncommaaccent:onesuperior:imacron:Euro:universal:existential:suchthat:asteriskmath:congruent:Alpha:Beta:Chi:Epsilon:Phi:Gamma:Eta:Iota:theta1:Kappa:Lambda:Mu:Nu:Omicron:Pi:Theta:Rho:Sigma:Tau:Upsilon:sigma1:Omega:Xi:Psi:Zeta:therefore:perpendicular:radicalex:alpha:beta:chi:delta:epsilon:phi:gamma:eta:iota:phi1:kappa:lambda:nu:omicron:pi:theta:rho:sigma:tau:upsilon:omega1:omega:xi:psi:zeta:similar:Upsilon1:minute:infinity:club:diamond:heart:spade:arrowboth:arrowleft:arrowup:arrowright:arrowdown:second:proportional:equivalence:approxequal:arrowvertex:arrowhorizex:carriagereturn:aleph:Ifraktur:Rfraktur:weierstrass:circlemultiply:circleplus:emptyset:intersection:union:propersuperset:reflexsuperset:notsubset:propersubset:reflexsubset:element:notelement:angle:gradient:registerserif:copyrightserif:trademarkserif:product:dotmath:logicaland:logicalor:arrowdblboth:arrowdblleft:arrowdblup:arrowdblright:arrowdbldown:angleleft:registersans:copyrightsans:trademarksans:parenlefttp:parenleftex:parenleftbt:bracketlefttp:bracketleftex:bracketleftbt:bracelefttp:braceleftmid:braceleftbt:braceex:angleright:integral:integraltp:integralex:integralbt:parenrighttp:parenrightex:parenrightbt:bracketrighttp:bracketrightex:bracketrightbt:bracerighttp:bracerightmid:bracerightbt:apple:a1:a2:a202:a3:a4:a5:a119:a118:a117:a11:a12:a13:a14:a15:a16:a105:a17:a18:a19:a20:a21:a22:a23:a24:a25:a26:a27:a28:a6:a7:a8:a9:a10:a29:a30:a31:a32:a33:a34:a35:a36:a37:a38:a39:a40:a41:a42:a43:a44:a45:a46:a47:a48:a49:a50:a51:a52:a53:a54:a55:a56:a57:a58:a59:a60:a61:a62:a63:a64:a65:a66:a67:a68:a69:a70:a71:a72:a73:a74:a203:a75:a204:a76:a77:a78:a79:a81:a82:a83:a84:a97:a98:a99:a100:a89:a90:a93:a94:a91:a92:a205:a85:a206:a86:a87:a88:a95:a96:a101:a102:a103:a104:a106:a107:a108:a112:a111:a110:a109:a120:a121:a122:a123:a124:a125:a126:a127:a128:a129:a130:a131:a132:a133:a134:a135:a136:a137:a138:a139:a140:a141:a142:a143:a144:a145:a146:a147:a148:a149:a150:a151:a152:a153:a154:a155:a156:a157:a158:a159:a160:a161:a163:a164:a196:a165:a192:a166:a167:a168:a169:a170:a171:a172:a173:a162:a174:a175:a176:a177:a178:a179:a193:a180:a199:a181:a200:a182:a201:a183:a184:a197:a185:a194:a198:a186:a195:a187:a188:a189:a190:a191".split(":"),rt=".notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef .notdef space exclam quotedbl numbersign dollar percent ampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore grave a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde .notdef Euro .notdef quotesinglbase florin quotedblbase ellipsis dagger daggerdbl circumflex perthousand Scaron guilsinglleft OE .notdef Zcaron .notdef .notdef quoteleft quoteright quotedblleft quotedblright bullet endash emdash tilde trademark scaron guilsinglright oe .notdef zcaron ydieresis space exclamdown cent sterling currency yen brokenbar section dieresis copyright ordfeminine guillemotleft logicalnot hyphen registered macron degree plusminus twosuperior threesuperior acute mu paragraph periodcentered cedilla onesuperior ordmasculine guillemotright onequarter onehalf threequarters questiondown Agrave Aacute Acircumflex Atilde Adieresis Aring AE Ccedilla Egrave Eacute Ecircumflex Edieresis Igrave Iacute Icircumflex Idieresis Eth Ntilde Ograve Oacute Ocircumflex Otilde Odieresis multiply Oslash Ugrave Uacute Ucircumflex Udieresis Yacute Thorn germandbls agrave aacute acircumflex atilde adieresis aring ae ccedilla egrave eacute ecircumflex edieresis igrave iacute icircumflex idieresis eth ntilde ograve oacute ocircumflex otilde odieresis divide oslash ugrave uacute ucircumflex udieresis yacute thorn ydieresis".split(" "),ot=function(){function t(t){this.contents=t,this.bbox=this._parseFontBBox(t[1]),this.capHeight=t[2],this.xHeight=t[3],this.ascender=t[4],this.descender=t[5],this.glyphWidths=this._parseGlyphWidths(t[6]),this.charWidths=this._getCharWidths(),this.kernPairs=this._parseKerningPairs(t[7]),this.lineGap=this.bbox[3]-this.bbox[1]-(this.ascender-this.descender)}var e=t.prototype;return e.encodeText=function(t){for(var e=[],i=0,n=t.length;i<n;i++){var r=t.charCodeAt(i);r=it[r]||r,e.push(r.toString(16))}return e},e.glyphsForString=function(t){for(var e=[],i=0,n=t.length;i<n;i++){var r=t.charCodeAt(i);e.push(this.characterToGlyph(r))}return e},e.characterToGlyph=function(t){return rt[it[t]||t]||".notdef"},e.widthOfGlyph=function(t){return this.glyphWidths[t]||0},e.getKernPair=function(t,e){return this.kernPairs[t+"\0"+e]||0},e.advancesForGlyphs=function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i],r=t[i+1];e.push(this.widthOfGlyph(n)+this.getKernPair(n,r))}return e},e._parseFontBBox=function(t){for(var e=t.split(":"),i=[],n=0,r=e.length;n<r;n++)i.push(l(e[n]));return i},e._getCharWidths=function(){for(var t=[],e=0;e<=255;e++)t.push(this.glyphWidths[rt[e]]);return t},e._parseGlyphWidths=function(t){var e=t.split(","),i={};if(1==e.length)for(var n=e[0].match(/(^\d+)-(\d+):(\d+)$/),r=l(n[1]),o=l(n[2]),s=l(n[3]),a=r;a<=o;a++)i[nt[a]]=s;else for(var h=0,u=0,c=e.length;u<c;u++){var d=e[u].split(":"),f=void 0;1===d.length?f=l(d[0]):(h=l(d[0]),f=l(d[1])),i[nt[h++]]=f}return i},e._parseKerningPairs=function(t){return{}},t}(),st=function(){function t(){}var e=t.prototype;return e.encode=function(){throw new Error("Must be implemented by subclasses")},e.widthOfString=function(){throw new Error("Must be implemented by subclasses")},e.ref=function(){return null!=this.dictionary?this.dictionary:this.dictionary=this.document.ref()},e.finalize=function(){if(!this.embedded&&null!=this.dictionary)return this.embed(),this.embedded=!0},e.embed=function(){throw new Error("Must be implemented by subclasses")},e.getAscender=function(t){return this.ascender/1e3*t},e.getBBox=function(t){return{llx:this.bbox[0]/1e3*t,lly:this.bbox[1]/1e3*t,urx:this.bbox[2]/1e3*t,ury:this.bbox[3]/1e3*t}},e.lineHeight=function(t,e){null==e&&(e=!1);var i=e?this.lineGap:0;return(this.ascender+i-this.descender)/1e3*t},t}(),at={Courier:function(){return'0, "-23:-250:715:805", 562, 426, 629, -157, "0-314:600"'},"Courier-Bold":function(){return'0, "-113:-250:749:801", 562, 439, 629, -157, "0-314:600"'},"Courier-Oblique":function(){return'-12, "-27:-250:849:805", 562, 426, 629, -157, "0-314:600"'},"Courier-BoldOblique":function(){return'-12, "-57:-250:869:801", 562, 439, 629, -157, "0-314:600"'},Helvetica:function(){return'0, "-166:-225:1000:931", 718, 523, 718, -207, "278,278,355,556,556,889,667,222,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,222,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,167,556,556,556,556,191,333,556,333,333,500,500,556,556,556,278,537,350,222,333,333,556,1000,1000,611,333,333,333,333,333,333,333,333,333,333,333,333,333,1000,1000,370,556,778,1000,365,889,278,222,611,944,611,278,556,556,556,556,667,584,667,667,556,722,500,500,556,722,722,556,722,556,667,722,250,737,667,500,556,722,222,556,611,722,556,667,500,500,278,471,722,778,556,556,667,333,500,611,667,778,722,667,643,722,556,333,778,667,667,584,556,611,476,500,722,278,667,556,556,500,556,556,722,278,584,260,737,778,278,600,667,333,556,611,611,549,722,722,222,317,556,722,667,667,556,500,222,778,556,556,500,278,778,722,612,556,333,778,556,278,556,667,556,834,667,299,667,556,1000,556,278,278,556,834,549,556,556,722,667,556,556,834,667,667,778,400,556,722,556,453,722,333,722,556,722,556,667,667,667,778,500,667,278,500,584,278,556,278,584,556,556,549,556,556,500,556,333,278,556"'},"Helvetica-Bold":function(){return'0, "-170:-228:1003:962", 718, 532, 718, -207, "278,333,474,556,556,889,722,278,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,278,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,167,556,556,556,556,238,500,556,333,333,611,611,556,556,556,278,556,350,278,500,500,556,1000,1000,611,333,333,333,333,333,333,333,333,333,333,333,333,333,1000,1000,370,611,778,1000,365,889,278,278,611,944,611,278,556,556,611,556,667,584,667,722,556,722,556,556,556,722,722,556,722,611,667,722,250,737,667,556,556,722,278,556,611,722,556,667,556,556,278,494,722,778,611,556,722,389,556,611,667,778,722,667,743,722,611,333,778,722,722,584,611,611,494,556,722,278,667,556,556,556,611,611,722,278,584,280,737,778,278,600,667,389,611,611,611,549,722,722,278,389,556,722,722,722,556,500,278,778,611,556,556,278,778,722,612,611,333,778,611,278,611,667,611,834,667,400,722,611,1000,556,278,278,611,834,549,611,611,722,667,556,611,834,667,667,778,400,611,722,611,549,722,389,722,611,722,611,722,722,722,778,500,667,278,556,584,278,611,333,584,611,611,549,611,611,500,611,333,278,556"'},"Helvetica-Oblique":function(){return'-12, "-170:-225:1116:931", 718, 523, 718, -207, "278,278,355,556,556,889,667,222,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,222,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,167,556,556,556,556,191,333,556,333,333,500,500,556,556,556,278,537,350,222,333,333,556,1000,1000,611,333,333,333,333,333,333,333,333,333,333,333,333,333,1000,1000,370,556,778,1000,365,889,278,222,611,944,611,278,556,556,556,556,667,584,667,667,556,722,500,500,556,722,722,556,722,556,667,722,250,737,667,500,556,722,222,556,611,722,556,667,500,500,278,471,722,778,556,556,667,333,500,611,667,778,722,667,643,722,556,333,778,667,667,584,556,611,476,500,722,278,667,556,556,500,556,556,722,278,584,260,737,778,278,600,667,333,556,611,611,549,722,722,222,317,556,722,667,667,556,500,222,778,556,556,500,278,778,722,612,556,333,778,556,278,556,667,556,834,667,299,667,556,1000,556,278,278,556,834,549,556,556,722,667,556,556,834,667,667,778,400,556,722,556,453,722,333,722,556,722,556,667,667,667,778,500,667,278,500,584,278,556,278,584,556,556,549,556,556,500,556,333,278,556"'},"Helvetica-BoldOblique":function(){return'-12, "-174:-228:1114:962", 718, 532, 718, -207, "278,333,474,556,556,889,722,278,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,278,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,167,556,556,556,556,238,500,556,333,333,611,611,556,556,556,278,556,350,278,500,500,556,1000,1000,611,333,333,333,333,333,333,333,333,333,333,333,333,333,1000,1000,370,611,778,1000,365,889,278,278,611,944,611,278,556,556,611,556,667,584,667,722,556,722,556,556,556,722,722,556,722,611,667,722,250,737,667,556,556,722,278,556,611,722,556,667,556,556,278,494,722,778,611,556,722,389,556,611,667,778,722,667,743,722,611,333,778,722,722,584,611,611,494,556,722,278,667,556,556,556,611,611,722,278,584,280,737,778,278,600,667,389,611,611,611,549,722,722,278,389,556,722,722,722,556,500,278,778,611,556,556,278,778,722,612,611,333,778,611,278,611,667,611,834,667,400,722,611,1000,556,278,278,611,834,549,611,611,722,667,556,611,834,667,667,778,400,611,722,611,549,722,389,722,611,722,611,722,722,722,778,500,667,278,556,584,278,611,333,584,611,611,549,611,611,500,611,333,278,556"'},"Times-Roman":function(){return'0, "-168:-218:1000:898", 662, 450, 683, -217, "250,333,408,500,500,833,778,333,333,333,500,564,250,333,250,278,500,500,500,500,500,500,500,500,500,500,278,278,564,564,564,444,921,722,667,667,722,611,556,722,722,333,389,722,611,889,722,722,556,722,667,556,611,722,722,944,722,722,611,333,278,333,469,500,333,444,500,444,500,444,333,500,500,278,278,500,278,778,500,500,500,500,333,389,278,500,500,722,500,500,444,480,200,480,541,333,500,500,167,500,500,500,500,180,444,500,333,333,556,556,500,500,500,250,453,350,333,444,444,500,1000,1000,444,333,333,333,333,333,333,333,333,333,333,333,333,333,1000,889,276,611,722,889,310,667,278,278,500,722,500,333,444,444,500,444,722,564,722,722,444,722,500,389,444,722,722,444,722,500,611,722,250,760,611,444,444,722,278,444,611,667,444,611,389,389,278,471,667,722,500,444,722,333,444,611,556,722,667,556,588,722,500,300,722,722,722,564,500,611,476,500,722,278,611,444,444,444,500,500,722,333,564,200,760,722,333,600,611,333,500,611,611,549,722,667,278,326,444,722,722,722,444,444,278,722,500,444,389,278,722,722,612,500,300,722,500,278,500,611,500,750,556,344,722,611,980,444,333,333,611,750,549,500,500,722,611,444,500,750,556,556,722,400,500,667,500,453,722,333,722,500,667,611,722,722,722,722,444,611,333,500,564,333,500,278,564,500,500,549,500,500,444,500,300,278,500"'},"Times-Bold":function(){return'0, "-168:-218:1000:935", 676, 461, 683, -217, "250,333,555,500,500,1000,833,333,333,333,500,570,250,333,250,278,500,500,500,500,500,500,500,500,500,500,333,333,570,570,570,500,930,722,667,722,722,667,611,778,778,389,500,778,667,944,722,778,611,778,722,556,667,722,722,1000,722,722,667,333,278,333,581,500,333,500,556,444,556,444,333,500,556,278,333,556,278,833,556,500,556,556,444,389,333,556,500,722,500,500,444,394,220,394,520,333,500,500,167,500,500,500,500,278,500,500,333,333,556,556,500,500,500,250,540,350,333,500,500,500,1000,1000,500,333,333,333,333,333,333,333,333,333,333,333,333,333,1000,1000,300,667,778,1000,330,722,278,278,500,722,556,389,444,500,556,444,722,570,722,722,500,722,500,389,444,722,722,500,722,556,667,722,250,747,667,444,500,722,278,500,667,722,500,667,389,389,278,494,722,778,556,500,722,444,444,667,611,778,722,556,672,722,556,300,778,722,722,570,556,667,494,500,722,278,667,500,444,444,556,556,722,389,570,220,747,778,389,600,667,444,500,667,667,549,722,722,278,416,444,722,722,722,444,444,278,778,500,500,389,278,778,722,612,556,300,778,556,278,500,667,556,750,556,394,778,667,1000,444,389,389,667,750,549,500,556,722,667,444,500,750,556,556,778,400,500,722,556,549,722,444,722,500,722,667,722,722,722,778,444,667,389,556,570,389,556,333,570,500,556,549,500,500,444,556,300,278,500"'},"Times-Italic":function(){return'-15.5, "-169:-217:1010:883", 653, 441, 683, -217, "250,333,420,500,500,833,778,333,333,333,500,675,250,333,250,278,500,500,500,500,500,500,500,500,500,500,333,333,675,675,675,500,920,611,611,667,722,611,611,722,722,333,444,667,556,833,667,722,611,722,611,500,556,722,611,833,611,556,556,389,278,389,422,500,333,500,500,444,500,444,278,500,500,278,278,444,278,722,500,500,500,500,389,389,278,500,444,667,444,444,389,400,275,400,541,389,500,500,167,500,500,500,500,214,556,500,333,333,500,500,500,500,500,250,523,350,333,556,556,500,889,1000,500,333,333,333,333,333,333,333,333,333,333,333,333,333,889,889,276,556,722,944,310,667,278,278,500,667,500,333,444,500,500,444,556,675,556,611,500,722,444,389,444,722,722,500,722,500,611,722,250,760,611,444,500,667,278,500,556,667,500,611,389,389,278,471,611,722,500,500,611,389,444,556,611,722,611,500,544,722,500,300,722,611,611,675,500,556,476,444,667,278,611,500,444,444,500,500,667,333,675,275,760,722,333,600,611,389,500,556,556,549,722,667,278,300,444,722,611,611,444,389,278,722,500,500,389,278,722,722,612,500,300,722,500,278,500,611,500,750,500,300,667,556,980,444,333,333,611,750,549,500,500,722,611,444,500,750,500,500,722,400,500,667,500,453,722,389,667,500,611,556,611,611,611,722,389,611,333,444,675,333,500,278,675,500,500,549,500,500,389,500,300,278,500"'},"Times-BoldItalic":function(){return'-15, "-200:-218:996:921", 669, 462, 683, -217, "250,389,555,500,500,833,778,333,333,333,500,570,250,333,250,278,500,500,500,500,500,500,500,500,500,500,333,333,570,570,570,500,832,667,667,667,722,667,667,722,778,389,500,667,611,889,722,722,611,722,667,556,611,722,667,889,667,611,611,333,278,333,570,500,333,500,500,444,500,444,333,500,556,278,278,500,278,778,556,500,500,500,389,389,278,556,444,667,500,444,389,348,220,348,570,389,500,500,167,500,500,500,500,278,500,500,333,333,556,556,500,500,500,250,500,350,333,500,500,500,1000,1000,500,333,333,333,333,333,333,333,333,333,333,333,333,333,1000,944,266,611,722,944,300,722,278,278,500,722,500,389,444,500,556,444,611,570,611,667,500,722,444,389,444,722,722,500,722,556,667,722,250,747,667,444,500,722,278,500,611,667,500,667,389,389,278,494,667,722,556,500,667,389,444,611,611,722,667,556,608,722,556,300,722,667,667,570,556,611,494,444,722,278,667,500,444,444,556,556,722,389,570,220,747,722,389,600,667,389,500,611,611,549,722,667,278,366,444,722,667,667,444,389,278,722,500,500,389,278,722,722,612,500,300,722,576,278,500,667,500,750,556,382,667,611,1000,444,389,389,611,750,549,500,556,722,667,444,500,750,556,556,722,400,500,667,556,549,722,389,722,500,667,611,667,667,667,722,389,667,389,500,606,389,556,278,606,500,556,549,500,500,389,556,300,278,500"'},Symbol:function(){return'0, "-180:-293:1090:1010", 0, 0, 0, 0, "250,333,315:713,3:500,316:549,5:833,778,317:439,8:333,333,318:500,11:549,250,300:549,14:250,278,500,500,500,500,500,500,500,500,500,500,278,278,549,549,549,444,319:549,722,667,722,250:612,323:611,763,603,722,333,631,722,686,889,722,722,768,741,556,592,611,690,439,768,645,795,611,59:333,345:863,61:333,346:658,63:500,347:500,631,549,549,494,439,521,411,603,329,603,549,549,254:576,360:521,549,549,521,549,603,439,576,713,686,493,686,494,91:480,200,480,373:549,314:750,374:620,247,270:549,98:167,376:713,100:500,377:753,753,753,753,1042,987,603,987,603,281:400,220:549,386:411,231:549,205:549,387:713,208:494,115:460,155:549,307:549,388:549,549,120:1000,390:603,1000,658,823,686,795,987,768,768,823,768,768,713,713,713,713,713,713,713,768,713,790,790,890,823,285:549,415:250,304:713,416:603,603,1042,987,603,987,603,185:494,423:329,790,790,786,225:713,427:384,384,384,384,384,384,494,494,494,494,329,274,686,686,686,384,384,384,384,384,384,494,494,494,790"'},ZapfDingbats:function(){return'0, "-1:-143:981:820", 0, 0, 0, 0, "278,452:974,961,974,980,719,789,790,791,690,960,939,549,855,911,933,911,945,974,755,846,762,761,571,677,763,760,759,754,494,552,537,577,692,786,788,788,790,793,794,816,823,789,841,823,833,816,831,923,744,723,749,790,792,695,776,768,792,759,707,708,682,701,826,815,789,789,707,687,696,689,786,787,713,791,785,791,873,761,762,762,759,759,892,892,788,784,438,138,277,415,392,392,668,668,390,390,317,317,276,276,509,509,410,410,234,234,334,334,732,544,544,910,667,760,760,776,595,694,626,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,894,838,1016,458,748,924,748,918,927,928,928,834,873,828,924,924,917,930,931,463,883,836,836,867,867,696,696,874,874,760,946,771,865,771,888,967,888,831,873,927,970,918"'}},lt=function(t){function e(e,i,n){var r;(r=t.call(this)||this).document=e,r.name=i,r.id=n,r.font=new ot(JSON.parse("["+at[r.name]()+',"'+r.getKerning(r.name)+'"]'));var o=r.font;return r.ascender=o.ascender,r.descender=o.descender,r.bbox=o.bbox,r.lineGap=o.lineGap,r.xHeight=o.xHeight,r.capHeight=o.capHeight,r}w(e,t);var i=e.prototype;return i.embed=function(){return this.dictionary.data={Type:"Font",BaseFont:this.name,Subtype:"Type1",Encoding:"WinAnsiEncoding"},this.dictionary.end()},i.encode=function(t){for(var e=this.font.encodeText(t),i=this.font.glyphsForString(""+t),n=this.font.advancesForGlyphs(i),r=[],o=0;o<i.length;o++){var s=i[o];r.push({xAdvance:n[o],yAdvance:0,xOffset:0,yOffset:0,advanceWidth:this.font.widthOfGlyph(s)})}return[e,r]},i.widthOfString=function(t,e){for(var i,n=this.font.glyphsForString(""+t),r=0,o=y(this.font.advancesForGlyphs(n));!(i=o()).done;)r+=i.value;return r*(e/1e3)},e.isStandardFont=function(t){return t in at},i.getKerning=function(t){return""},e}(st),ht=function(t){return("0000"+t.toString(16)).slice(-4)},ut=function(t){function e(e,i,n){var r;return(r=t.call(this)||this).document=e,r.font=i,r.id=n,r.subset=r.font.createSubset(),r.unicode=[[0]],r.widths=[r.font.getGlyph(0).advanceWidth],r.name=r.font.postscriptName,r.scale=1e3/r.font.unitsPerEm,r.ascender=r.font.ascent*r.scale,r.descender=r.font.descent*r.scale,r.xHeight=r.font.xHeight*r.scale,r.capHeight=r.font.capHeight*r.scale,r.lineGap=r.font.lineGap*r.scale,r.bbox=r.font.bbox,!1!==e.options.fontLayoutCache&&(r.layoutCache=d(null)),r}w(e,t);var i=e.prototype;return i.layoutRun=function(t,e){for(var i=this.font.layout(t,e),n=0;n<i.positions.length;n++){var r=i.positions[n];for(var o in r)r[o]*=this.scale;r.advanceWidth=i.glyphs[n].advanceWidth*this.scale}return i},i.layoutCached=function(t){if(!this.layoutCache)return this.layoutRun(t);var e;if(e=this.layoutCache[t])return e;var i=this.layoutRun(t);return this.layoutCache[t]=i,i},i.layout=function(t,e,i){if(e)return this.layoutRun(t,e);for(var n=i?null:[],r=i?null:[],o=0,s=[" ","\t"],a=!1,l=0,h=t.length,u=0;u<=h;u++){var c=s.indexOf(t.charAt(u))>=0;if(c&&u||a||u===h&&l<u){var d=this.layoutCached(t.slice(l,u));i||(n=n.concat(d.glyphs),r=r.concat(d.positions)),o+=d.advanceWidth,l=u}a=c}return{glyphs:n,positions:r,advanceWidth:o}},i.encode=function(t,e){for(var i=this.layout(t,e),n=i.glyphs,r=i.positions,o=[],s=0;s<n.length;s++){var a=n[s],l=this.subset.includeGlyph(a.id);o.push(("0000"+l.toString(16)).slice(-4)),null==this.widths[l]&&(this.widths[l]=a.advanceWidth*this.scale),null==this.unicode[l]&&(this.unicode[l]=a.codePoints)}return[o,r]},i.widthOfString=function(t,e,i){return this.layout(t,i,!0).advanceWidth*(e/1e3)},i.embed=function(){var t=this,e=null!=this.subset.cff,i=this.document.ref();e&&(i.data.Subtype="CIDFontType0C"),this.subset.encodeStream().on("data",(function(t){return i.write(t)})).on("end",(function(){return i.end()}));var n=((null!=this.font["OS/2"]?this.font["OS/2"].sFamilyClass:void 0)||0)>>8,r=0;this.font.post.isFixedPitch&&(r|=1),1<=n&&n<=7&&(r|=2),r|=4,10===n&&(r|=8),this.font.head.macStyle.italic&&(r|=64);var o=[1,2,3,4,5,6].map((function(e){return String.fromCharCode((t.id.charCodeAt(e)||73)+17)})).join("")+"+"+this.font.postscriptName,s=this.font.bbox,a=this.document.ref({Type:"FontDescriptor",FontName:o,Flags:r,FontBBox:[s.minX*this.scale,s.minY*this.scale,s.maxX*this.scale,s.maxY*this.scale],ItalicAngle:this.font.italicAngle,Ascent:this.ascender,Descent:this.descender,CapHeight:(this.font.capHeight||this.font.ascent)*this.scale,XHeight:(this.font.xHeight||0)*this.scale,StemV:0});e?a.data.FontFile3=i:a.data.FontFile2=i,a.end();var l={Type:"Font",Subtype:"CIDFontType0",BaseFont:o,CIDSystemInfo:{Registry:new String("Adobe"),Ordering:new String("Identity"),Supplement:0},FontDescriptor:a,W:[0,this.widths]};e||(l.Subtype="CIDFontType2",l.CIDToGIDMap="Identity");var h=this.document.ref(l);return h.end(),this.dictionary.data={Type:"Font",Subtype:"Type0",BaseFont:o,Encoding:"Identity-H",DescendantFonts:[h],ToUnicode:this.toUnicodeCmap()},this.dictionary.end()},i.toUnicodeCmap=function(){for(var t,e=this.document.ref(),i=[],n=y(this.unicode);!(t=n()).done;){for(var r,o=[],s=y(t.value);!(r=s()).done;){var a=r.value;a>65535&&(a-=65536,o.push(ht(a>>>10&1023|55296)),a=56320|1023&a),o.push(ht(a))}i.push("<"+o.join(" ")+">")}return e.end("/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange\n1 beginbfrange\n<0000> <"+ht(i.length-1)+"> ["+i.join(" ")+"]\nendbfrange\nendcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"),e},e}(st),ct=function(){function t(){}return t.open=function(t,e,n,r){var o;if("string"==typeof e&&lt.isStandardFont(e))return new lt(t,e,r);if(i.isBuffer(e)?o=c.create(e,n):e instanceof Uint8Array?o=c.create(i.from(e),n):e instanceof ArrayBuffer&&(o=c.create(i.from(new Uint8Array(e)),n)),null==o)throw new Error("Not a supported font format or standard PDF font.");return new ut(t,o,r)},t}(),dt={initFonts:function(t){void 0===t&&(t="Helvetica"),this._fontFamilies={},this._fontCount=0,this._fontSize=12,this._font=null,this._registeredFonts={},t&&this.font(t)},font:function(t,e,i){var n,r;if("number"==typeof e&&(i=e,e=null),"string"==typeof t&&this._registeredFonts[t]){n=t;var o=this._registeredFonts[t];t=o.src,e=o.family}else"string"!=typeof(n=e||t)&&(n=null);if(null!=i&&this.fontSize(i),r=this._fontFamilies[n])return this._font=r,this;var s="F"+ ++this._fontCount;return this._font=ct.open(this,t,e,s),(r=this._fontFamilies[this._font.name])?(this._font=r,this):(n&&(this._fontFamilies[n]=this._font),this._font.name&&(this._fontFamilies[this._font.name]=this._font),this)},fontSize:function(t){return this._fontSize=t,this},currentLineHeight:function(t){return null==t&&(t=!1),this._font.lineHeight(this._fontSize,t)},currentFontAscender:function(){return this._font.getAscender(this._fontSize)},currentFontBBox:function(){return this._font.getBBox(this._fontSize)},currentFontSize:function(){return this._fontSize},registerFont:function(t,e,i){return this._registeredFonts[t]={src:e,family:i},this}},ft=function(t){function e(e,i){var n;return(n=t.call(this)||this).document=e,n.indent=i.indent||0,n.characterSpacing=i.characterSpacing||0,n.wordSpacing=0===i.wordSpacing,n.columns=i.columns||1,n.columnGap=null!=i.columnGap?i.columnGap:18,n.lineWidth=(i.width-n.columnGap*(n.columns-1))/n.columns,n.spaceLeft=n.lineWidth,n.startX=n.document.x,n.startY=n.document.y,n.column=1,n.ellipsis=i.ellipsis,n.continuedX=0,n.features=i.features,null!=i.height?(n.height=i.height,n.maxY=n.startY+i.height):n.maxY=n.document.page.maxY(),n.on("firstLine",(function(t){var e=n.continuedX||n.indent;return n.document.x+=e,n.lineWidth-=e,n.once("line",(function(){if(n.document.x-=e,n.lineWidth+=e,t.continued&&!n.continuedX&&(n.continuedX=n.indent),!t.continued)return n.continuedX=0}))})),n.on("lastLine",(function(t){var e=t.align;return"justify"===e&&(t.align="left"),n.lastLine=!0,n.once("line",(function(){return n.document.y+=t.paragraphGap||0,t.align=e,n.lastLine=!1}))})),n}w(e,t);var i=e.prototype;return i.wordWidth=function(t){return this.document.widthOfString(t,this)+this.characterSpacing+this.wordSpacing},i.eachWord=function(t,e){for(var i,n=new p(t),r=null,o=d(null);i=n.nextBreak();){var s,a=t.slice((null!=r?r.position:void 0)||0,i.position),l=null!=o[a]?o[a]:o[a]=this.wordWidth(a);if(l>this.lineWidth+this.continuedX)for(var h=r,u={};a.length;){var c,f;l>this.spaceLeft?(c=Math.ceil(this.spaceLeft/(l/a.length)),f=(l=this.wordWidth(a.slice(0,c)))<=this.spaceLeft&&c<a.length):c=a.length;for(var g=l>this.spaceLeft&&c>0;g||f;)g?g=(l=this.wordWidth(a.slice(0,--c)))>this.spaceLeft&&c>0:(g=(l=this.wordWidth(a.slice(0,++c)))>this.spaceLeft&&c>0,f=l<=this.spaceLeft&&c<a.length);if(0===c&&this.spaceLeft===this.lineWidth&&(c=1),u.required=i.required||c<a.length,s=e(a.slice(0,c),l,u,h),h={required:!1},a=a.slice(c),l=this.wordWidth(a),!1===s)break}else s=e(a,l,i,r);if(!1===s)break;r=i}},i.wrap=function(t,e){var i=this;null!=e.indent&&(this.indent=e.indent),null!=e.characterSpacing&&(this.characterSpacing=e.characterSpacing),null!=e.wordSpacing&&(this.wordSpacing=e.wordSpacing),null!=e.ellipsis&&(this.ellipsis=e.ellipsis);var n=this.document.y+this.document.currentLineHeight(!0);(this.document.y>this.maxY||n>this.maxY)&&this.nextSection();var r="",o=0,s=0,a=0,l=this.document.y,h=function(){return e.textWidth=o+i.wordSpacing*(s-1),e.wordCount=s,e.lineWidth=i.lineWidth,l=i.document.y,i.emit("line",r,e,i),a++};return this.emit("sectionStart",e,this),this.eachWord(t,(function(t,n,a,l){if((null==l||l.required)&&(i.emit("firstLine",e,i),i.spaceLeft=i.lineWidth),n<=i.spaceLeft&&(r+=t,o+=n,s++),a.required||n>i.spaceLeft){var u=i.document.currentLineHeight(!0);if(null!=i.height&&i.ellipsis&&i.document.y+2*u>i.maxY&&i.column>=i.columns){for(!0===i.ellipsis&&(i.ellipsis=""),r=r.replace(/\s+$/,""),o=i.wordWidth(r+i.ellipsis);r&&o>i.lineWidth;)r=r.slice(0,-1).replace(/\s+$/,""),o=i.wordWidth(r+i.ellipsis);o<=i.lineWidth&&(r+=i.ellipsis),o=i.wordWidth(r)}return a.required&&(n>i.spaceLeft&&(h(),r=t,o=n,s=1),i.emit("lastLine",e,i)),h(),i.maxY-(i.document.y+u)<-1e-6&&!i.nextSection()?(s=0,r="",!1):a.required?(i.spaceLeft=i.lineWidth,r="",o=0,s=0):(i.spaceLeft=i.lineWidth-n,r=t,o=n,s=1)}return i.spaceLeft-=n})),s>0&&(this.emit("lastLine",e,this),h()),this.emit("sectionEnd",e,this),!0===e.continued?(a>1&&(this.continuedX=0),this.continuedX+=e.textWidth||0,this.document.y=l):this.document.x=this.startX},i.nextSection=function(t){if(this.emit("sectionEnd",t,this),++this.column>this.columns){if(null!=this.height)return!1;var e;if(this.document.continueOnNewPage(),this.column=1,this.startY=this.document.page.margins.top,this.maxY=this.document.page.maxY(),this.document.x=this.startX,this.document._fillColor)(e=this.document).fillColor.apply(e,this.document._fillColor);this.emit("pageBreak",t,this)}else this.document.x+=this.lineWidth+this.columnGap,this.document.y=this.startY,this.emit("columnBreak",t,this);return this.emit("sectionStart",t,this),!0},e}(f.EventEmitter),pt=D.number,gt={initText:function(){return this._line=this._line.bind(this),this.x=0,this.y=0,this._lineGap=0},currentLineGap:function(){return this._lineGap},lineGap:function(t){return this._lineGap=t,this},moveDown:function(t){return null==t&&(t=1),this.y+=this.currentLineHeight(!0)*t+this._lineGap,this},moveUp:function(t){return null==t&&(t=1),this.y-=this.currentLineHeight(!0)*t+this._lineGap,this},_text:function(t,e,i,n,r){var o=this;t=null==t?"":""+t,(n=this._initOptions(e,i,n)).wordSpacing&&(t=t.replace(/\s{2,}/g," "));var s=function(){n.structParent&&n.structParent.add(o.struct(n.structType||"P",[o.markStructureContent(n.structType||"P")]))};if(n.width){var a=this._wrapper;a||((a=new ft(this,n)).on("line",r),a.on("firstLine",s)),this._wrapper=n.continued?a:null,this._textOptions=n.continued?n:null,a.wrap(t,n)}else for(var l,h=y(t.split("\n"));!(l=h()).done;){var u=l.value;s(),r(u,n)}return this},text:function(t,e,i,n){return this._text(t,e,i,n,this._line)},widthOfString:function(t,e){return void 0===e&&(e={}),this._font.widthOfString(t,this._fontSize,e.features)+(e.characterSpacing||0)*(t.length-1)},heightOfString:function(t,e){var i=this,n=this.x,r=this.y;(e=this._initOptions(e)).height=1/0;var o=e.lineGap||this._lineGap||0;this._text(t,this.x,this.y,e,(function(){return i.y+=i.currentLineHeight(!0)+o}));var s=this.y-r;return this.x=n,this.y=r,s},textAndMeasure:function(t,e,i,n,r){n=n||{},null===e&&(e=this.x,i=this.y);var o=this,s=this.x,a=this.y,l={width:0,height:0,charCount:0},h=n.lineGap||this._lineGap||0,u=n.columnGap||18,c=null===e?this.x:e,d=[],f=0;return r&&(n.structParent=null,null===n.height&&(n.height=1/0)),this._text(t,e,i,n,(function(i,n,s){return l.charCount+=i.length,o.x===e&&(l.height+=o.currentLineHeight(!0)+h),n.textWidth&&(o.x>c&&(c=o.x,d[f++]=n.lineWidth),d[f]=Math.max(d[f]||0,n.textWidth)),r?s?o.y+=o.currentLineHeight(!0)+h:o.x+=o.widthOfString(t):o._line.apply(o,arguments)})),d.length?(d.forEach((function(t){return l.width+=t+u})),l.width-=u):l.width=this.x-s,!1===n.includeLastLineExternalLeading&&(l.height-=this.currentLineHeight(!0)-this.currentLineHeight(!1)),l.height=Math.max(0,l.height),r&&(this.x=s,this.y=a),l},list:function(t,e,i,n,r){var s=this,a=(n=this._initOptions(e,i,n)).listType||"bullet",l=Math.round(this._font.ascender/1e3*this._fontSize),h=l/2,u=n.bulletRadius||l/3,c=n.textIndent||("bullet"===a?5*u:2*l),d=n.bulletIndent||("bullet"===a?8*u:2*l),f=1,p=[],g=[],_=[];!function t(e){for(var i=1,n=0;n<e.length;n++){var r=e[n];o(r)?(f++,t(r),f--):(p.push(r),g.push(f),"bullet"!==a&&_.push(i++))}}(t),(r=new ft(this,n)).on("line",this._line),f=1;var m=0;return r.on("firstLine",(function(){var t,e,i,o,l;if(n.structParent)if(n.structTypes){var p=n.structTypes;e=p[0],i=p[1],o=p[2]}else e="LI",i="Lbl",o="LBody";if(e?(t=s.struct(e),n.structParent.add(t)):n.structParent&&(t=n.structParent),(l=g[m++])!==f){var w=d*(l-f);s.x+=w,r.lineWidth-=w,f=l}switch(t&&(i||o)&&t.add(s.struct(i||o,[s.markStructureContent(i||o)])),a){case"bullet":s.circle(s.x-c+u,s.y+h,u),s.fill();break;case"numbered":case"lettered":var b=function(t){switch(a){case"numbered":return t+".";case"lettered":var e=String.fromCharCode((t-1)%26+65),i=Math.floor((t-1)/26+1);return Array(i+1).join(e)+"."}}(_[m-1]);s._fragment(b,s.x-c,s.y,n)}t&&i&&o&&t.add(s.struct(o,[s.markStructureContent(o)])),t&&t!==n.structParent&&t.end()})),r.on("sectionStart",(function(){var t=c+d*(f-1);return s.x+=t,r.lineWidth-=t})),r.on("sectionEnd",(function(){var t=c+d*(f-1);return s.x-=t,r.lineWidth+=t})),r.wrap(p.join("\n"),n),this},_initOptions:function(t,e,i){void 0===t&&(t={}),void 0===i&&(i={}),"object"==typeof t&&(i=t,t=null);var r=n({},i);if(this._textOptions)for(var o in this._textOptions){var s=this._textOptions[o];"continued"!==o&&void 0===r[o]&&(r[o]=s)}return null!=t&&(this.x=t),null!=e&&(this.y=e),!1!==r.lineBreak&&(null==r.width&&(r.width=this.page.width-this.x-this.page.margins.right),r.width=Math.max(r.width,0)),r.columns||(r.columns=0),null==r.columnGap&&(r.columnGap=18),r},_line:function(t,e,i){void 0===e&&(e={}),this._fragment(t,this.x,this.y,e);var n=e.lineGap||this._lineGap||0;return i?this.y+=this.currentLineHeight(!0)+n:this.x+=this.widthOfString(t)},_fragment:function(t,e,i,n){var r,o,s,a,l,h,u=this;if(0!==(t=(""+t).replace(/\n|\r/g,"")).length){var c=n.align||"left",d=n.wordSpacing||0,f=n.characterSpacing||0;if(n.width)switch(c){case"right":l=this.widthOfString(t.replace(/\s+$/,""),n),e+=n.lineWidth-l;break;case"center":e+=n.lineWidth/2-n.textWidth/2;break;case"justify":h=t.trim().split(/\s+/),l=this.widthOfString(t.replace(/\s+/g,""),n);var p=this.widthOfString(" ")+f;d=Math.max(0,(n.lineWidth-l)/Math.max(1,h.length-1)-p)}if("number"==typeof n.baseline)r=-n.baseline;else{switch(n.baseline){case"svg-middle":r=.5*this._font.xHeight;break;case"middle":case"svg-central":r=.5*(this._font.descender+this._font.ascender);break;case"bottom":case"ideographic":r=this._font.descender;break;case"alphabetic":r=0;break;case"mathematical":r=.5*this._font.ascender;break;case"hanging":r=.8*this._font.ascender;break;default:r=this._font.ascender}r=r/1e3*this._fontSize}var g,_=n.textWidth+d*(n.wordCount-1)+f*(t.length-1);if(null!=n.link&&this.link(e,i,_,this.currentLineHeight(),n.link),null!=n.goTo&&this.goTo(e,i,_,this.currentLineHeight(),n.goTo),null!=n.destination&&this.addNamedDestination(n.destination,"XYZ",e,i,null),n.underline){this.save(),n.stroke||this.strokeColor.apply(this,this._fillColor||[]);var m=this._fontSize<10?.5:Math.floor(this._fontSize/10);this.lineWidth(m);var w=i+this.currentLineHeight()-m;this.moveTo(e,w),this.lineTo(e+_,w),this.stroke(),this.restore()}if(n.strike){this.save(),n.stroke||this.strokeColor.apply(this,this._fillColor||[]);var b=this._fontSize<10?.5:Math.floor(this._fontSize/10);this.lineWidth(b);var v=i+this.currentLineHeight()/2;this.moveTo(e,v),this.lineTo(e+_,v),this.stroke(),this.restore()}if(this.save(),n.oblique)g="number"==typeof n.oblique?-Math.tan(n.oblique*Math.PI/180):-.25,this.transform(1,0,0,1,e,i),this.transform(1,0,g,1,-g*r,0),this.transform(1,0,0,1,-e,-i);this.transform(1,0,0,-1,0,this.page.height),i=this.page.height-i-r,null==this.page.fonts[this._font.id]&&(this.page.fonts[this._font.id]=this._font.ref()),this.addContent("BT"),this.addContent("1 0 0 1 "+pt(e)+" "+pt(i)+" Tm"),this.addContent("/"+this._font.id+" "+pt(this._fontSize)+" Tf");var x=n.fill&&n.stroke?2:n.stroke?1:0;if(x&&this.addContent(x+" Tr"),f&&this.addContent(pt(f)+" Tc"),d){h=t.trim().split(/\s+/),d+=this.widthOfString(" ")+f,d*=1e3/this._fontSize,o=[],a=[];for(var C,j=y(h);!(C=j()).done;){var S=C.value,E=this._font.encode(S,n.features),k=E[0],T=E[1];o=o.concat(k);var P={},A=(a=a.concat(T))[a.length-1];for(var R in A){var O=A[R];P[R]=O}P.xAdvance+=d,a[a.length-1]=P}}else{var D=this._font.encode(t,n.features);o=D[0],a=D[1]}var I=this._fontSize/1e3,M=[],F=0,L=!1,N=function(t){if(F<t){var e=o.slice(F,t).join(""),i=a[t-1].xAdvance-a[t-1].advanceWidth;M.push("<"+e+"> "+pt(-i))}return F=t},z=function(t){if(N(t),M.length>0)return u.addContent("["+M.join(" ")+"] TJ"),M.length=0};for(s=0;s<a.length;s++){var B=a[s];B.xOffset||B.yOffset?(z(s),this.addContent("1 0 0 1 "+pt(e+B.xOffset*I)+" "+pt(i+B.yOffset*I)+" Tm"),z(s+1),L=!0):(L&&(this.addContent("1 0 0 1 "+pt(e)+" "+pt(i)+" Tm"),L=!1),B.xAdvance-B.advanceWidth!=0&&N(s+1)),e+=B.xAdvance*I}return z(s),this.addContent("ET"),this.restore()}}},_t=[65472,65473,65474,65475,65477,65478,65479,65480,65481,65482,65483,65484,65485,65486,65487],mt={1:"DeviceGray",3:"DeviceRGB",4:"DeviceCMYK"},wt=function(){function t(t,e){var i;if(this.data=t,this.label=e,65496!==this.data.readUInt16BE(0))throw"SOI not found in JPEG";for(var n=2;n<this.data.length&&(i=this.data.readUInt16BE(n),n+=2,-1===_t.indexOf(i));)n+=this.data.readUInt16BE(n);if(-1===_t.indexOf(i))throw"Invalid JPEG.";n+=2,this.bits=this.data[n++],this.height=this.data.readUInt16BE(n),n+=2,this.width=this.data.readUInt16BE(n),n+=2;var r=this.data[n++];this.colorSpace=mt[r],this.obj=null}return t.prototype.embed=function(t){if(!this.obj)return this.obj=t.ref({Type:"XObject",Subtype:"Image",BitsPerComponent:this.bits,Width:this.width,Height:this.height,ColorSpace:this.colorSpace,Filter:"DCTDecode"}),"DeviceCMYK"===this.colorSpace&&(this.obj.data.Decode=[1,0,1,0,1,0,1,0]),this.obj.end(this.data),this.data=null},t}(),bt=function(){function t(t,e){this.label=e,this.image=new g(t),this.width=this.image.width,this.height=this.image.height,this.imgData=this.image.imgData,this.obj=null}var e=t.prototype;return e.embed=function(t){var e=!1;if(this.document=t,!this.obj){var n=this.image.hasAlphaChannel,r=1===this.image.interlaceMethod;if(this.obj=this.document.ref({Type:"XObject",Subtype:"Image",BitsPerComponent:n?8:this.image.bits,Width:this.width,Height:this.height,Filter:"FlateDecode"}),!n){var o=this.document.ref({Predictor:r?1:15,Colors:this.image.colors,BitsPerComponent:this.image.bits,Columns:this.width});this.obj.data.DecodeParms=o,o.end()}if(0===this.image.palette.length)this.obj.data.ColorSpace=this.image.colorSpace;else{var s=this.document.ref();s.end(i.from(this.image.palette)),this.obj.data.ColorSpace=["Indexed","DeviceRGB",this.image.palette.length/3-1,s]}if(null!=this.image.transparency.grayscale){var a=this.image.transparency.grayscale;this.obj.data.Mask=[a,a]}else if(this.image.transparency.rgb){for(var l,h=[],u=y(this.image.transparency.rgb);!(l=u()).done;){var c=l.value;h.push(c,c)}this.obj.data.Mask=h}else{if(this.image.transparency.indexed)return e=!0,this.loadIndexedAlphaChannel();if(n)return e=!0,this.splitAlphaChannel()}if(r&&!e)return this.decodeData();this.finalize()}},e.finalize=function(){if(this.alphaChannel){var t=this.document.ref({Type:"XObject",Subtype:"Image",Height:this.height,Width:this.width,BitsPerComponent:8,Filter:"FlateDecode",ColorSpace:"DeviceGray",Decode:[0,1]});t.end(this.alphaChannel),this.obj.data.SMask=t}return this.obj.end(this.imgData),this.image=null,this.imgData=null},e.splitAlphaChannel=function(){var t=this;return this.image.decodePixels((function(e){for(var n,r,o=t.image.colors,s=t.width*t.height,l=i.alloc(s*o),h=i.alloc(s),u=r=n=0,c=e.length,d=16===t.image.bits?1:0;u<c;){for(var f=0;f<o;f++)l[r++]=e[u++],u+=d;h[n++]=e[u++],u+=d}return t.imgData=a.deflateSync(l),t.alphaChannel=a.deflateSync(h),t.finalize()}))},e.loadIndexedAlphaChannel=function(){var t=this,e=this.image.transparency.indexed;return this.image.decodePixels((function(n){for(var r=i.alloc(t.width*t.height),o=0,s=0,l=n.length;s<l;s++)r[o++]=e[n[s]];return t.alphaChannel=a.deflateSync(r),t.finalize()}))},e.decodeData=function(){var t=this;this.image.decodePixels((function(e){t.imgData=a.deflateSync(e),t.finalize()}))},t}(),vt=function(){function t(){}return t.open=function(t,e){var n;if(i.isBuffer(t))n=t;else if(t instanceof ArrayBuffer)n=i.from(new Uint8Array(t));else{var r;if(r=/^data:.+;base64,(.*)$/.exec(t))n=i.from(r[1],"base64");else if(!n)return}if(255===n[0]&&216===n[1])return new wt(n,e);if(137===n[0]&&"PNG"===n.toString("ascii",1,4))return new bt(n,e);throw new Error("Unknown image format.")},t}(),yt={initImages:function(){return this._imageRegistry={},this._imageCount=0},image:function(t,e,i,n){var r,o,s,a,l,h;void 0===n&&(n={}),"object"==typeof e&&(n=e,e=null),e=null!=(l=null!=e?e:n.x)?l:this.x,i=null!=(h=null!=i?i:n.y)?h:this.y,"string"==typeof t&&(s=this._imageRegistry[t]),s||(s=t.width&&t.height?t:this.openImage(t)),s.obj||s.embed(this),null==this.page.xobjects[s.label]&&(this.page.xobjects[s.label]=s.obj);var u=.75*s.width,c=.75*s.height,d=n.width||u,f=n.height||c;if(n.width&&!n.height){var p=d/u;d=u*p,f=c*p}else if(n.height&&!n.width){var g=f/c;d=u*g,f=c*g}else if(n.scale)d=u*n.scale,f=c*n.scale;else if(n.fit){var _=n.fit;(a=u/c)>(o=_[0])/(r=_[1])?(d=o,f=o/a):(f=r,d=r*a)}else if(n.cover){var m=n.cover;(a=u/c)>(o=m[0])/(r=m[1])?(f=r,d=r*a):(d=o,f=o/a)}return(n.fit||n.cover)&&("center"===n.align?e=e+o/2-d/2:"right"===n.align&&(e=e+o-d),"center"===n.valign?i=i+r/2-f/2:"bottom"===n.valign&&(i=i+r-f)),null!=n.link&&this.link(e,i,d,f,n.link),null!=n.goTo&&this.goTo(e,i,d,f,n.goTo),null!=n.destination&&this.addNamedDestination(n.destination,"XYZ",e,i,null),this.y===i&&(this.y+=f),this.save(),this.transform(d,0,0,-f,e,i+f),this.addContent("/"+s.label+" Do"),this.restore(),this},openImage:function(t){var e;return"string"==typeof t&&(e=this._imageRegistry[t]),e||(e=vt.open(t,"I"+ ++this._imageCount),"string"==typeof t&&(this._imageRegistry[t]=e)),e}},xt={annotate:function(t,e,i,n,r){for(var o in r.Type="Annot",r.Rect=this._convertRect(t,e,i,n),r.Border=[0,0,0],"Link"===r.Subtype&&void 0===r.F&&(r.F=4),"Link"!==r.Subtype&&null==r.C&&(r.C=this._normalizeColor(r.color||[0,0,0])),delete r.color,"string"==typeof r.Dest&&(r.Dest=new String(r.Dest)),r){var s=r[o];r[o[0].toUpperCase()+o.slice(1)]=s}var a=this.ref(r);return this.page.annotations.push(a),a.end(),this},note:function(t,e,i,n,r,o){return void 0===o&&(o={}),o.Subtype="Text",o.Contents=new String(r),o.Name="Comment",null==o.color&&(o.color=[243,223,92]),this.annotate(t,e,i,n,o)},goTo:function(t,e,i,n,r,o){return void 0===o&&(o={}),o.Subtype="Link",o.A=this.ref({S:"GoTo",D:new String(r)}),o.A.end(),this.annotate(t,e,i,n,o)},link:function(t,e,i,n,r,o){if(void 0===o&&(o={}),o.Subtype="Link","number"==typeof r){var s=this._root.data.Pages.data;if(!(r>=0&&r<s.Kids.length))throw new Error("The document has no page "+r);o.A=this.ref({S:"GoTo",D:[s.Kids[r],"XYZ",null,null,null]}),o.A.end()}else o.A=this.ref({S:"URI",URI:new String(r)}),o.A.end();return this.annotate(t,e,i,n,o)},_markup:function(t,e,i,n,r){void 0===r&&(r={});var o=this._convertRect(t,e,i,n),s=o[0],a=o[1],l=o[2],h=o[3];return r.QuadPoints=[s,h,l,h,s,a,l,a],r.Contents=new String,this.annotate(t,e,i,n,r)},highlight:function(t,e,i,n,r){return void 0===r&&(r={}),r.Subtype="Highlight",null==r.color&&(r.color=[241,238,148]),this._markup(t,e,i,n,r)},underline:function(t,e,i,n,r){return void 0===r&&(r={}),r.Subtype="Underline",this._markup(t,e,i,n,r)},strike:function(t,e,i,n,r){return void 0===r&&(r={}),r.Subtype="StrikeOut",this._markup(t,e,i,n,r)},lineAnnotation:function(t,e,i,n,r){return void 0===r&&(r={}),r.Subtype="Line",r.Contents=new String,r.L=[t,this.page.height-e,i,this.page.height-n],this.annotate(t,e,i,n,r)},rectAnnotation:function(t,e,i,n,r){return void 0===r&&(r={}),r.Subtype="Square",r.Contents=new String,this.annotate(t,e,i,n,r)},ellipseAnnotation:function(t,e,i,n,r){return void 0===r&&(r={}),r.Subtype="Circle",r.Contents=new String,this.annotate(t,e,i,n,r)},textAnnotation:function(t,e,i,n,r,o){return void 0===o&&(o={}),o.Subtype="FreeText",o.Contents=new String(r),o.DA=new String,this.annotate(t,e,i,n,o)},_convertRect:function(t,e,i,n){var r=e;e+=n;var o=t+i,s=this._ctm,a=s[0],l=s[1],h=s[2],u=s[3],c=s[4],d=s[5];return[t=a*t+h*e+c,e=l*t+u*e+d,o=a*o+h*r+c,r=l*o+u*r+d]}},Ct=function(){function t(t,e,i,n,r){void 0===r&&(r={expanded:!1}),this.document=t,this.options=r,this.outlineData={},null!==n&&(this.outlineData.Dest=[n.dictionary,"Fit"]),null!==e&&(this.outlineData.Parent=e),null!==i&&(this.outlineData.Title=new String(i)),this.dictionary=this.document.ref(this.outlineData),this.children=[]}var e=t.prototype;return e.addItem=function(e,i){void 0===i&&(i={expanded:!1});var n=new t(this.document,this.dictionary,e,this.document.page,i);return this.children.push(n),n},e.endOutline=function(){if(this.children.length>0){this.options.expanded&&(this.outlineData.Count=this.children.length);var t=this.children[0],e=this.children[this.children.length-1];this.outlineData.First=t.dictionary,this.outlineData.Last=e.dictionary;for(var i=0,n=this.children.length;i<n;i++){var r=this.children[i];i>0&&(r.outlineData.Prev=this.children[i-1].dictionary),i<this.children.length-1&&(r.outlineData.Next=this.children[i+1].dictionary),r.endOutline()}}return this.dictionary.end()},t}(),jt={initOutline:function(){return this.outline=new Ct(this,null,null,null)},endOutline:function(){if(this.outline.endOutline(),this.outline.children.length>0)return this._root.data.Outlines=this.outline.dictionary,this._root.data.PageMode="UseOutlines"}},St=function(){function t(t,e){this.refs=[{pageRef:t,mcid:e}]}return t.prototype.push=function(t){var e=this;t.refs.forEach((function(t){return e.refs.push(t)}))},t}(),Et=function(){function t(t,e,i,n){var r=this;void 0===i&&(i={}),void 0===n&&(n=null),this.document=t,this._attached=!1,this._ended=!1,this._flushed=!1,this.dictionary=t.ref({S:e});var s=this.dictionary.data;(o(i)||this._isValidChild(i))&&(n=i,i={}),void 0!==i.title&&(s.T=new String(i.title)),void 0!==i.lang&&(s.Lang=new String(i.lang)),void 0!==i.alt&&(s.Alt=new String(i.alt)),void 0!==i.expanded&&(s.E=new String(i.expanded)),void 0!==i.actual&&(s.ActualText=new String(i.actual)),this._children=[],n&&(o(n)||(n=[n]),n.forEach((function(t){return r.add(t)})),this.end())}var e=t.prototype;return e.add=function(e){if(this._ended)throw new Error("Cannot add child to already-ended structure element");if(!this._isValidChild(e))throw new Error("Invalid structure element child");return e instanceof t&&(e.setParent(this.dictionary),this._attached&&e.setAttached()),e instanceof St&&this._addContentToParentTree(e),"function"==typeof e&&this._attached&&(e=this._contentForClosure(e)),this._children.push(e),this},e._addContentToParentTree=function(t){var e=this;t.refs.forEach((function(t){var i=t.pageRef,n=t.mcid;e.document.getStructParentTree().get(i.data.StructParents)[n]=e.dictionary}))},e.setParent=function(t){if(this.dictionary.data.P)throw new Error("Structure element added to more than one parent");this.dictionary.data.P=t,this._flush()},e.setAttached=function(){var e=this;this._attached||(this._children.forEach((function(i,n){i instanceof t&&i.setAttached(),"function"==typeof i&&(e._children[n]=e._contentForClosure(i))})),this._attached=!0,this._flush())},e.end=function(){this._ended||(this._children.filter((function(e){return e instanceof t})).forEach((function(t){return t.end()})),this._ended=!0,this._flush())},e._isValidChild=function(e){return e instanceof t||e instanceof St||"function"==typeof e},e._contentForClosure=function(t){var e=this.document.markStructureContent(this.dictionary.data.S);return t(),this.document.endMarkedContent(),this._addContentToParentTree(e),e},e._isFlushable=function(){return!(!this.dictionary.data.P||!this._ended)&&this._children.every((function(e){return"function"!=typeof e&&(!(e instanceof t)||e._isFlushable())}))},e._flush=function(){var t=this;!this._flushed&&this._isFlushable()&&(this.dictionary.data.K=[],this._children.forEach((function(e){return t._flushChild(e)})),this.dictionary.end(),this._children=[],this.dictionary.data.K=null,this._flushed=!0)},e._flushChild=function(e){var i=this;e instanceof t&&this.dictionary.data.K.push(e.dictionary),e instanceof St&&e.refs.forEach((function(t){var e=t.pageRef,n=t.mcid;i.dictionary.data.Pg||(i.dictionary.data.Pg=e),i.dictionary.data.Pg===e?i.dictionary.data.K.push(n):i.dictionary.data.K.push({Type:"MCR",Pg:e,MCID:n})}))},t}(),kt=function(t){function e(){return t.apply(this,arguments)||this}w(e,t);var i=e.prototype;return i._compareKeys=function(t,e){return l(t)-l(e)},i._keysName=function(){return"Nums"},i._dataForKey=function(t){return l(t)},e}(P),Tt={initMarkings:function(t){this.structChildren=[],t.tagged&&(this.getMarkInfoDictionary().data.Marked=!0,this.getStructTreeRoot())},markContent:function(t,e){if(void 0===e&&(e=null),"Artifact"===t||e&&e.mcid){var i=0;for(this.page.markings.forEach((function(t){(i||t.structContent||"Artifact"===t.tag)&&i++}));i--;)this.endMarkedContent()}if(!e)return this.page.markings.push({tag:t}),this.addContent("/"+t+" BMC"),this;this.page.markings.push({tag:t,options:e});var n={};return void 0!==e.mcid&&(n.MCID=e.mcid),"Artifact"===t&&("string"==typeof e.type&&(n.Type=e.type),o(e.bbox)&&(n.BBox=[e.bbox[0],this.page.height-e.bbox[3],e.bbox[2],this.page.height-e.bbox[1]]),o(e.attached)&&e.attached.every((function(t){return"string"==typeof t}))&&(n.Attached=e.attached)),"Span"===t&&(e.lang&&(n.Lang=new String(e.lang)),e.alt&&(n.Alt=new String(e.alt)),e.expanded&&(n.E=new String(e.expanded)),e.actual&&(n.ActualText=new String(e.actual))),this.addContent("/"+t+" "+D.convert(n)+" BDC"),this},markStructureContent:function(t,e){void 0===e&&(e={});var i=this.getStructParentTree().get(this.page.structParentTreeKey),n=i.length;i.push(null),this.markContent(t,m({},e,{mcid:n}));var r=new St(this.page.dictionary,n);return this.page.markings.slice(-1)[0].structContent=r,r},endMarkedContent:function(){return this.page.markings.pop(),this.addContent("EMC"),this},struct:function(t,e,i){return void 0===e&&(e={}),void 0===i&&(i=null),new Et(this,t,e,i)},addStructure:function(t){var e=this.getStructTreeRoot();return t.setParent(e),t.setAttached(),this.structChildren.push(t),e.data.K||(e.data.K=[]),e.data.K.push(t.dictionary),this},initPageMarkings:function(t){var e=this;t.forEach((function(t){if(t.structContent){var i=t.structContent,n=e.markStructureContent(t.tag,t.options);i.push(n),e.page.markings.slice(-1)[0].structContent=i}else e.markContent(t.tag,t.options)}))},endPageMarkings:function(t){var e=t.markings;return e.forEach((function(){return t.write("EMC")})),t.markings=[],e},getMarkInfoDictionary:function(){return this._root.data.MarkInfo||(this._root.data.MarkInfo=this.ref({})),this._root.data.MarkInfo},getStructTreeRoot:function(){return this._root.data.StructTreeRoot||(this._root.data.StructTreeRoot=this.ref({Type:"StructTreeRoot",ParentTree:new kt,ParentTreeNextKey:0})),this._root.data.StructTreeRoot},getStructParentTree:function(){return this.getStructTreeRoot().data.ParentTree},createStructParentTreeNextKey:function(){this.getMarkInfoDictionary();var t=this.getStructTreeRoot(),e=t.data.ParentTreeNextKey++;return t.data.ParentTree.add(e,[]),e},endMarkings:function(){var t=this._root.data.StructTreeRoot;t&&(t.end(),this.structChildren.forEach((function(t){return t.end()}))),this._root.data.MarkInfo&&this._root.data.MarkInfo.end()}},Pt=function(t){function e(e){var i;switch(void 0===e&&(e={}),(i=t.call(this,e)||this).options=e,e.pdfVersion){case"1.4":i.version=1.4;break;case"1.5":i.version=1.5;break;case"1.6":i.version=1.6;break;case"1.7":case"1.7ext3":i.version=1.7;break;default:i.version=1.3}i.compress=null==i.options.compress||i.options.compress,i._pageBuffer=[],i._pageBufferStart=0,i._offsets=[],i._waiting=0,i._ended=!1,i._offset=0;var n=i.ref({Type:"Pages",Count:0,Kids:[]}),r=i.ref({Dests:new N});if(i._root=i.ref({Type:"Catalog",Pages:n,Names:r}),i.options.lang&&(i._root.data.Lang=new String(i.options.lang)),i.page=null,i.initColor(),i.initVector(),i.initFonts(e.font),i.initText(),i.initImages(),i.initOutline(),i.initMarkings(e),i.info={Producer:"PDFKit",Creator:"PDFKit",CreationDate:new Date},i.options.info)for(var o in i.options.info){var s=i.options.info[o];i.info[o]=s}i.options.displayTitle&&(i._root.data.ViewerPreferences=i.ref({DisplayDocTitle:!0}));var a=e.security;return i._id=a&&a.generateFileID(i.info),i._security=a&&a.create(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(i),e),i._write("%PDF-"+i.version),i._write("%"),i.options.pageAdding&&i.on("pageAdding",i.options.pageAdding),i.options.pageAdded&&i.on("pageAdded",i.options.pageAdded),!1!==i.options.autoFirstPage&&i.addPage(),i}w(e,t);var n=e.prototype;return n.addPage=function(t){null==t&&(t=this.options),this.emit("pageAdding",this,t),this.options.bufferPages||this.flushPages(),this.page=new L(this,t),this._pageBuffer.push(this.page);var e=this._root.data.Pages.data;return e.Kids.push(this.page.dictionary),e.Count++,this.x=this.page.margins.left,this.y=this.page.margins.top,this._ctm=[1,0,0,1,0,0],this.transform(1,0,0,-1,0,this.page.height),this.emit("pageAdded",this),this},n.continueOnNewPage=function(t){var e=this.endPageMarkings(this.page);return this.addPage(t),this.initPageMarkings(e),this},n.bufferedPageRange=function(){return{start:this._pageBufferStart,count:this._pageBuffer.length}},n.switchToPage=function(t){var e;if(!(e=this._pageBuffer[t-this._pageBufferStart]))throw new Error("switchToPage("+t+") out of bounds, current buffer covers pages "+this._pageBufferStart+" to "+(this._pageBufferStart+this._pageBuffer.length-1));return this.page=e},n.flushPages=function(){var t=this._pageBuffer;this._pageBuffer=[],this._pageBufferStart+=t.length;for(var e,i=y(t);!(e=i()).done;){var n=e.value;this.endPageMarkings(n),n.end()}},n.addNamedDestination=function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];0===i.length&&(i=["XYZ",null,null,null]),"XYZ"===i[0]&&null!==i[2]&&(i[2]=this.page.height-i[2]),i.unshift(this.page.dictionary),this._root.data.Names.data.Dests.add(t,i)},n.addNamedJavaScript=function(t,e){this._root.data.Names.data.JavaScript||(this._root.data.Names.data.JavaScript=new N);var i={JS:new String(e),S:"JavaScript"};this._root.data.Names.data.JavaScript.add(t,i)},n.ref=function(t){var e=new I(this,this._offsets.length+1,t);return this._offsets.push(null),this._waiting++,e},n._read=function(){},n._write=function(t){return i.isBuffer(t)||(t=i.from(t+"\n","binary")),this.push(t),this._offset+=t.length},n.addContent=function(t){return this.page.write(t),this},n._refEnd=function(t){if(this._offsets[t.id-1]=t.offset,0==--this._waiting&&this._ended)return this._finalize(),this._ended=!1},n.end=function(){for(var t in this.emit("ending"),this.flushPages(),this._info=this.ref(),this.info){var e=this.info[t];"string"==typeof e&&(e=new String(e));var i=this.ref(e);i.end(),this._info.data[t]=i}for(var n in this._info.end(),this._fontFamilies)this._fontFamilies[n].finalize();return this.endOutline(),this.endMarkings(),this._root.end(),this._root.data.Pages.end(),this._root.data.Names.end(),this._root.data.ViewerPreferences&&this._root.data.ViewerPreferences.end(),this._security&&this._security.end(),0===this._waiting?this._finalize():this._ended=!0},n._finalize=function(){var t=this._offset;this._write("xref"),this._write("0 "+(this._offsets.length+1)),this._write("0000000000 65535 f ");for(var e,i=y(this._offsets);!(e=i()).done;){var n=e.value;n=("0000000000"+n).slice(-10),this._write(n+" 00000 n ")}var r={Size:this._offsets.length+1,Root:this._root,Info:this._info};return this._id&&(r.ID=[this._id,this._id]),this._security&&(r.Encrypt=this._security.dictionary),this._write("trailer"),this._write(D.convert(r)),this._write("startxref"),this._write(""+t),this._write("%%EOF"),this.push(null)},n.toString=function(){return"[object PDFDocument]"},e}(r.Readable),At=function(t){n(Pt.prototype,t)};At(W),At(et),At(dt),At(gt),At(yt),At(xt),At(jt),At(Tt),Pt.LineWrapper=ft,e.localExports=Pt}).call(this)}).call(this,t("buffer").Buffer)},{"@babel/runtime-corejs2/core-js/array/is-array":136,"@babel/runtime-corejs2/core-js/json/stringify":137,"@babel/runtime-corejs2/core-js/number/is-finite":138,"@babel/runtime-corejs2/core-js/object/assign":139,"@babel/runtime-corejs2/core-js/object/create":140,"@babel/runtime-corejs2/core-js/object/keys":141,"@babel/runtime-corejs2/core-js/parse-int":142,buffer:152,events:210,fontkit:1,linebreak:133,"png-js":226,stream:243,zlib:150}],136:[function(t,e,i){arguments[4][3][0].apply(i,arguments)},{"core-js/library/fn/array/is-array":153,dup:3}],137:[function(t,e,i){e.localExports=t("core-js/library/fn/json/stringify")},{"core-js/library/fn/json/stringify":154}],138:[function(t,e,i){e.localExports=t("core-js/library/fn/number/is-finite")},{"core-js/library/fn/number/is-finite":155}],139:[function(t,e,i){e.localExports=t("core-js/library/fn/object/assign")},{"core-js/library/fn/object/assign":156}],140:[function(t,e,i){e.localExports=t("core-js/library/fn/object/create")},{"core-js/library/fn/object/create":157}],141:[function(t,e,i){arguments[4][8][0].apply(i,arguments)},{"core-js/library/fn/object/keys":158,dup:8}],142:[function(t,e,i){e.localExports=t("core-js/library/fn/parse-int")},{"core-js/library/fn/parse-int":159}],143:[function(t,e,n){(function(i){(function(){var n=t("object-assign");function r(t,e){if(t===e)return 0;for(var i=t.length,n=e.length,r=0,o=Math.min(i,n);r<o;++r)if(t[r]!==e[r]){i=t[r],n=e[r];break}return i<n?-1:n<i?1:0}function o(t){return i.Buffer&&"function"==typeof i.Buffer.isBuffer?i.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var s=t("util/"),a=Object.prototype.hasOwnProperty,l=Array.prototype.slice,h="foo"===function(){}.name;function u(t){return Object.prototype.toString.call(t)}function c(t){return!o(t)&&"function"==typeof i.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer)))}var d=e.localExports=w,f=/\s*function\s+([^\(\s]*)\s*/;function p(t){if(s.isFunction(t)){if(h)return t.name;var e=t.toString().match(f);return e&&e[1]}}function g(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function _(t){if(h||!s.isFunction(t))return s.inspect(t);var e=p(t);return"[Function"+(e?": "+e:"")+"]"}function m(t,e,i,n,r){throw new d.AssertionError({message:i,actual:t,expected:e,operator:n,stackStartFunction:r})}function w(t,e){t||m(t,!0,e,"==",d.ok)}function b(t,e,i,n){if(t===e)return!0;if(o(t)&&o(e))return 0===r(t,e);if(s.isDate(t)&&s.isDate(e))return t.getTime()===e.getTime();if(s.isRegExp(t)&&s.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(c(t)&&c(e)&&u(t)===u(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===r(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(o(t)!==o(e))return!1;var a=(n=n||{actual:[],expected:[]}).actual.indexOf(t);return-1!==a&&a===n.expected.indexOf(e)||(n.actual.push(t),n.expected.push(e),function(t,e,i,n){if(null==t||null==e)return!1;if(s.isPrimitive(t)||s.isPrimitive(e))return t===e;if(i&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var r=v(t),o=v(e);if(r&&!o||!r&&o)return!1;if(r)return b(t=l.call(t),e=l.call(e),i);var a,h,u=C(t),c=C(e);if(u.length!==c.length)return!1;for(u.sort(),c.sort(),h=u.length-1;h>=0;h--)if(u[h]!==c[h])return!1;for(h=u.length-1;h>=0;h--)if(!b(t[a=u[h]],e[a],i,n))return!1;return!0}(t,e,i,n))}return i?t===e:t==e}function v(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function y(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function x(t,e,i,n){var r;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof i&&(n=i,i=null),r=function(t){var e;try{t()}catch(t){e=t}return e}(e),n=(i&&i.name?" ("+i.name+").":".")+(n?" "+n:"."),t&&!r&&m(r,i,"Missing expected exception"+n);var o="string"==typeof n,a=!t&&r&&!i;if((!t&&s.isError(r)&&o&&y(r,i)||a)&&m(r,i,"Got unwanted exception"+n),t&&r&&i&&!y(r,i)||!t&&r)throw r}d.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=function(t){return g(_(t.actual),128)+" "+t.operator+" "+g(_(t.expected),128)}(this),this.generatedMessage=!0);var e=t.stackStartFunction||m;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var i=new Error;if(i.stack){var n=i.stack,r=p(e),o=n.indexOf("\n"+r);if(o>=0){var s=n.indexOf("\n",o+1);n=n.substring(s+1)}this.stack=n}}},s.inherits(d.AssertionError,Error),d.fail=m,d.ok=w,d.equal=function(t,e,i){t!=e&&m(t,e,i,"==",d.equal)},d.notEqual=function(t,e,i){t==e&&m(t,e,i,"!=",d.notEqual)},d.deepEqual=function(t,e,i){b(t,e,!1)||m(t,e,i,"deepEqual",d.deepEqual)},d.deepStrictEqual=function(t,e,i){b(t,e,!0)||m(t,e,i,"deepStrictEqual",d.deepStrictEqual)},d.notDeepEqual=function(t,e,i){b(t,e,!1)&&m(t,e,i,"notDeepEqual",d.notDeepEqual)},d.notDeepStrictEqual=function t(e,i,n){b(e,i,!0)&&m(e,i,n,"notDeepStrictEqual",t)},d.strictEqual=function(t,e,i){t!==e&&m(t,e,i,"===",d.strictEqual)},d.notStrictEqual=function(t,e,i){t===e&&m(t,e,i,"!==",d.notStrictEqual)},d.throws=function(t,e,i){x(!0,t,e,i)},d.doesNotThrow=function(t,e,i){x(!1,t,e,i)},d.ifError=function(t){if(t)throw t},d.strict=n((function t(e,i){e||m(e,!0,i,"==",t)}),d,{equal:d.strictEqual,deepEqual:d.deepStrictEqual,notEqual:d.notStrictEqual,notDeepEqual:d.notDeepStrictEqual}),d.strict.strict=d.strict;var C=Object.keys||function(t){var e=[];for(var i in t)a.call(t,i)&&e.push(i);return e}}).call(this)}).call(this,void 0!==i.g?i.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"object-assign":214,"util/":146}],144:[function(t,e,i){"function"==typeof Object.create?e.localExports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.localExports=function(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}},{}],145:[function(t,e,i){e.localExports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],146:[function(t,e,n){(function(e,i){(function(){var r=/%[sdj%]/g;n.format=function(t){if(!m(t)){for(var e=[],i=0;i<arguments.length;i++)e.push(a(arguments[i]));return e.join(" ")}i=1;for(var n=arguments,o=n.length,s=String(t).replace(r,(function(t){if("%%"===t)return"%";if(i>=o)return t;switch(t){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(t){return"[Circular]"}default:return t}})),l=n[i];i<o;l=n[++i])g(l)||!v(l)?s+=" "+l:s+=" "+a(l);return s},n.deprecate=function(t,r){if(w(i.process))return function(){return n.deprecate(t,r).apply(this,arguments)};if(!0===e.noDeprecation)return t;var o=!1;return function(){if(!o){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),o=!0}return t.apply(this,arguments)}};var o,s={};function a(t,e){var i={seen:[],stylize:h};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),p(e)?i.showHidden=e:e&&n._extend(i,e),w(i.showHidden)&&(i.showHidden=!1),w(i.depth)&&(i.depth=2),w(i.colors)&&(i.colors=!1),w(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=l),u(i,t,i.depth)}function l(t,e){var i=a.styles[e];return i?"["+a.colors[i][0]+"m"+t+"["+a.colors[i][1]+"m":t}function h(t,e){return t}function u(t,e,i){if(t.customInspect&&e&&C(e.inspect)&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e)){var r=e.inspect(i,t);return m(r)||(r=u(t,r,i)),r}var o=function(t,e){if(w(e))return t.stylize("undefined","undefined");if(m(e)){var i="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(i,"string")}return _(e)?t.stylize(""+e,"number"):p(e)?t.stylize(""+e,"boolean"):g(e)?t.stylize("null","null"):void 0}(t,e);if(o)return o;var s=Object.keys(e),a=function(t){var e={};return t.forEach((function(t,i){e[t]=!0})),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),x(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return c(e);if(0===s.length){if(C(e)){var l=e.name?": "+e.name:"";return t.stylize("[Function"+l+"]","special")}if(b(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(y(e))return t.stylize(Date.prototype.toString.call(e),"date");if(x(e))return c(e)}var h,v="",j=!1,S=["{","}"];return f(e)&&(j=!0,S=["[","]"]),C(e)&&(v=" [Function"+(e.name?": "+e.name:"")+"]"),b(e)&&(v=" "+RegExp.prototype.toString.call(e)),y(e)&&(v=" "+Date.prototype.toUTCString.call(e)),x(e)&&(v=" "+c(e)),0!==s.length||j&&0!=e.length?i<0?b(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),h=j?function(t,e,i,n,r){for(var o=[],s=0,a=e.length;s<a;++s)T(e,String(s))?o.push(d(t,e,i,n,String(s),!0)):o.push("");return r.forEach((function(r){r.match(/^\d+$/)||o.push(d(t,e,i,n,r,!0))})),o}(t,e,i,a,s):s.map((function(n){return d(t,e,i,a,n,j)})),t.seen.pop(),function(t,e,i){return t.reduce((function(t,e){return t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?i[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+i[1]:i[0]+e+" "+t.join(", ")+" "+i[1]}(h,v,S)):S[0]+v+S[1]}function c(t){return"["+Error.prototype.toString.call(t)+"]"}function d(t,e,i,n,r,o){var s,a,l;if((l=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]}).get?a=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(a=t.stylize("[Setter]","special")),T(n,r)||(s="["+r+"]"),a||(t.seen.indexOf(l.value)<0?(a=g(i)?u(t,l.value,null):u(t,l.value,i-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),w(s)){if(o&&r.match(/^\d+$/))return a;(s=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function f(t){return Array.isArray(t)}function p(t){return"boolean"==typeof t}function g(t){return null===t}function _(t){return"number"==typeof t}function m(t){return"string"==typeof t}function w(t){return void 0===t}function b(t){return v(t)&&"[object RegExp]"===j(t)}function v(t){return"object"==typeof t&&null!==t}function y(t){return v(t)&&"[object Date]"===j(t)}function x(t){return v(t)&&("[object Error]"===j(t)||t instanceof Error)}function C(t){return"function"==typeof t}function j(t){return Object.prototype.toString.call(t)}function S(t){return t<10?"0"+t.toString(10):t.toString(10)}n.debuglog=function(t){if(w(o)&&(o=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!s[t])if(new RegExp("\\b"+t+"\\b","i").test(o)){var i=e.pid;s[t]=function(){var e=n.format.apply(n,arguments);console.error("%s %d: %s",t,i,e)}}else s[t]=function(){};return s[t]},n.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=f,n.isBoolean=p,n.isNull=g,n.isNullOrUndefined=function(t){return null==t},n.isNumber=_,n.isString=m,n.isSymbol=function(t){return"symbol"==typeof t},n.isUndefined=w,n.isRegExp=b,n.isObject=v,n.isDate=y,n.isError=x,n.isFunction=C,n.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},n.isBuffer=t("./support/isBuffer");var E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(){var t=new Date,e=[S(t.getHours()),S(t.getMinutes()),S(t.getSeconds())].join(":");return[t.getDate(),E[t.getMonth()],e].join(" ")}function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}n.log=function(){console.log("%s - %s",k(),n.format.apply(n,arguments))},n.inherits=t("inherits"),n._extend=function(t,e){if(!e||!v(e))return t;for(var i=Object.keys(e),n=i.length;n--;)t[i[n]]=e[i[n]];return t}}).call(this)}).call(this,t("_process"),void 0!==i.g?i.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":145,_process:228,inherits:144}],147:[function(t,e,i){arguments[4][122][0].apply(i,arguments)},{dup:122}],148:[function(t,e,i){arguments[4][108][0].apply(i,arguments)},{dup:108}],149:[function(t,e,i){(function(e,n){(function(){var r=t("pako/lib/zlib/messages"),o=t("pako/lib/zlib/zstream"),s=t("pako/lib/zlib/deflate.js"),a=t("pako/lib/zlib/inflate.js"),l=t("pako/lib/zlib/constants");for(var h in l)i[h]=l[h];function u(t){if(t<i.DEFLATE||t>i.UNZIP)throw new TypeError("Bad argument");this.mode=t,this.init_done=!1,this.write_in_progress=!1,this.pending_close=!1,this.windowBits=0,this.level=0,this.memLevel=0,this.strategy=0,this.dictionary=null}function c(t,e){for(var i=0;i<t.length;i++)this[e+i]=t[i]}i.NONE=0,i.DEFLATE=1,i.INFLATE=2,i.GZIP=3,i.GUNZIP=4,i.DEFLATERAW=5,i.INFLATERAW=6,i.UNZIP=7,u.prototype.init=function(t,e,n,r,l){switch(this.windowBits=t,this.level=e,this.memLevel=n,this.strategy=r,this.mode!==i.GZIP&&this.mode!==i.GUNZIP||(this.windowBits+=16),this.mode===i.UNZIP&&(this.windowBits+=32),this.mode!==i.DEFLATERAW&&this.mode!==i.INFLATERAW||(this.windowBits=-this.windowBits),this.strm=new o,this.mode){case i.DEFLATE:case i.GZIP:case i.DEFLATERAW:var h=s.deflateInit2(this.strm,this.level,i.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case i.INFLATE:case i.GUNZIP:case i.INFLATERAW:case i.UNZIP:h=a.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}h===i.Z_OK?(this.write_in_progress=!1,this.init_done=!0):this._error(h)},u.prototype.params=function(){throw new Error("deflateParams Not supported")},u.prototype._writeCheck=function(){if(!this.init_done)throw new Error("write before init");if(this.mode===i.NONE)throw new Error("already finalized");if(this.write_in_progress)throw new Error("write already in progress");if(this.pending_close)throw new Error("close is pending")},u.prototype.write=function(t,i,n,r,o,s,a){this._writeCheck(),this.write_in_progress=!0;var l=this;return e.nextTick((function(){l.write_in_progress=!1;var e=l._write(t,i,n,r,o,s,a);l.callback(e[0],e[1]),l.pending_close&&l.close()})),this},u.prototype.writeSync=function(t,e,i,n,r,o,s){return this._writeCheck(),this._write(t,e,i,n,r,o,s)},u.prototype._write=function(t,e,r,o,l,h,u){if(this.write_in_progress=!0,t!==i.Z_NO_FLUSH&&t!==i.Z_PARTIAL_FLUSH&&t!==i.Z_SYNC_FLUSH&&t!==i.Z_FULL_FLUSH&&t!==i.Z_FINISH&&t!==i.Z_BLOCK)throw new Error("Invalid flush value");null==e&&(e=new n(0),o=0,r=0),l._set?l.set=l._set:l.set=c;var d=this.strm;switch(d.avail_in=o,d.input=e,d.next_in=r,d.avail_out=u,d.output=l,d.next_out=h,this.mode){case i.DEFLATE:case i.GZIP:case i.DEFLATERAW:var f=s.deflate(d,t);break;case i.UNZIP:case i.INFLATE:case i.GUNZIP:case i.INFLATERAW:f=a.inflate(d,t);break;default:throw new Error("Unknown mode "+this.mode)}return f!==i.Z_STREAM_END&&f!==i.Z_OK&&this._error(f),this.write_in_progress=!1,[d.avail_in,d.avail_out]},u.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,this.mode===i.DEFLATE||this.mode===i.GZIP||this.mode===i.DEFLATERAW?s.deflateEnd(this.strm):a.inflateEnd(this.strm),this.mode=i.NONE)},u.prototype.reset=function(){switch(this.mode){case i.DEFLATE:case i.DEFLATERAW:var t=s.deflateReset(this.strm);break;case i.INFLATE:case i.INFLATERAW:t=a.inflateReset(this.strm)}t!==i.Z_OK&&this._error(t)},u.prototype._error=function(t){this.onerror(r[t]+": "+this.strm.msg,t),this.write_in_progress=!1,this.pending_close&&this.close()},i.Zlib=u}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{_process:228,buffer:152,"pako/lib/zlib/constants":217,"pako/lib/zlib/deflate.js":219,"pako/lib/zlib/inflate.js":221,"pako/lib/zlib/messages":223,"pako/lib/zlib/zstream":225}],150:[function(t,e,i){(function(e,n){(function(){var r=t("_stream_transform"),o=t("./binding"),s=t("util"),a=t("assert").ok;function l(t,e,i){var r=[],o=0;function s(){for(var e;null!==(e=t.read());)r.push(e),o+=e.length;t.once("readable",s)}function a(){var e=n.concat(r,o);r=[],i(null,e),t.close()}t.on("error",(function(e){t.removeListener("end",a),t.removeListener("readable",s),i(e)})),t.on("end",a),t.end(e),s()}function h(t,e){if("string"==typeof e&&(e=new n(e)),!n.isBuffer(e))throw new TypeError("Not a string or buffer");var i=o.Z_FINISH;return t._processChunk(e,i)}function u(t){if(!(this instanceof u))return new u(t);m.call(this,t,o.DEFLATE)}function c(t){if(!(this instanceof c))return new c(t);m.call(this,t,o.INFLATE)}function d(t){if(!(this instanceof d))return new d(t);m.call(this,t,o.GZIP)}function f(t){if(!(this instanceof f))return new f(t);m.call(this,t,o.GUNZIP)}function p(t){if(!(this instanceof p))return new p(t);m.call(this,t,o.DEFLATERAW)}function g(t){if(!(this instanceof g))return new g(t);m.call(this,t,o.INFLATERAW)}function _(t){if(!(this instanceof _))return new _(t);m.call(this,t,o.UNZIP)}function m(t,e){if(this._opts=t=t||{},this._chunkSize=t.chunkSize||i.Z_DEFAULT_CHUNK,r.call(this,t),t.flush&&t.flush!==o.Z_NO_FLUSH&&t.flush!==o.Z_PARTIAL_FLUSH&&t.flush!==o.Z_SYNC_FLUSH&&t.flush!==o.Z_FULL_FLUSH&&t.flush!==o.Z_FINISH&&t.flush!==o.Z_BLOCK)throw new Error("Invalid flush flag: "+t.flush);if(this._flushFlag=t.flush||o.Z_NO_FLUSH,t.chunkSize&&(t.chunkSize<i.Z_MIN_CHUNK||t.chunkSize>i.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+t.chunkSize);if(t.windowBits&&(t.windowBits<i.Z_MIN_WINDOWBITS||t.windowBits>i.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+t.windowBits);if(t.level&&(t.level<i.Z_MIN_LEVEL||t.level>i.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+t.level);if(t.memLevel&&(t.memLevel<i.Z_MIN_MEMLEVEL||t.memLevel>i.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+t.memLevel);if(t.strategy&&t.strategy!=i.Z_FILTERED&&t.strategy!=i.Z_HUFFMAN_ONLY&&t.strategy!=i.Z_RLE&&t.strategy!=i.Z_FIXED&&t.strategy!=i.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+t.strategy);if(t.dictionary&&!n.isBuffer(t.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._binding=new o.Zlib(e);var s=this;this._hadError=!1,this._binding.onerror=function(t,e){s._binding=null,s._hadError=!0;var n=new Error(t);n.errno=e,n.code=i.codes[e],s.emit("error",n)};var a=i.Z_DEFAULT_COMPRESSION;"number"==typeof t.level&&(a=t.level);var l=i.Z_DEFAULT_STRATEGY;"number"==typeof t.strategy&&(l=t.strategy),this._binding.init(t.windowBits||i.Z_DEFAULT_WINDOWBITS,a,t.memLevel||i.Z_DEFAULT_MEMLEVEL,l,t.dictionary),this._buffer=new n(this._chunkSize),this._offset=0,this._closed=!1,this._level=a,this._strategy=l,this.once("end",this.close)}o.Z_MIN_WINDOWBITS=8,o.Z_MAX_WINDOWBITS=15,o.Z_DEFAULT_WINDOWBITS=15,o.Z_MIN_CHUNK=64,o.Z_MAX_CHUNK=1/0,o.Z_DEFAULT_CHUNK=16384,o.Z_MIN_MEMLEVEL=1,o.Z_MAX_MEMLEVEL=9,o.Z_DEFAULT_MEMLEVEL=8,o.Z_MIN_LEVEL=-1,o.Z_MAX_LEVEL=9,o.Z_DEFAULT_LEVEL=o.Z_DEFAULT_COMPRESSION,Object.keys(o).forEach((function(t){t.match(/^Z/)&&(i[t]=o[t])})),i.codes={Z_OK:o.Z_OK,Z_STREAM_END:o.Z_STREAM_END,Z_NEED_DICT:o.Z_NEED_DICT,Z_ERRNO:o.Z_ERRNO,Z_STREAM_ERROR:o.Z_STREAM_ERROR,Z_DATA_ERROR:o.Z_DATA_ERROR,Z_MEM_ERROR:o.Z_MEM_ERROR,Z_BUF_ERROR:o.Z_BUF_ERROR,Z_VERSION_ERROR:o.Z_VERSION_ERROR},Object.keys(i.codes).forEach((function(t){i.codes[i.codes[t]]=t})),i.Deflate=u,i.Inflate=c,i.Gzip=d,i.Gunzip=f,i.DeflateRaw=p,i.InflateRaw=g,i.Unzip=_,i.createDeflate=function(t){return new u(t)},i.createInflate=function(t){return new c(t)},i.createDeflateRaw=function(t){return new p(t)},i.createInflateRaw=function(t){return new g(t)},i.createGzip=function(t){return new d(t)},i.createGunzip=function(t){return new f(t)},i.createUnzip=function(t){return new _(t)},i.deflate=function(t,e,i){return"function"==typeof e&&(i=e,e={}),l(new u(e),t,i)},i.deflateSync=function(t,e){return h(new u(e),t)},i.gzip=function(t,e,i){return"function"==typeof e&&(i=e,e={}),l(new d(e),t,i)},i.gzipSync=function(t,e){return h(new d(e),t)},i.deflateRaw=function(t,e,i){return"function"==typeof e&&(i=e,e={}),l(new p(e),t,i)},i.deflateRawSync=function(t,e){return h(new p(e),t)},i.unzip=function(t,e,i){return"function"==typeof e&&(i=e,e={}),l(new _(e),t,i)},i.unzipSync=function(t,e){return h(new _(e),t)},i.inflate=function(t,e,i){return"function"==typeof e&&(i=e,e={}),l(new c(e),t,i)},i.inflateSync=function(t,e){return h(new c(e),t)},i.gunzip=function(t,e,i){return"function"==typeof e&&(i=e,e={}),l(new f(e),t,i)},i.gunzipSync=function(t,e){return h(new f(e),t)},i.inflateRaw=function(t,e,i){return"function"==typeof e&&(i=e,e={}),l(new g(e),t,i)},i.inflateRawSync=function(t,e){return h(new g(e),t)},s.inherits(m,r),m.prototype.params=function(t,n,r){if(t<i.Z_MIN_LEVEL||t>i.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+t);if(n!=i.Z_FILTERED&&n!=i.Z_HUFFMAN_ONLY&&n!=i.Z_RLE&&n!=i.Z_FIXED&&n!=i.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+n);if(this._level!==t||this._strategy!==n){var s=this;this.flush(o.Z_SYNC_FLUSH,(function(){s._binding.params(t,n),s._hadError||(s._level=t,s._strategy=n,r&&r())}))}else e.nextTick(r)},m.prototype.reset=function(){return this._binding.reset()},m.prototype._flush=function(t){this._transform(new n(0),"",t)},m.prototype.flush=function(t,i){var r=this._writableState;if(("function"==typeof t||void 0===t&&!i)&&(i=t,t=o.Z_FULL_FLUSH),r.ended)i&&e.nextTick(i);else if(r.ending)i&&this.once("end",i);else if(r.needDrain){var s=this;this.once("drain",(function(){s.flush(i)}))}else this._flushFlag=t,this.write(new n(0),"",i)},m.prototype.close=function(t){if(t&&e.nextTick(t),!this._closed){this._closed=!0,this._binding.close();var i=this;e.nextTick((function(){i.emit("close")}))}},m.prototype._transform=function(t,e,i){var r,s=this._writableState,a=(s.ending||s.ended)&&(!t||s.length===t.length);if(null===!t&&!n.isBuffer(t))return i(new Error("invalid input"));a?r=o.Z_FINISH:(r=this._flushFlag,t.length>=s.length&&(this._flushFlag=this._opts.flush||o.Z_NO_FLUSH)),this._processChunk(t,r,i)},m.prototype._processChunk=function(t,e,i){var r=t&&t.length,o=this._chunkSize-this._offset,s=0,l=this,h="function"==typeof i;if(!h){var u,c=[],d=0;this.on("error",(function(t){u=t}));do{var f=this._binding.writeSync(e,t,s,r,this._buffer,this._offset,o)}while(!this._hadError&&_(f[0],f[1]));if(this._hadError)throw u;var p=n.concat(c,d);return this.close(),p}var g=this._binding.write(e,t,s,r,this._buffer,this._offset,o);function _(u,f){if(!l._hadError){var p=o-f;if(a(p>=0,"have should not go down"),p>0){var g=l._buffer.slice(l._offset,l._offset+p);l._offset+=p,h?l.push(g):(c.push(g),d+=g.length)}if((0===f||l._offset>=l._chunkSize)&&(o=l._chunkSize,l._offset=0,l._buffer=new n(l._chunkSize)),0!==f){if(!h)return!1;i()}else{if(s+=r-u,r=u,!h)return!0;var m=l._binding.write(e,t,s,r,l._buffer,l._offset,l._chunkSize);m.callback=_,m.buffer=t}}}g.buffer=t,g.callback=_},s.inherits(u,m),s.inherits(c,m),s.inherits(d,m),s.inherits(f,m),s.inherits(p,m),s.inherits(g,m),s.inherits(_,m)}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{"./binding":149,_process:228,_stream_transform:240,assert:143,buffer:152,util:249}],151:[function(t,e,i){arguments[4][108][0].apply(i,arguments)},{dup:108}],152:[function(t,e,n){(function(e,i){(function(){var i=t("base64-js"),r=t("ieee754"),o=t("isarray");function s(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=l.prototype:(null===t&&(t=new l(e)),t.length=e),t}function l(t,e,i){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(t,e,i);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return h(this,t,e,i)}function h(t,e,i,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,i,n){if(e.byteLength,i<0||e.byteLength<i)throw new RangeError("'offset' is out of bounds");if(e.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===i&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,i):new Uint8Array(e,i,n),l.TYPED_ARRAY_SUPPORT?(t=e).__proto__=l.prototype:t=d(t,e),t}(t,e,i,n):"string"==typeof e?function(t,e,i){if("string"==typeof i&&""!==i||(i="utf8"),!l.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(e,i),r=(t=a(t,n)).write(e,i);return r!==n&&(t=t.slice(0,r)),t}(t,e,i):function(t,e){if(l.isBuffer(e)){var i=0|f(e.length);return 0===(t=a(t,i)).length||e.copy(t,0,0,i),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?a(t,0):d(t,e);if("Buffer"===e.type&&o(e.data))return d(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function c(t,e){if(u(e),t=a(t,e<0?0:0|f(e)),!l.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function d(t,e){var i=e.length<0?0:0|f(e.length);t=a(t,i);for(var n=0;n<i;n+=1)t[n]=255&e[n];return t}function f(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function p(t,e){if(l.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return H(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return V(t).length;default:if(n)return H(t).length;e=(""+e).toLowerCase(),n=!0}}function g(t,e,i){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return A(this,e,i);case"utf8":case"utf-8":return E(this,e,i);case"ascii":return T(this,e,i);case"latin1":case"binary":return P(this,e,i);case"base64":return S(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,i);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function _(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function m(t,e,i,n,r){if(0===t.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=r?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(r)return-1;i=t.length-1}else if(i<0){if(!r)return-1;i=0}if("string"==typeof e&&(e=l.from(e,n)),l.isBuffer(e))return 0===e.length?-1:w(t,e,i,n,r);if("number"==typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):w(t,[e],i,n,r);throw new TypeError("val must be string, number or Buffer")}function w(t,e,i,n,r){var o,s=1,a=t.length,l=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,l/=2,i/=2}function h(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(r){var u=-1;for(o=i;o<a;o++)if(h(t,o)===h(e,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*s}else-1!==u&&(o-=o-u),u=-1}else for(i+l>a&&(i=a-l),o=i;o>=0;o--){for(var c=!0,d=0;d<l;d++)if(h(t,o+d)!==h(e,d)){c=!1;break}if(c)return o}return-1}function b(t,e,i,n){i=Number(i)||0;var r=t.length-i;n?(n=Number(n))>r&&(n=r):n=r;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[i+s]=a}return s}function v(t,e,i,n){return U(H(e,t.length-i),t,i,n)}function y(t,e,i,n){return U(function(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,i,n)}function x(t,e,i,n){return y(t,e,i,n)}function C(t,e,i,n){return U(V(e),t,i,n)}function j(t,e,i,n){return U(function(t,e){for(var i,n,r,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=(i=t.charCodeAt(s))>>8,r=i%256,o.push(r),o.push(n);return o}(e,t.length-i),t,i,n)}function S(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function E(t,e,i){i=Math.min(t.length,i);for(var n=[],r=e;r<i;){var o,s,a,l,h=t[r],u=null,c=h>239?4:h>223?3:h>191?2:1;if(r+c<=i)switch(c){case 1:h<128&&(u=h);break;case 2:128==(192&(o=t[r+1]))&&(l=(31&h)<<6|63&o)>127&&(u=l);break;case 3:o=t[r+1],s=t[r+2],128==(192&o)&&128==(192&s)&&(l=(15&h)<<12|(63&o)<<6|63&s)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=t[r+1],s=t[r+2],a=t[r+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(l=(15&h)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(u=l)}null===u?(u=65533,c=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),r+=c}return function(t){var e=t.length;if(e<=k)return String.fromCharCode.apply(String,t);for(var i="",n=0;n<e;)i+=String.fromCharCode.apply(String,t.slice(n,n+=k));return i}(n)}n.Buffer=l,n.SlowBuffer=function(t){return+t!=t&&(t=0),l.alloc(+t)},n.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),n.kMaxLength=s(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,e,i){return h(null,t,e,i)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,e,i){return function(t,e,i,n){return u(e),e<=0?a(t,e):void 0!==i?"string"==typeof n?a(t,e).fill(i,n):a(t,e).fill(i):a(t,e)}(null,t,e,i)},l.allocUnsafe=function(t){return c(null,t)},l.allocUnsafeSlow=function(t){return c(null,t)},l.isBuffer=function(t){return!(null==t||!t._isBuffer)},l.compare=function(t,e){if(!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var i=t.length,n=e.length,r=0,o=Math.min(i,n);r<o;++r)if(t[r]!==e[r]){i=t[r],n=e[r];break}return i<n?-1:n<i?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var n=l.allocUnsafe(e),r=0;for(i=0;i<t.length;++i){var s=t[i];if(!l.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,r),r+=s.length}return n},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)_(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)_(this,e,e+3),_(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)_(this,e,e+7),_(this,e+1,e+6),_(this,e+2,e+5),_(this,e+3,e+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?E(this,0,t):g.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,e,i,n,r){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),e<0||i>t.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&e>=i)return 0;if(n>=r)return-1;if(e>=i)return 1;if(this===t)return 0;for(var o=(r>>>=0)-(n>>>=0),s=(i>>>=0)-(e>>>=0),a=Math.min(o,s),h=this.slice(n,r),u=t.slice(e,i),c=0;c<a;++c)if(h[c]!==u[c]){o=h[c],s=u[c];break}return o<s?-1:s<o?1:0},l.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},l.prototype.indexOf=function(t,e,i){return m(this,t,e,i,!0)},l.prototype.lastIndexOf=function(t,e,i){return m(this,t,e,i,!1)},l.prototype.write=function(t,e,i,n){if(void 0===e)n="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)n=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var r=this.length-e;if((void 0===i||i>r)&&(i=r),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return b(this,t,e,i);case"utf8":case"utf-8":return v(this,t,e,i);case"ascii":return y(this,t,e,i);case"latin1":case"binary":return x(this,t,e,i);case"base64":return C(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,e,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function T(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(127&t[r]);return n}function P(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(t[r]);return n}function A(t,e,i){var n=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>n)&&(i=n);for(var r="",o=e;o<i;++o)r+=B(t[o]);return r}function R(t,e,i){for(var n=t.slice(e,i),r="",o=0;o<n.length;o+=2)r+=String.fromCharCode(n[o]+256*n[o+1]);return r}function O(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function D(t,e,i,n,r,o){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(i+n>t.length)throw new RangeError("Index out of range")}function I(t,e,i,n){e<0&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-i,2);r<o;++r)t[i+r]=(e&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}function M(t,e,i,n){e<0&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-i,4);r<o;++r)t[i+r]=e>>>8*(n?r:3-r)&255}function F(t,e,i,n,r,o){if(i+n>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function L(t,e,i,n,o){return o||F(t,0,i,4),r.write(t,e,i,n,23,4),i+4}function N(t,e,i,n,o){return o||F(t,0,i,8),r.write(t,e,i,n,52,8),i+8}l.prototype.slice=function(t,e){var i,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),l.TYPED_ARRAY_SUPPORT)(i=this.subarray(t,e)).__proto__=l.prototype;else{var r=e-t;i=new l(r,void 0);for(var o=0;o<r;++o)i[o]=this[o+t]}return i},l.prototype.readUIntLE=function(t,e,i){t|=0,e|=0,i||O(t,e,this.length);for(var n=this[t],r=1,o=0;++o<e&&(r*=256);)n+=this[t+o]*r;return n},l.prototype.readUIntBE=function(t,e,i){t|=0,e|=0,i||O(t,e,this.length);for(var n=this[t+--e],r=1;e>0&&(r*=256);)n+=this[t+--e]*r;return n},l.prototype.readUInt8=function(t,e){return e||O(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return e||O(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return e||O(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return e||O(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return e||O(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,i){t|=0,e|=0,i||O(t,e,this.length);for(var n=this[t],r=1,o=0;++o<e&&(r*=256);)n+=this[t+o]*r;return n>=(r*=128)&&(n-=Math.pow(2,8*e)),n},l.prototype.readIntBE=function(t,e,i){t|=0,e|=0,i||O(t,e,this.length);for(var n=e,r=1,o=this[t+--n];n>0&&(r*=256);)o+=this[t+--n]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*e)),o},l.prototype.readInt8=function(t,e){return e||O(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){e||O(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt16BE=function(t,e){e||O(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt32LE=function(t,e){return e||O(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return e||O(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return e||O(t,4,this.length),r.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||O(t,4,this.length),r.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||O(t,8,this.length),r.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return e||O(t,8,this.length),r.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,i,n){t=+t,e|=0,i|=0,n||D(this,t,e,i,Math.pow(2,8*i)-1,0);var r=1,o=0;for(this[e]=255&t;++o<i&&(r*=256);)this[e+o]=t/r&255;return e+i},l.prototype.writeUIntBE=function(t,e,i,n){t=+t,e|=0,i|=0,n||D(this,t,e,i,Math.pow(2,8*i)-1,0);var r=i-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+i},l.prototype.writeUInt8=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},l.prototype.writeUInt16BE=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):M(this,t,e,!0),e+4},l.prototype.writeUInt32BE=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},l.prototype.writeIntLE=function(t,e,i,n){if(t=+t,e|=0,!n){var r=Math.pow(2,8*i-1);D(this,t,e,i,r-1,-r)}var o=0,s=1,a=0;for(this[e]=255&t;++o<i&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+i},l.prototype.writeIntBE=function(t,e,i,n){if(t=+t,e|=0,!n){var r=Math.pow(2,8*i-1);D(this,t,e,i,r-1,-r)}var o=i-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+i},l.prototype.writeInt8=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},l.prototype.writeInt16BE=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},l.prototype.writeInt32LE=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):M(this,t,e,!0),e+4},l.prototype.writeInt32BE=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},l.prototype.writeFloatLE=function(t,e,i){return L(this,t,e,!0,i)},l.prototype.writeFloatBE=function(t,e,i){return L(this,t,e,!1,i)},l.prototype.writeDoubleLE=function(t,e,i){return N(this,t,e,!0,i)},l.prototype.writeDoubleBE=function(t,e,i){return N(this,t,e,!1,i)},l.prototype.copy=function(t,e,i,n){if(i||(i=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-i&&(n=t.length-e+i);var r,o=n-i;if(this===t&&i<e&&e<n)for(r=o-1;r>=0;--r)t[r+e]=this[r+i];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)t[r+e]=this[r+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+o),e);return o},l.prototype.fill=function(t,e,i,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;var o;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(o=e;o<i;++o)this[o]=t;else{var s=l.isBuffer(t)?t:H(new l(t,n).toString()),a=s.length;for(o=0;o<i-e;++o)this[o+e]=s[o%a]}return this};var z=/[^+\/0-9A-Za-z-_]/g;function B(t){return t<16?"0"+t.toString(16):t.toString(16)}function H(t,e){e=e||1/0;for(var i,n=t.length,r=null,o=[],s=0;s<n;++s){if((i=t.charCodeAt(s))>55295&&i<57344){if(!r){if(i>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}r=i;continue}if(i<56320){(e-=3)>-1&&o.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,i<128){if((e-=1)<0)break;o.push(i)}else if(i<2048){if((e-=2)<0)break;o.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;o.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return o}function V(t){return i.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(z,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function U(t,e,i,n){for(var r=0;r<n&&!(r+i>=e.length||r>=t.length);++r)e[r+i]=t[r];return r}}).call(this)}).call(this,void 0!==i.g?i.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer)},{"base64-js":147,buffer:152,ieee754:211,isarray:213}],153:[function(t,e,i){arguments[4][13][0].apply(i,arguments)},{"../../modules/_core":164,"../../modules/es6.array.is-array":203,dup:13}],154:[function(t,e,i){var n=t("../../modules/_core"),r=n.JSON||(n.JSON={stringify:JSON.stringify});e.localExports=function(t){return r.stringify.apply(r,arguments)}},{"../../modules/_core":164}],155:[function(t,e,i){t("../../modules/es6.number.is-finite"),e.localExports=t("../../modules/_core").Number.isFinite},{"../../modules/_core":164,"../../modules/es6.number.is-finite":204}],156:[function(t,e,i){t("../../modules/es6.object.assign"),e.localExports=t("../../modules/_core").Object.assign},{"../../modules/_core":164,"../../modules/es6.object.assign":205}],157:[function(t,e,i){t("../../modules/es6.object.create");var n=t("../../modules/_core").Object;e.localExports=function(t,e){return n.create(t,e)}},{"../../modules/_core":164,"../../modules/es6.object.create":206}],158:[function(t,e,i){arguments[4][18][0].apply(i,arguments)},{"../../modules/_core":164,"../../modules/es6.object.keys":207,dup:18}],159:[function(t,e,i){t("../modules/es6.parse-int"),e.localExports=t("../modules/_core").parseInt},{"../modules/_core":164,"../modules/es6.parse-int":208}],160:[function(t,e,i){arguments[4][22][0].apply(i,arguments)},{dup:22}],161:[function(t,e,i){arguments[4][25][0].apply(i,arguments)},{"./_is-object":179,dup:25}],162:[function(t,e,i){arguments[4][27][0].apply(i,arguments)},{"./_to-absolute-index":196,"./_to-iobject":198,"./_to-length":199,dup:27}],163:[function(t,e,i){arguments[4][32][0].apply(i,arguments)},{dup:32}],164:[function(t,e,i){arguments[4][36][0].apply(i,arguments)},{dup:36}],165:[function(t,e,i){arguments[4][38][0].apply(i,arguments)},{"./_a-function":160,dup:38}],166:[function(t,e,i){arguments[4][39][0].apply(i,arguments)},{dup:39}],167:[function(t,e,i){arguments[4][40][0].apply(i,arguments)},{"./_fails":171,dup:40}],168:[function(t,e,i){arguments[4][41][0].apply(i,arguments)},{"./_global":172,"./_is-object":179,dup:41}],169:[function(t,e,i){arguments[4][42][0].apply(i,arguments)},{dup:42}],170:[function(t,e,i){arguments[4][43][0].apply(i,arguments)},{"./_core":164,"./_ctx":165,"./_global":172,"./_has":173,"./_hide":174,dup:43}],171:[function(t,e,i){arguments[4][44][0].apply(i,arguments)},{dup:44}],172:[function(t,e,i){arguments[4][46][0].apply(i,arguments)},{dup:46}],173:[function(t,e,i){arguments[4][47][0].apply(i,arguments)},{dup:47}],174:[function(t,e,i){arguments[4][48][0].apply(i,arguments)},{"./_descriptors":167,"./_object-dp":183,"./_property-desc":191,dup:48}],175:[function(t,e,i){arguments[4][49][0].apply(i,arguments)},{"./_global":172,dup:49}],176:[function(t,e,i){arguments[4][50][0].apply(i,arguments)},{"./_descriptors":167,"./_dom-create":168,"./_fails":171,dup:50}],177:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{"./_cof":163,dup:52}],178:[function(t,e,i){arguments[4][54][0].apply(i,arguments)},{"./_cof":163,dup:54}],179:[function(t,e,i){arguments[4][55][0].apply(i,arguments)},{dup:55}],180:[function(t,e,i){arguments[4][62][0].apply(i,arguments)},{dup:62}],181:[function(t,e,i){var n=t("./_descriptors"),r=t("./_object-keys"),o=t("./_object-gops"),s=t("./_object-pie"),a=t("./_to-object"),l=t("./_iobject"),h=Object.assign;e.localExports=!h||t("./_fails")((function(){var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach((function(t){e[t]=t})),7!=h({},t)[i]||Object.keys(h({},e)).join("")!=n}))?function(t,e){for(var i=a(t),h=arguments.length,u=1,c=o.f,d=s.f;h>u;)for(var f,p=l(arguments[u++]),g=c?r(p).concat(c(p)):r(p),_=g.length,m=0;_>m;)f=g[m++],n&&!d.call(p,f)||(i[f]=p[f]);return i}:h},{"./_descriptors":167,"./_fails":171,"./_iobject":177,"./_object-gops":185,"./_object-keys":187,"./_object-pie":188,"./_to-object":200}],182:[function(t,e,i){arguments[4][66][0].apply(i,arguments)},{"./_an-object":161,"./_dom-create":168,"./_enum-bug-keys":169,"./_html":175,"./_object-dps":184,"./_shared-key":192,dup:66}],183:[function(t,e,i){arguments[4][67][0].apply(i,arguments)},{"./_an-object":161,"./_descriptors":167,"./_ie8-dom-define":176,"./_to-primitive":201,dup:67}],184:[function(t,e,i){arguments[4][68][0].apply(i,arguments)},{"./_an-object":161,"./_descriptors":167,"./_object-dp":183,"./_object-keys":187,dup:68}],185:[function(t,e,i){i.f=Object.getOwnPropertySymbols},{}],186:[function(t,e,i){arguments[4][71][0].apply(i,arguments)},{"./_array-includes":162,"./_has":173,"./_shared-key":192,"./_to-iobject":198,dup:71}],187:[function(t,e,i){arguments[4][72][0].apply(i,arguments)},{"./_enum-bug-keys":169,"./_object-keys-internal":186,dup:72}],188:[function(t,e,i){arguments[4][73][0].apply(i,arguments)},{dup:73}],189:[function(t,e,i){arguments[4][74][0].apply(i,arguments)},{"./_core":164,"./_export":170,"./_fails":171,dup:74}],190:[function(t,e,i){var n=t("./_global").parseInt,r=t("./_string-trim").trim,o=t("./_string-ws"),s=/^[-+]?0[xX]/;e.localExports=8!==n(o+"08")||22!==n(o+"0x16")?function(t,e){var i=r(String(t),3);return n(i,e>>>0||(s.test(i)?16:10))}:n},{"./_global":172,"./_string-trim":194,"./_string-ws":195}],191:[function(t,e,i){arguments[4][77][0].apply(i,arguments)},{dup:77}],192:[function(t,e,i){arguments[4][84][0].apply(i,arguments)},{"./_shared":193,"./_uid":202,dup:84}],193:[function(t,e,i){arguments[4][85][0].apply(i,arguments)},{"./_core":164,"./_global":172,"./_library":180,dup:85}],194:[function(t,e,i){var n=t("./_export"),r=t("./_defined"),o=t("./_fails"),s=t("./_string-ws"),a="["+s+"]",l=RegExp("^"+a+a+"*"),h=RegExp(a+a+"*$"),u=function(t,e,i){var r={},a=o((function(){return!!s[t]()||""!=""[t]()})),l=r[t]=a?e(c):s[t];i&&(r[i]=l),n(n.P+n.F*a,"String",r)},c=u.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(h,"")),t};e.localExports=u},{"./_defined":166,"./_export":170,"./_fails":171,"./_string-ws":195}],195:[function(t,e,i){e.localExports="\t\n\v\f\r \u2028\u2029\ufeff"},{}],196:[function(t,e,i){arguments[4][89][0].apply(i,arguments)},{"./_to-integer":197,dup:89}],197:[function(t,e,i){arguments[4][90][0].apply(i,arguments)},{dup:90}],198:[function(t,e,i){arguments[4][91][0].apply(i,arguments)},{"./_defined":166,"./_iobject":177,dup:91}],199:[function(t,e,i){arguments[4][92][0].apply(i,arguments)},{"./_to-integer":197,dup:92}],200:[function(t,e,i){arguments[4][93][0].apply(i,arguments)},{"./_defined":166,dup:93}],201:[function(t,e,i){arguments[4][94][0].apply(i,arguments)},{"./_is-object":179,dup:94}],202:[function(t,e,i){arguments[4][95][0].apply(i,arguments)},{dup:95}],203:[function(t,e,i){arguments[4][101][0].apply(i,arguments)},{"./_export":170,"./_is-array":178,dup:101}],204:[function(t,e,i){var n=t("./_export"),r=t("./_global").isFinite;n(n.S,"Number",{isFinite:function(t){return"number"==typeof t&&r(t)}})},{"./_export":170,"./_global":172}],205:[function(t,e,i){var n=t("./_export");n(n.S+n.F,"Object",{assign:t("./_object-assign")})},{"./_export":170,"./_object-assign":181}],206:[function(t,e,i){var n=t("./_export");n(n.S,"Object",{create:t("./_object-create")})},{"./_export":170,"./_object-create":182}],207:[function(t,e,i){arguments[4][107][0].apply(i,arguments)},{"./_object-keys":187,"./_object-sap":189,"./_to-object":200,dup:107}],208:[function(t,e,i){var n=t("./_export"),r=t("./_parse-int");n(n.G+n.F*(parseInt!=r),{parseInt:r})},{"./_export":170,"./_parse-int":190}],209:[function(t,e,i){function n(t){return Object.prototype.toString.call(t)}i.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===n(t)},i.isBoolean=function(t){return"boolean"==typeof t},i.isNull=function(t){return null===t},i.isNullOrUndefined=function(t){return null==t},i.isNumber=function(t){return"number"==typeof t},i.isString=function(t){return"string"==typeof t},i.isSymbol=function(t){return"symbol"==typeof t},i.isUndefined=function(t){return void 0===t},i.isRegExp=function(t){return"[object RegExp]"===n(t)},i.isObject=function(t){return"object"==typeof t&&null!==t},i.isDate=function(t){return"[object Date]"===n(t)},i.isError=function(t){return"[object Error]"===n(t)||t instanceof Error},i.isFunction=function(t){return"function"==typeof t},i.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},i.isBuffer=t("buffer").Buffer.isBuffer},{buffer:152}],210:[function(t,e,i){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function o(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}e.localExports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!function(t){return"number"==typeof t}(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,i,n,a,l,h;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var u=new Error('Uncaught, unspecified "error" event. ('+e+")");throw u.context=e,u}if(s(i=this._events[t]))return!1;if(r(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),i.apply(this,a)}else if(o(i))for(a=Array.prototype.slice.call(arguments,1),n=(h=i.slice()).length,l=0;l<n;l++)h[l].apply(this,a);return!0},n.prototype.addListener=function(t,e){var i;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(i=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){if(!r(e))throw TypeError("listener must be a function");var i=!1;function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var i,n,s,a;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(s=(i=this._events[t]).length,n=-1,i===e||r(i.listener)&&i.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(i)){for(a=s;a-- >0;)if(i[a]===e||i[a].listener&&i[a].listener===e){n=a;break}if(n<0)return this;1===i.length?(i.length=0,delete this._events[t]):i.splice(n,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r(i=this._events[t]))this.removeListener(t,i);else if(i)for(;i.length;)this.removeListener(t,i[i.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},{}],211:[function(t,e,i){i.read=function(t,e,i,n,r){var o,s,a=8*r-n-1,l=(1<<a)-1,h=l>>1,u=-7,c=i?r-1:0,d=i?-1:1,f=t[e+c];for(c+=d,o=f&(1<<-u)-1,f>>=-u,u+=a;u>0;o=256*o+t[e+c],c+=d,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=n;u>0;s=256*s+t[e+c],c+=d,u-=8);if(0===o)o=1-h;else{if(o===l)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,n),o-=h}return(f?-1:1)*s*Math.pow(2,o-n)},i.write=function(t,e,i,n,r,o){var s,a,l,h=8*o-r-1,u=(1<<h)-1,c=u>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:o-1,p=n?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),(e+=s+c>=1?d/l:d*Math.pow(2,1-c))*l>=2&&(s++,l/=2),s+c>=u?(a=0,s=u):s+c>=1?(a=(e*l-1)*Math.pow(2,r),s+=c):(a=e*Math.pow(2,c-1)*Math.pow(2,r),s=0));r>=8;t[i+f]=255&a,f+=p,a/=256,r-=8);for(s=s<<r|a,h+=r;h>0;t[i+f]=255&s,f+=p,s/=256,h-=8);t[i+f-p]|=128*g}},{}],212:[function(t,e,i){"function"==typeof Object.create?e.localExports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:e.localExports=function(t,e){if(e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}}},{}],213:[function(t,e,i){var n={}.toString;e.localExports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},{}],214:[function(t,e,i){var n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function s(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}e.localExports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var i,a,l=s(t),h=1;h<arguments.length;h++){for(var u in i=Object(arguments[h]))r.call(i,u)&&(l[u]=i[u]);if(n){a=n(i);for(var c=0;c<a.length;c++)o.call(i,a[c])&&(l[a[c]]=i[a[c]])}}return l}},{}],215:[function(t,e,i){var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;i.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var i=e.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])}}return t},i.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var r={arraySet:function(t,e,i,n,r){if(e.subarray&&t.subarray)t.set(e.subarray(i,i+n),r);else for(var o=0;o<n;o++)t[r+o]=e[i+o]},flattenChunks:function(t){var e,i,n,r,o,s;for(n=0,e=0,i=t.length;e<i;e++)n+=t[e].length;for(s=new Uint8Array(n),r=0,e=0,i=t.length;e<i;e++)o=t[e],s.set(o,r),r+=o.length;return s}},o={arraySet:function(t,e,i,n,r){for(var o=0;o<n;o++)t[r+o]=e[i+o]},flattenChunks:function(t){return[].concat.apply([],t)}};i.setTyped=function(t){t?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,r)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(n)},{}],216:[function(t,e,i){e.localExports=function(t,e,i,n){for(var r=65535&t|0,o=t>>>16&65535|0,s=0;0!==i;){i-=s=i>2e3?2e3:i;do{o=o+(r=r+e[n++]|0)|0}while(--s);r%=65521,o%=65521}return r|o<<16|0}},{}],217:[function(t,e,i){e.localExports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],218:[function(t,e,i){var n=function(){for(var t,e=[],i=0;i<256;i++){t=i;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e}();e.localExports=function(t,e,i,r){var o=n,s=r+i;t^=-1;for(var a=r;a<s;a++)t=t>>>8^o[255&(t^e[a])];return-1^t}},{}],219:[function(t,e,i){var n,r=t("../utils/common"),o=t("./trees"),s=t("./adler32"),a=t("./crc32"),l=t("./messages"),h=-2,u=258,c=262,d=103,f=113,p=666;function g(t,e){return t.msg=l[e],e}function _(t){return(t<<1)-(t>4?9:0)}function m(t){for(var e=t.length;--e>=0;)t[e]=0}function w(t){var e=t.state,i=e.pending;i>t.avail_out&&(i=t.avail_out),0!==i&&(r.arraySet(t.output,e.pending_buf,e.pending_out,i,t.next_out),t.next_out+=i,e.pending_out+=i,t.total_out+=i,t.avail_out-=i,e.pending-=i,0===e.pending&&(e.pending_out=0))}function b(t,e){o._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,w(t.strm)}function v(t,e){t.pending_buf[t.pending++]=e}function y(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function x(t,e,i,n){var o=t.avail_in;return o>n&&(o=n),0===o?0:(t.avail_in-=o,r.arraySet(e,t.input,t.next_in,o,i),1===t.state.wrap?t.adler=s(t.adler,e,o,i):2===t.state.wrap&&(t.adler=a(t.adler,e,o,i)),t.next_in+=o,t.total_in+=o,o)}function C(t,e){var i,n,r=t.max_chain_length,o=t.strstart,s=t.prev_length,a=t.nice_match,l=t.strstart>t.w_size-c?t.strstart-(t.w_size-c):0,h=t.window,d=t.w_mask,f=t.prev,p=t.strstart+u,g=h[o+s-1],_=h[o+s];t.prev_length>=t.good_match&&(r>>=2),a>t.lookahead&&(a=t.lookahead);do{if(h[(i=e)+s]===_&&h[i+s-1]===g&&h[i]===h[o]&&h[++i]===h[o+1]){o+=2,i++;do{}while(h[++o]===h[++i]&&h[++o]===h[++i]&&h[++o]===h[++i]&&h[++o]===h[++i]&&h[++o]===h[++i]&&h[++o]===h[++i]&&h[++o]===h[++i]&&h[++o]===h[++i]&&o<p);if(n=u-(p-o),o=p-u,n>s){if(t.match_start=e,s=n,n>=a)break;g=h[o+s-1],_=h[o+s]}}}while((e=f[e&d])>l&&0!=--r);return s<=t.lookahead?s:t.lookahead}function j(t){var e,i,n,o,s,a=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=a+(a-c)){r.arraySet(t.window,t.window,a,a,0),t.match_start-=a,t.strstart-=a,t.block_start-=a,e=i=t.hash_size;do{n=t.head[--e],t.head[e]=n>=a?n-a:0}while(--i);e=i=a;do{n=t.prev[--e],t.prev[e]=n>=a?n-a:0}while(--i);o+=a}if(0===t.strm.avail_in)break;if(i=x(t.strm,t.window,t.strstart+t.lookahead,o),t.lookahead+=i,t.lookahead+t.insert>=3)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+3-1])&t.hash_mask,t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<c&&0!==t.strm.avail_in)}function S(t,e){for(var i,n;;){if(t.lookahead<c){if(j(t),t.lookahead<c&&0===e)return 1;if(0===t.lookahead)break}if(i=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==i&&t.strstart-i<=t.w_size-c&&(t.match_length=C(t,i)),t.match_length>=3)if(n=o._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(b(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(b(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(b(t,!1),0===t.strm.avail_out)?1:2}function E(t,e){for(var i,n,r;;){if(t.lookahead<c){if(j(t),t.lookahead<c&&0===e)return 1;if(0===t.lookahead)break}if(i=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==i&&t.prev_length<t.max_lazy_match&&t.strstart-i<=t.w_size-c&&(t.match_length=C(t,i),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-3,n=o._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(b(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((n=o._tr_tally(t,0,t.window[t.strstart-1]))&&b(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=o._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(b(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(b(t,!1),0===t.strm.avail_out)?1:2}function k(t,e,i,n,r){this.good_length=t,this.max_lazy=e,this.nice_length=i,this.max_chain=n,this.func=r}function T(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(1146),this.dyn_dtree=new r.Buf16(122),this.bl_tree=new r.Buf16(78),m(this.dyn_ltree),m(this.dyn_dtree),m(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(16),this.heap=new r.Buf16(573),m(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(573),m(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function P(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:f,t.adler=2===e.wrap?0:1,e.last_flush=0,o._tr_init(e),0):g(t,h)}function A(t){var e=P(t);return 0===e&&function(t){t.window_size=2*t.w_size,m(t.head),t.max_lazy_match=n[t.level].max_lazy,t.good_match=n[t.level].good_length,t.nice_match=n[t.level].nice_length,t.max_chain_length=n[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0}(t.state),e}function R(t,e,i,n,o,s){if(!t)return h;var a=1;if(-1===e&&(e=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),o<1||o>9||8!==i||n<8||n>15||e<0||e>9||s<0||s>4)return g(t,h);8===n&&(n=9);var l=new T;return t.state=l,l.strm=t,l.wrap=a,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new r.Buf8(2*l.w_size),l.head=new r.Buf16(l.hash_size),l.prev=new r.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new r.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=s,l.method=i,A(t)}n=[new k(0,0,0,0,(function(t,e){var i=65535;for(i>t.pending_buf_size-5&&(i=t.pending_buf_size-5);;){if(t.lookahead<=1){if(j(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+i;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,b(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-c&&(b(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(b(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(b(t,!1),t.strm.avail_out),1)})),new k(4,4,8,4,S),new k(4,5,16,8,S),new k(4,6,32,32,S),new k(4,4,16,16,E),new k(8,16,32,32,E),new k(8,16,128,128,E),new k(8,32,128,256,E),new k(32,128,258,1024,E),new k(32,258,258,4096,E)],i.deflateInit=function(t,e){return R(t,e,8,15,8,0)},i.deflateInit2=R,i.deflateReset=A,i.deflateResetKeep=P,i.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?h:(t.state.gzhead=e,0):h},i.deflate=function(t,e){var i,r,s,l;if(!t||!t.state||e>5||e<0)return t?g(t,h):h;if(r=t.state,!t.output||!t.input&&0!==t.avail_in||r.status===p&&4!==e)return g(t,0===t.avail_out?-5:h);if(r.strm=t,i=r.last_flush,r.last_flush=e,42===r.status)if(2===r.wrap)t.adler=0,v(r,31),v(r,139),v(r,8),r.gzhead?(v(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),v(r,255&r.gzhead.time),v(r,r.gzhead.time>>8&255),v(r,r.gzhead.time>>16&255),v(r,r.gzhead.time>>24&255),v(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),v(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(v(r,255&r.gzhead.extra.length),v(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=a(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(v(r,0),v(r,0),v(r,0),v(r,0),v(r,0),v(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),v(r,3),r.status=f);else{var c=8+(r.w_bits-8<<4)<<8;c|=(r.strategy>=2||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(c|=32),c+=31-c%31,r.status=f,y(r,c),0!==r.strstart&&(y(r,t.adler>>>16),y(r,65535&t.adler)),t.adler=1}if(69===r.status)if(r.gzhead.extra){for(s=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>s&&(t.adler=a(t.adler,r.pending_buf,r.pending-s,s)),w(t),s=r.pending,r.pending!==r.pending_buf_size));)v(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>s&&(t.adler=a(t.adler,r.pending_buf,r.pending-s,s)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){s=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>s&&(t.adler=a(t.adler,r.pending_buf,r.pending-s,s)),w(t),s=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,v(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>s&&(t.adler=a(t.adler,r.pending_buf,r.pending-s,s)),0===l&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){s=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>s&&(t.adler=a(t.adler,r.pending_buf,r.pending-s,s)),w(t),s=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,v(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>s&&(t.adler=a(t.adler,r.pending_buf,r.pending-s,s)),0===l&&(r.status=d)}else r.status=d;if(r.status===d&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&w(t),r.pending+2<=r.pending_buf_size&&(v(r,255&t.adler),v(r,t.adler>>8&255),t.adler=0,r.status=f)):r.status=f),0!==r.pending){if(w(t),0===t.avail_out)return r.last_flush=-1,0}else if(0===t.avail_in&&_(e)<=_(i)&&4!==e)return g(t,-5);if(r.status===p&&0!==t.avail_in)return g(t,-5);if(0!==t.avail_in||0!==r.lookahead||0!==e&&r.status!==p){var x=2===r.strategy?function(t,e){for(var i;;){if(0===t.lookahead&&(j(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,i=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,i&&(b(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(b(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(b(t,!1),0===t.strm.avail_out)?1:2}(r,e):3===r.strategy?function(t,e){for(var i,n,r,s,a=t.window;;){if(t.lookahead<=u){if(j(t),t.lookahead<=u&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(n=a[r=t.strstart-1])===a[++r]&&n===a[++r]&&n===a[++r]){s=t.strstart+u;do{}while(n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&r<s);t.match_length=u-(s-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(i=o._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(i=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),i&&(b(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(b(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(b(t,!1),0===t.strm.avail_out)?1:2}(r,e):n[r.level].func(r,e);if(3!==x&&4!==x||(r.status=p),1===x||3===x)return 0===t.avail_out&&(r.last_flush=-1),0;if(2===x&&(1===e?o._tr_align(r):5!==e&&(o._tr_stored_block(r,0,0,!1),3===e&&(m(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),w(t),0===t.avail_out))return r.last_flush=-1,0}return 4!==e?0:r.wrap<=0?1:(2===r.wrap?(v(r,255&t.adler),v(r,t.adler>>8&255),v(r,t.adler>>16&255),v(r,t.adler>>24&255),v(r,255&t.total_in),v(r,t.total_in>>8&255),v(r,t.total_in>>16&255),v(r,t.total_in>>24&255)):(y(r,t.adler>>>16),y(r,65535&t.adler)),w(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?0:1)},i.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&e!==d&&e!==f&&e!==p?g(t,h):(t.state=null,e===f?g(t,-3):0):h},i.deflateSetDictionary=function(t,e){var i,n,o,a,l,u,c,d,f=e.length;if(!t||!t.state)return h;if(2===(a=(i=t.state).wrap)||1===a&&42!==i.status||i.lookahead)return h;for(1===a&&(t.adler=s(t.adler,e,f,0)),i.wrap=0,f>=i.w_size&&(0===a&&(m(i.head),i.strstart=0,i.block_start=0,i.insert=0),d=new r.Buf8(i.w_size),r.arraySet(d,e,f-i.w_size,i.w_size,0),e=d,f=i.w_size),l=t.avail_in,u=t.next_in,c=t.input,t.avail_in=f,t.next_in=0,t.input=e,j(i);i.lookahead>=3;){n=i.strstart,o=i.lookahead-2;do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[n+3-1])&i.hash_mask,i.prev[n&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=n,n++}while(--o);i.strstart=n,i.lookahead=2,j(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,t.next_in=u,t.input=c,t.avail_in=l,i.wrap=a,0},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":215,"./adler32":216,"./crc32":218,"./messages":223,"./trees":224}],220:[function(t,e,i){e.localExports=function(t,e){var i,n,r,o,s,a,l,h,u,c,d,f,p,g,_,m,w,b,v,y,x,C,j,S,E;i=t.state,n=t.next_in,S=t.input,r=n+(t.avail_in-5),o=t.next_out,E=t.output,s=o-(e-t.avail_out),a=o+(t.avail_out-257),l=i.dmax,h=i.wsize,u=i.whave,c=i.wnext,d=i.window,f=i.hold,p=i.bits,g=i.lencode,_=i.distcode,m=(1<<i.lenbits)-1,w=(1<<i.distbits)-1;t:do{p<15&&(f+=S[n++]<<p,p+=8,f+=S[n++]<<p,p+=8),b=g[f&m];e:for(;;){if(f>>>=v=b>>>24,p-=v,0==(v=b>>>16&255))E[o++]=65535&b;else{if(!(16&v)){if(0==(64&v)){b=g[(65535&b)+(f&(1<<v)-1)];continue e}if(32&v){i.mode=12;break t}t.msg="invalid literal/length code",i.mode=30;break t}y=65535&b,(v&=15)&&(p<v&&(f+=S[n++]<<p,p+=8),y+=f&(1<<v)-1,f>>>=v,p-=v),p<15&&(f+=S[n++]<<p,p+=8,f+=S[n++]<<p,p+=8),b=_[f&w];i:for(;;){if(f>>>=v=b>>>24,p-=v,!(16&(v=b>>>16&255))){if(0==(64&v)){b=_[(65535&b)+(f&(1<<v)-1)];continue i}t.msg="invalid distance code",i.mode=30;break t}if(x=65535&b,p<(v&=15)&&(f+=S[n++]<<p,(p+=8)<v&&(f+=S[n++]<<p,p+=8)),(x+=f&(1<<v)-1)>l){t.msg="invalid distance too far back",i.mode=30;break t}if(f>>>=v,p-=v,x>(v=o-s)){if((v=x-v)>u&&i.sane){t.msg="invalid distance too far back",i.mode=30;break t}if(C=0,j=d,0===c){if(C+=h-v,v<y){y-=v;do{E[o++]=d[C++]}while(--v);C=o-x,j=E}}else if(c<v){if(C+=h+c-v,(v-=c)<y){y-=v;do{E[o++]=d[C++]}while(--v);if(C=0,c<y){y-=v=c;do{E[o++]=d[C++]}while(--v);C=o-x,j=E}}}else if(C+=c-v,v<y){y-=v;do{E[o++]=d[C++]}while(--v);C=o-x,j=E}for(;y>2;)E[o++]=j[C++],E[o++]=j[C++],E[o++]=j[C++],y-=3;y&&(E[o++]=j[C++],y>1&&(E[o++]=j[C++]))}else{C=o-x;do{E[o++]=E[C++],E[o++]=E[C++],E[o++]=E[C++],y-=3}while(y>2);y&&(E[o++]=E[C++],y>1&&(E[o++]=E[C++]))}break}}break}}while(n<r&&o<a);n-=y=p>>3,f&=(1<<(p-=y<<3))-1,t.next_in=n,t.next_out=o,t.avail_in=n<r?r-n+5:5-(n-r),t.avail_out=o<a?a-o+257:257-(o-a),i.hold=f,i.bits=p}},{}],221:[function(t,e,i){var n=t("../utils/common"),r=t("./adler32"),o=t("./crc32"),s=t("./inffast"),a=t("./inftrees"),l=-2,h=12,u=30;function c(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function d(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function f(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new n.Buf32(852),e.distcode=e.distdyn=new n.Buf32(592),e.sane=1,e.back=-1,0):l}function p(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,f(t)):l}function g(t,e){var i,n;return t&&t.state?(n=t.state,e<0?(i=0,e=-e):(i=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?l:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=i,n.wbits=e,p(t))):l}function _(t,e){var i,n;return t?(n=new d,t.state=n,n.window=null,0!==(i=g(t,e))&&(t.state=null),i):l}var m,w,b=!0;function v(t){if(b){var e;for(m=new n.Buf32(512),w=new n.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(a(1,t.lens,0,288,m,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;a(2,t.lens,0,32,w,0,t.work,{bits:5}),b=!1}t.lencode=m,t.lenbits=9,t.distcode=w,t.distbits=5}function y(t,e,i,r){var o,s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new n.Buf8(s.wsize)),r>=s.wsize?(n.arraySet(s.window,e,i-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((o=s.wsize-s.wnext)>r&&(o=r),n.arraySet(s.window,e,i-r,o,s.wnext),(r-=o)?(n.arraySet(s.window,e,i-r,r,0),s.wnext=r,s.whave=s.wsize):(s.wnext+=o,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=o))),0}i.inflateReset=p,i.inflateReset2=g,i.inflateResetKeep=f,i.inflateInit=function(t){return _(t,15)},i.inflateInit2=_,i.inflate=function(t,e){var i,d,f,p,g,_,m,w,b,x,C,j,S,E,k,T,P,A,R,O,D,I,M,F,L=0,N=new n.Buf8(4),z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return l;(i=t.state).mode===h&&(i.mode=13),g=t.next_out,f=t.output,m=t.avail_out,p=t.next_in,d=t.input,_=t.avail_in,w=i.hold,b=i.bits,x=_,C=m,I=0;t:for(;;)switch(i.mode){case 1:if(0===i.wrap){i.mode=13;break}for(;b<16;){if(0===_)break t;_--,w+=d[p++]<<b,b+=8}if(2&i.wrap&&35615===w){i.check=0,N[0]=255&w,N[1]=w>>>8&255,i.check=o(i.check,N,2,0),w=0,b=0,i.mode=2;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&w)<<8)+(w>>8))%31){t.msg="incorrect header check",i.mode=u;break}if(8!=(15&w)){t.msg="unknown compression method",i.mode=u;break}if(b-=4,D=8+(15&(w>>>=4)),0===i.wbits)i.wbits=D;else if(D>i.wbits){t.msg="invalid window size",i.mode=u;break}i.dmax=1<<D,t.adler=i.check=1,i.mode=512&w?10:h,w=0,b=0;break;case 2:for(;b<16;){if(0===_)break t;_--,w+=d[p++]<<b,b+=8}if(i.flags=w,8!=(255&i.flags)){t.msg="unknown compression method",i.mode=u;break}if(57344&i.flags){t.msg="unknown header flags set",i.mode=u;break}i.head&&(i.head.text=w>>8&1),512&i.flags&&(N[0]=255&w,N[1]=w>>>8&255,i.check=o(i.check,N,2,0)),w=0,b=0,i.mode=3;case 3:for(;b<32;){if(0===_)break t;_--,w+=d[p++]<<b,b+=8}i.head&&(i.head.time=w),512&i.flags&&(N[0]=255&w,N[1]=w>>>8&255,N[2]=w>>>16&255,N[3]=w>>>24&255,i.check=o(i.check,N,4,0)),w=0,b=0,i.mode=4;case 4:for(;b<16;){if(0===_)break t;_--,w+=d[p++]<<b,b+=8}i.head&&(i.head.xflags=255&w,i.head.os=w>>8),512&i.flags&&(N[0]=255&w,N[1]=w>>>8&255,i.check=o(i.check,N,2,0)),w=0,b=0,i.mode=5;case 5:if(1024&i.flags){for(;b<16;){if(0===_)break t;_--,w+=d[p++]<<b,b+=8}i.length=w,i.head&&(i.head.extra_len=w),512&i.flags&&(N[0]=255&w,N[1]=w>>>8&255,i.check=o(i.check,N,2,0)),w=0,b=0}else i.head&&(i.head.extra=null);i.mode=6;case 6:if(1024&i.flags&&((j=i.length)>_&&(j=_),j&&(i.head&&(D=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),n.arraySet(i.head.extra,d,p,j,D)),512&i.flags&&(i.check=o(i.check,d,j,p)),_-=j,p+=j,i.length-=j),i.length))break t;i.length=0,i.mode=7;case 7:if(2048&i.flags){if(0===_)break t;j=0;do{D=d[p+j++],i.head&&D&&i.length<65536&&(i.head.name+=String.fromCharCode(D))}while(D&&j<_);if(512&i.flags&&(i.check=o(i.check,d,j,p)),_-=j,p+=j,D)break t}else i.head&&(i.head.name=null);i.length=0,i.mode=8;case 8:if(4096&i.flags){if(0===_)break t;j=0;do{D=d[p+j++],i.head&&D&&i.length<65536&&(i.head.comment+=String.fromCharCode(D))}while(D&&j<_);if(512&i.flags&&(i.check=o(i.check,d,j,p)),_-=j,p+=j,D)break t}else i.head&&(i.head.comment=null);i.mode=9;case 9:if(512&i.flags){for(;b<16;){if(0===_)break t;_--,w+=d[p++]<<b,b+=8}if(w!==(65535&i.check)){t.msg="header crc mismatch",i.mode=u;break}w=0,b=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),t.adler=i.check=0,i.mode=h;break;case 10:for(;b<32;){if(0===_)break t;_--,w+=d[p++]<<b,b+=8}t.adler=i.check=c(w),w=0,b=0,i.mode=11;case 11:if(0===i.havedict)return t.next_out=g,t.avail_out=m,t.next_in=p,t.avail_in=_,i.hold=w,i.bits=b,2;t.adler=i.check=1,i.mode=h;case h:if(5===e||6===e)break t;case 13:if(i.last){w>>>=7&b,b-=7&b,i.mode=27;break}for(;b<3;){if(0===_)break t;_--,w+=d[p++]<<b,b+=8}switch(i.last=1&w,b-=1,3&(w>>>=1)){case 0:i.mode=14;break;case 1:if(v(i),i.mode=20,6===e){w>>>=2,b-=2;break t}break;case 2:i.mode=17;break;case 3:t.msg="invalid block type",i.mode=u}w>>>=2,b-=2;break;case 14:for(w>>>=7&b,b-=7&b;b<32;){if(0===_)break t;_--,w+=d[p++]<<b,b+=8}if((65535&w)!=(w>>>16^65535)){t.msg="invalid stored block lengths",i.mode=u;break}if(i.length=65535&w,w=0,b=0,i.mode=15,6===e)break t;case 15:i.mode=16;case 16:if(j=i.length){if(j>_&&(j=_),j>m&&(j=m),0===j)break t;n.arraySet(f,d,p,j,g),_-=j,p+=j,m-=j,g+=j,i.length-=j;break}i.mode=h;break;case 17:for(;b<14;){if(0===_)break t;_--,w+=d[p++]<<b,b+=8}if(i.nlen=257+(31&w),w>>>=5,b-=5,i.ndist=1+(31&w),w>>>=5,b-=5,i.ncode=4+(15&w),w>>>=4,b-=4,i.nlen>286||i.ndist>30){t.msg="too many length or distance symbols",i.mode=u;break}i.have=0,i.mode=18;case 18:for(;i.have<i.ncode;){for(;b<3;){if(0===_)break t;_--,w+=d[p++]<<b,b+=8}i.lens[z[i.have++]]=7&w,w>>>=3,b-=3}for(;i.have<19;)i.lens[z[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,M={bits:i.lenbits},I=a(0,i.lens,0,19,i.lencode,0,i.work,M),i.lenbits=M.bits,I){t.msg="invalid code lengths set",i.mode=u;break}i.have=0,i.mode=19;case 19:for(;i.have<i.nlen+i.ndist;){for(;T=(L=i.lencode[w&(1<<i.lenbits)-1])>>>16&255,P=65535&L,!((k=L>>>24)<=b);){if(0===_)break t;_--,w+=d[p++]<<b,b+=8}if(P<16)w>>>=k,b-=k,i.lens[i.have++]=P;else{if(16===P){for(F=k+2;b<F;){if(0===_)break t;_--,w+=d[p++]<<b,b+=8}if(w>>>=k,b-=k,0===i.have){t.msg="invalid bit length repeat",i.mode=u;break}D=i.lens[i.have-1],j=3+(3&w),w>>>=2,b-=2}else if(17===P){for(F=k+3;b<F;){if(0===_)break t;_--,w+=d[p++]<<b,b+=8}b-=k,D=0,j=3+(7&(w>>>=k)),w>>>=3,b-=3}else{for(F=k+7;b<F;){if(0===_)break t;_--,w+=d[p++]<<b,b+=8}b-=k,D=0,j=11+(127&(w>>>=k)),w>>>=7,b-=7}if(i.have+j>i.nlen+i.ndist){t.msg="invalid bit length repeat",i.mode=u;break}for(;j--;)i.lens[i.have++]=D}}if(i.mode===u)break;if(0===i.lens[256]){t.msg="invalid code -- missing end-of-block",i.mode=u;break}if(i.lenbits=9,M={bits:i.lenbits},I=a(1,i.lens,0,i.nlen,i.lencode,0,i.work,M),i.lenbits=M.bits,I){t.msg="invalid literal/lengths set",i.mode=u;break}if(i.distbits=6,i.distcode=i.distdyn,M={bits:i.distbits},I=a(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,M),i.distbits=M.bits,I){t.msg="invalid distances set",i.mode=u;break}if(i.mode=20,6===e)break t;case 20:i.mode=21;case 21:if(_>=6&&m>=258){t.next_out=g,t.avail_out=m,t.next_in=p,t.avail_in=_,i.hold=w,i.bits=b,s(t,C),g=t.next_out,f=t.output,m=t.avail_out,p=t.next_in,d=t.input,_=t.avail_in,w=i.hold,b=i.bits,i.mode===h&&(i.back=-1);break}for(i.back=0;T=(L=i.lencode[w&(1<<i.lenbits)-1])>>>16&255,P=65535&L,!((k=L>>>24)<=b);){if(0===_)break t;_--,w+=d[p++]<<b,b+=8}if(T&&0==(240&T)){for(A=k,R=T,O=P;T=(L=i.lencode[O+((w&(1<<A+R)-1)>>A)])>>>16&255,P=65535&L,!(A+(k=L>>>24)<=b);){if(0===_)break t;_--,w+=d[p++]<<b,b+=8}w>>>=A,b-=A,i.back+=A}if(w>>>=k,b-=k,i.back+=k,i.length=P,0===T){i.mode=26;break}if(32&T){i.back=-1,i.mode=h;break}if(64&T){t.msg="invalid literal/length code",i.mode=u;break}i.extra=15&T,i.mode=22;case 22:if(i.extra){for(F=i.extra;b<F;){if(0===_)break t;_--,w+=d[p++]<<b,b+=8}i.length+=w&(1<<i.extra)-1,w>>>=i.extra,b-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=23;case 23:for(;T=(L=i.distcode[w&(1<<i.distbits)-1])>>>16&255,P=65535&L,!((k=L>>>24)<=b);){if(0===_)break t;_--,w+=d[p++]<<b,b+=8}if(0==(240&T)){for(A=k,R=T,O=P;T=(L=i.distcode[O+((w&(1<<A+R)-1)>>A)])>>>16&255,P=65535&L,!(A+(k=L>>>24)<=b);){if(0===_)break t;_--,w+=d[p++]<<b,b+=8}w>>>=A,b-=A,i.back+=A}if(w>>>=k,b-=k,i.back+=k,64&T){t.msg="invalid distance code",i.mode=u;break}i.offset=P,i.extra=15&T,i.mode=24;case 24:if(i.extra){for(F=i.extra;b<F;){if(0===_)break t;_--,w+=d[p++]<<b,b+=8}i.offset+=w&(1<<i.extra)-1,w>>>=i.extra,b-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){t.msg="invalid distance too far back",i.mode=u;break}i.mode=25;case 25:if(0===m)break t;if(j=C-m,i.offset>j){if((j=i.offset-j)>i.whave&&i.sane){t.msg="invalid distance too far back",i.mode=u;break}j>i.wnext?(j-=i.wnext,S=i.wsize-j):S=i.wnext-j,j>i.length&&(j=i.length),E=i.window}else E=f,S=g-i.offset,j=i.length;j>m&&(j=m),m-=j,i.length-=j;do{f[g++]=E[S++]}while(--j);0===i.length&&(i.mode=21);break;case 26:if(0===m)break t;f[g++]=i.length,m--,i.mode=21;break;case 27:if(i.wrap){for(;b<32;){if(0===_)break t;_--,w|=d[p++]<<b,b+=8}if(C-=m,t.total_out+=C,i.total+=C,C&&(t.adler=i.check=i.flags?o(i.check,f,C,g-C):r(i.check,f,C,g-C)),C=m,(i.flags?w:c(w))!==i.check){t.msg="incorrect data check",i.mode=u;break}w=0,b=0}i.mode=28;case 28:if(i.wrap&&i.flags){for(;b<32;){if(0===_)break t;_--,w+=d[p++]<<b,b+=8}if(w!==(4294967295&i.total)){t.msg="incorrect length check",i.mode=u;break}w=0,b=0}i.mode=29;case 29:I=1;break t;case u:I=-3;break t;case 31:return-4;default:return l}return t.next_out=g,t.avail_out=m,t.next_in=p,t.avail_in=_,i.hold=w,i.bits=b,(i.wsize||C!==t.avail_out&&i.mode<u&&(i.mode<27||4!==e))&&y(t,t.output,t.next_out,C-t.avail_out)?(i.mode=31,-4):(x-=t.avail_in,C-=t.avail_out,t.total_in+=x,t.total_out+=C,i.total+=C,i.wrap&&C&&(t.adler=i.check=i.flags?o(i.check,f,C,t.next_out-C):r(i.check,f,C,t.next_out-C)),t.data_type=i.bits+(i.last?64:0)+(i.mode===h?128:0)+(20===i.mode||15===i.mode?256:0),(0===x&&0===C||4===e)&&0===I&&(I=-5),I)},i.inflateEnd=function(t){if(!t||!t.state)return l;var e=t.state;return e.window&&(e.window=null),t.state=null,0},i.inflateGetHeader=function(t,e){var i;return t&&t.state?0==(2&(i=t.state).wrap)?l:(i.head=e,e.done=!1,0):l},i.inflateSetDictionary=function(t,e){var i,n=e.length;return t&&t.state?0!==(i=t.state).wrap&&11!==i.mode?l:11===i.mode&&r(1,e,n,0)!==i.check?-3:y(t,e,n,n)?(i.mode=31,-4):(i.havedict=1,0):l},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":215,"./adler32":216,"./crc32":218,"./inffast":220,"./inftrees":222}],222:[function(t,e,i){var n=t("../utils/common"),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.localExports=function(t,e,i,l,h,u,c,d){var f,p,g,_,m,w,b,v,y,x=d.bits,C=0,j=0,S=0,E=0,k=0,T=0,P=0,A=0,R=0,O=0,D=null,I=0,M=new n.Buf16(16),F=new n.Buf16(16),L=null,N=0;for(C=0;C<=15;C++)M[C]=0;for(j=0;j<l;j++)M[e[i+j]]++;for(k=x,E=15;E>=1&&0===M[E];E--);if(k>E&&(k=E),0===E)return h[u++]=20971520,h[u++]=20971520,d.bits=1,0;for(S=1;S<E&&0===M[S];S++);for(k<S&&(k=S),A=1,C=1;C<=15;C++)if(A<<=1,(A-=M[C])<0)return-1;if(A>0&&(0===t||1!==E))return-1;for(F[1]=0,C=1;C<15;C++)F[C+1]=F[C]+M[C];for(j=0;j<l;j++)0!==e[i+j]&&(c[F[e[i+j]]++]=j);if(0===t?(D=L=c,w=19):1===t?(D=r,I-=257,L=o,N-=257,w=256):(D=s,L=a,w=-1),O=0,j=0,C=S,m=u,T=k,P=0,g=-1,_=(R=1<<k)-1,1===t&&R>852||2===t&&R>592)return 1;for(;;){b=C-P,c[j]<w?(v=0,y=c[j]):c[j]>w?(v=L[N+c[j]],y=D[I+c[j]]):(v=96,y=0),f=1<<C-P,S=p=1<<T;do{h[m+(O>>P)+(p-=f)]=b<<24|v<<16|y|0}while(0!==p);for(f=1<<C-1;O&f;)f>>=1;if(0!==f?(O&=f-1,O+=f):O=0,j++,0==--M[C]){if(C===E)break;C=e[i+c[j]]}if(C>k&&(O&_)!==g){for(0===P&&(P=k),m+=S,A=1<<(T=C-P);T+P<E&&!((A-=M[T+P])<=0);)T++,A<<=1;if(R+=1<<T,1===t&&R>852||2===t&&R>592)return 1;h[g=O&_]=k<<24|T<<16|m-u|0}}return 0!==O&&(h[m+O]=C-P<<24|64<<16|0),d.bits=k,0}},{"../utils/common":215}],223:[function(t,e,i){e.localExports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],224:[function(t,e,i){var n=t("../utils/common");function r(t){for(var e=t.length;--e>=0;)t[e]=0}var o=256,s=286,a=30,l=15,h=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],u=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],d=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],f=new Array(576);r(f);var p=new Array(60);r(p);var g=new Array(512);r(g);var _=new Array(256);r(_);var m=new Array(29);r(m);var w,b,v,y=new Array(a);function x(t,e,i,n,r){this.static_tree=t,this.extra_bits=e,this.extra_base=i,this.elems=n,this.max_length=r,this.has_stree=t&&t.length}function C(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function j(t){return t<256?g[t]:g[256+(t>>>7)]}function S(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function E(t,e,i){t.bi_valid>16-i?(t.bi_buf|=e<<t.bi_valid&65535,S(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=i-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=i)}function k(t,e,i){E(t,i[2*e],i[2*e+1])}function T(t,e){var i=0;do{i|=1&t,t>>>=1,i<<=1}while(--e>0);return i>>>1}function P(t,e,i){var n,r,o=new Array(16),s=0;for(n=1;n<=l;n++)o[n]=s=s+i[n-1]<<1;for(r=0;r<=e;r++){var a=t[2*r+1];0!==a&&(t[2*r]=T(o[a]++,a))}}function A(t){var e;for(e=0;e<s;e++)t.dyn_ltree[2*e]=0;for(e=0;e<a;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function R(t){t.bi_valid>8?S(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function O(t,e,i,n){var r=2*e,o=2*i;return t[r]<t[o]||t[r]===t[o]&&n[e]<=n[i]}function D(t,e,i){for(var n=t.heap[i],r=i<<1;r<=t.heap_len&&(r<t.heap_len&&O(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!O(e,n,t.heap[r],t.depth));)t.heap[i]=t.heap[r],i=r,r<<=1;t.heap[i]=n}function I(t,e,i){var n,r,s,a,l=0;if(0!==t.last_lit)do{n=t.pending_buf[t.d_buf+2*l]<<8|t.pending_buf[t.d_buf+2*l+1],r=t.pending_buf[t.l_buf+l],l++,0===n?k(t,r,e):(k(t,(s=_[r])+o+1,e),0!==(a=h[s])&&E(t,r-=m[s],a),k(t,s=j(--n),i),0!==(a=u[s])&&E(t,n-=y[s],a))}while(l<t.last_lit);k(t,256,e)}function M(t,e){var i,n,r,o=e.dyn_tree,s=e.stat_desc.static_tree,a=e.stat_desc.has_stree,h=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=573,i=0;i<h;i++)0!==o[2*i]?(t.heap[++t.heap_len]=u=i,t.depth[i]=0):o[2*i+1]=0;for(;t.heap_len<2;)o[2*(r=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[r]=0,t.opt_len--,a&&(t.static_len-=s[2*r+1]);for(e.max_code=u,i=t.heap_len>>1;i>=1;i--)D(t,o,i);r=h;do{i=t.heap[1],t.heap[1]=t.heap[t.heap_len--],D(t,o,1),n=t.heap[1],t.heap[--t.heap_max]=i,t.heap[--t.heap_max]=n,o[2*r]=o[2*i]+o[2*n],t.depth[r]=(t.depth[i]>=t.depth[n]?t.depth[i]:t.depth[n])+1,o[2*i+1]=o[2*n+1]=r,t.heap[1]=r++,D(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var i,n,r,o,s,a,h=e.dyn_tree,u=e.max_code,c=e.stat_desc.static_tree,d=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,p=e.stat_desc.extra_base,g=e.stat_desc.max_length,_=0;for(o=0;o<=l;o++)t.bl_count[o]=0;for(h[2*t.heap[t.heap_max]+1]=0,i=t.heap_max+1;i<573;i++)(o=h[2*h[2*(n=t.heap[i])+1]+1]+1)>g&&(o=g,_++),h[2*n+1]=o,n>u||(t.bl_count[o]++,s=0,n>=p&&(s=f[n-p]),a=h[2*n],t.opt_len+=a*(o+s),d&&(t.static_len+=a*(c[2*n+1]+s)));if(0!==_){do{for(o=g-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[g]--,_-=2}while(_>0);for(o=g;0!==o;o--)for(n=t.bl_count[o];0!==n;)(r=t.heap[--i])>u||(h[2*r+1]!==o&&(t.opt_len+=(o-h[2*r+1])*h[2*r],h[2*r+1]=o),n--)}}(t,e),P(o,u,t.bl_count)}function F(t,e,i){var n,r,o=-1,s=e[1],a=0,l=7,h=4;for(0===s&&(l=138,h=3),e[2*(i+1)+1]=65535,n=0;n<=i;n++)r=s,s=e[2*(n+1)+1],++a<l&&r===s||(a<h?t.bl_tree[2*r]+=a:0!==r?(r!==o&&t.bl_tree[2*r]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=0,o=r,0===s?(l=138,h=3):r===s?(l=6,h=3):(l=7,h=4))}function L(t,e,i){var n,r,o=-1,s=e[1],a=0,l=7,h=4;for(0===s&&(l=138,h=3),n=0;n<=i;n++)if(r=s,s=e[2*(n+1)+1],!(++a<l&&r===s)){if(a<h)do{k(t,r,t.bl_tree)}while(0!=--a);else 0!==r?(r!==o&&(k(t,r,t.bl_tree),a--),k(t,16,t.bl_tree),E(t,a-3,2)):a<=10?(k(t,17,t.bl_tree),E(t,a-3,3)):(k(t,18,t.bl_tree),E(t,a-11,7));a=0,o=r,0===s?(l=138,h=3):r===s?(l=6,h=3):(l=7,h=4)}}r(y);var N=!1;function z(t,e,i,r){E(t,0+(r?1:0),3),function(t,e,i,r){R(t),r&&(S(t,i),S(t,~i)),n.arraySet(t.pending_buf,t.window,e,i,t.pending),t.pending+=i}(t,e,i,!0)}i._tr_init=function(t){N||(!function(){var t,e,i,n,r,o=new Array(16);for(i=0,n=0;n<28;n++)for(m[n]=i,t=0;t<1<<h[n];t++)_[i++]=n;for(_[i-1]=n,r=0,n=0;n<16;n++)for(y[n]=r,t=0;t<1<<u[n];t++)g[r++]=n;for(r>>=7;n<a;n++)for(y[n]=r<<7,t=0;t<1<<u[n]-7;t++)g[256+r++]=n;for(e=0;e<=l;e++)o[e]=0;for(t=0;t<=143;)f[2*t+1]=8,t++,o[8]++;for(;t<=255;)f[2*t+1]=9,t++,o[9]++;for(;t<=279;)f[2*t+1]=7,t++,o[7]++;for(;t<=287;)f[2*t+1]=8,t++,o[8]++;for(P(f,287,o),t=0;t<a;t++)p[2*t+1]=5,p[2*t]=T(t,5);w=new x(f,h,257,s,l),b=new x(p,u,0,a,l),v=new x(new Array(0),c,0,19,7)}(),N=!0),t.l_desc=new C(t.dyn_ltree,w),t.d_desc=new C(t.dyn_dtree,b),t.bl_desc=new C(t.bl_tree,v),t.bi_buf=0,t.bi_valid=0,A(t)},i._tr_stored_block=z,i._tr_flush_block=function(t,e,i,n){var r,s,a=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,i=4093624447;for(e=0;e<=31;e++,i>>>=1)if(1&i&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<o;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),M(t,t.l_desc),M(t,t.d_desc),a=function(t){var e;for(F(t,t.dyn_ltree,t.l_desc.max_code),F(t,t.dyn_dtree,t.d_desc.max_code),M(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*d[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),r=t.opt_len+3+7>>>3,(s=t.static_len+3+7>>>3)<=r&&(r=s)):r=s=i+5,i+4<=r&&-1!==e?z(t,e,i,n):4===t.strategy||s===r?(E(t,2+(n?1:0),3),I(t,f,p)):(E(t,4+(n?1:0),3),function(t,e,i,n){var r;for(E(t,e-257,5),E(t,i-1,5),E(t,n-4,4),r=0;r<n;r++)E(t,t.bl_tree[2*d[r]+1],3);L(t,t.dyn_ltree,e-1),L(t,t.dyn_dtree,i-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),I(t,t.dyn_ltree,t.dyn_dtree)),A(t),n&&R(t)},i._tr_tally=function(t,e,i){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&i,t.last_lit++,0===e?t.dyn_ltree[2*i]++:(t.matches++,e--,t.dyn_ltree[2*(_[i]+o+1)]++,t.dyn_dtree[2*j(e)]++),t.last_lit===t.lit_bufsize-1},i._tr_align=function(t){E(t,2,3),k(t,256,f),function(t){16===t.bi_valid?(S(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},{"../utils/common":215}],225:[function(t,e,i){e.localExports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],226:[function(t,e,i){(function(i){(function(){var n=t("fs"),r=t("zlib");e.localExports=function(){function t(t){var e;for(this.data=t,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.text={};;){var n=this.readUInt32(),r="";for(e=0;e<4;e++)r+=String.fromCharCode(this.data[this.pos++]);switch(r){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"PLTE":this.palette=this.read(n);break;case"IDAT":for(e=0;e<n;e++)this.imgData.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:this.transparency.indexed=this.read(n);var o=255-this.transparency.indexed.length;if(o>0)for(e=0;e<o;e++)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(n)[0];break;case 2:this.transparency.rgb=this.read(n)}break;case"tEXt":var s=this.read(n),a=s.indexOf(0),l=String.fromCharCode.apply(String,s.slice(0,a));this.text[l]=String.fromCharCode.apply(String,s.slice(a+1));break;case"IEND":switch(this.colorType){case 0:case 3:case 4:this.colors=1;break;case 2:case 6:this.colors=3}this.hasAlphaChannel=-1!==[4,6].indexOf(this.colorType);var h=this.colors+(this.hasAlphaChannel?1:0);switch(this.pixelBitlength=this.bits*h,this.colors){case 1:this.colorSpace="DeviceGray";break;case 3:this.colorSpace="DeviceRGB"}return void(this.imgData=new i(this.imgData));default:this.pos+=n}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}t.decode=function(e,i){return n.readFile(e,(function(e,n){return new t(n).decode((function(t){return i(t)}))}))},t.load=function(e){return new t(n.readFileSync(e))};var e=t.prototype;return e.read=function(t){for(var e=new Array(t),i=0;i<t;i++)e[i]=this.data[this.pos++];return e},e.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},e.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},e.decodePixels=function(t){var e=this;return r.inflate(this.imgData,(function(n,r){if(n)throw n;var o=e.width,s=e.height,a=e.pixelBitlength/8,l=new i(o*s*a),h=r.length,u=0;function c(t,e,n,c,d){void 0===d&&(d=!1);for(var f=Math.ceil((o-t)/n),p=Math.ceil((s-e)/c),g=a*f,_=d?l:new i(g*p),m=0,w=0;m<p&&u<h;){var b,v,y,x,C;switch(r[u++]){case 0:for(y=0;y<g;y++)_[w++]=r[u++];break;case 1:for(y=0;y<g;y++)b=r[u++],x=y<a?0:_[w-a],_[w++]=(b+x)%256;break;case 2:for(y=0;y<g;y++)b=r[u++],v=(y-y%a)/a,C=m&&_[(m-1)*g+v*a+y%a],_[w++]=(C+b)%256;break;case 3:for(y=0;y<g;y++)b=r[u++],v=(y-y%a)/a,x=y<a?0:_[w-a],C=m&&_[(m-1)*g+v*a+y%a],_[w++]=(b+Math.floor((x+C)/2))%256;break;case 4:for(y=0;y<g;y++){var j,S;b=r[u++],v=(y-y%a)/a,x=y<a?0:_[w-a],0===m?C=S=0:(C=_[(m-1)*g+v*a+y%a],S=v&&_[(m-1)*g+(v-1)*a+y%a]);var E=x+C-S,k=Math.abs(E-x),T=Math.abs(E-C),P=Math.abs(E-S);j=k<=T&&k<=P?x:T<=P?C:S,_[w++]=(b+j)%256}break;default:throw new Error("Invalid filter algorithm: "+r[u-1])}if(!d){var A=((e+m*c)*o+t)*a,R=m*g;for(y=0;y<f;y++){for(var O=0;O<a;O++)l[A++]=_[R++];A+=(n-1)*a}}m++}}return 1===e.interlaceMethod?(c(0,0,8,8),c(4,0,8,8),c(0,4,4,8),c(2,0,4,4),c(0,2,2,4),c(1,0,2,2),c(0,1,1,2)):c(0,0,1,1,!0),t(l)}))},e.decodePalette=function(){for(var t=this.palette,e=t.length,n=this.transparency.indexed||[],r=new i(n.length+e),o=0,s=0,a=0;a<e;a+=3){var l;r[o++]=t[a],r[o++]=t[a+1],r[o++]=t[a+2],r[o++]=null!=(l=n[s++])?l:255}return r},e.copyToImageData=function(t,e){var i,n,r=this.colors,o=null,s=this.hasAlphaChannel;this.palette.length&&(o=this._decodedPalette||(this._decodedPalette=this.decodePalette()),r=4,s=!0);var a=t.data||t,l=a.length,h=o||e,u=i=0;if(1===r)for(;u<l;){n=o?4*e[u/4]:i;var c=h[n++];a[u++]=c,a[u++]=c,a[u++]=c,a[u++]=s?h[n++]:255,i=n}else for(;u<l;)n=o?4*e[u/4]:i,a[u++]=h[n++],a[u++]=h[n++],a[u++]=h[n++],a[u++]=s?h[n++]:255,i=n},e.decode=function(t){var e=this,n=new i(this.width*this.height*4);return this.decodePixels((function(i){return e.copyToImageData(n,i),t(n)}))},t}()}).call(this)}).call(this,t("buffer").Buffer)},{buffer:152,fs:151,zlib:150}],227:[function(t,e,i){(function(t){(function(){void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.localExports={nextTick:function(e,i,n,r){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,i)}));case 3:return t.nextTick((function(){e.call(null,i,n)}));case 4:return t.nextTick((function(){e.call(null,i,n,r)}));default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return t.nextTick((function(){e.apply(null,o)}))}}}:e.localExports=t}).call(this)}).call(this,t("_process"))},{_process:228}],228:[function(t,e,i){var n,r,o=e.localExports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function l(t){if(n===setTimeout)return setTimeout(t,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(t){n=s}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var h,u=[],c=!1,d=-1;function f(){c&&h&&(c=!1,h.length?u=h.concat(u):d=-1,u.length&&p())}function p(){if(!c){var t=l(f);c=!0;for(var e=u.length;e;){for(h=u,u=[];++d<e;)h&&h[d].run();d=-1,e=u.length}h=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function g(t,e){this.fun=t,this.array=e}function _(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];u.push(new g(t,e)),1!==u.length||c||l(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=_,o.addListener=_,o.once=_,o.off=_,o.removeListener=_,o.removeAllListeners=_,o.emit=_,o.prependListener=_,o.prependOnceListener=_,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],229:[function(t,e,i){e.localExports=t("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":230}],230:[function(t,e,i){var n=t("process-nextick-args"),r=Object.keys||function(t){var e=[];for(var i in t)e.push(i);return e};e.localExports=c;var o=Object.create(t("core-util-is"));o.inherits=t("inherits");var s=t("./_stream_readable"),a=t("./_stream_writable");o.inherits(c,s);for(var l=r(a.prototype),h=0;h<l.length;h++){var u=l[h];c.prototype[u]||(c.prototype[u]=a.prototype[u])}function c(t){if(!(this instanceof c))return new c(t);s.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||n.nextTick(f,this)}function f(t){t.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),c.prototype._destroy=function(t,e){this.push(null),this.end(),n.nextTick(e,t)}},{"./_stream_readable":232,"./_stream_writable":234,"core-util-is":209,inherits:212,"process-nextick-args":227}],231:[function(t,e,i){e.localExports=o;var n=t("./_stream_transform"),r=Object.create(t("core-util-is"));function o(t){if(!(this instanceof o))return new o(t);n.call(this,t)}r.inherits=t("inherits"),r.inherits(o,n),o.prototype._transform=function(t,e,i){i(null,t)}},{"./_stream_transform":233,"core-util-is":209,inherits:212}],232:[function(t,e,n){(function(i,n){(function(){var r=t("process-nextick-args");e.localExports=b;var o,s=t("isarray");b.ReadableState=w,t("events").EventEmitter;var a=function(t,e){return t.listeners(e).length},l=t("./internal/streams/stream"),h=t("safe-buffer").Buffer,u=n.Uint8Array||function(){},c=Object.create(t("core-util-is"));c.inherits=t("inherits");var d=t("util"),f=void 0;f=d&&d.debuglog?d.debuglog("stream"):function(){};var p,g=t("./internal/streams/BufferList"),_=t("./internal/streams/destroy");c.inherits(b,l);var m=["error","close","destroy","pause","resume"];function w(e,i){e=e||{};var n=i instanceof(o=o||t("./_stream_duplex"));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,s=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=t("string_decoder/").StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function b(e){if(o=o||t("./_stream_duplex"),!(this instanceof b))return new b(e);this._readableState=new w(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),l.call(this)}function v(t,e,i,n,r){var o,s=t._readableState;null===e?(s.reading=!1,function(t,e){if(!e.ended){if(e.decoder){var i=e.decoder.end();i&&i.length&&(e.buffer.push(i),e.length+=e.objectMode?1:i.length)}e.ended=!0,j(t)}}(t,s)):(r||(o=function(t,e){var i;return function(t){return h.isBuffer(t)||t instanceof u}(e)||"string"==typeof e||void 0===e||t.objectMode||(i=new TypeError("Invalid non-string/buffer chunk")),i}(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?("string"==typeof e||s.objectMode||Object.getPrototypeOf(e)===h.prototype||(e=function(t){return h.from(t)}(e)),n?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):y(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!i?(e=s.decoder.write(e),s.objectMode||0!==e.length?y(t,s,e,!1):E(t,s)):y(t,s,e,!1))):n||(s.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(s)}function y(t,e,i,n){e.flowing&&0===e.length&&!e.sync?(t.emit("data",i),t.read(0)):(e.length+=e.objectMode?1:i.length,n?e.buffer.unshift(i):e.buffer.push(i),e.needReadable&&j(t)),E(t,e)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),b.prototype.destroy=_.destroy,b.prototype._undestroy=_.undestroy,b.prototype._destroy=function(t,e){this.push(null),e(t)},b.prototype.push=function(t,e){var i,n=this._readableState;return n.objectMode?i=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=h.from(t,e),e=""),i=!0),v(this,t,e,!1,i)},b.prototype.unshift=function(t){return v(this,t,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return p||(p=t("string_decoder/").StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var x=8388608;function C(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=x?t=x:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function j(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(f("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?r.nextTick(S,t):S(t))}function S(t){f("emit readable"),t.emit("readable"),A(t)}function E(t,e){e.readingMore||(e.readingMore=!0,r.nextTick(k,t,e))}function k(t,e){for(var i=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(f("maybeReadMore read 0"),t.read(0),i!==e.length);)i=e.length;e.readingMore=!1}function T(t){f("readable nexttick read 0"),t.read(0)}function P(t,e){e.reading||(f("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),A(t),e.flowing&&!e.reading&&t.read(0)}function A(t){var e=t._readableState;for(f("flow",e.flowing);e.flowing&&null!==t.read(););}function R(t,e){return 0===e.length?null:(e.objectMode?i=e.buffer.shift():!t||t>=e.length?(i=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):i=function(t,e,i){var n;return t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):n=t===e.head.data.length?e.shift():i?function(t,e){var i=e.head,n=1,r=i.data;for(t-=r.length;i=i.next;){var o=i.data,s=t>o.length?o.length:t;if(s===o.length?r+=o:r+=o.slice(0,t),0==(t-=s)){s===o.length?(++n,i.next?e.head=i.next:e.head=e.tail=null):(e.head=i,i.data=o.slice(s));break}++n}return e.length-=n,r}(t,e):function(t,e){var i=h.allocUnsafe(t),n=e.head,r=1;for(n.data.copy(i),t-=n.data.length;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(o.copy(i,i.length-t,0,s),0==(t-=s)){s===o.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(s));break}++r}return e.length-=r,i}(t,e),n}(t,e.buffer,e.decoder),i);var i}function O(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,r.nextTick(D,e,t))}function D(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function I(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1}b.prototype.read=function(t){f("read",t),t=parseInt(t,10);var e=this._readableState,i=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return f("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?O(this):j(this),null;if(0===(t=C(t,e))&&e.ended)return 0===e.length&&O(this),null;var n,r=e.needReadable;return f("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&f("length less than watermark",r=!0),e.ended||e.reading?f("reading or ended",r=!1):r&&(f("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=C(i,e))),null===(n=t>0?R(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),i!==t&&e.ended&&O(this)),null!==n&&this.emit("data",n),n},b.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(t,e){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,f("pipe count=%d opts=%j",o.pipesCount,e);var l=e&&!1===e.end||t===i.stdout||t===i.stderr?w:h;function h(){f("onend"),t.end()}o.endEmitted?r.nextTick(l):n.once("end",l),t.on("unpipe",(function e(i,r){f("onunpipe"),i===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,function(){f("cleanup"),t.removeListener("close",_),t.removeListener("finish",m),t.removeListener("drain",u),t.removeListener("error",g),t.removeListener("unpipe",e),n.removeListener("end",h),n.removeListener("end",w),n.removeListener("data",p),c=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||u()}())}));var u=function(t){return function(){var e=t._readableState;f("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a(t,"data")&&(e.flowing=!0,A(t))}}(n);t.on("drain",u);var c=!1,d=!1;function p(e){f("ondata"),d=!1,!1!==t.write(e)||d||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==I(o.pipes,t))&&!c&&(f("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,d=!0),n.pause())}function g(e){f("onerror",e),w(),t.removeListener("error",g),0===a(t,"error")&&t.emit("error",e)}function _(){t.removeListener("finish",m),w()}function m(){f("onfinish"),t.removeListener("close",_),w()}function w(){f("unpipe"),n.unpipe(t)}return n.on("data",p),function(t,e,i){if("function"==typeof t.prependListener)return t.prependListener(e,i);t._events&&t._events[e]?s(t._events[e])?t._events[e].unshift(i):t._events[e]=[i,t._events[e]]:t.on(e,i)}(t,"error",g),t.once("close",_),t.once("finish",m),t.emit("pipe",n),o.flowing||(f("pipe resume"),n.resume()),t},b.prototype.unpipe=function(t){var e=this._readableState,i={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,i)),this;if(!t){var n=e.pipes,r=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<r;o++)n[o].emit("unpipe",this,i);return this}var s=I(e.pipes,t);return-1===s||(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,i)),this},b.prototype.on=function(t,e){var i=l.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&j(this):r.nextTick(T,this))}return i},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var t=this._readableState;return t.flowing||(f("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,r.nextTick(P,t,e))}(this,t)),this},b.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(t){var e=this,i=this._readableState,n=!1;for(var r in t.on("end",(function(){if(f("wrapped end"),i.decoder&&!i.ended){var t=i.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(r){f("wrapped data"),i.decoder&&(r=i.decoder.write(r)),i.objectMode&&null==r||!(i.objectMode||r&&r.length)||e.push(r)||(n=!0,t.pause())})),t)void 0===this[r]&&"function"==typeof t[r]&&(this[r]=function(e){return function(){return t[e].apply(t,arguments)}}(r));for(var o=0;o<m.length;o++)t.on(m[o],this.emit.bind(this,m[o]));return this._read=function(e){f("wrapped _read",e),n&&(n=!1,t.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=R}).call(this)}).call(this,t("_process"),void 0!==i.g?i.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":230,"./internal/streams/BufferList":235,"./internal/streams/destroy":236,"./internal/streams/stream":237,_process:228,"core-util-is":209,events:210,inherits:212,isarray:213,"process-nextick-args":227,"safe-buffer":242,"string_decoder/":244,util:148}],233:[function(t,e,i){e.localExports=s;var n=t("./_stream_duplex"),r=Object.create(t("core-util-is"));function o(t,e){var i=this._transformState;i.transforming=!1;var n=i.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));i.writechunk=null,i.writecb=null,null!=e&&this.push(e),n(t);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}function s(t){if(!(this instanceof s))return new s(t);n.call(this,t),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",a)}function a(){var t=this;"function"==typeof this._flush?this._flush((function(e,i){l(t,e,i)})):l(this,null,null)}function l(t,e,i){if(e)return t.emit("error",e);if(null!=i&&t.push(i),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}r.inherits=t("inherits"),r.inherits(s,n),s.prototype.push=function(t,e){return this._transformState.needTransform=!1,n.prototype.push.call(this,t,e)},s.prototype._transform=function(t,e,i){throw new Error("_transform() is not implemented")},s.prototype._write=function(t,e,i){var n=this._transformState;if(n.writecb=i,n.writechunk=t,n.writeencoding=e,!n.transforming){var r=this._readableState;(n.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},s.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},s.prototype._destroy=function(t,e){var i=this;n.prototype._destroy.call(this,t,(function(t){e(t),i.emit("close")}))}},{"./_stream_duplex":230,"core-util-is":209,inherits:212}],234:[function(t,e,n){(function(i,n,r){(function(){var o=t("process-nextick-args");function s(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,i){var n=t.entry;for(t.entry=null;n;){var r=n.callback;e.pendingcb--,r(i),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}e.localExports=w;var a,l=!i.browser&&["v0.10","v0.9."].indexOf(i.version.slice(0,5))>-1?r:o.nextTick;w.WritableState=m;var h=Object.create(t("core-util-is"));h.inherits=t("inherits");var u,c={deprecate:t("util-deprecate")},d=t("./internal/streams/stream"),f=t("safe-buffer").Buffer,p=n.Uint8Array||function(){},g=t("./internal/streams/destroy");function _(){}function m(e,i){a=a||t("./_stream_duplex"),e=e||{};var n=i instanceof a;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,h=e.writableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n&&(h||0===h)?h:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var c=!1===e.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var i=t._writableState,n=i.sync,r=i.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(i),e)!function(t,e,i,n,r){--e.pendingcb,i?(o.nextTick(r,n),o.nextTick(j,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(r(n),t._writableState.errorEmitted=!0,t.emit("error",n),j(t,e))}(t,i,n,e,r);else{var s=x(i);s||i.corked||i.bufferProcessing||!i.bufferedRequest||y(t,i),n?l(v,t,i,s,r):v(t,i,s,r)}}(i,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function w(e){if(a=a||t("./_stream_duplex"),!(u.call(w,this)||this instanceof a))return new w(e);this._writableState=new m(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),d.call(this)}function b(t,e,i,n,r,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,i?t._writev(r,e.onwrite):t._write(r,o,e.onwrite),e.sync=!1}function v(t,e,i,n){i||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),j(t,e)}function y(t,e){e.bufferProcessing=!0;var i=e.bufferedRequest;if(t._writev&&i&&i.next){var n=e.bufferedRequestCount,r=new Array(n),o=e.corkedRequestsFree;o.entry=i;for(var a=0,l=!0;i;)r[a]=i,i.isBuf||(l=!1),i=i.next,a+=1;r.allBuffers=l,b(t,e,!0,e.length,r,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new s(e),e.bufferedRequestCount=0}else{for(;i;){var h=i.chunk,u=i.encoding,c=i.callback;if(b(t,e,!1,e.objectMode?1:h.length,h,u,c),i=i.next,e.bufferedRequestCount--,e.writing)break}null===i&&(e.lastBufferedRequest=null)}e.bufferedRequest=i,e.bufferProcessing=!1}function x(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function C(t,e){t._final((function(i){e.pendingcb--,i&&t.emit("error",i),e.prefinished=!0,t.emit("prefinish"),j(t,e)}))}function j(t,e){var i=x(e);return i&&(!function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,o.nextTick(C,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),i}h.inherits(w,d),m.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(m.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(w,Symbol.hasInstance,{value:function(t){return!!u.call(this,t)||this===w&&t&&t._writableState instanceof m}})):u=function(t){return t instanceof this},w.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},w.prototype.write=function(t,e,i){var n=this._writableState,r=!1,s=!n.objectMode&&function(t){return f.isBuffer(t)||t instanceof p}(t);return s&&!f.isBuffer(t)&&(t=function(t){return f.from(t)}(t)),"function"==typeof e&&(i=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),"function"!=typeof i&&(i=_),n.ended?function(t,e){var i=new Error("write after end");t.emit("error",i),o.nextTick(e,i)}(this,i):(s||function(t,e,i,n){var r=!0,s=!1;return null===i?s=new TypeError("May not write null values to stream"):"string"==typeof i||void 0===i||e.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),o.nextTick(n,s),r=!1),r}(this,n,t,i))&&(n.pendingcb++,r=function(t,e,i,n,r,o){if(!i){var s=function(t,e,i){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=f.from(e,i)),e}(e,n,r);n!==s&&(i=!0,r="buffer",n=s)}var a=e.objectMode?1:n.length;e.length+=a;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var h=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:r,isBuf:i,callback:o,next:null},h?h.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else b(t,e,!1,a,n,r,o);return l}(this,n,s,t,e,i)),r},w.prototype.cork=function(){this._writableState.corked++},w.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||y(this,t))},w.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(w.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),w.prototype._write=function(t,e,i){i(new Error("_write() is not implemented"))},w.prototype._writev=null,w.prototype.end=function(t,e,i){var n=this._writableState;"function"==typeof t?(i=t,t=null,e=null):"function"==typeof e&&(i=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(t,e,i){e.ending=!0,j(t,e),i&&(e.finished?o.nextTick(i):t.once("finish",i)),e.ended=!0,t.writable=!1}(this,n,i)},Object.defineProperty(w.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),w.prototype.destroy=g.destroy,w.prototype._undestroy=g.undestroy,w.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this)}).call(this,t("_process"),void 0!==i.g?i.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("timers").setImmediate)},{"./_stream_duplex":230,"./internal/streams/destroy":236,"./internal/streams/stream":237,_process:228,"core-util-is":209,inherits:212,"process-nextick-args":227,"safe-buffer":242,timers:245,"util-deprecate":246}],235:[function(t,e,i){var n=t("safe-buffer").Buffer,r=t("util");e.localExports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,i=""+e.data;e=e.next;)i+=t+e.data;return i},t.prototype.concat=function(t){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var e,i,r=n.allocUnsafe(t>>>0),o=this.head,s=0;o;)e=r,i=s,o.data.copy(e,i),s+=o.data.length,o=o.next;return r},t}(),r&&r.inspect&&r.inspect.custom&&(e.localExports.prototype[r.inspect.custom]=function(){var t=r.inspect({length:this.length});return this.constructor.name+" "+t})},{"safe-buffer":242,util:148}],236:[function(t,e,i){var n=t("process-nextick-args");function r(t,e){t.emit("error",e)}e.localExports={destroy:function(t,e){var i=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||n.nextTick(r,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?(n.nextTick(r,i,t),i._writableState&&(i._writableState.errorEmitted=!0)):e&&e(t)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":227}],237:[function(t,e,i){e.localExports=t("events").EventEmitter},{events:210}],238:[function(t,e,i){e.localExports=t("./readable").PassThrough},{"./readable":239}],239:[function(t,e,i){(i=e.localExports=t("./lib/_stream_readable.js")).Stream=i,i.Readable=i,i.Writable=t("./lib/_stream_writable.js"),i.Duplex=t("./lib/_stream_duplex.js"),i.Transform=t("./lib/_stream_transform.js"),i.PassThrough=t("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":230,"./lib/_stream_passthrough.js":231,"./lib/_stream_readable.js":232,"./lib/_stream_transform.js":233,"./lib/_stream_writable.js":234}],240:[function(t,e,i){e.localExports=t("./readable").Transform},{"./readable":239}],241:[function(t,e,i){e.localExports=t("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":234}],242:[function(t,e,i){var n=t("buffer"),r=n.Buffer;function o(t,e){for(var i in t)e[i]=t[i]}function s(t,e,i){return r(t,e,i)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.localExports=n:(o(n,i),i.Buffer=s),o(r,s),s.from=function(t,e,i){if("number"==typeof t)throw new TypeError("Argument must not be a number");return r(t,e,i)},s.alloc=function(t,e,i){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=r(t);return void 0!==e?"string"==typeof i?n.fill(e,i):n.fill(e):n.fill(0),n},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},{buffer:152}],243:[function(t,e,i){e.localExports=r;var n=t("events").EventEmitter;function r(){n.call(this)}t("inherits")(r,n),r.Readable=t("readable-stream/readable.js"),r.Writable=t("readable-stream/writable.js"),r.Duplex=t("readable-stream/duplex.js"),r.Transform=t("readable-stream/transform.js"),r.PassThrough=t("readable-stream/passthrough.js"),r.Stream=r,r.prototype.pipe=function(t,e){var i=this;function r(e){t.writable&&!1===t.write(e)&&i.pause&&i.pause()}function o(){i.readable&&i.resume&&i.resume()}i.on("data",r),t.on("drain",o),t._isStdio||e&&!1===e.end||(i.on("end",a),i.on("close",l));var s=!1;function a(){s||(s=!0,t.end())}function l(){s||(s=!0,"function"==typeof t.destroy&&t.destroy())}function h(t){if(u(),0===n.listenerCount(this,"error"))throw t}function u(){i.removeListener("data",r),t.removeListener("drain",o),i.removeListener("end",a),i.removeListener("close",l),i.removeListener("error",h),t.removeListener("error",h),i.removeListener("end",u),i.removeListener("close",u),t.removeListener("close",u)}return i.on("error",h),t.on("error",h),i.on("end",u),i.on("close",u),t.on("close",u),t.emit("pipe",i),t}},{events:210,inherits:212,"readable-stream/duplex.js":229,"readable-stream/passthrough.js":238,"readable-stream/readable.js":239,"readable-stream/transform.js":240,"readable-stream/writable.js":241}],244:[function(t,e,i){var n=t("safe-buffer").Buffer,r=n.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(n.isEncoding===r||!r(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=l,this.end=h,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=u,this.end=c,e=3;break;default:return this.write=d,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,i=function(t,e,i){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}(this,t);return void 0!==i?i:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function l(t,e){if((t.length-e)%2==0){var i=t.toString("utf16le",e);if(i){var n=i.charCodeAt(i.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],i.slice(0,-1)}return i}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function h(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,i)}return e}function u(t,e){var i=(t.length-e)%3;return 0===i?t.toString("base64",e):(this.lastNeed=3-i,this.lastTotal=3,1===i?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-i))}function c(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function d(t){return t.toString(this.encoding)}function f(t){return t&&t.length?this.write(t):""}i.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,i;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<t.length?e?e+this.text(t,i):this.text(t,i):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e},o.prototype.text=function(t,e){var i=function(t,e,i){var n=e.length-1;if(n<i)return 0;var r=s(e[n]);return r>=0?(r>0&&(t.lastNeed=r-1),r):--n<i||-2===r?0:(r=s(e[n]))>=0?(r>0&&(t.lastNeed=r-2),r):--n<i||-2===r?0:(r=s(e[n]))>=0?(r>0&&(2===r?r=0:t.lastNeed=r-3),r):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=i;var n=t.length-(i-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},{"safe-buffer":242}],245:[function(t,e,i){(function(e,n){(function(){var r=t("process/browser.js").nextTick,o=Function.prototype.apply,s=Array.prototype.slice,a={},l=0;function h(t,e){this._id=t,this._clearFn=e}i.setTimeout=function(){return new h(o.call(setTimeout,window,arguments),clearTimeout)},i.setInterval=function(){return new h(o.call(setInterval,window,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(t){t.close()},h.prototype.unref=h.prototype.ref=function(){},h.prototype.close=function(){this._clearFn.call(window,this._id)},i.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},i.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},i._unrefActive=i.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},i.setImmediate="function"==typeof e?e:function(t){var e=l++,n=!(arguments.length<2)&&s.call(arguments,1);return a[e]=!0,r((function(){a[e]&&(n?t.apply(null,n):t.call(null),i.clearImmediate(e))})),e},i.clearImmediate="function"==typeof n?n:function(t){delete a[t]}}).call(this)}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":228,timers:245}],246:[function(t,e,n){(function(t){(function(){function i(e){try{if(!t.localStorage)return!1}catch(t){return!1}var i=t.localStorage[e];return null!=i&&"true"===String(i).toLowerCase()}e.localExports=function(t,e){if(i("noDeprecation"))return t;var n=!1;return function(){if(!n){if(i("throwDeprecation"))throw new Error(e);i("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}}}).call(this)}).call(this,void 0!==i.g?i.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],247:[function(t,e,i){arguments[4][144][0].apply(i,arguments)},{dup:144}],248:[function(t,e,i){arguments[4][145][0].apply(i,arguments)},{dup:145}],249:[function(t,e,i){arguments[4][146][0].apply(i,arguments)},{"./support/isBuffer":248,_process:228,dup:146,inherits:247}],250:[function(t,e,i){(function(){var e,n,r,o;for(e in i.EncodeStream=t("./src/EncodeStream"),i.DecodeStream=t("./src/DecodeStream"),i.Array=t("./src/Array"),i.LazyArray=t("./src/LazyArray"),i.Bitfield=t("./src/Bitfield"),i.Boolean=t("./src/Boolean"),i.Buffer=t("./src/Buffer"),i.Enum=t("./src/Enum"),i.Optional=t("./src/Optional"),i.Reserved=t("./src/Reserved"),i.String=t("./src/String"),i.Struct=t("./src/Struct"),i.VersionedStruct=t("./src/VersionedStruct"),r=t("./src/Number"))n=r[e],i[e]=n;for(e in o=t("./src/Pointer"))n=o[e],i[e]=n}).call(this)},{"./src/Array":251,"./src/Bitfield":252,"./src/Boolean":253,"./src/Buffer":254,"./src/DecodeStream":255,"./src/EncodeStream":256,"./src/Enum":257,"./src/LazyArray":258,"./src/Number":259,"./src/Optional":260,"./src/Pointer":261,"./src/Reserved":262,"./src/String":263,"./src/Struct":264,"./src/VersionedStruct":265}],251:[function(t,e,i){(function(){var i,n,r;n=t("./Number").Number,r=t("./utils"),i=function(){function t(t,e,i){this.type=t,this.length=e,this.lengthType=null!=i?i:"count"}return t.prototype.decode=function(t,e){var i,o,s,a,l,h;if(s=t.pos,a=[],i=e,null!=this.length&&(o=r.resolveLength(this.length,t,e)),this.length instanceof n&&(Object.defineProperties(a,{parent:{value:e},_startOffset:{value:s},_currentOffset:{value:0,writable:!0},_length:{value:o}}),i=a),null==o||"bytes"===this.lengthType)for(l=null!=o?t.pos+o:(null!=e?e._length:void 0)?e._startOffset+e._length:t.length;t.pos<l;)a.push(this.type.decode(t,i));else for(h=0;h<o;h+=1)a.push(this.type.decode(t,i));return a},t.prototype.size=function(t,e){var i,o,s,a;if(!t)return this.type.size(null,e)*r.resolveLength(this.length,null,e);for(o=0,this.length instanceof n&&(o+=this.length.size(),e={parent:e}),s=0,a=t.length;s<a;s++)i=t[s],o+=this.type.size(i,e);return o},t.prototype.encode=function(t,e,i){var r,o,s,a,l,h;for(r=i,this.length instanceof n&&((r={pointers:[],startOffset:t.pos,parent:i}).pointerOffset=t.pos+this.size(e,r),this.length.encode(t,e.length)),l=0,h=e.length;l<h;l++)s=e[l],this.type.encode(t,s,r);if(this.length instanceof n)for(o=0;o<r.pointers.length;)(a=r.pointers[o++]).type.encode(t,a.val)},t}(),e.localExports=i}).call(this)},{"./Number":259,"./utils":266}],252:[function(t,e,i){(function(){var t;t=function(){function t(t,e){this.type=t,this.flags=null!=e?e:[]}return t.prototype.decode=function(t){var e,i,n,r,o,s,a;for(r=this.type.decode(t),n={},i=o=0,s=(a=this.flags).length;o<s;i=++o)null!=(e=a[i])&&(n[e]=!!(r&1<<i));return n},t.prototype.size=function(){return this.type.size()},t.prototype.encode=function(t,e){var i,n,r,o,s,a;for(r=0,n=o=0,s=(a=this.flags).length;o<s;n=++o)null!=(i=a[n])&&e[i]&&(r|=1<<n);return this.type.encode(t,r)},t}(),e.localExports=t}).call(this)},{}],253:[function(t,e,i){(function(){var t;t=function(){function t(t){this.type=t}return t.prototype.decode=function(t,e){return!!this.type.decode(t,e)},t.prototype.size=function(t,e){return this.type.size(t,e)},t.prototype.encode=function(t,e,i){return this.type.encode(t,+e,i)},t}(),e.localExports=t}).call(this)},{}],254:[function(t,e,i){(function(){var i,n,r;r=t("./utils"),n=t("./Number").Number,i=function(){function t(t){this.length=t}return t.prototype.decode=function(t,e){var i;return i=r.resolveLength(this.length,t,e),t.readBuffer(i)},t.prototype.size=function(t,e){return t?t.length:r.resolveLength(this.length,null,e)},t.prototype.encode=function(t,e,i){return this.length instanceof n&&this.length.encode(t,e.length),t.writeBuffer(e)},t}(),e.localExports=i}).call(this)},{"./Number":259,"./utils":266}],255:[function(t,e,i){(function(i){(function(){(function(){var n,r;try{r=t("iconv-lite")}catch(t){}n=function(){var t;function e(t){this.buffer=t,this.pos=0,this.length=this.buffer.length}for(t in e.TYPES={UInt8:1,UInt16:2,UInt24:3,UInt32:4,Int8:1,Int16:2,Int24:3,Int32:4,Float:4,Double:8},i.prototype)"read"===t.slice(0,4)&&function(t){var i;i=e.TYPES[t.replace(/read|[BL]E/g,"")],e.prototype[t]=function(){var e;return e=this.buffer[t](this.pos),this.pos+=i,e}}(t);return e.prototype.readString=function(t,e){var n,o,s,a,l;switch(null==e&&(e="ascii"),e){case"utf16le":case"ucs2":case"utf8":case"ascii":return this.buffer.toString(e,this.pos,this.pos+=t);case"utf16be":for(s=a=0,l=(n=new i(this.readBuffer(t))).length-1;a<l;s=a+=2)o=n[s],n[s]=n[s+1],n[s+1]=o;return n.toString("utf16le");default:if(n=this.readBuffer(t),r)try{return r.decode(n,e)}catch(t){}return n}},e.prototype.readBuffer=function(t){return this.buffer.slice(this.pos,this.pos+=t)},e.prototype.readUInt24BE=function(){return(this.readUInt16BE()<<8)+this.readUInt8()},e.prototype.readUInt24LE=function(){return this.readUInt16LE()+(this.readUInt8()<<16)},e.prototype.readInt24BE=function(){return(this.readInt16BE()<<8)+this.readUInt8()},e.prototype.readInt24LE=function(){return this.readUInt16LE()+(this.readInt8()<<16)},e}(),e.localExports=n}).call(this)}).call(this)}).call(this,t("buffer").Buffer)},{buffer:152,"iconv-lite":151}],256:[function(t,e,i){(function(i){(function(){(function(){var n,r,o,s,a={}.hasOwnProperty;s=t("stream"),n=t("./DecodeStream");try{o=t("iconv-lite")}catch(t){}r=function(t){var e;function r(t){null==t&&(t=65536),r.__super__.constructor.apply(this,arguments),this.buffer=new i(t),this.bufferOffset=0,this.pos=0}for(e in function(t,e){for(var i in e)a.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(r,t),i.prototype)"write"===e.slice(0,5)&&function(t){var e;e=+n.TYPES[t.replace(/write|[BL]E/g,"")],r.prototype[t]=function(i){return this.ensure(e),this.buffer[t](i,this.bufferOffset),this.bufferOffset+=e,this.pos+=e}}(e);return r.prototype._read=function(){},r.prototype.ensure=function(t){if(this.bufferOffset+t>this.buffer.length)return this.flush()},r.prototype.flush=function(){if(this.bufferOffset>0)return this.push(new i(this.buffer.slice(0,this.bufferOffset))),this.bufferOffset=0},r.prototype.writeBuffer=function(t){return this.flush(),this.push(t),this.pos+=t.length},r.prototype.writeString=function(t,e){var n,r,s,a,l;switch(null==e&&(e="ascii"),e){case"utf16le":case"ucs2":case"utf8":case"ascii":return this.writeBuffer(new i(t,e));case"utf16be":for(s=a=0,l=(n=new i(t,"utf16le")).length-1;a<l;s=a+=2)r=n[s],n[s]=n[s+1],n[s+1]=r;return this.writeBuffer(n);default:if(o)return this.writeBuffer(o.encode(t,e));throw new Error("Install iconv-lite to enable additional string encodings.")}},r.prototype.writeUInt24BE=function(t){return this.ensure(3),this.buffer[this.bufferOffset++]=t>>>16&255,this.buffer[this.bufferOffset++]=t>>>8&255,this.buffer[this.bufferOffset++]=255&t,this.pos+=3},r.prototype.writeUInt24LE=function(t){return this.ensure(3),this.buffer[this.bufferOffset++]=255&t,this.buffer[this.bufferOffset++]=t>>>8&255,this.buffer[this.bufferOffset++]=t>>>16&255,this.pos+=3},r.prototype.writeInt24BE=function(t){return t>=0?this.writeUInt24BE(t):this.writeUInt24BE(t+16777215+1)},r.prototype.writeInt24LE=function(t){return t>=0?this.writeUInt24LE(t):this.writeUInt24LE(t+16777215+1)},r.prototype.fill=function(t,e){var n;return e<this.buffer.length?(this.ensure(e),this.buffer.fill(t,this.bufferOffset,this.bufferOffset+e),this.bufferOffset+=e,this.pos+=e):((n=new i(e)).fill(t),this.writeBuffer(n))},r.prototype.end=function(){return this.flush(),this.push(null)},r}(s.Readable),e.localExports=r}).call(this)}).call(this)}).call(this,t("buffer").Buffer)},{"./DecodeStream":255,buffer:152,"iconv-lite":151,stream:243}],257:[function(t,e,i){(function(){var t;t=function(){function t(t,e){this.type=t,this.options=null!=e?e:[]}return t.prototype.decode=function(t){var e;return e=this.type.decode(t),this.options[e]||e},t.prototype.size=function(){return this.type.size()},t.prototype.encode=function(t,e){var i;if(-1===(i=this.options.indexOf(e)))throw new Error("Unknown option in enum: "+e);return this.type.encode(t,i)},t}(),e.localExports=t}).call(this)},{}],258:[function(t,e,i){(function(){var i,n,r,o,s,a,l={}.hasOwnProperty;i=t("./Array"),o=t("./Number").Number,a=t("./utils"),s=t("util").inspect,r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var i in e)l.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.decode=function(t,e){var i,r,s;return r=t.pos,i=a.resolveLength(this.length,t,e),this.length instanceof o&&(e={parent:e,_startOffset:r,_currentOffset:0,_length:i}),s=new n(this.type,i,t,e),t.pos+=i*this.type.size(null,e),s},e.prototype.size=function(t,i){return t instanceof n&&(t=t.toArray()),e.__super__.size.call(this,t,i)},e.prototype.encode=function(t,i,r){return i instanceof n&&(i=i.toArray()),e.__super__.encode.call(this,t,i,r)},e}(i),n=function(){function t(t,e,i,n){this.type=t,this.length=e,this.stream=i,this.ctx=n,this.base=this.stream.pos,this.items=[]}return t.prototype.get=function(t){var e;if(!(t<0||t>=this.length))return null==this.items[t]&&(e=this.stream.pos,this.stream.pos=this.base+this.type.size(null,this.ctx)*t,this.items[t]=this.type.decode(this.stream,this.ctx),this.stream.pos=e),this.items[t]},t.prototype.toArray=function(){var t,e,i,n;for(n=[],t=e=0,i=this.length;e<i;t=e+=1)n.push(this.get(t));return n},t.prototype.inspect=function(){return s(this.toArray())},t}(),e.localExports=r}).call(this)},{"./Array":251,"./Number":259,"./utils":266,util:249}],259:[function(t,e,i){(function(){var e,n,r,o={}.hasOwnProperty;e=t("./DecodeStream"),r=function(){function t(t,e){this.type=t,this.endian=null!=e?e:"BE",this.fn=this.type,"8"!==this.type[this.type.length-1]&&(this.fn+=this.endian)}return t.prototype.size=function(){return e.TYPES[this.type]},t.prototype.decode=function(t){return t["read"+this.fn]()},t.prototype.encode=function(t,e){return t["write"+this.fn](e)},t}(),i.Number=r,i.uint8=new r("UInt8"),i.uint16be=i.uint16=new r("UInt16","BE"),i.uint16le=new r("UInt16","LE"),i.uint24be=i.uint24=new r("UInt24","BE"),i.uint24le=new r("UInt24","LE"),i.uint32be=i.uint32=new r("UInt32","BE"),i.uint32le=new r("UInt32","LE"),i.int8=new r("Int8"),i.int16be=i.int16=new r("Int16","BE"),i.int16le=new r("Int16","LE"),i.int24be=i.int24=new r("Int24","BE"),i.int24le=new r("Int24","LE"),i.int32be=i.int32=new r("Int32","BE"),i.int32le=new r("Int32","LE"),i.floatbe=i.float=new r("Float","BE"),i.floatle=new r("Float","LE"),i.doublebe=i.double=new r("Double","BE"),i.doublele=new r("Double","LE"),n=function(t){function e(t,i,n){null==n&&(n=t>>1),e.__super__.constructor.call(this,"Int"+t,i),this._point=1<<n}return function(t,e){for(var i in e)o.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.decode=function(t){return e.__super__.decode.call(this,t)/this._point},e.prototype.encode=function(t,i){return e.__super__.encode.call(this,t,i*this._point|0)},e}(r),i.Fixed=n,i.fixed16be=i.fixed16=new n(16,"BE"),i.fixed16le=new n(16,"LE"),i.fixed32be=i.fixed32=new n(32,"BE"),i.fixed32le=new n(32,"LE")}).call(this)},{"./DecodeStream":255}],260:[function(t,e,i){(function(){var t;t=function(){function t(t,e){this.type=t,this.condition=null==e||e}return t.prototype.decode=function(t,e){var i;if("function"==typeof(i=this.condition)&&(i=i.call(e,e)),i)return this.type.decode(t,e)},t.prototype.size=function(t,e){var i;return"function"==typeof(i=this.condition)&&(i=i.call(e,e)),i?this.type.size(t,e):0},t.prototype.encode=function(t,e,i){var n;if("function"==typeof(n=this.condition)&&(n=n.call(i,i)),n)return this.type.encode(t,e,i)},t}(),e.localExports=t}).call(this)},{}],261:[function(t,e,i){(function(){var e,n,r;r=t("./utils"),e=function(){function t(t,e,i){var n,r,o,s;if(this.offsetType=t,this.type=e,this.options=null!=i?i:{},"void"===this.type&&(this.type=null),null==(n=this.options).type&&(n.type="local"),null==(r=this.options).allowNull&&(r.allowNull=!0),null==(o=this.options).nullValue&&(o.nullValue=0),null==(s=this.options).lazy&&(s.lazy=!1),this.options.relativeTo&&"function"!=typeof this.options.relativeTo)throw new Error("The relativeTo option must be a function.")}return t.prototype.decode=function(t,e){var i,n,o,s,a,l,h;return(o=this.offsetType.decode(t,e))===this.options.nullValue&&this.options.allowNull?null:(a=function(){switch(this.options.type){case"local":return e._startOffset;case"immediate":return t.pos-this.offsetType.size();case"parent":return e.parent._startOffset;default:for(i=e;i.parent;)i=i.parent;return i._startOffset||0}}.call(this),this.options.relativeTo&&(a+=this.options.relativeTo(e)),s=o+a,null!=this.type?(l=null,h=this,n=function(){var i;return null!=l||(i=t.pos,t.pos=s,l=h.type.decode(t,e),t.pos=i),l},this.options.lazy?new r.PropertyDescriptor({get:n}):n()):s)},t.prototype.size=function(t,e){var i,r;switch(i=e,this.options.type){case"local":case"immediate":break;case"parent":e=e.parent;break;default:for(;e.parent;)e=e.parent}if(null==(r=this.type)){if(!(t instanceof n))throw new Error("Must be a VoidPointer");r=t.type,t=t.value}return t&&e&&(e.pointerSize+=r.size(t,i)),this.offsetType.size()},t.prototype.encode=function(t,e,i){var r,o,s;if(r=i,null!=e){switch(this.options.type){case"local":o=i.startOffset;break;case"immediate":o=t.pos+this.offsetType.size(e,r);break;case"parent":o=(i=i.parent).startOffset;break;default:for(o=0;i.parent;)i=i.parent}if(this.options.relativeTo&&(o+=this.options.relativeTo(r.val)),this.offsetType.encode(t,i.pointerOffset-o),null==(s=this.type)){if(!(e instanceof n))throw new Error("Must be a VoidPointer");s=e.type,e=e.value}return i.pointers.push({type:s,val:e,parent:r}),i.pointerOffset+=s.size(e,r)}this.offsetType.encode(t,this.options.nullValue)},t}(),n=function(t,e){this.type=t,this.value=e},i.Pointer=e,i.VoidPointer=n}).call(this)},{"./utils":266}],262:[function(t,e,i){(function(){var i,n;n=t("./utils"),i=function(){function t(t,e){this.type=t,this.count=null!=e?e:1}return t.prototype.decode=function(t,e){t.pos+=this.size(null,e)},t.prototype.size=function(t,e){var i;return i=n.resolveLength(this.count,null,e),this.type.size()*i},t.prototype.encode=function(t,e,i){return t.fill(0,this.size(e,i))},t}(),e.localExports=i}).call(this)},{"./utils":266}],263:[function(t,e,i){(function(i){(function(){(function(){var n,r,o;n=t("./Number").Number,o=t("./utils"),r=function(){function t(t,e){this.length=t,this.encoding=null!=e?e:"ascii"}return t.prototype.decode=function(t,e){var i,n,r,s,a;return r=function(){if(null!=this.length)return o.resolveLength(this.length,t,e);for(i=t.buffer,r=t.length,s=t.pos;s<r&&0!==i[s];)++s;return s-t.pos}.call(this),"function"==typeof(n=this.encoding)&&(n=n.call(e,e)||"ascii"),a=t.readString(r,n),null==this.length&&t.pos<t.length&&t.pos++,a},t.prototype.size=function(t,e){var r,s;return t?("function"==typeof(r=this.encoding)&&(r=r.call(null!=e?e.val:void 0,null!=e?e.val:void 0)||"ascii"),"utf16be"===r&&(r="utf16le"),s=i.byteLength(t,r),this.length instanceof n&&(s+=this.length.size()),null==this.length&&s++,s):o.resolveLength(this.length,null,e)},t.prototype.encode=function(t,e,r){var o;if("function"==typeof(o=this.encoding)&&(o=o.call(null!=r?r.val:void 0,null!=r?r.val:void 0)||"ascii"),this.length instanceof n&&this.length.encode(t,i.byteLength(e,o)),t.writeString(e,o),null==this.length)return t.writeUInt8(0)},t}(),e.localExports=r}).call(this)}).call(this)}).call(this,t("buffer").Buffer)},{"./Number":259,"./utils":266,buffer:152}],264:[function(t,e,i){(function(){var i,n;n=t("./utils"),i=function(){function t(t){this.fields=null!=t?t:{}}return t.prototype.decode=function(t,e,i){var n,r;return null==i&&(i=0),n=this._setup(t,e,i),this._parseFields(t,n,this.fields),null!=(r=this.process)&&r.call(n,t),n},t.prototype._setup=function(t,e,i){var n;return n={},Object.defineProperties(n,{parent:{value:e},_startOffset:{value:t.pos},_currentOffset:{value:0,writable:!0},_length:{value:i}}),n},t.prototype._parseFields=function(t,e,i){var r,o,s;for(r in i)void 0!==(s="function"==typeof(o=i[r])?o.call(e,e):o.decode(t,e))&&(s instanceof n.PropertyDescriptor?Object.defineProperty(e,r,s):e[r]=s),e._currentOffset=t.pos-e._startOffset},t.prototype.size=function(t,e,i){var n,r,o,s,a;for(r in null==t&&(t={}),null==i&&(i=!0),n={parent:e,val:t,pointerSize:0},o=0,a=this.fields)null!=(s=a[r]).size&&(o+=s.size(t[r],n));return i&&(o+=n.pointerSize),o},t.prototype.encode=function(t,e,i){var n,r,o,s,a,l,h;for(o in null!=(l=this.preEncode)&&l.call(e,t),(n={pointers:[],startOffset:t.pos,parent:i,val:e,pointerSize:0}).pointerOffset=t.pos+this.size(e,n,!1),h=this.fields)null!=(a=h[o]).encode&&a.encode(t,e[o],n);for(r=0;r<n.pointers.length;)(s=n.pointers[r++]).type.encode(t,s.val,s.parent)},t}(),e.localExports=i}).call(this)},{"./utils":266}],265:[function(t,e,i){(function(){var i,n,r,o={}.hasOwnProperty;i=t("./Struct"),r=t("./utils"),n=function(t){function e(t,e){if(this.type=t,this.versions=null!=e?e:{},"string"==typeof this.type){var i=this.type.split(".");this.versionGetter=function(t){return r.resolveValueByPath(t,i)}}}return function(t,e){for(var i in e)o.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.decode=function(t,i,n){var r,o,s;if(null==n&&(n=0),o=this._setup(t,i,n),"string"==typeof this.type?o.version=this.versionGetter(i):o.version=this.type.decode(t),this.versions.header&&this._parseFields(t,o,this.versions.header),null==(r=this.versions[o.version]))throw new Error("Unknown version "+o.version);return r instanceof e?r.decode(t,i):(this._parseFields(t,o,r),null!=(s=this.process)&&s.call(o,t),o)},e.prototype.size=function(t,e,i){var n,r,o,s,a,l;if(null==i&&(i=!0),!t)throw new Error("Not a fixed size");if(n={parent:e,val:t,pointerSize:0},s=0,"string"!=typeof this.type&&(s+=this.type.size(t.version,n)),this.versions.header)for(o in l=this.versions.header)null!=(a=l[o]).size&&(s+=a.size(t[o],n));if(null==(r=this.versions[t.version]))throw new Error("Unknown version "+t.version);for(o in r)null!=(a=r[o]).size&&(s+=a.size(t[o],n));return i&&(s+=n.pointerSize),s},e.prototype.encode=function(t,e,i){var n,r,o,s,a,l,h,u;if(null!=(h=this.preEncode)&&h.call(e,t),(n={pointers:[],startOffset:t.pos,parent:i,val:e,pointerSize:0}).pointerOffset=t.pos+this.size(e,n,!1),"string"!=typeof this.type&&this.type.encode(t,e.version),this.versions.header)for(s in u=this.versions.header)null!=(l=u[s]).encode&&l.encode(t,e[s],n);for(s in r=this.versions[e.version])null!=(l=r[s]).encode&&l.encode(t,e[s],n);for(o=0;o<n.pointers.length;)(a=n.pointers[o++]).type.encode(t,a.val,a.parent)},e}(i),e.localExports=n}).call(this)},{"./Struct":264,"./utils":266}],266:[function(t,e,i){(function(){var e,n;e=t("./Number").Number,i.resolveLength=function(t,i,n){var r;if("number"==typeof t?r=t:"function"==typeof t?r=t.call(n,n):n&&"string"==typeof t?r=n[t]:i&&t instanceof e&&(r=t.decode(i)),isNaN(r))throw new Error("Not a fixed size");return r},i.resolveValueByPath=function(t,e){"string"==typeof e&&(e=e.split("."));for(var i=0,n=e.length;null!=t&&i<n;i++)t=t[e[i]];return t},n=function(t){var e,i;for(e in null==t&&(t={}),this.enumerable=!0,this.configurable=!0,t)i=t[e],this[e]=i},i.PropertyDescriptor=n}).call(this)},{"./Number":259}]},{},[135])(135)}));var rl,ol,sl,al,ll,hl,ul,cl,dl,fl,pl,gl,_l,ml,wl=function(){function t(){}return t.offset=function(t,e){var i=this;return this._processPath(t,(function(t,n,r,o){return i._updateOffset(t,e,n,r,o)}))},t.scale=function(t,e){return this._processPath(t,(function(t,i,n,r){if("a"===i||"A"===i){var o=r%7;if(o>=2&&o<=4)return t}return t*e}))},t._processPath=function(t,e){for(var i,n=this._getTokenizer(t),r="",o="",s=-1,a=-1;i=n();){if(1===i.length&&/[a-zA-Z]/.test(i))a++,r=i,s=-1;else s++,i=It(e(parseFloat(i),r,a,s),7,!1)+"";o+=i+" "}return o},t._getTokenizer=function(t){var e=t.length,i=0;return function(){if(i>=e)return"";for(;i<e&&(/\s/.test(t[i])||","==t[i]);)i++;for(var n=i,r=!1,o=!1,s=!1;i<e;){var a=t[i];if("-"===a||"+"===a){if((s||o||r)&&(!(i>1)||"e"!==t[i-1]&&"E"!==t[i-1]))break;s=!0}else if("."===a){if(o)break;o=!0}else{if(!/[0-9eE]/.test(a))break;r=!0}i++}return i!=n?t.substr(n,i-n):t.substr(i++,1)}},t._updateOffset=function(t,e,i,n,r){var o=0;switch(i){case"m":0===n&&(0===r?o=-1:1===r&&(o=1));break;case"L":case"M":case"C":case"S":case"Q":case"T":o=r%2==0?-1:1;break;case"A":r%7==5?o=-1:r%7==6&&(o=1);break;case"H":o=-1;break;case"V":o=1}return o?-1===o?t+e.x:t+e.y:t},t}(),bl={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},vl=function(t){function e(e){return t.call(this,e)||this}return el(e,t),e.prototype._parse=function(e){return t.prototype._parse.call(this,bl[e.toLowerCase()]||e)},e.fromString=function(t){var i=new e(null);return i._parse(Ut(t))?i:null},e}(He),yl=function(){function t(t,e,i){void 0===t&&(t=null),void 0===e&&(e=t),void 0===i&&(i=0),this.dash=t,this.gap=e,this.phase=i}return Object.defineProperty(t.prototype,"dash",{get:function(){return this._dash},set:function(t){this._dash=Gt(t,!0,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gap",{get:function(){return this._gap},set:function(t){this._gap=Gt(t,!0,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"phase",{get:function(){return this._phase},set:function(t){this._phase=Gt(t,!1,!0)},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t(this._dash,this._gap,this._phase)},t.prototype.equals=function(e){return e instanceof t&&this._dash===e.dash&&this._gap===e.gap&&this._phase===e.phase},t}(),xl=function(t){function e(e){var i=t.call(this)||this;return i._chunks=e,i}return el(e,t),Object.defineProperty(e.prototype,"blob",{get:function(){return this._blob||(this._blob=new Blob(this._chunks,{type:"application/pdf"})),this._blob},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chunks",{get:function(){return this._chunks},enumerable:!0,configurable:!0}),e}(nt);!function(t){t[t.Butt=0]="Butt",t[t.Round=1]="Round",t[t.Square=2]="Square"}(rl||(rl={})),function(t){t[t.Miter=0]="Miter",t[t.Round=1]="Round",t[t.Bevel=2]="Bevel"}(ol||(ol={})),function(t){t[t.NonZero=0]="NonZero",t[t.EvenOdd=1]="EvenOdd"}(sl||(sl={})),function(t){t[t.Portrait=0]="Portrait",t[t.Landscape=1]="Landscape"}(al||(al={})),function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right"}(ll||(ll={})),function(t){t[t.Top=0]="Top",t[t.Center=1]="Center",t[t.Bottom=2]="Bottom"}(hl||(hl={})),function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right",t[t.Justify=3]="Justify"}(ul||(ul={})),function(t){t[t.Alphabetic=0]="Alphabetic",t[t.Top=1]="Top",t[t.Hanging=2]="Hanging",t[t.Middle=3]="Middle",t[t.Ideographic=4]="Ideographic",t[t.Bottom=5]="Bottom"}(cl||(cl={})),function(t){t[t.A0=0]="A0",t[t.A1=1]="A1",t[t.A2=2]="A2",t[t.A3=3]="A3",t[t.A4=4]="A4",t[t.A5=5]="A5",t[t.A6=6]="A6",t[t.A7=7]="A7",t[t.A8=8]="A8",t[t.A9=9]="A9",t[t.A10=10]="A10",t[t.B0=11]="B0",t[t.B1=12]="B1",t[t.B2=13]="B2",t[t.B3=14]="B3",t[t.B4=15]="B4",t[t.B5=16]="B5",t[t.B6=17]="B6",t[t.B7=18]="B7",t[t.B8=19]="B8",t[t.B9=20]="B9",t[t.B10=21]="B10",t[t.C0=22]="C0",t[t.C1=23]="C1",t[t.C2=24]="C2",t[t.C3=25]="C3",t[t.C4=26]="C4",t[t.C5=27]="C5",t[t.C6=28]="C6",t[t.C7=29]="C7",t[t.C8=30]="C8",t[t.C9=31]="C9",t[t.C10=32]="C10",t[t.RA0=33]="RA0",t[t.RA1=34]="RA1",t[t.RA2=35]="RA2",t[t.RA3=36]="RA3",t[t.RA4=37]="RA4",t[t.SRA0=38]="SRA0",t[t.SRA1=39]="SRA1",t[t.SRA2=40]="SRA2",t[t.SRA3=41]="SRA3",t[t.SRA4=42]="SRA4",t[t.Executive=43]="Executive",t[t.Folio=44]="Folio",t[t.Legal=45]="Legal",t[t.Letter=46]="Letter",t[t.Tabloid=47]="Tabloid"}(dl||(dl={})),function(t){t[t.NotAllowed=0]="NotAllowed",t[t.AllowLowResolution=1]="AllowLowResolution",t[t.AllowHighResolution=2]="AllowHighResolution"}(fl||(fl={})),function(t){t[t.v1_3=0]="v1_3",t[t.v1_4=1]="v1_4",t[t.v1_5=2]="v1_5",t[t.v1_6=3]="v1_6",t[t.v1_7=4]="v1_7",t[t.v1_7Ext3=5]="v1_7Ext3"}(pl||(pl={})),function(t){t[t.Part=0]="Part",t[t.Art=1]="Art",t[t.Sect=2]="Sect",t[t.Div=3]="Div",t[t.BlockQuote=4]="BlockQuote",t[t.Caption=5]="Caption",t[t.NonStruct=6]="NonStruct",t[t.Private=7]="Private",t[t.H=8]="H",t[t.H1=9]="H1",t[t.H2=10]="H2",t[t.H3=11]="H3",t[t.H4=12]="H4",t[t.H5=13]="H5",t[t.H6=14]="H6",t[t.P=15]="P",t[t.L=16]="L",t[t.LI=17]="LI",t[t.Lbl=18]="Lbl",t[t.LBody=19]="LBody",t[t.Table=20]="Table",t[t.TR=21]="TR",t[t.TH=22]="TH",t[t.TD=23]="TD",t[t.THead=24]="THead",t[t.TBody=25]="TBody",t[t.TFoot=26]="TFoot",t[t.Span=27]="Span",t[t.Quote=28]="Quote",t[t.BibEntry=29]="BibEntry",t[t.Code=30]="Code",t[t.Ruby=31]="Ruby",t[t.RB=32]="RB",t[t.RT=33]="RT",t[t.RP=34]="RP",t[t.Warichu=35]="Warichu",t[t.WT=36]="WT",t[t.WP=37]="WP",t[t.Figure=38]="Figure",t[t.Formula=39]="Formula"}(gl||(gl={})),function(t){t[t.Pagination=0]="Pagination",t[t.Layout=1]="Layout"}(_l||(_l={})),function(t){t[t.Top=0]="Top",t[t.Bottom=1]="Bottom",t[t.Left=2]="Left",t[t.Right=3]="Right"}(ml||(ml={}));var Cl={InvalidArg:function(t){return'Invalid argument: "'+t+'".'},InvalidFormat:function(t){return'"'+t+'" is not in the correct format.'},ValueCannotBeEmpty:function(t){return'Value cannot be empty: "'+t+'".'},PathStarted:"This method can not be used until the current path is finished.",BufferPagesMustBeEnabled:"The bufferPages property must be enabled to render headers and footers.",AbstractMethod:"This is an abstract method, it should not be called.",FontNameMustBeSet:"The font name must be set.",FontSourceMustBeStringArrayBuffer:"The font source must be of type string or ArrayBuffer.",FontSourceMustBeString:"The font source must be of type string.",FontSourceMustBeArrayBuffer:"The font source must be of type ArrayBuffer.",EmptyUrl:"URL can not be empty.",UndefinedMimeType:"MIME-type must be set.",InvalidImageDataUri:"Invalid Data URI. It should be base64 encoded string that represents JPG or PNG image.",InvalidImageFormat:"Invalid image format. Only JPG and PNG formats are supported.",SecurityRequirements:"The wijmo.pdf.security module must be added on page to use PDF encryption and permissions settings.",TaggedPdfRequirements:"Tagged PDF requires document version 1.4 or higher."},jl=function(){function t(){}return t.prototype.clone=function(){throw Cl.AbstractMethod},t.prototype.equals=function(t){throw Cl.AbstractMethod},t.prototype._getBrushObject=function(t){throw Cl.AbstractMethod},t}(),Sl=function(){function t(t,e,i,n,r,o){if(null==t&&(t=He.fromRgba(0,0,0)),null==e&&(e=1),null==i&&(i=new yl(null,null,0)),null==n&&(n=rl.Butt),null==r&&(r=ol.Miter),null==o&&(o=10),!kt(t)||t instanceof He||t instanceof jl)t instanceof jl?this.brush=t:this.color=t,this.width=e,this.cap=n,this.join=r,this.miterLimit=o,this.dashPattern=i;else{var s=t;this.color=s.color,this.brush=s.brush,this.width=null!=s.width?s.width:e,this.cap=null!=s.cap?s.cap:n,this.join=null!=s.join?s.join:r,this.miterLimit=null!=s.miterLimit?s.miterLimit:o,this.dashPattern=s.dashPattern||i}this._color=this._color||He.fromRgba(0,0,0)}return Object.defineProperty(t.prototype,"color",{get:function(){return this._color},set:function(t){this._color=Il(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"brush",{get:function(){return this._brush},set:function(t){t=Fl(t,!0),this._brush=t?t.clone():null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(t){this._width=Gt(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cap",{get:function(){return this._cap},set:function(t){this._cap=Jt(t,rl)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"join",{get:function(){return this._join},set:function(t){this._join=Jt(t,ol)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit=Gt(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dashPattern",{get:function(){return this._dashPattern},set:function(t){Ht(t instanceof yl,Cl.InvalidArg("value")),this._dashPattern=t.clone()},enumerable:!0,configurable:!0}),t.prototype.clone=function(){var e=new t(this._color,this._width,this._dashPattern,this._cap,this._join,this._miterLimit);return e.brush=this._brush,e},t.prototype.equals=function(e){return e instanceof t&&this._color.equals(e._color)&&(this._brush?this._brush.equals(e._brush):this._brush===e._brush)&&this._width===e._width&&this._cap===e._cap&&this._join===e._join&&this._miterLimit===e._miterLimit&&this._dashPattern.equals(e._dashPattern)},t}(),El=function(){function t(t,e,i,n){void 0===t&&(t="times"),void 0===e&&(e=10),void 0===i&&(i="normal"),void 0===n&&(n="normal"),this.family=t,this.size=e,this.style=i,this.weight=n}return Object.defineProperty(t.prototype,"family",{get:function(){return this._family},set:function(t){this._family=Ut(t,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(t){this._size=Gt(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(e){(e=Ut(e,!1))&&Ht(!!t._KNOWN_STYLES[(e||"").toLowerCase()],Cl.InvalidArg("value")),this._style=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weight",{get:function(){return this._weight},set:function(e){(e=Ut(e,!1))&&Ht(!!t._KNOWN_WEIGHTS[(e||"").toLowerCase()],Cl.InvalidArg("value")),this._weight=e},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t(this.family,this.size,this.style,this.weight)},t.prototype.equals=function(e){return e instanceof t&&this._family===e._family&&this._size===e._size&&this._style===e._style&&this._weight===e._weight},t._DEF_NATIVE_NAME="Times-Roman",t._DEF_FAMILY_NAME="times",t._KNOWN_WEIGHTS={normal:1,bold:1,100:1,200:1,300:1,400:1,500:1,600:1,700:1,800:1,900:1},t._KNOWN_STYLES={normal:1,italic:1,oblique:1},t._DEF_PDFKIT_FONT=new t("helvetica",12),t._DEF_FONT=new t,t}(),kl=function(){function t(t){if(this._values=[],this._keys={},t)for(var e=0;e<t.length;e++){var i=t[e];this._keys[i.key]=e,this._values.push({key:i.key,value:i.value})}}return t.prototype.hasKey=function(t){var e=this._keys[t];return void 0!==e?this._values[e].value:null},t.prototype.add=function(t,e){return this.hasKey(t)?null:(this._keys[t]=this._values.length,this._values.push({key:t,value:e}),e)},t.prototype.each=function(t){if(t)for(var e=0;e<this._values.length;e++){var i=this._values[e];if(!1===t(i.key,i.value))break}},t.prototype.eachReverse=function(t){if(t)for(var e=this._values.length-1;e>=0;e--){var i=this._values[e];if(!1===t(i.key,i.value))break}},t}(),Tl=function(){function t(t){var e=this;this._fonts=new kl([{key:"zapfdingbats",value:{attributes:{fantasy:!0},normal:{400:"ZapfDingbats"}}},{key:"symbol",value:{attributes:{serif:!0},normal:{400:"Symbol"}}},{key:"courier",value:{attributes:{serif:!0,monospace:!0},normal:{400:"Courier",700:"Courier-Bold"},oblique:{400:"Courier-Oblique",700:"Courier-BoldOblique"}}},{key:"helvetica",value:{attributes:{sansSerif:!0},normal:{400:"Helvetica",700:"Helvetica-Bold"},oblique:{400:"Helvetica-Oblique",700:"Helvetica-BoldOblique"}}},{key:"times",value:{attributes:{serif:!0},normal:{400:"Times-Roman",700:"Times-Bold"},italic:{400:"Times-Italic",700:"Times-BoldItalic"}}}]),this._weightNameToNum={normal:400,bold:700},this._findFontCache={},this._internalFontNames={},this._doc=t,this._fonts.each((function(t,i){var n=function(t){for(var i in t)e._internalFontNames[t[i]]=1};n(i.normal)||n(i.italic)||n(i.oblique)}))}return t.prototype.registerFont=function(t){Ht(!!t,Cl.ValueCannotBeEmpty("font")),Ut(t.name),Ht(t.source instanceof ArrayBuffer,Cl.FontSourceMustBeArrayBuffer),t=il({},t);var e=this._normalizeFontSelector(t.name,t.style,t.weight),i=this._fonts.hasKey(e.name);i||(i=this._fonts.add(e.name,{attributes:t}));var n=i[e.style];n||(n=i[e.style]={});var r=this._makeInternalName(e);return n[e.weight]||(this._doc.registerFont(r,t.source,t.family),this._findFontCache={},n[e.weight]=r,this._internalFontNames[r]=1),r},t.prototype.findFont=function(t,e,i){var n=this._normalizeFontSelector(t,e,i),r=this._makeInternalName(n);if(this._findFontCache[r])return this._findFontCache[r];n.name+=","+El._DEF_FAMILY_NAME;for(var o=0,s=n.name.split(",");o<s.length;o++){var a=this._findFont(s[o].replace(/["']/g,"").trim(),n.style,n.weight);if(a)return this._findFontCache[r]=a}return this._findFontCache[r]=this._internalFontNames[t]?t:El._DEF_NATIVE_NAME},t.prototype._normalizeFontSelector=function(t,e,i){return{name:(t||"").toLowerCase(),style:(e||El._DEF_FONT.style).toLowerCase(),weight:parseInt(this._weightNameToNum[i]||i)||parseInt(this._weightNameToNum[El._DEF_FONT.weight])}},t.prototype._findFont=function(t,e,i){var n,r=this,o=[];switch(e){case"italic":o=["italic","oblique","normal"];break;case"oblique":o=["oblique","italic","normal"];break;default:o=["normal","oblique","italic"]}switch(t){case"cursive":case"fantasy":case"monospace":case"serif":case"sans-serif":this._fonts.eachReverse((function(e,s){var a="sans-serif"===t?"sansSerif":t;if(s.attributes[a])for(var l=0;l<o.length;l++)if(n=r._findFontWeightFallback(e,o[l],i))return!1}));break;default:if(this._fonts.hasKey(t))for(var s=0;s<o.length&&!n;s++)n=this._findFontWeightFallback(t,o[s],i)}return n},t.prototype._findFontWeightFallback=function(t,e,i,n){var r=this._fonts.hasKey(t);if(r&&r[e]){var o=r[e];if(o[i])return o[i];if(!n){for(var s in n=[],o)n.push(parseFloat(s));n.sort((function(t,e){return t-e}))}if(i>500){for(var a=0,l=0;l<n.length;l++){if((u=n[l])>i)return o[u];a=u}if(a)return o[a]}else{if(!(i<400))return 400==i?o[500]?o[500]:this._findFontWeightFallback(t,e,300,n):o[400]?o[400]:this._findFontWeightFallback(t,e,300,n);var h=0;for(l=n.length-1;l>=0;l--){var u;if((u=n[l])<i)return o[u];h=u}if(h)return o[h]}}return null},t.prototype._makeInternalName=function(t){return t.name+"-"+t.style+"-"+t.weight},t}(),Pl="undefined"!=typeof window&&"ActiveXObject"in window,Al={"xx-small":7,"x-small":7.5,small:10,medium:12,large:13.5,"x-large":18,"xx-large":24};function Rl(t,e){ve(t,e)}function Ol(t){return Gt(t)/.75}function Dl(t){return.75*Gt(t)}function Il(t,e){var i;return void 0===e&&(e=!0),Ht((i=t?t instanceof He?e?He.fromRgba(t.r,t.g,t.b,t.a):t:vl.fromString(t):He.fromRgba(0,0,0))instanceof He,Cl.InvalidArg("value")),i}function Ml(t,e){return void 0===e&&(e=!0),(wt(t)||t instanceof He)&&(t=new Sl(t)),Ht(null==t&&e||t instanceof Sl,Cl.InvalidArg("value")),t}function Fl(t,e){return void 0===e&&(e=!0),(wt(t)||t instanceof He)&&(t=new Yl(t)),Ht(null==t&&e||t instanceof jl,Cl.InvalidArg("value")),t}function Ll(t,e){return void 0===e&&(e=!0),Ht(null==t&&e||t instanceof El,Cl.InvalidArg("value")),t}function Nl(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=0);var n=!t&&0!==t;if(Ht(!n||e,Cl.ValueCannotBeEmpty("value")),n)return i;if(vt(t)){if(t==t)return t}else if(wt(t)){if(Al[t])return Al[t];var r=parseFloat(t);if(r==r){if(t.match(/(px)$/i))return Dl(r);if(t==r||t.match(/(pt)$/i))return r}}Ht(!1,Cl.InvalidFormat(t))}function zl(t,e){var i={},n=0;return(t=t.replace(/&&/g,(function(t,e,r){return i[e-2*n+n]=!0,n++,"&"}))).replace(/&\[(\S+?)\]/g,(function(t,n,r,o){var s=e[n];return s&&!i[r]?s:t}))}function Bl(t,e){if(kt(t)&&kt(e)){for(var i in t)if(!i||"_"!==i[0]){var n=t[i];if(!(n&&Ct(n.equals)?n.equals(e[i]):Bl(n,e[i])))return!1}return!0}if(Et(t)&&Et(e)){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!Bl(t[r],e[r]))return!1;return!0}return t===e}function Hl(t){return t?t.charAt(0).toUpperCase()+t.slice(1).toLowerCase():t}var Vl=!!(new XMLHttpRequest).overrideMimeType,Ul=function(){function t(){}return t.arrayBufferAsync=function(t,e,i){this._getData(t,{method:"GET",responseType:"arraybuffer",async:!0},e,i)},t.arrayBuffer=function(t,e){var i,n={method:"GET",async:!1};return Pl||!Vl?(n.responseType="arraybuffer",this._getData(t,n,(function(t,e){i=e}),e)):(n.overrideMimeType="text/plain; charset=x-user-defined",this._getData(t,n,(function(t,e){i=new ArrayBuffer(e.length);for(var n=new Uint8Array(i),r=0,o=e.length;r<o;r++)n[r]=255&e.charCodeAt(r)}),e)),i},t.text=function(t,e){var i="";return this._getData(t,{method:"GET",async:!1},(function(t,e){return i=e}),e),i},t._getData=function(t,e,i,n){var r=new XMLHttpRequest;if(e=e||{},r.open(e.method,t,e.async,e.user,e.password),r.addEventListener("load",(function(){if(4===r.readyState){var t=r.status;t>=200&&t<300||304===t?i&&i(r,r.response):n&&n(r)}})),e.headers)for(var o in e.headers)r.setRequestHeader(o,e.headers[o]);e.responseType&&(r.responseType=e.responseType),e.overrideMimeType&&r.overrideMimeType&&r.overrideMimeType(e.overrideMimeType),r.send(e.data)},t}(),Gl=function(){function t(){}return t.getDataUri=function(e){if(Ht(!!(e=Ut(e)),Cl.EmptyUrl),t.DATAURI_CACHE[e])return t.DATAURI_CACHE[e];var i="";if(0===e.indexOf("data:")){if(!e.match(/^data:image\/(png|jpeg|jpg);base64,/))throw Cl.InvalidImageDataUri;i=e}else{var n,r=Ul.arrayBuffer(e,(function(t){return n=t.statusText}));if(n)throw n;try{var o=new Uint16Array(r,0,2);if(55551!==o[0]&&(20617!==o[0]||18254!==o[1]))throw"";var s=t._toBase64(r);i="data:"+(55551===o[0]?"image/jpeg":"image/png")+";base64,"+s}catch(e){throw Cl.InvalidImageFormat}}return t.DATAURI_CACHE[e]=i},t._toBase64=function(t){for(var e="",i=new Uint8Array(t),n=0;n<i.byteLength;n++)e+=String.fromCharCode(i[n]);return("undefined"!=typeof window?window:self).btoa(e)},t.DATAURI_CACHE={},t}(),Wl=function(){function t(){this._ctxProps={xo:0,yo:0,lineGap:0}}return Object.defineProperty(t.prototype,"x",{get:function(){this._switchCtx();var t=this._ndoc.x-this._offset.x;return this._saveCtx(),t},set:function(t){t=Gt(t),this._switchCtx(),this._ndoc.x=t+this._offset.x,this._saveCtx()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){this._switchCtx();var t=this._ndoc.y-this._offset.y;return this._saveCtx(),t},set:function(t){t=Gt(t),this._switchCtx(),this._ndoc.y=t+this._offset.y,this._saveCtx()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineGap",{get:function(){return this._ctxProps.lineGap},set:function(t){this._ctxProps.lineGap=t=Gt(t,!1,!0),this._ndoc&&(this._switchCtx(),this._ndoc.lineGap(t),this._saveCtx())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){var t=this._ndoc.page;return Math.max(0,t.height-t.margins.top-t.margins.bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){var t=this._ndoc.page;return Math.max(t.width-t.margins.left-t.margins.right)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_heightCtm",{get:function(){return this.height/-this._ndoc._ctm[3]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_widthCtm",{get:function(){return this.width/this._ndoc._ctm[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paths",{get:function(){return this._graphics},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"document",{get:function(){return this._pdfdoc},enumerable:!0,configurable:!0}),t.prototype.drawText=function(t,e,i,n){if(this._assertPathStarted(),t=Ut(t)){n=n||{};var r,o=this._pdfdoc,s=this._ndoc,a=n.stroke&&n.fill?2:n.stroke?1:0;!n.strike&&!n.underline||n.stroke||(a=2),this._switchCtx();try{this._drawingText=!0,1&a||o._toggleBrush(Fl(n.brush)),3&a&&o._togglePen(Ml(n.pen)),o._toggleFont(Ll(n.font));var l=this._textOptionsToNative(n);r=null==e?s.textAndMeasure(t,null,null,l):s.textAndMeasure(t,Gt(e)+this._offset.x,Gt(i)+this._offset.y,l)}finally{this._drawingText=!1,this._saveCtx()}return{charCount:r.charCount||0,size:new Oe(r.width||0,r.height||0)}}},t.prototype.drawImage=function(t,e,i,n){if(this._assertPathStarted(),!t)return this;wt(t)&&(t=Gl.getDataUri(t)),this._switchCtx();try{var r={};if(n){switch(Jt(n.align,ll,!0)){case ll.Center:r.align="center";break;case ll.Right:r.align="right";break;default:r.align="left"}switch(Jt(n.vAlign,hl,!0)){case hl.Center:r.valign="center";break;case hl.Bottom:r.valign="bottom";break;default:r.valign="top"}var o=Gt(n.width,!0,!0),s=Gt(n.height,!0,!0);o&&s&&Yt(n.stretchProportionally,!0)?r.fit=[o,s]:(r.width=o,r.height=s)}null==e?this._ndoc.image(t,r):this._ndoc.image(t,Gt(e)+this._offset.x,Gt(i)+this._offset.y,r)}finally{this._saveCtx()}return this},t.prototype.drawSvg=function(t,e,i,n){var r,o,s;if(n=n||{},this._assertPathStarted(),!(t=Ut(t)))return this;if(t.indexOf("data:image/svg")>=0)o=t.substring(t.indexOf(",")+1),r=decodeURIComponent(Array.prototype.map.call(atob(o),(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""));else if(r=Ul.text(t,(function(t){return s=t.statusText})),s)throw s;if(!r)return this;var a,l,h=Gt(n.width,!0,!0),u=Gt(n.height,!0,!0),c=new oh(r,this,h,u,Xt(n.urlResolver)),d=null==i,f=(e=null!=e?e:this.x,i=null!=i?i:this.y,this.y),p=this.x,g=c.root.width.hasVal?c.root.width.val:void 0,_=c.root.height.hasVal?c.root.height.val:void 0;if((h||u)&&g&&_)if(a=h/g,l=u/_,h&&u){if(n.stretchProportionally){var m=Math.min(a,l);if(a===m)switch(Jt(n.vAlign,hl,!0)){case hl.Center:i+=u/2-_*a/2;break;case hl.Bottom:i+=u-_*a}if(l===m)switch(Jt(n.align,ll,!0)){case ll.Center:e+=h/2-g*l/2;break;case ll.Right:e+=h-g*l}a=l=m}}else n.width?l=a:a=l;a=a||1,l=l||1,this._switchCtx(),this._pdfdoc.saveState();try{this.translate(e,i),this.scale(a,l),c.render()}finally{this._pdfdoc.restoreState(),this._saveCtx()}if(this.x=p,this.y=f,d){var w=null!=u?u:null!=_?_*l:void 0;this.y+=w||0}return this},t.prototype.lineHeight=function(t){this._pdfdoc._toggleFont(Ll(t)),this._switchCtx();var e=this._ndoc.currentLineHeight();return this._saveCtx(),e},t.prototype.measureText=function(t,e,i){var n={};if(t=Ut(t)){this._pdfdoc._toggleFont(Ll(e)),this._switchCtx();try{n=this._ndoc.textAndMeasure(t,null,null,this._textOptionsToNative(i),!0)}finally{this._saveCtx()}}return{charCount:n.charCount||0,size:new Oe(n.width||0,n.height||0)}},t.prototype.moveDown=function(t,e){if(void 0===t&&(t=1),t=Gt(t,!1,!0)){this._pdfdoc._toggleFont(Ll(e)),this._switchCtx();try{this._ndoc.moveDown(t)}finally{this._saveCtx()}}return this},t.prototype.moveUp=function(t,e){if(void 0===t&&(t=1),t=Gt(t,!1,!0)){this._pdfdoc._toggleFont(Ll(e)),this._switchCtx();try{this._ndoc.moveUp(t)}finally{this._saveCtx()}}return this},t.prototype.openImage=function(t){return(t=Ut(t))?(t=Gl.getDataUri(t),this._ndoc.openImage(t)):null},t.prototype.scale=function(t,e,i){void 0===e&&(e=t),this._assertPathStarted();var n=Gt((i=i||new Re(0,0)).x)+this._offset.x,r=Gt(i.y)+this._offset.y;return t=Gt(t,!1),e=Gt(e,!1),this._ndoc.scale(t,e,{origin:[n,r]}),this},t.prototype.translate=function(t,e){return this._assertPathStarted(),t=Gt(t),e=Gt(e),this._ndoc.translate(t,e),this},t.prototype.transform=function(t,e,i,n,r,o){this._assertPathStarted(),t=Gt(t),e=Gt(e),i=Gt(i),n=Gt(n),r=Gt(r),o=Gt(o);var s=this._offset.x,a=this._offset.y;return this._ndoc.transform(t,e,i,n,r-t*s+s-i*a,o-e*s-n*a+a),this},t.prototype.rotate=function(t,e){this._assertPathStarted();var i=Gt((e=e||new Re(0,0)).x)+this._offset.x,n=Gt(e.y)+this._offset.y;return t=Gt(t),this._ndoc.rotate(t,{origin:[i,n]}),this},t.prototype.beginTagContent=function(t,e){var i=gl[Jt(t,gl,!1)];return this._pdfdoc._document.markStructureContent(i,this._markedContentOptionsToNative(e))},t.prototype.endTagContent=function(){return this._pdfdoc._document.endMarkedContent(),this},t.prototype.tagContent=function(t,e,i){Ht(Ct(e),"callback must be a function.");var n=this.beginTagContent(t,i);return e(),this.endTagContent(),n},t.prototype.beginArtifact=function(t){return this._pdfdoc._document.markContent("Artifact",this._markedContentOptionsToNative(t)),this},t.prototype.endArtifact=function(){return this._pdfdoc._document.endMarkedContent(),this},t.prototype.artifact=function(t,e){return Ht(Ct(t),"callback must be a function."),this.beginArtifact(e),t(),this.endArtifact(),this},t.prototype._assertPathStarted=function(){Ht(!this.paths._hasPathBuffer(),Cl.PathStarted)},t.prototype._initialize=function(t,e,i){this._pdfdoc=t,this._ndoc=t._document,this._offset=new Re(e,i),this._ctxProps={xo:e,yo:i,lineGap:this._ctxProps.lineGap},this._graphics=new $l(this._pdfdoc,this._offset)},t.prototype._isDrawingText=function(){return this._drawingText},t.prototype._switchCtx=function(){this._pdfdoc._switchTextFlowCtx(this._ctxProps)},t.prototype._saveCtx=function(){this._ctxProps=this._pdfdoc._getTextFlowCtxState()},t.prototype._markedContentOptionsToNative=function(t){var e=il({},t),i=t;if(i&&(null!=i.type&&(e.type=_l[Jt(i.type,_l)]),null!=i.attached&&(e.attached=i.attached.map((function(t){return ml[Jt(t,ml)]}))),i.bbox)){Ht(i.bbox instanceof De,"Rect expected.");var n=this._offset.x+i.bbox.left,r=this._offset.y+i.bbox.top;e.bbox=[n,r,n+i.bbox.width,r+i.bbox.height]}return e},t.prototype._textOptionsToNative=function(t){var e=il({},t=t||{});return null!=t.align&&(e.align=(ul[Jt(t.align,ul)]||"").toLowerCase()),null!=t.baseline&&(e.baseline=(cl[Jt(t.baseline,cl)]||"").toLowerCase()),e},t}(),Yl=function(t){function e(e){var i=t.call(this)||this;return i.color=e||He.fromRgba(0,0,0),i}return el(e,t),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(t){this._color=Il(t)},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return new e(this._color)},e.prototype.equals=function(t){return t instanceof e&&this._color.equals(t._color)},e.prototype._getBrushObject=function(t){return this._color},e}(jl),ql=function(){function t(t,e,i){this.text=t||"",this.font=e||new El,this.brush=Fl(i)||new Yl}return Object.defineProperty(t.prototype,"font",{get:function(){return this._font},set:function(t){t=Ll(t,!0),this._font=t?t.clone():t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(t){this._text=Ut(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"brush",{get:function(){return this._brush},set:function(t){t=Fl(t),this._brush=t?t.clone():t},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t(this.text,this.font,this.brush)},t.prototype.equals=function(e){return e instanceof t&&this._text===e.text&&(this._brush?this._brush.equals(e._brush):this._brush===e._brush)&&(this._font?this._font.equals(e._font):this._font===e._font)},t}(),Xl=function(t){function e(e){var i=t.call(this)||this;return i._height=24,i._declarative=new ql,i._heightChanged=new it,Bt(i,e),i}return el(e,t),Object.defineProperty(e.prototype,"declarative",{get:function(){return this._declarative},set:function(t){null!=t&&(Ht(t instanceof ql,Cl.InvalidArg("value")),t=t.clone()),this._declarative=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){t!==this._height&&(this._height=Gt(t,!1,!0),this._heightChanged.raise(this,nt.empty))},enumerable:!0,configurable:!0}),e.prototype.drawText=function(e,i,n,r){return(r=r||{}).height=1/0,t.prototype.drawText.call(this,e,i,n,r)},e}(Wl),Kl=function(){function t(t,e,i){this.offset=t||0,this.color=e||He.fromRgba(0,0,0),this.opacity=null==i?1:i}return Object.defineProperty(t.prototype,"offset",{get:function(){return this._offset},set:function(t){this._offset=zt(Gt(t,!1,!0),0,1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this._color},set:function(t){this._color=Il(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this._opacity},set:function(t){this._opacity=zt(Gt(t,!1,!0),0,1)},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t(this.offset,this.color,this.opacity)},t.prototype.equals=function(e){return e instanceof t&&this._offset===e._offset&&this._color.equals(e._color)&&this._opacity===e._opacity},t}(),Zl=function(t){function e(e,i){var n=t.call(this)||this;return n.stops=e||[],n.opacity=null==i?1:i,n}return el(e,t),Object.defineProperty(e.prototype,"opacity",{get:function(){return this._opacity},set:function(t){this._opacity=zt(Gt(t,!1,!0),0,1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stops",{get:function(){return this._stops},set:function(t){Ht(Et(t),Cl.InvalidArg("value")),this._stops=this._cloneStopsArray(t)},enumerable:!0,configurable:!0}),e.prototype.equals=function(t){return t instanceof e&&this._opacity===t.opacity&&Bl(this._stops,t._stops)},e.prototype._cloneStopsArray=function(t){for(var e=[],i=0;i<t.length;i++){Ht(t[i]instanceof Kl,Cl.InvalidArg("stops["+i+"]")),e.push(t[i].clone())}return e},e}(jl),Jl=function(t){function e(e,i,n,r,o,s,a,l){var h=t.call(this,a,l)||this;return h.x1=e,h.y1=i,h.r1=n,h.x2=r,h.y2=o,h.r2=s,h}return el(e,t),Object.defineProperty(e.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=Gt(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=Gt(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=Gt(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=Gt(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=Gt(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=Gt(t,!1,!0)},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return new e(this._x1,this._y1,this._r1,this._x2,this._y2,this._r2,this.stops,this.opacity)},e.prototype.equals=function(i){return i instanceof e&&this._x1===i._x1&&this._y1===i._y1&&this._r1===i._r1&&this._x2===i._x2&&this._y2===i._y2&&this._r2===i._r2&&t.prototype.equals.call(this,i)},e.prototype._getBrushObject=function(t){for(var e=t.document._document.radialGradient(this._x1+t._offset.x,this._y2+t._offset.y,this._r1,this._x2+t._offset.x,this._y2+t._offset.y,this._r2),i=this.stops,n=0;n<i.length;n++){var r=i[n];r&&e.stop(r.offset,[r.color.r,r.color.g,r.color.b],r.color.a)}return e},e}(Zl),Ql=function(t){function e(e){var i=t.call(this)||this;i._docInitialized=!1,i._compress=!0,i._bufferPages=!0,i._chunks=[],i._pageIndex=-1,i._version=pl.v1_3,i._permissions={annotating:!1,contentAccessibility:!1,copying:!1,documentAssembly:!1,fillingForms:!1,modifying:!1,printing:fl.NotAllowed},i._tagged=!1,i._displayTitle=!1,i._graphicsStack=[],i._currentGS={},i.info={author:void 0,creationDate:void 0,keywords:void 0,modDate:void 0,subject:void 0,title:void 0},i.pageSettings={layout:al.Portrait,size:dl.Letter,margins:{top:72,left:72,bottom:72,right:72},_copy:function(t,e){if("size"===t)return this.size=e,!0}},i.ended=new it,i.pageAdded=new it,i._runtimeProperties=["pageIndex","x","y"],Bt(i,e);var n=nl();if((i._ownerPassword||i._userPassword)&&!n)throw Cl.SecurityRequirements;if(i._tagged&&i._version<pl.v1_4)throw Cl.TaggedPdfRequirements;var r,o=function(t){i._doc=t,i._fontReg=new Tl(i._doc)},s=function(){i.setPen(i._currentGS[i._pageIndex].pen),i.setBrush(i._currentGS[i._pageIndex].brush),i._curFont=El._DEF_PDFKIT_FONT,i.setFont(new El)},a=!1,l=i.permissions,h={compress:i._compress,bufferPages:i._bufferPages,pdfVersion:["1.3","1.4","1.5","1.6","1.7","1.7ext3"][i._version],ownerPassword:i._ownerPassword||void 0,security:n?n._PDFSecurity:null,permissions:{annotating:Yt(l.annotating,!0),contentAccessibility:Yt(l.contentAccessibility,!0),copying:Yt(l.copying,!0),documentAssembly:Yt(l.documentAssembly,!0),fillingForms:Yt(l.fillingForms,!0),modifying:Yt(l.modifying,!0),printing:(r=Jt(l.printing,fl,!0),r==fl.AllowHighResolution?"highResolution":r==fl.AllowLowResolution?"lowResolution":void 0)},userPassword:i._userPassword||void 0,tagged:i._tagged,displayTitle:i._displayTitle,lang:null==i._lang?void 0:Ut(i._lang),pageAdding:i._ehOnPageAdding=function(t,e){i._docInitialized||(a=!0,o(t)),i._onPageAdding(t,e)},pageAdded:i._ehOnPageAdded=function(t){var e=i._isDrawingText()?i._currentGS[i._pageIndex].brush:new Yl;i._currentGS[++i._pageIndex]={pen:new Sl,brush:e},i._docInitialized||s(),i._onPageAdded(t)}};return i._setDocInfo(h.info={},i.info),i._doc=new PDFDocument(h),a||(o(i._doc),s()),i._doc.on("data",i._ehOnDocData=function(t){i._onDocData(t)}).on("ending",i._ehOnDocEnding=function(){i._onDocEnding()}).on("end",i._ehOnDocEnded=function(){i._onDocEnded()}),i._docInitialized=!0,i}return el(e,t),Object.defineProperty(e.prototype,"compress",{get:function(){return this._compress},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bufferPages",{get:function(){return this._bufferPages},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayTitle",{get:function(){return this._displayTitle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"footer",{get:function(){var t=this;return this._footer||(this._footer=new Xl({_heightChanged:function(){t._docInitialized&&t._resetAreasOffset(t._doc)}})),this._footer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"header",{get:function(){var t=this;return this._header||(this._header=new Xl({_heightChanged:function(){t._docInitialized&&t._resetAreasOffset(t._doc)}})),this._header},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lang",{get:function(){return this._lang},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ownerPassword",{get:function(){return this._ownerPassword},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageIndex",{get:function(){return this._pageIndex},set:function(t){t=Gt(t,!1,!0),this._pageIndex!==t&&(this._doc.switchToPage(t),this._pageIndex=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"permissions",{get:function(){return this._permissions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tagged",{get:function(){return this._tagged},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"userPassword",{get:function(){return this._userPassword},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),e.prototype.onEnded=function(t){this.ended&&this.ended.raise(this,t)},e.prototype.onPageAdded=function(t){this.pageAdded&&this.pageAdded.raise(this,t)},e.prototype.dispose=function(){this._doc&&(this._doc.removeListener("data",this._ehOnDocData).removeListener("ending",this._ehOnDocEnding).removeListener("end",this._ehOnDocEnded).removeListener("pageAdding",this._ehOnPageAdding).removeListener("pageAdded",this._ehOnPageAdded),this._doc=null,this._chunks=null)},Object.defineProperty(e.prototype,"currentPageSettings",{get:function(){var t=this._doc.page;return{layout:"landscape"===t.layout?al.Landscape:al.Portrait,size:Et(t.size)?new Oe(t.size[0],t.size[1]):dl[t.size.match(/\d+/)?t.size:Hl(t.size)],margins:{left:t.margins.left,right:t.margins.right,top:t.margins.top-this.header.height,bottom:t.margins.bottom-this.footer.height}}},enumerable:!0,configurable:!0}),e.prototype.addPage=function(t){var e=this._pageSettingsToNative(t||this.pageSettings);return this._doc.addPage(e),this},e.prototype.bufferedPageRange=function(){return this._doc.bufferedPageRange()},e.prototype.end=function(){this._doc.end()},e.prototype.setBrush=function(t){return this._assertAreasPathStarted(),this._setCurBrush(this._defBrush=Fl(t,!1).clone()),this},e.prototype.setPen=function(t){return this._assertAreasPathStarted(),this._setCurPen(this._defPen=Ml(t,!1).clone()),this},e.prototype.setFont=function(t){return this._setCurFont(this._defFont=Ll(t,!1).clone()),this},e.prototype._getFont=function(){return this._curFont},e.prototype.registerFont=function(t){var e;if(Ht(!!t,Cl.ValueCannotBeEmpty("font")),wt(t.source)){var i;if(e=Ul.arrayBuffer(t.source,(function(t){return i=t.statusText||t.status})),null!=i)throw i}else{if(!(t.source instanceof ArrayBuffer))throw Cl.FontSourceMustBeStringArrayBuffer;e=t.source}return(t=il({},t)).source=e,this._fontReg.registerFont(t),this},e.prototype.registerFontAsync=function(t,e){var i=this;Ht("string"==typeof t.source,Cl.FontSourceMustBeString),Xt(e,!1),Ul.arrayBufferAsync(t.source,(function(n,r){var o=il({},t);o.source=r,i._fontReg.registerFont(o),e(t)}))},e.prototype.saveState=function(){return this._assertAreasPathStarted(),this._graphicsStack.push(this._currentGS[this._pageIndex].pen.clone(),this._defPen.clone(),this._currentGS[this._pageIndex].brush.clone(),this._defBrush.clone()),this._doc.save(),this},e.prototype.restoreState=function(){return this._assertAreasPathStarted(),this._graphicsStack.length&&(this._defBrush=this._graphicsStack.pop(),this._currentGS[this._pageIndex].brush=this._graphicsStack.pop(),this._defPen=this._graphicsStack.pop(),this._currentGS[this._pageIndex].pen=this._graphicsStack.pop()),this._doc.restore(),this},e.prototype.tag=function(t,e,i){var n=gl[Jt(t,gl,!1)];return this._doc.struct(n,i||void 0,e)},e.prototype.addTag=function(t){return this._doc.addStructure(t),this},e.prototype._copy=function(t,e){return"compress"===t?(this._compress=Yt(e),!0):"bufferPages"===t?(this._bufferPages=Yt(e),!0):"ownerPassword"===t?(this._ownerPassword=Ut(e),!0):"userPassword"===t?(this._userPassword=Ut(e),!0):"version"===t?(this._version=Jt(e,pl),!0):"displayTitle"===t?(this._displayTitle=Yt(e),!0):"lang"===t?(this._lang=Ut(e),!0):"tagged"===t?(this._tagged=Yt(e),!0):this._runtimeProperties.indexOf(t)>=0},Object.defineProperty(e.prototype,"_document",{get:function(){return this._doc},enumerable:!0,configurable:!0}),e.prototype._switchTextFlowCtx=function(t){this._doc.x=t.xo,this._doc.y=t.yo,this._doc.lineGap(t.lineGap)},e.prototype._getTextFlowCtxState=function(){return{xo:this._doc.x,yo:this._doc.y,lineGap:this._doc.currentLineGap()}},e.prototype._toggleBrush=function(t){t?this._setCurBrush(t):this._setCurBrush(this._defBrush)},e.prototype._togglePen=function(t){t?this._setCurPen(t):this._setCurPen(this._defPen)},e.prototype._toggleFont=function(t){t?this._setCurFont(t):this._setCurFont(this._defFont)},e.prototype._onDocData=function(t){this._chunks.push(t)},e.prototype._onDocEnding=function(){this._processHeadersFooters(),this._setDocInfo(this._doc.info,this.info)},e.prototype._setDocInfo=function(t,e){var i;e&&((i=e.author)&&(t.Author=i),(i=e.creationDate)&&(t.CreationDate=i),(i=e.keywords)&&(t.Keywords=i),(i=e.modDate)&&(t.ModDate=i),(i=e.subject)&&(t.Subject=i),(i=e.title)&&(t.Title=i))},e.prototype._onDocEnded=function(){if(Pl&&this._chunks.length&&!this._chunks[0].buffer)for(var t=0;t<this._chunks.length;t++){for(var e=this._chunks[t],i=new Uint8Array(e.length),n=0;n<e.length;n++)i[n]=e[n];this._chunks[t]=i.buffer}this.onEnded(new xl(this._chunks)),this._chunks=[]},e.prototype._onPageAdding=function(t,e){if(this.pageSettings){var i=this._pageSettingsToNative(this.pageSettings);e.layout=t.options.layout=i.layout,e.margins=t.options.margins=i.margins,e.size=t.options.size=i.size}},e.prototype._onPageAdded=function(t){t.page.originalMargins=il({},t.page.margins),this._resetAreasOffset(t),this.onPageAdded(nt.empty)},e.prototype._assertAreasPathStarted=function(){this._docInitialized&&(this._assertPathStarted(),this.header._assertPathStarted(),this.footer._assertPathStarted())},e.prototype._pageSettingsToNative=function(t){var e={};if(t){var i=Jt(t.layout,al,!0);null!=i&&(e.layout=(al[i]||"").toLowerCase());var n=t.margins;n&&(e.margins={left:Gt(n.left,!1,!0),right:Gt(n.right,!1,!0),top:Gt(n.top,!1,!0),bottom:Gt(n.bottom,!1,!0)});var r=t.size;null!=r&&(r instanceof Oe?e.size=[Gt(r.width,!1,!0),Gt(r.height,!1,!0)]:(r=Jt(r,dl),e.size=(dl[r]||"").toUpperCase()))}return e},e.prototype._processHeadersFooters=function(){var t=this.header,e=this.footer;if(t.height>0||e.height>0){var i=this._doc;Ht(i.options.bufferPages,Cl.BufferPagesMustBeEnabled);for(var n=i.bufferedPageRange(),r=n.start;r<n.count;r++){var o={Page:r+1,Pages:n.count};this.pageIndex=r,this._renderHeaderFooter(t,o,!0),this._renderHeaderFooter(e,o,!1)}}},e.prototype._renderHeaderFooter=function(t,e,i){if(t.height>0&&t.declarative&&t.declarative.text){var n=zl(t.declarative.text,e).split("\t");n.length>0&&n[0]&&this._renderHeaderFooterPart(t,n[0],ul.Left,i),n.length>1&&n[1]&&this._renderHeaderFooterPart(t,n[1],ul.Center,i),n.length>2&&n[2]&&this._renderHeaderFooterPart(t,n[2],ul.Right,i)}},e.prototype._renderHeaderFooterPart=function(t,e,i,n){var r={font:t.declarative.font,brush:t.declarative.brush,width:t.width,height:t.height,align:i};if(this._tagged&&this.beginArtifact({type:_l.Pagination,attached:[n?ml.Top:ml.Bottom]}),n)this.header.drawText(e,0,0,r);else{r.includeLastLineExternalLeading=!1;var o=this.footer.measureText(e,r.font,r);this.footer.drawText(e,0,this.footer.height-o.size.height,r)}this._tagged&&this.endArtifact()},e.prototype._setCurBrush=function(t){this._currentGS[this.pageIndex].brush.equals(t)||(this._setNativeDocBrush(t,!1),this._currentGS[this.pageIndex].brush=t.clone())},e.prototype._setCurFont=function(t){if(!this._curFont.equals(t)){var e=this._fontReg.findFont(t.family,t.style,t.weight);this._doc.font(e,t.size||El._DEF_FONT.size),this._curFont=t.clone()}},e.prototype._setCurPen=function(t){var e=this._doc,i=this._currentGS[this.pageIndex].pen;!t.brush||i.brush&&i.brush.equals(t.brush)?(i.brush&&!t.brush||!i.brush&&!i.color.equals(t.color))&&e.strokeColor([t.color.r,t.color.g,t.color.b],t.color.a):this._setNativeDocBrush(t.brush,!0),i.width!==t.width&&e.lineWidth(t.width),i.miterLimit!==t.miterLimit&&e.miterLimit(t.miterLimit),i.cap!==t.cap&&e.lineCap(t.cap),i.join!==t.join&&e.lineJoin(t.join),i.dashPattern.equals(t.dashPattern)||(null!=t.dashPattern.dash?e.dash(t.dashPattern.dash,{space:t.dashPattern.gap,phase:t.dashPattern.phase}):null!=i.dashPattern.dash&&e.undash()),this._currentGS[this.pageIndex].pen=t.clone()},e.prototype._setNativeDocBrush=function(t,e){var i=this._doc,n=t._getBrushObject(this),r=1;n instanceof He?(r=n.a,n=[n.r,n.g,n.b]):t instanceof Zl&&(r=t.opacity),e?i.strokeColor(n,r):i.fillColor(n,r)},e.prototype._resetAreasOffset=function(t){t.page.margins.top=t.page.originalMargins.top+this.header.height,t.y=t.page.margins.top,t.page.margins.bottom=t.page.originalMargins.bottom+this.footer.height,this._header._initialize(this,t.page.margins.left,t.page.originalMargins.top),this._initialize(this,t.page.margins.left,t.page.margins.top),this._footer._initialize(this,t.page.margins.left,t.page.height-t.page.margins.bottom)},e}(Wl),$l=function(){function t(t,e){this._pathBuffer=[],this._doc=t,this._ndoc=t._document,this._offset=e}return t.prototype.moveTo=function(t,e){return this._pathBuffer.push({func:this._ndoc.moveTo,params:[Gt(t)+this._offset.x,Gt(e)+this._offset.y]}),this},t.prototype.lineTo=function(t,e){return this._pathBuffer.push({func:this._ndoc.lineTo,params:[Gt(t)+this._offset.x,Gt(e)+this._offset.y]}),this},t.prototype.quadraticCurveTo=function(t,e,i,n){return this._pathBuffer.push({func:this._ndoc.quadraticCurveTo,params:[Gt(t)+this._offset.x,Gt(e)+this._offset.y,Gt(i)+this._offset.x,Gt(n)+this._offset.y]}),this},t.prototype.bezierCurveTo=function(t,e,i,n,r,o){return this._pathBuffer.push({func:this._ndoc.bezierCurveTo,params:[Gt(t)+this._offset.x,Gt(e)+this._offset.y,Gt(i)+this._offset.x,Gt(n)+this._offset.y,Gt(r)+this._offset.x,Gt(o)+this._offset.y]}),this},t.prototype.svgPath=function(t){if(t){var e=wl.offset(Ut(t),this._offset);this._pathBuffer.push({func:this._ndoc.path,params:[Ut(e)]})}return this},t.prototype.closePath=function(){return this._writePathBuffer(),this._ndoc.closePath(),this},t.prototype.rect=function(t,e,i,n){return this._pathBuffer.push({func:this._ndoc.rect,params:[Gt(t)+this._offset.x,Gt(e)+this._offset.y,Gt(i,!1,!0),Gt(n,!1,!0)]}),this},t.prototype.roundedRect=function(t,e,i,n,r){return void 0===r&&(r=0),this._pathBuffer.push({func:this._ndoc.roundedRect,params:[Gt(t)+this._offset.x,Gt(e)+this._offset.y,Gt(i,!1,!0),Gt(n,!1,!0),Gt(r,!1,!0)]}),this},t.prototype.ellipse=function(t,e,i,n){return void 0===n&&(n=i),this._pathBuffer.push({func:this._ndoc.ellipse,params:[Gt(t)+this._offset.x,Gt(e)+this._offset.y,Gt(i,!1,!0),Gt(n,!1,!0)]}),this},t.prototype.circle=function(t,e,i){return this._pathBuffer.push({func:this._ndoc.circle,params:[Gt(t)+this._offset.x,Gt(e)+this._offset.y,Gt(i,!1,!0)]}),this},t.prototype.polygon=function(t){if(t)for(var e=0;e<t.length;e++){var i=t[e];i[0]=i[0]+this._offset.x,i[1]=i[1]+this._offset.y}return this._pathBuffer.push({func:this._ndoc.polygon,params:t}),this},t.prototype.clip=function(t){return void 0===t&&(t=sl.NonZero),this._writePathBuffer(),this._ndoc.clip(t===sl.EvenOdd?"even-odd":"non-zero"),this},t.prototype.fill=function(t,e){return this._doc._toggleBrush(Fl(t)),this._writePathBuffer(),this._ndoc.fill(e===sl.EvenOdd?"even-odd":"non-zero"),this},t.prototype.fillAndStroke=function(t,e,i){return this._doc._toggleBrush(Fl(t)),this._doc._togglePen(Ml(e)),this._writePathBuffer(),this._ndoc.fillAndStroke(i===sl.EvenOdd?"even-odd":"non-zero"),this},t.prototype.stroke=function(t){return this._doc._togglePen(Ml(t)),this._writePathBuffer(),this._ndoc.stroke(),this},t.prototype._hasPathBuffer=function(){return this._pathBuffer.length>0},t.prototype._writePathBuffer=function(){for(var t=this._ndoc,e=this._pathBuffer,i=0,n=e.length;i<n;i++){var r=e[i];r.func.apply(t,r.params)}this._pathBuffer=[]},t}();function th(t){return t&&(t=t.trim().replace(/\s+/gm," ")),t}function eh(t,e){return t&&e&&!/(^[a-z][a-z0-9]*:)?\/\//i.test(t)&&(t=e(t)),t}var ih,nh=function(){function t(t,e){this.selector=t,this.declarations={},this._fillDeclarations(e)}return t.prototype._fillDeclarations=function(t){var e=this;t&&t.split(";").forEach((function(t){if(t){var i=t.split(":");if(2===i.length){var n=i[0].trim().toLowerCase(),r=i[1].trim();if(n&&r){var o=/!important$/i.test(r);o&&(r=r.replace(/!important$/i,"").trim()),r&&(e.declarations[n]={value:r,important:o})}}}}))},t}(),rh=function(){function t(){}return t.matchesSelector=function(t,e){var i=!1;try{i=(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}catch(t){}return i},t.getSpecificity=function(t){var e=0,i=0,n=0,r=function(e){var i=(t.match(e)||[]).length;return i&&(t=t.replace(e,"")),i};return t=t.replace(/:not\(([^\)]*)\)/g,(function(t,e){return" "+e+" "})),i+=r(/(\[[^\]]+\])/g),e+=r(/(#[^\s\+>~\.\[:]+)/g),i+=r(/(\.[^\s\+>~\.\[:]+)/g),n+=r(/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi),i+=r(/(:[\w-]+\([^\)]*\))/gi),i+=r(/(:[^\s\+>~\.\[:]+)/g),t=(t=t.replace(/[\*\s\+>~]/g," ")).replace(/[#\.]/g," "),e<<16|i<<8|n+r(/([^\s\+>~\.\[:]+)/g)},t.getComputedStyle=function(t,e){var i=this,n={},r=[];if(t.className){r=[];for(var o=0,s=Object.keys(e);o<s.length;o++){var a=s[o];this.matchesSelector(t,a)&&r.push(e[a])}}r.sort((function(t,e){return i.getSpecificity(t.selector)-i.getSpecificity(e.selector)}));var l=t.getAttribute("style");for(l&&r.push(new nh("_inline_",th(l))),o=0;o<r.length;o++){var h=r[o],u=0;for(s=Object.keys(h.declarations);u<s.length;u++){var c=s[u],d=h.declarations[c];null!=n[c]&&!d.important&&n[c].important||(n[c]=d)}}var f={};for(o=0,s=Object.keys(n);o<s.length;o++)f[c=s[o]]=n[c].value;return f},t.registerFontFace=function(t,e,i){var n=e.declarations;n["font-family"]&&n.src&&n.src.value.split(",").every((function(e){if(e.match(/format\(\s*['"]?truetype['"]?\s*\)/i)){var r=e.match(/url\(\s*['"]?([^'"\)]+)['"]?\s*\)/i);if(r){var o=r[1].trim(),s=!1;if(o=eh(o,i)){var a={name:n["font-family"].value,source:o,weight:n["font-weight"]?n["font-weight"].value.toLowerCase():"normal",style:n["font-style"]?n["font-style"].value.toLowerCase():"normal"};try{t.registerFont(a),s=!0}catch(t){}}return!s}}return!0}))},t}(),oh=function(){function t(t,e,i,n,r){var o=this;this._elementsById={},this._registeredCssRules={},Ht(null!=e,Cl.ValueCannotBeEmpty("svgString")),this._doc=e.document;var s=this._parse(t);s&&(this._svg=new Th({area:e,urlResolver:r,getElement:this._getElementById.bind(this),registerCssRule:function(t){o._registerCssRule(t,r)}},null),this._copyAttributes(s,this._svg),this._buildTree(s,this._svg),this._svg.viewport=new Oe(null!=i?i:e.width,null!=n?n:e.height))}return Object.defineProperty(t.prototype,"root",{get:function(){return this._svg},enumerable:!0,configurable:!0}),t.prototype.render=function(t){this._svg&&this._svg.render(t||this._svg.viewport)},t.prototype._parse=function(t){if(t){var e=new DOMParser;return e.async=!1,e.parseFromString(t,"text/xml").getElementsByTagName("svg")[0]}},t.prototype._buildTree=function(t,e,i){for(var n=0;t.childNodes&&n<t.childNodes.length;n++){var r=t.childNodes.item(n),o=r.nodeName;if(1===r.nodeType){var s=this._getClassName(o);if(d[s]){var a,l=new d[s](e.ctx,r);this._copyAttributes(r,l),e.appendNode(l),(a=r.getAttribute("id"))&&(this._elementsById[a]=l),this._buildTree(r,l,"text"===o||i&&"tspan"===o)}}else if(3===r.nodeType&&i){var h=r.textContent.trim();if(h){0!=n&&1===t.childNodes[n-1].nodeType&&r.textContent.match(/^\s/)&&e.appendNode(new Oh(e.ctx,null," "));var u=th(r.textContent);e.appendNode(new Oh(e.ctx,null,u))}h&&!r.textContent.match(/\s$/)||e.appendNode(new Oh(e.ctx,null," "))}}},t.prototype._getClassName=function(t){return"_Svg"+t.charAt(0).toUpperCase()+t.substring(1)+"ElementImpl"},t.prototype._copyAttributes=function(t,e){for(var i=0;i<t.attributes.length;i++){var n=t.attributes.item(i);e.attr(n.name,n.value)}for(var r=rh.getComputedStyle(t,this._registeredCssRules),o=(i=0,Object.keys(r));i<o.length;i++){var s=o[i];e.attr(s,r[s])}},t.prototype._getElementById=function(t){return t=(t||"").replace("#",""),this._elementsById[t]},t.prototype._registerCssRule=function(t,e){"@"!==t.selector[0]?this._registeredCssRules[t.selector]=t:"@font-face"===t.selector&&rh.registerFontFace(this._doc,t,e)},t}(),sh=function(t){function e(e,i,n,r,o,s){var a=t.call(this,o,s)||this;return a.x1=e,a.y1=i,a.x2=n,a.y2=r,a}return el(e,t),Object.defineProperty(e.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=Gt(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=Gt(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=Gt(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=Gt(t,!1,!0)},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return new e(this._x1,this._y1,this._x2,this._y2,this.stops,this.opacity)},e.prototype.equals=function(i){return i instanceof e&&this._x1===i._x1&&this._y1===i._y1&&this._x2===i._x2&&this._y2===i._y2&&t.prototype.equals.call(this,i)},e.prototype._getBrushObject=function(t){for(var e=t.document._document.linearGradient(this._x1+t._offset.x,this._y1+t._offset.y,this._x2+t._offset.x,this._y2+t._offset.y),i=this.stops,n=0;n<i.length;n++){var r=i[n];r&&e.stop(r.offset,[r.color.r,r.color.g,r.color.b],r.color.a)}return e},e}(Zl);Le("wijmo.pdf",d),function(t){t[t.Render=0]="Render",t[t.Ignore=1]="Ignore",t[t.Clip=2]="Clip"}(ih||(ih={}));var ah,lh,hh,uh=function(){function t(t,e,i){void 0===i&&(i=ih.Render),this._children=[],this._attributes={},this._defRenderMode=i,this._ctx=t}return Object.defineProperty(t.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ctx",{get:function(){return this._ctx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},set:function(t){this._parent=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style||(this._style=new $h(this)),this._style},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"viewport",{get:function(){return this._viewport},set:function(t){this._viewport=t.clone()},enumerable:!0,configurable:!0}),t.prototype.attr=function(t,e){return t=t.toLowerCase(),arguments.length>1&&(this._attributes[t]=e),this._attributes[t]},t.prototype.appendNode=function(t){t&&t!==this&&t.parent!==this&&(t.remove(),this.children.push(t),t.parent=this)},t.prototype.copyAttributesFrom=function(t,e){if(t){var i=t._attributes,n=this._attributes;for(var r in i)i.hasOwnProperty(r)&&null==n[r]&&(!e||e.indexOf(r)<0)&&(n[r]=i[r])}},t.prototype.clone=function(){var t=new(Function.prototype.bind.call(this.constructor,null,this.ctx,null));return t.copyAttributesFrom(this),this._children.forEach((function(e){t.appendNode(e.clone())})),t},t.prototype.remove=function(){var t=this.parent;if(t){for(var e=0;e<t.children.length;e++)if(t.children[e]===this){t.children.splice(e,1);break}this.parent=null}},t.prototype.clearAttr=function(t){delete this._attributes[t.toLowerCase()]},t.prototype.render=function(t,e){this._viewport=t.clone(),(this._curRenderMode=e||this._defRenderMode)!==ih.Ignore&&this._render()},Object.defineProperty(t.prototype,"renderMode",{get:function(){return this._curRenderMode},enumerable:!0,configurable:!0}),t.prototype._render=function(){this._renderContent()},t.prototype._renderContent=function(){for(var t=0;t<this._children.length;t++)this._children[t].render(this.viewport,this.renderMode)},t}(),ch=function(t){function e(e,i,n){void 0===n&&(n=ih.Render);var r=t.call(this,e,i,n)||this;return r._clipPath=new Uh(r,"clip-path"),r}return el(e,t),e.prototype._render=function(){var e,i=this.ctx.area;if(this._clipPath.val){var n=this.ctx.getElement(this._clipPath.val);(e=!!(n&&n instanceof yh))&&(i.document.saveState(),n.render(this.viewport,ih.Clip),i.paths.clip(this.style.clipRule.val))}t.prototype._render.call(this),e&&i.document.restoreState()},e}(uh),dh=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n._transform=new Wh(n),n}return el(e,t),e.prototype._render=function(){var e=this._transform.hasVal&&this.renderMode!==ih.Clip;e&&(this.ctx.area.document.saveState(),this._transform.apply(this)),t.prototype._render.call(this),e&&this.ctx.area.document.restoreState()},e}(ch),fh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._fill=!0,e._stroke=!0,e}return el(e,t),e.prototype._renderContent=function(){this._draw(),this.style.apply(this,this._fill,this._stroke)},e.prototype._draw=function(){Ht(!1,Cl.AbstractMethod)},e}(dh),ph=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return el(e,t),e.prototype._draw=function(){var t=new Lh(this,"r",0).val;if(t>0){var e=new Lh(this,"cx",0,ah.Default,lh.Width).val,i=new Lh(this,"cy",0,ah.Default,lh.Height).val;this.ctx.area.paths.circle(e,i,t)}},e}(fh),gh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return el(e,t),e.prototype._draw=function(){var t=new Lh(this,"rx",0,ah.Default,lh.Width).val,e=new Lh(this,"ry",0,ah.Default,lh.Height).val;if(t>0&&e>0){var i=new Lh(this,"cx",0,ah.Default,lh.Width).val,n=new Lh(this,"cy",0,ah.Default,lh.Height).val;this.ctx.area.paths.ellipse(i,n,t,e)}},e}(fh),_h=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n._fill=!1,n}return el(e,t),e.prototype._draw=function(){var t=new Lh(this,"x1",0,ah.Default,lh.Width).val,e=new Lh(this,"y1",0,ah.Default,lh.Height).val,i=new Lh(this,"x2",0,ah.Default,lh.Width).val,n=new Lh(this,"y2",0,ah.Default,lh.Height).val;this.ctx.area.paths.moveTo(t,e).lineTo(i,n)},e}(fh),mh=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n._d=new Nh(n,"d"),n}return el(e,t),e.prototype._renderContent=function(){var e=this.ctx.area;if(this.renderMode===ih.Clip){if(this._d.hasVal){var i=wl.scale(this._d.val,.75);this.attr("d",i),this._d.reset()}t.prototype._renderContent.call(this)}else e.document.saveState(),e.scale(.75),t.prototype._renderContent.call(this),e.document.restoreState()},e.prototype._draw=function(){this._d.hasVal&&this.ctx.area.paths.svgPath(this._d.val)},e}(fh),wh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return el(e,t),e.prototype._draw=function(){var t=new Gh(this,"points");if(t.hasVal){var e=t.val,i=this.ctx.area;if(e.length>1){for(var n=0;n<e.length;n++)0==n?i.paths.moveTo(e[n].x,e[n].y):i.paths.lineTo(e[n].x,e[n].y);return!0}}return!1},e}(fh),bh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return el(e,t),e.prototype._draw=function(){return!!t.prototype._draw.call(this)&&(this.ctx.area.paths.closePath(),!0)},e}(wh),vh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return el(e,t),e.prototype._draw=function(){var t=new Lh(this,"width",0,ah.Default,lh.Width).val,e=new Lh(this,"height",0,ah.Default,lh.Height).val;if(t>0&&e>0){var i=new Lh(this,"x",0,ah.Default,lh.Width).val,n=new Lh(this,"y",0,ah.Default,lh.Height).val,r=Math.max(new Lh(this,"rx",0,ah.Default,lh.Width).val,0),o=Math.max(new Lh(this,"ry",0,ah.Default,lh.Height).val,0),s=this.ctx.area.paths;r||o?(r=Math.min(r||o,t/2),o=Math.min(o||r,e/2),s.moveTo(i+r,n),s.lineTo(i+t-r,n),s.quadraticCurveTo(i+t,n,i+t,n+o),s.lineTo(i+t,n+e-o),s.quadraticCurveTo(i+t,n+e,i+t-r,n+e),s.lineTo(i+r,n+e),s.quadraticCurveTo(i,n+e,i,n+e-o),s.lineTo(i,n+o),s.quadraticCurveTo(i,n,i+r,n)):s.rect(i,n,t,e)}},e}(fh),yh=function(t){function e(e,i){return t.call(this,e,i,ih.Ignore)||this}return el(e,t),e}(uh),xh=function(t){function e(e,i){return t.call(this,e,i,ih.Ignore)||this}return el(e,t),e}(ch),Ch=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return el(e,t),e}(dh),jh=function(t){function e(e,i){var n=t.call(this,e,i,ih.Ignore)||this;return n._x1=new Nh(n,"x1","0%"),n._x2=new Nh(n,"x2","100%"),n._y1=new Nh(n,"y1","0%"),n._y2=new Nh(n,"y2","0%"),n._gradientUnits=new Nh(n,"gradientUnits","objectBoundingBox"),n}return el(e,t),e.prototype.toBrush=function(t){for(var e=new De(new Lh(t,"x",0,ah.Default,lh.Width).val,new Lh(t,"y",0,ah.Default,lh.Height).val,new Lh(t,"width",0,ah.Default,lh.Width).val,new Lh(t,"height",0,ah.Default,lh.Height).val),i="objectBoundingBox"===this._gradientUnits.val?new Oe(e.width,e.height):t.viewport.clone(),n=Lh.parseValue(this._x1.val,hh.Number,i,lh.Width,ah.Default),r=Lh.parseValue(this._x2.val,hh.Number,i,lh.Width,ah.Default),o=Lh.parseValue(this._y1.val,hh.Number,i,lh.Height,ah.Default),s=Lh.parseValue(this._y2.val,hh.Number,i,lh.Height,ah.Default),a=[],l=0;l<this.children.length;l++)if(this.children[l]instanceof Sh){var h=this.children[l];a.push(new Kl(Lh.parseValue(h.offset.val,hh.Number,i,lh.Other,ah.Default),h.color.val,h.opacity.val))}return new sh(e.left+n,e.top+o,e.left+r,e.top+s,a)},e}(uh),Sh=function(t){function e(e,i){var n=t.call(this,e,i,ih.Ignore)||this;return n.color=new zh(n,"stop-color","black"),n.opacity=new Lh(n,"stop-opacity",1,ah.None,void 0,!0),n.offset=new Nh(n,"offset","0"),n}return el(e,t),e}(uh),Eh=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n._x=new Lh(n,"x",0,ah.Default,lh.Width),n._y=new Lh(n,"y",0,ah.Default,lh.Height),n._width=new Lh(n,"width",0,ah.Default,lh.Width),n._height=new Lh(n,"height",0,ah.Default,lh.Height),n._href=new Vh(n,"xlink:href"),n._par=new Xh(n),n}return el(e,t),e.prototype._renderContent=function(){var t=this._width.val,e=this._height.val;if(t>0&&e>0&&this._href.hasVal){var i=eh(this._href.val,this.ctx.urlResolver);if(i){this.ctx.area.document.saveState(),(this._x.val||this._y.val)&&this.ctx.area.translate(this._x.val,this._y.val),this.viewport=new Oe(t,e);try{this._href.val.match(/\.svg$/i)?this._renderSvgImage(i):this._renderRasterImage(i)}catch(t){}this.ctx.area.document.restoreState()}}},e.prototype._renderSvgImage=function(t){var e,i=Ul.text(t,(function(t){return e=t.statusText}));if(e)throw e;var n=new oh(i,this.ctx.area),r=n.root;this.attr("viewBox",r.attr("viewBox")),r.clearAttr("viewBox"),r.clearAttr("x"),r.clearAttr("y"),r.clearAttr("width"),r.clearAttr("height"),r.clearAttr("preserveAspectRatio"),r.clearAttr("clip"),r.clearAttr("overflow"),this.ctx.area.paths.rect(0,0,this.viewport.width,this.viewport.height).clip();var o=new Kh(this);n.render(o.apply(this))},e.prototype._renderRasterImage=function(t){var e=this.ctx.area.openImage(Gl.getDataUri(t)),i=this._par.val,n=this.viewport.width,r=this.viewport.height,o={width:n,height:r,align:ll.Left,vAlign:hl.Top};if("none"===i.align)o.stretchProportionally=!1;else if(o.stretchProportionally=!0,i.meet)i.align.match(/^xMid/)?o.align=ll.Center:i.align.match(/^xMax/)&&(o.align=ll.Right),i.align.match(/YMid$/)?o.vAlign=hl.Center:i.align.match(/YMax$/)&&(o.vAlign=hl.Bottom);else{var s=Dl(e.width),a=Dl(e.height),l=n/s,h=r/a;l>h?(o.width=s*l,o.height=a*l):(o.width=s*h,o.height=a*h);var u=0,c=0;i.align.match(/^xMid/)?u=-o.width/2+n/2:i.align.match(/^xMax/)&&(u=-o.width+n),i.align.match(/YMid$/)?c=-o.height/2+r/2:i.align.match(/YMax$/)&&(c=-o.height+r),this.ctx.area.paths.rect(0,0,this.viewport.width,this.viewport.height).clip(),(u||c)&&this.ctx.area.translate(u,c)}this.ctx.area.drawImage(e,0,0,o)},e}(dh),kh=function(t){function e(e,i){var n=t.call(this,e,i,ih.Ignore)||this;if(i&&(!i.type||"text/css"===i.type)){for(var r="",o=0;o<i.childNodes.length;o++)r+=i.childNodes[o].textContent;var s=(r=(r=th(r)).replace(/\/\*([^*]|\*+[^*/])*\*+\//gm,"")).match(/[^{}]*{[^}]*}/g);if(s)for(o=0;o<s.length;o++){var a=s[o].match(/([^{}]*){([^}]*)}/);if(a){var l=a[1].trim().split(","),h=a[2].trim();l.length&&h&&l.forEach((function(t){(t=t.trim())&&n.ctx.registerCssRule(new nh(t,h))}))}}}return n}return el(e,t),e}(uh),Th=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n._x=new Lh(n,"x",0,ah.Default,lh.Width),n._y=new Lh(n,"y",0,ah.Default,lh.Height),n._width=new Lh(n,"width","100%",ah.Default,lh.Width),n._height=new Lh(n,"height","100%",ah.Default,lh.Height),n._scale=new Kh(n),n._overflow=new Nh(n,"overflow","hidden"),n}return el(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),e.prototype._render=function(){var e=this.ctx.area;e.document.saveState();var i=this._width.val,n=this._height.val,r=this._x.val,o=this._y.val;this.parent&&(r||o)&&e.translate(r,o),this.viewport=new Oe(i,n),"visible"!==this._overflow.val&&e.paths.rect(0,0,i,n).clip(),this.viewport=this._scale.apply(this),this.viewport.width>0&&this.viewport.height>0&&t.prototype._render.call(this),e.document.restoreState()},e}(ch),Ph=function(t){function e(e,i){return t.call(this,e,i,ih.Ignore)||this}return el(e,t),e}(ch),Ah=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n._xlink=new Uh(n,"xlink:href"),n}return el(e,t),e.prototype._render=function(){var t,e;if(this._xlink.hasVal&&(t=this.ctx.getElement(this._xlink.val))){var i=new Ch(this.ctx,null);if(i.parent=this.parent,i.copyAttributesFrom(this,["x","y","width","height","xlink:href"]),null!=this.attr("x")||null!=this.attr("y")){var n=Mt("translate({x},{y})",{x:this.attr("x")||0,y:this.attr("y")||0});i.attr("transform",(e=i.attr("transform"))?e+" "+n:n)}if(t instanceof Ph){var r=new Th(this.ctx,null);r.copyAttributesFrom(t);for(var o=0;o<t.children.length;o++)r.appendNode(t.children[o].clone());i.appendNode(r),r.attr("width",this.attr("width")||"100%"),r.attr("height",this.attr("height")||"100%")}else t=t.clone(),i.appendNode(t),t instanceof Th&&(null!=(e=this.attr("width"))&&t.attr("width",e),null!=(e=this.attr("height"))&&t.attr("height",e));i.render(this.viewport,this.renderMode)}},e}(uh),Rh=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n._x=new Lh(n,"x",0,ah.Default,lh.Width),n._y=new Lh(n,"y",0,ah.Default,lh.Height),n._dx=new Lh(n,"dx",0,ah.Default,lh.Width),n._dy=new Lh(n,"dy",0,ah.Default,lh.Height),n._textDecoration=new Yh(n),n}return el(e,t),e.prototype._render=function(){this.renderMode===ih.Render&&t.prototype._render.call(this)},e.prototype._renderContent=function(){var t=this;this._prepareNodes();for(var e=this._x.val+this._dx.val,i=this._y.val+this._dy.val,n=function(r,o){if(r._x.hasVal&&(e=r._x.val),r._y.hasVal&&(i=r._y.val),e+=r._dx.val,i+=r._dy.val,r._text)r._cx=e,r._cy=i,r._setDecorators(o),r.render(t.viewport,t.renderMode),e+=t.ctx.area.measureText(r._text,r.style.font.toFont(),{width:1/0,height:1/0,includeLastLineExternalLeading:!1}).size.width;else for(var s=0;s<r.children.length;s++){var a=o.slice();a.push({decoration:r._textDecoration,style:r.style}),n(r.children[s],a)}},r=0;r<this.children.length;r++)n(this.children[r],[{decoration:this._textDecoration,style:this.style}])},e.prototype._prepareNodes=function(){var t=function(e){for(var i=0;i<e.children.length;i++){var n=e.children[i];!n._text&&t(n)&&n.remove()}return 0===e.children.length},e=[],i=function(t){for(var n=0;n<t.children.length;n++){var r=t.children[n];r._text?e.push(r):i(r)}};t(this),i(this);for(var n=0;n<e.length;n++){var r=e.length;" "===e[n]._text&&(0===n||n===r-1||n<r-1&&" "===e[n+1]._text)&&(e[n].remove(),e.splice(n,1),n--)}},e}(dh),Oh=function(t){function e(e,i,n){var r=t.call(this,e,i)||this;return r._textDecoration=new Yh(r),r._text=Ut(n),r._x=new Lh(r,"x",0,ah.Default,lh.Width),r._y=new Lh(r,"y",0,ah.Default,lh.Height),r._dx=new Lh(r,"dx",0,ah.Default,lh.Width),r._dy=new Lh(r,"dy",0,ah.Default,lh.Height),r._textDecoration=new Yh(r),r}return el(e,t),e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._text=this._text,e},e.prototype._setDecorators=function(t){this._decorators=t},e.prototype._renderContent=function(){if(this._text){var t={font:this.style.font.toFont(),width:1/0,height:1/0,lineBreak:!1,fill:"none"!==this.style.fill.color.val,stroke:"none"!==this.style.stroke.color.val,baseline:cl.Alphabetic};this._decorate(),(t.fill||t.stroke)&&(t.fill&&(t.brush=this.style.fill.toBrush(this)),t.stroke&&(t.pen=this.style.stroke.toPen(this)),this.ctx.area.drawText(this._text,this._cx,this._cy,t))}},e.prototype._decorate=function(){var t=this.ctx.area,e=!1;this._decorators.push({decoration:this._textDecoration,style:this.style});for(var i=0;i<this._decorators.length&&!e;i++)e=null!=this._decorators[i].decoration.val;if(e){t.document.saveState();for(var n,r=t.document._document,o=t.measureText(this._text,this.style.font.toFont(),{width:1/0,height:1/0,includeLastLineExternalLeading:!1}).size,s=Math.max(r.currentFontSize()/20,.1),a=r.currentFontAscender(),l=this._cx;n=this._decorators.shift();){var h=n.decoration.val;if(h){for(var u=0;u<h.length;u++){var c=this._cy-a;switch(h[u]){case"line-through":c=c+o.height/2-s/2;break;case"overline":c-=r.currentFontBBox().ury-r.currentFontAscender();break;case"underline":c=c+o.height-1.5*s}t.paths.rect(l,c,o.width,s)}n.style.apply(this,!0,!0)}}t.document.restoreState()}},e}(ch);!function(t){t[t.Default=1]="Default",t[t.None=2]="None",t[t.Px=3]="Px"}(ah||(ah={})),function(t){t[t.Width=1]="Width",t[t.Height=2]="Height",t[t.Other=3]="Other"}(lh||(lh={})),function(t){t[t.Number=1]="Number",t[t.String=2]="String"}(hh||(hh={}));var Dh,Ih,Mh,Fh=function(){function t(t,e,i,n,r,o,s){void 0===n&&(n=void 0),void 0===r&&(r=ah.Default),void 0===o&&(o=lh.Other),void 0===s&&(s=!1),Ht(!!t,Cl.ValueCannotBeEmpty("owner")),Ht(!!e,Cl.ValueCannotBeEmpty("propName")),this._owner=t,this._propName=e,this._propType=i,this._defValue=n,this._inheritable=s,this._nc=r,this._pCtx=o,this._searchValue=!0}return t.parseValue=function(t,e,i,n,r){if(null==t)return t;if(e&hh.Number){var o,s;if("number"==typeof t)o=t;else{var a=t.match(/^([\+-]?[\d\.]+)(em|ex|px|pt|pc|cm|mm|in|%)?$/);a&&(o=parseFloat(a[1]),s=a[2])}if(null!=o&&o==o){if(r!==ah.Default){if(s)throw Cl.InvalidFormat(t);if(r===ah.None)return o}switch(s){case"mm":return 72*o/25.4;case"cm":return 72*o/2.54;case"in":return 72*o;case"pt":return o;case"pc":return 12*o;case"%":switch(n){case lh.Height:o*=i.height/100;break;case lh.Width:o*=i.width/100;break;case lh.Other:o*=Math.sqrt(i.width*i.width+i.height*i.height)/Math.sqrt(2)/100}return o;default:return.75*o}}}if(e&hh.String)return t+"";throw Cl.InvalidFormat(t)},Object.defineProperty(t.prototype,"hasVal",{get:function(){return null!=this._val},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"val",{get:function(){if(null!=this._val)return this._val;var t=Ct(this._defValue)?this._defValue.call(this,this._owner.ctx):this._defValue;return this._parse(t)},set:function(t){this._searchValue=!1,this._value=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_val",{get:function(){if(this._searchValue){this._searchValue=!1;for(var t,e=this._owner;e&&(t=e.attr(this._propName),this._inheritable&&(null==t||"inherit"==t));e=e.parent);this._value="inherit"===t?void 0:this._parse(t)}return this._value},enumerable:!0,configurable:!0}),t.prototype.reset=function(){this._value=void 0,this._searchValue=!0},t.prototype._parse=function(e,i){return t.parseValue(e,this._propType,this._owner.viewport,this._pCtx,i||this._nc)},t}(),Lh=function(t){function e(e,i,n,r,o,s){return void 0===n&&(n=void 0),void 0===r&&(r=ah.Default),void 0===o&&(o=lh.Other),t.call(this,e,i,hh.Number,n,r,o,s)||this}return el(e,t),e}(Fh),Nh=function(t){function e(e,i,n,r){return t.call(this,e,i,hh.String,n,void 0,void 0,r)||this}return el(e,t),e}(Fh),zh=function(t){function e(e,i,n,r){return void 0===n&&(n=void 0),void 0===r&&(r=!0),t.call(this,e,i,hh.String,n,ah.None,lh.Other,r)||this}return el(e,t),e.prototype.asHref=function(){var t=this.val.match(/url\((.+)\)/);return t?t[1]:null},e.prototype._parse=function(e){if(""!==e&&"null"!==e&&"undefined"!==e)return t.prototype._parse.call(this,e)},e}(Fh),Bh=function(t){function e(e){return t.call(this,e,"stroke-dasharray",hh.Number,void 0,ah.Px,lh.Other,!0)||this}return el(e,t),e.prototype._parse=function(e){var i,n=(e||"").trim().split(/[\s,]+/);if(n.length){i=[];try{for(var r=0;r<n.length;r++)n[r]&&i.push(t.prototype._parse.call(this,n[r]))}catch(t){return}return i.length?i:void 0}return i},e}(Fh),Hh=function(t){function e(e,i){return t.call(this,e,i,hh.String,sl.NonZero,void 0,void 0,!0)||this}return el(e,t),e.prototype._parse=function(t){if(vt(t))return t;var e=(t||"").match(/(nonzero|evenodd)/i);return e?"nonzero"===e[1]?sl.NonZero:sl.EvenOdd:void 0},e}(Fh),Vh=function(t){function e(e,i){return t.call(this,e,i)||this}return el(e,t),e.prototype._parse=function(t){var e=(t=(t||"").trim()).match(/url\((.+)\)/);return e&&(t=e[1].trim()),t.replace(/["']/g,"")},e}(Nh),Uh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return el(e,t),e.prototype._parse=function(e){if((e=t.prototype._parse.call(this,e))&&"#"===e[0])return e.substring(1)},e}(Vh),Gh=function(t){function e(e,i){return t.call(this,e,i,hh.Number,void 0,ah.Px)||this}return el(e,t),e.prototype._parse=function(e){var i,n=(e||"").trim().split(/[\s,]+/),r=2*Math.floor(n.length/2);if(r){i=[];try{for(var o=0;o<r-1;o+=2)i.push(new Re(t.prototype._parse.call(this,n[o]),t.prototype._parse.call(this,n[o+1])))}catch(t){return}}return i},e}(Fh),Wh=function(t){function e(e){return t.call(this,e,"transform",hh.Number,void 0,ah.None)||this}return el(e,t),e.prototype.apply=function(t){var e=t.ctx.area;this.hasVal&&this.val.forEach((function(t){t(e)}))},e.prototype._parse=function(e){var i=this,n=[],r=(e||"").match(/((matrix|translate|scale|rotate|skewX|skewY)\([^\)]+\))+/g);if(r)for(var o=0;o<r.length;o++){var s=r[o].match(/(\w+)\(([^\)]+)\)/),a=[];try{s[2].trim().split(/[\s,]+/).forEach((function(e){e&&a.push(t.prototype._parse.call(i,e,ah.None))}))}catch(t){return}if(a.length)switch(s[1]){case"matrix":n.push(function(t,e,i,n,r,o){return function(s){s.transform(t,e,i,n,r,o)}}(a[0],a[1],a[2],a[3],t.prototype._parse.call(this,a[4],ah.Px),t.prototype._parse.call(this,a[5],ah.Px)));break;case"translate":n.push(function(t,e){return function(i){i.translate(t,e)}}(t.prototype._parse.call(this,a[0],ah.Px),t.prototype._parse.call(this,a[1]||0,ah.Px)));break;case"scale":n.push(function(t,e){return function(i){i.scale(t,e)}}(a[0],a[1]));break;case"rotate":n.push(function(t,e){return function(i){i.rotate(t,e)}}(a[0],new Re(t.prototype._parse.call(this,a[1]||0,ah.Px),t.prototype._parse.call(this,a[2]||0,ah.Px))));break;case"skewX":n.push(function(t){return function(e){e.transform(1,0,t,1,0,0)}}(Math.tan(a[0]*Math.PI/180)));break;case"skewY":n.push(function(t){return function(e){e.transform(1,t,0,1,0,0)}}(Math.tan(a[0]*Math.PI/180)))}}return n.length?n:void 0},e}(Fh),Yh=function(t){function e(e){return t.call(this,e,"text-decoration",hh.String,void 0,ah.None)||this}return el(e,t),e.prototype._parse=function(t){var e,i=(t||"").trim().toLowerCase().split(/[\s,]+/);if(i.length){e=[];for(var n=0;n<i.length;n++)/line-through|overline|underline/.test(i[n])&&e.push(i[n])}return e&&e.length?e:void 0},e}(Fh),qh=function(t){function e(e){return t.call(this,e,"viewBox",hh.Number,void 0,ah.Px)||this}return el(e,t),e.prototype._parse=function(e){var i,n=(e||"").trim().split(/[\s,]+/);return 4===n.length&&(i={minX:t.prototype._parse.call(this,n[0]),minY:t.prototype._parse.call(this,n[1]),width:t.prototype._parse.call(this,n[2]),height:t.prototype._parse.call(this,n[3])}),i},e}(Fh),Xh=function(t){function e(e){return t.call(this,e,"preserveAspectRatio",hh.Number,"xMidYMid meet")||this}return el(e,t),e.prototype._parse=function(t){var e;if("string"==typeof t){var i=t.replace(/^defer\s+/,"").trim().split(/\s+/);e={align:i[0],meet:!("slice"===i[1])}}else e=t;return e},e}(Fh),Kh=function(){function t(t){this._owner=t,this.aspect=new Xh(this._owner),this.viewBox=new qh(this._owner)}return t.prototype.apply=function(t){var e=t.ctx.area,i=t.viewport,n=this.viewBox.val;if(i&&n){if(n.width&&n.height){var r=this.aspect.val,o=i.width/n.width,s=i.height/n.height,a=Math.min(o,s),l=Math.max(o,s),h=n.width*(r.meet?a:l),u=n.height*(r.meet?a:l);if("none"===r.align)e.scale(o,s);else{var c=r.meet?a:l,d=0,f=0;r.align.match(/^xMid/)&&c===s?d=i.width/2-h/2:r.align.match(/^xMax/)&&c===s&&(d=i.width-h),r.align.match(/YMid$/)&&c===o?f=i.height/2-u/2:r.align.match(/YMax$/)&&c===o&&(f=i.height-u),(d||f)&&e.translate(d,f),r.meet?e.scale(a,a):e.scale(l,l),(n.minX||n.minY)&&e.translate(-n.minX,-n.minY)}}return new Oe(n.width,n.height)}return i},t}(),Zh=function(){function t(t){this._owner=t,this.color=new zh(this._owner,"stroke","none"),this.dashArray=new Bh(this._owner),this.dashOffset=new Lh(this._owner,"stroke-dashoffset",0,ah.Default,lh.Other,!0),this.lineCap=new Nh(this._owner,"stroke-linecap","butt",!0),this.lineJoin=new Nh(this._owner,"stroke-linejoin","miter",!0),this.miterLimit=new Lh(this._owner,"stroke-miterlimit",4,ah.None,lh.Other,!0),this.opacity=new Lh(this._owner,"stroke-opacity",1,ah.None,lh.Other,!0),this.width=new Lh(this._owner,"stroke-width",1,ah.Default,lh.Other,!0)}return t.prototype.toPen=function(t){var e=new vl(this.color.val);this.opacity.hasVal&&(e.a=this.opacity.val);var i=new Sl(e,this.width.val);if(this.dashArray.hasVal){var n=this.dashArray.val;n.length&&(i.dashPattern=new yl(n[0],n.length>1?n[1]:void 0,this.dashOffset.val))}switch(this.lineCap.val){case"butt":i.cap=rl.Butt;break;case"round":i.cap=rl.Round;break;case"square":i.cap=rl.Square}switch(this.lineJoin.val){case"miter":i.join=ol.Miter;break;case"round":i.join=ol.Round;break;case"bevel":i.join=ol.Bevel}return i.miterLimit=this.miterLimit.val,i},t}(),Jh=function(){function t(t){this._owner=t,this.color=new zh(this._owner,"fill","black"),this.opacity=new Lh(this._owner,"fill-opacity",1,ah.None,void 0,!0),this.rule=new Hh(this._owner,"fill-rule")}return t.prototype.toBrush=function(t){var e,i=this.color.asHref();if(i&&t){var n=t.ctx.getElement(i);if(n instanceof jh)return n.toBrush(t)}return e=new vl(this.color.val),this.opacity.hasVal&&(e.a=this.opacity.val),new Yl(e)},t}(),Qh=function(){function t(t){this._owner=t,this.family=new Nh(this._owner,"font-family",(function(t){var e=t.area.document._getFont();return e?e.family:void 0}),!0),this.size=new Fh(this._owner,"font-size",hh.Number|hh.String,"medium",void 0,lh.Other,!0),this.style=new Nh(this._owner,"font-style","normal",!0),this.weight=new Nh(this._owner,"font-weight","normal",!0)}return t.prototype.toFont=function(){var t=Nl(this.size.val);return new El(this.family.val,t,this.style.val,this.weight.val)},t}(),$h=function(){function t(t){this._owner=t,this.clipRule=new Hh(this._owner,"clip-rule"),this.fill=new Jh(this._owner),this.font=new Qh(this._owner),this.stroke=new Zh(this._owner)}return t.prototype.apply=function(t,e,i){var n=t.ctx.area;t.renderMode===ih.Clip||(e&&i&&"none"!==this.fill.color.val&&"none"!==this.stroke.color.val?n.paths.fillAndStroke(this.fill.toBrush(t),this.stroke.toPen(t),this.fill.rule.val):e&&"none"!==this.fill.color.val?n.paths.fill(this.fill.toBrush(t),this.fill.rule.val):i&&"none"!==this.stroke.color.val?n.paths.stroke(this.stroke.toPen(t)):n.paths.stroke(He.fromRgba(0,0,0,0)))},t}(),tu=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();function eu(){return Ne("wijmo.grid")}function iu(){return Ne("wijmo.grid.detail")}function nu(){return Ne("wijmo.grid.multirow")}function ru(){return Ne("wijmo.grid.sheet")}function ou(){return Ne("wijmo.olap")}function su(){return Ne("wijmo.grid.transposed")}function au(){return Ne("wijmo.grid.transposedmultirow")}function lu(t,e,i){if(void 0===i&&(i=!1),!t&&e&&(t={}),e&&t)for(var n in e){var r=e[n],o=t[n];if(kt(r)){if(void 0===o||!kt(o)&&i){if(Ct(r.clone)){t[n]=o=r.clone();continue}t[n]=o={}}kt(o)&&lu(t[n],r,i)}else(void 0===o||i&&void 0!==r)&&(t[n]=r)}return t}function hu(t,e){return{aggregate:e.aggregate,binding:e.binding,name:e.name,dataType:e.dataType,wordWrap:e.wordWrap,multiLine:e.multiLine,getAlignment:function(){if("getAlignment"in e)return e.getAlignment()},index:t.index,visibleIndex:t.visibleIndex,isVisible:t.isVisible,renderWidth:t.renderWidth}}function uu(t){if(!t)return null;for(var e={},i=function(t){return t.replace(/\-([a-z])/g,(function(t,e,i){return i>0?e.toUpperCase():e}))},n=0,r=t.length;n<r;n++){var o=t[n];e[i(o)]=t.getPropertyValue(o)}return e}!function(t){t[t.ActualSize=0]="ActualSize",t[t.PageWidth=1]="PageWidth",t[t.SinglePage=2]="SinglePage"}(Dh||(Dh={})),function(t){t[t.All=0]="All",t[t.Selection=1]="Selection"}(Ih||(Ih={})),function(t){t[t.None=0]="None",t[t.Cell=1]="Cell",t[t.ColumnHeader=2]="ColumnHeader",t[t.RowHeader=3]="RowHeader",t[t.TopLeft=4]="TopLeft",t[t.ColumnFooter=5]="ColumnFooter",t[t.BottomLeft=6]="BottomLeft"}(Mh||(Mh={}));var cu,du=function(t){function e(e,i,n,r,o,s,a,l,h){var u=t.call(this)||this;return u.cancelBorders=!1,u._p=e,u._rng=i,"undefined"!=typeof HTMLElement&&(u._cell=Zt(n,HTMLElement,!0)),u._canvas=r,u._clientRect=o,u._contentRect=s,u._style=a,u._getFormattedCell=l,u._getTextRect=h,u}return tu(e,t),Object.defineProperty(e.prototype,"panel",{get:function(){return this._p},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this._rng.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"row",{get:function(){return this._rng.row},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"col",{get:function(){return this._rng.col},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canvas",{get:function(){return this._canvas},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cell",{get:function(){return this._cell},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clientRect",{get:function(){return this._clientRect},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentRect",{get:function(){return this._contentRect},enumerable:!0,configurable:!0}),e.prototype.drawBackground=function(t){var e=this.clientRect;t&&e.width>0&&e.height>0&&this.canvas.paths.rect(e.left,e.top,e.width,e.height).fill(t||this.style.backgroundColor)},e.prototype.getFormattedCell=function(){return Xt(this._getFormattedCell)()},Object.defineProperty(e.prototype,"tagContent",{get:function(){return this._tagContent},set:function(t){this._tagContent=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textTop",{get:function(){return!this._textRect&&Ct(this._getTextRect)&&(this._textRect=this._getTextRect()),this._textRect?this._textRect.top:this._contentRect.top},enumerable:!0,configurable:!0}),e}(rt),fu=function(){function t(){}return t.draw=function(t,e,i,n,r,o){Ht(!!t,"The flex argument cannot be null."),Ht(!!e,"The doc argument cannot be null."),null==(o=this._applyDefaultDrawSettings(o)).scaleMode&&(o.scaleMode=null==n?Dh.ActualSize:null==r?Dh.PageWidth:Dh.SinglePage),this._drawInternal(t,e,i,n,r,o)},t._applyDefaultDrawSettings=function(e){return lu(lu({},e),t.DefaultDrawSettings)},t._drawInternal=function(t,e,i,n,r,o){var s=null!=i,a=new Oe(e.width,e.height);i||(i=new Re(0,e.y)),Et(o.embeddedFonts)&&o.embeddedFonts.forEach((function(t){e.registerFont(t)}));var l=this._getRowsToRender(t,o),h=new pu(t,o,l,this.BorderWidth,!0),u=new De(i.x||0,i.y||0,n||a.width,r||a.height),c=this._getScaleFactor(h,o.scaleMode,u);if(i.y>0&&this._canBreakRows(o.scaleMode)){var d=l.find(t.cells,(function(t){return h.isRenderableRow(t)}));if(d){var f=(u.height-u.top)*(1/c);(h.showColumnHeader?Dl(t.columnHeaders.height):0)+Dl(d.renderHeight)-this.BorderWidth>f&&(e.addPage(),u=new De(i.x||0,0,n||a.width,r||a.height))}}var p=this._getPages(h,l,u,o,s,c),g=(o.progress?this._getCellsCount(t,o,p):0)/o._progressMax,_=0,m=0,w=o.progress?function(){++_-m>=50&&(m=_,o.progress(_/g))}:null;o.progress&&o.progress(0);for(var b=0;b<p.length;b++){b>0&&e.addPage();var v=p[b],y=0===v.pageCol?u.left:0,x=0===v.pageRow?u.top:0;e.saveState(),e.paths.rect(0,0,e._widthCtm,e._heightCtm).clip(),e.scale(c,c,new Re(y,x)),e.translate(y,x);var C=new pu(t,o,v.range,this.BorderWidth,b===p.length-1);C.render(e,w),e.restoreState(),e.x=y,e.y=x+C.renderSize.height*c}o.progress&&0<o._progressMax&&o.progress(o._progressMax)},t._getCellsCount=function(t,e,i){for(var n=0,r=0;r<i.length;r++)n+=new pu(t,e,i[r].range,0,!1).getCellsCount();return n},t._getRowsToRender=function(t,e){var i=[];e.exportMode==Ih.All?i.push(new vu(0,0,t.rows.length-1,t.columns.length-1)):i=t.getSelection();var n=new xu(i);if(n.isValid&&!e.drawDetailRows){var r=[];n.forEach(t.cells,(function(e,i,n){if(!t.isDetailRow(e)){var o=r.length;o&&r[o-1].bottomRow+1===n?r[o-1].row2++:r.push(new vu(n,i.col,n,i.col2))}})),n=new xu(r)}return n},t._getScaleFactor=function(t,e,i){var n=1;if(e==Dh.ActualSize)return n;var r,o=t.renderSize;e==Dh.SinglePage?(r=Math.min(i.width/o.width,i.height/o.height))<1&&(n=r):(r=i.width/o.width)<1&&(n=r);return n},t._canBreakRows=function(t){return t==Dh.ActualSize||t==Dh.PageWidth},t._getPages=function(t,e,i,n,r,o){var s=this,a=[],l=[],h=Dl,u=t.flex,c=t.showColumnHeader,d=t.showColumnFooter,f=t.showRowHeader,p=c?h(u.columnHeaders.height):0,g=d?h(u.columnFooters.height):0,_=f?h(u.rowHeaders.width):0,m=this._canBreakRows(n.scaleMode),w=n.scaleMode==Dh.ActualSize,b=(i.width-i.left)*(1/o),v=(i.height-i.top)*(1/o),y=i.width*(1/o),x=i.height*(1/o),C=p,j=_,S=r&&n.scaleMode==Dh.ActualSize,E=v;if(m){var k=0,T=0;e.forEach(u.cells,(function(e,i,n,r){if(E=a.length?x:v,t.isRenderableRow(e)){var o=h(e.renderHeight);k++,C+=o,(c||k>1)&&(C-=s.BorderWidth),C>E?(S||p+o>E&&0===T?(a.push(r),C=p):(a.push(r-1),C=p+o),T=0,c&&(C-=s.BorderWidth)):T++}}))}var P=Math.max(e.length()-1,0);if(a.length&&a[a.length-1]===P||a.push(P),d&&C+g>E&&a.push(-1),w)for(var A=0,R=e.leftCol;R<=e.rightCol;R++){var O=u.columns[R];if(t.isRenderableColumn(O)){var D=h(O.renderWidth),I=l.length?y:b;A++,j+=D,(f||A>1)&&(j-=this.BorderWidth),j>I&&(_+D>I||S?(l.push(R),j=_):(l.push(R-1),j=_+D),f&&(j-=this.BorderWidth))}}l.length&&l[l.length-1]===e.rightCol||l.push(e.rightCol);var M=[],F=!1,L=1,N=r&&n.maxPages>0?1:n.maxPages;for(R=0;R<a.length&&!F;R++)for(var z=0;z<l.length&&!F;z++,L++)if(!(F=L>N)){var B=0===R?0:a[R-1]+1,H=0===z?e.leftCol:l[z-1]+1,V=-1===a[R]?new xu([new vu(-1,H,-1,l[z])]):e.subrange(B,a[R]-B+1,H,l[z]);M.push(new Cu(V,z,R))}return M},t.BorderWidth=1,t.DefFont=new El,t.DefaultDrawSettings={customCellContent:!1,drawDetailRows:!1,exportMode:Ih.All,maxPages:Number.MAX_VALUE,repeatMergedValuesAcrossPages:!0,recalculateStarWidths:!0,styles:{cellStyle:{font:{family:t.DefFont.family,size:t.DefFont.size,style:t.DefFont.style,weight:t.DefFont.weight},padding:1.5,verticalAlign:"middle"},headerCellStyle:{font:{weight:"bold"}}},quickCellStyles:!0,_progressMax:1},t}(),pu=function(){function t(t,e,i,n,r){this._flex=t,this._borderWidth=n,this._lastPage=r,this._settings=e||{},this._topLeft=new _u(this,t.topLeftCells,this.showRowHeader&&this.showColumnHeader?new xu([new vu(0,0,t.topLeftCells.rows.length-1,t.topLeftCells.columns.length-1)]):new xu([]),n),this._rowHeader=new _u(this,t.rowHeaders,this.showRowHeader?i.clone(0,t.rowHeaders.columns.length-1):new xu([]),n),this._columnHeader=new _u(this,t.columnHeaders,this.showColumnHeader?new xu([new vu(0,i.leftCol,t.columnHeaders.rows.length-1,i.rightCol)]):new xu([]),n),this._cells=new _u(this,t.cells,i,n),this._bottomLeft=new _u(this,t.bottomLeftCells,this.showRowHeader&&this.showColumnFooter?new xu([new vu(0,0,t.bottomLeftCells.rows.length-1,t.bottomLeftCells.columns.length-1)]):new xu([]),n),this._columnFooter=new _u(this,t.columnFooters,this.showColumnFooter?new xu([new vu(0,i.leftCol,t.columnFooters.rows.length-1,i.rightCol)]):new xu([]),n)}return Object.defineProperty(t.prototype,"settings",{get:function(){return this._settings},enumerable:!0,configurable:!0}),t.prototype.isRenderableRow=function(t){return this._flex.isRenderableRow(t)},t.prototype.isRenderableColumn=function(t){return this._flex.isRenderableColumn(t)},t.prototype.getCellsCount=function(){return this._topLeft.getCellsCount()+this._rowHeader.getCellsCount()+this._columnHeader.getCellsCount()+this._cells.getCellsCount()+this._bottomLeft.getCellsCount()+this._columnFooter.getCellsCount()},t.prototype.render=function(t,e){var i,n,r,o;t.tagged&&(i=n=r=o=new mu(t,t.tag(gl.Table)),t.addTag(i.el),t.version>=pl.v1_5&&(i.el.add((n=new mu(t,t.tag(gl.THead))).el),i.el.add((r=new mu(t,t.tag(gl.TBody))).el),i.el.add((o=new mu(t,t.tag(gl.TFoot))).el)));var s=Math.max(0,Math.max(this._topLeft.renderSize.width,this._rowHeader.renderSize.width)-this._borderWidth),a=Math.max(0,Math.max(this._topLeft.renderSize.height,this._columnHeader.renderSize.height)-this._borderWidth);this._topLeft.render(t,0,0,e,n),this._rowHeader.render(t,0,a,e,r),this._columnHeader.render(t,s,0,e,n),this._cells.render(t,s,a,e,r),a+=Math.max(0,this._cells.renderSize.height-this._borderWidth),this._bottomLeft.render(t,0,a,e,o),this._columnFooter.render(t,s,a,e,o)},Object.defineProperty(t.prototype,"flex",{get:function(){return this._flex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderSize",{get:function(){var t=Math.max(this._topLeft.renderSize.height,this._columnHeader.renderSize.height)+Math.max(this._rowHeader.renderSize.height,this._cells.renderSize.height)+Math.max(this._bottomLeft.renderSize.height,this._columnFooter.renderSize.height),e=Math.max(this._topLeft.renderSize.width,this._rowHeader.renderSize.width)+Math.max(this._columnHeader.renderSize.width,this._cells.renderSize.width);return this._columnHeader.renderableRowsCount>0&&(t-=this._borderWidth),this._columnFooter.renderableRowsCount>0&&(t-=this._borderWidth),this._rowHeader.renderableColumnsCount>0&&(e-=this._borderWidth),new Oe(e,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showColumnHeader",{get:function(){return this._flex.showColumnHeader},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showRowHeader",{get:function(){return this._flex.showRowHeader},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showColumnFooter",{get:function(){return this._lastPage&&this._flex.showColumnFooter},enumerable:!0,configurable:!0}),t.prototype.alignMergedTextToTheTopRow=function(t){return this._flex.alignMergedTextToTheTopRow(t)},t.prototype.getColumn=function(t,e,i){return this._flex.getColumn(t,e,i)},t.prototype.isAlternatingRow=function(t){return this._flex.isAlternatingRow(t)},t.prototype.isGroupRow=function(t){return this._flex.isGroupRow(t)},t.prototype.isNewRow=function(t){return this._flex.isNewRow(t)},t.prototype.isExpandableGroupRow=function(t){return this._flex.isExpandableGroupRow(t)},t.prototype.isBooleanCell=function(t,e,i){return this._flex.isBooleanCell(t,e,i)},t.prototype.getCellStyle=function(t,e,i){return this._flex.getCellStyle(t,e,i)},t}(),gu=function(){function t(t,e,i){this._flex=t,this._panel=e,this._range=i.clone()}return Object.defineProperty(t.prototype,"renderableRowsCount",{get:function(){var t=this;return null==this._renderableRowsCnt&&(this._renderableRowsCnt=0,this._range.forEach(this._panel,(function(e){t._flex.isRenderableRow(e)&&t._renderableRowsCnt++}))),this._renderableRowsCnt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderableColumnsCount",{get:function(){if(null==this._renderableColumnsCnt&&(this._renderableColumnsCnt=0,this._range.isValid))for(var t=this._range.leftCol;t<=this._range.rightCol;t++)this._flex.isRenderableColumn(this._panel.columns[t])&&this._renderableColumnsCnt++;return this._renderableColumnsCnt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){if(null==this._size){var t=this._range.getRenderSize(this._flex,this._panel);this._size=new Oe(Dl(t.width),Dl(t.height))}return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){return this._range},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"panel",{get:function(){return this._panel},enumerable:!0,configurable:!0}),t}(),_u=function(t){function e(e,i,n,r){var o=t.call(this,e.flex,i,n)||this;return o._gr=e,o._borderWidth=r,o}return tu(e,t),Object.defineProperty(e.prototype,"gr",{get:function(){return this._gr},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderSize",{get:function(){return null==this._renderSize&&(this._renderSize=this.size.clone(),this.renderableColumnsCount>1&&(this._renderSize.width-=this._borderWidth*(this.renderableColumnsCount-1)),this.renderableRowsCount>1&&(this._renderSize.height-=this._borderWidth*(this.renderableRowsCount-1))),this._renderSize},enumerable:!0,configurable:!0}),e.prototype._getRangeWidth=function(t,e){for(var i=0,n=0,r=this.panel,o=t;o<=e;o++){var s=r.columns[o];this._gr.isRenderableColumn(s)&&(n++,i+=s.renderWidth)}return i=Dl(i),n>1&&(i-=this._borderWidth*(n-1)),i},e.prototype._getRangeHeight=function(t,e){for(var i=0,n=0,r=this.panel,o=t;o<=e;o++){var s=r.rows[o];this._gr.isRenderableRow(s)&&(n++,i+=s.renderHeight)}return i=Dl(i),n>1&&(i-=this._borderWidth*(n-1)),i},e.prototype.getCellsCount=function(){var t=this,e=0,i=this.range,n=this.panel,r=new bu(this._gr.flex);return i.isValid?(i.forEach(n,(function(o,s,a){if(t._gr.isRenderableRow(o))for(var l=i.leftCol;l<=i.rightCol;l++)if(t._gr.isRenderableColumn(n.columns[l])){var h=!1,u=void 0,c=r.getMergedRange(n,a,l);if(c){var d=a===c.firstVisibleRow,f=l===c.leftCol,p=a===s.topRow,g=l===s.leftCol,_=c.rowSpan>1,m=c.columnSpan>1;(_&&m&&(d&&f||p&&g)||_&&!m&&(d||p)||!_&&m&&(f||g))&&(h=!0,m&&(u=Math.min(i.rightCol,c.rightCol)))}else h=!0;h&&e++,u&&(l=u)}})),e):e},e.prototype.render=function(t,e,i,n,r){var o=this,s=this.range;if(s.isValid){for(var a={},l=this.panel,h=new bu(this._gr.flex),u=new yu(l,0,0,0,0),c=new wu(this,t,this._borderWidth),d=s.leftCol;d<=s.rightCol;d++)a[d]=i;s.forEach(l,(function(i,d,f){if(o._gr.isRenderableRow(i))for(var p=r?r.getTR(f,l.cellType):null,g=e,_=s.leftCol;_<=s.rightCol;_++){var m=o.gr.getColumn(l,f,_);if(o._gr.isRenderableColumn(m)){var w,b=void 0,v=void 0,y=!1,x=void 0,C=o._gr.flex.getCellContent(o.panel,i,m,_),j=h.getMergedRange(l,f,_);if(j){if(f>=j.topRow){u.copyFrom(j);var S=f===j.firstVisibleRow,E=_===j.leftCol,k=f===d.topRow,T=_===d.leftCol,P=j.rowSpan>1,A=j.columnSpan>1;if((P&&A&&(S&&E||k&&T)||P&&!A&&(S||k)||!P&&A&&(E||T))&&(y=!0,w=S&&E||o.gr.settings.repeatMergedValuesAcrossPages?C:"",b=P?o._getRangeHeight(f,Math.min(j.bottomRow,d.bottomRow)):o._getRangeHeight(f,f),A)){v=o._getRangeWidth(Math.max(s.leftCol,j.leftCol),Math.min(s.rightCol,j.rightCol)),x=Math.min(s.rightCol,j.rightCol);for(var R=_+1;R<=x;R++)a[R]+=b-o._borderWidth}}else b=o._getRangeHeight(f,f);null==v&&(v=o._getRangeWidth(_,_))}else u.setRange(f,_,f,_),y=!0,w=C,b=o._getRangeHeight(f,f),v=o._getRangeWidth(_,_);if(y&&v>0&&b>0){var O=c.renderCell(w,i,m,u,new De(g,a[_],v,b));if(p){var D=t.tag(l.cellType===Mh.ColumnHeader||l.cellType==Mh.TopLeft?gl.TH:gl.TD);O&&D.add(O),p.add(D)}n&&n()}b&&(a[_]+=b-o._borderWidth),v&&(g+=v-o._borderWidth),x&&(_=x)}}}))}},e}(gu),mu=function(){function t(t,e){this.doc=t,this.tableSection=e,this._trh=[],this._trb=[],this._trf=[]}return Object.defineProperty(t.prototype,"el",{get:function(){return this.tableSection},enumerable:!0,configurable:!0}),t.prototype.getTR=function(t,e){var i=e===Mh.TopLeft||e===Mh.ColumnHeader?this._trh:e===Mh.RowHeader||e===Mh.Cell?this._trb:this._trf,n=i[t];return n||this.tableSection.add(i[t]=n=this.doc.tag(gl.TR)),n},t}(),wu=function(){function t(t,e,i){this.InvisiblePen=new Sl(He.fromRgba(0,0,0,0),0),this._pr=t,this._area=e,this._borderWidth=i}return t.prototype.renderCell=function(t,e,i,n,r){var o,s=this,a=this._pr.gr.flex,l=this._pr.panel,h=function(t){return a.getCell(l,n.topRow,n.leftCol,t)},u=null,c=this._pr.gr.getCellStyle(l,e,i),d=this._pr.gr.settings.customCellContent,f=Ct(this._pr.gr.settings.formatItem);if(d){var p=a.getComputedStyle(l,u=h(f));c.color=p.color,c.backgroundColor=p.backgroundColor;var g=a.getComputedDefBorderColor();c.borderLeftColor="none"!=p.borderLeftStyle?p.borderLeftColor:g,c.borderRightColor="none"!=p.borderRightStyle?p.borderRightColor:g,c.borderTopColor="none"!=p.borderTopStyle?p.borderTopColor:g,c.borderBottomColor="none"!=p.borderBottomStyle?p.borderBottomColor:g,c.font=new El(p.fontFamily,Nl(p.fontSize,!0,void 0),p.fontStyle,p.fontWeight),c.textAlign=p.textAlign}if(c.font&&!(c.font instanceof El)){var _=c.font;c.font=new El(_.family,_.size,_.style,_.weight)}if(c.boxSizing="border-box",c.borderWidth=this._borderWidth,c.borderStyle="solid",d||this._pr.gr.isExpandableGroupRow(e)&&0===i.visibleIndex||(c.textAlign=i.getAlignment(e)),l.cellType===Mh.Cell&&a.rows.maxGroupLevel>=0&&n.leftCol===a.columns.firstVisibleIndex){var m=a.isGroupRow(e)?Math.max(e.level,0):a.rows.maxGroupLevel+1,w=Nl(c.paddingLeft||c.padding),b=Dl(m*a.treeIndent);c.paddingLeft=w+b}var v,y=this._measureCell(t,l,e,i,c,r),x=n.rowSpan>1&&n.visibleRowsCount>1&&this._pr.gr.alignMergedTextToTheTopRow(l)?new De(y.contentRect.left,y.contentRect.top,y.contentRect.width,y.contentRect.height/(n.visibleRowsCount||1)):y.contentRect,C=!0,j=!0;return f&&((o=new du(l,n,u,this._area,y.rect,y.contentRect,c,(function(){return u||h(!0)}),(function(){return y.textRect=s._calculateTextRect(t,l,e,i,x,c)}))).data=t,this._pr.gr.settings.formatItem(o),o.data!==t&&(t=Ut(o.data),y.textRect=null),C=!o.cancel,j=!o.cancelBorders,v=o.tagContent),C&&!y.textRect&&(y.textRect=this._calculateTextRect(t,l,e,i,x,c)),this._renderCell(t,e,i,n,y,c,C,j,null==v)||v},t.prototype._renderCell=function(t,e,i,n,r,o,s,a,l){if(s||a){var h,u=this._area.document.tagged,c=this._area.document;if(u&&c.beginArtifact({type:_l.Layout}),this._renderEmptyCell(r,o,s,a),u&&c.endArtifact(),s){l=!0===u&&!0===l;var d=void 0;this._isBooleanCellAndValue(t,this._pr.panel,e,i)?(l&&(h=c.tag(gl.Span,null,{actual:t.toString()}),d=c.beginTagContent(gl.Span)),this._renderBooleanCell(t,r,o)):(l&&(h=c.tag(gl.P),d=c.beginTagContent(gl.P)),this._renderTextCell(t,r,o)),l&&(c.endTagContent(),h.add(d))}return h}},t.prototype._isBooleanCellAndValue=function(t,e,i,n){return this._pr.gr.isBooleanCell(e,i,n)&&this._isBoolean(t)},t.prototype._isBoolean=function(t){var e=wt(t)&&t.toLowerCase();return"true"===e||"false"===e||!0===t||!1===t},t.prototype._measureCell=function(t,e,i,n,r,o){this._decompositeStyle(r);var s=o.left,a=o.top,l=o.height,h=o.width,u=this._parseBorder(r),c=u.left.width,d=u.top.width,f=u.bottom.width,p=u.right.width,g=this._parsePadding(r),_=0,m=0,w=0,b=0;if("content-box"===r.boxSizing||void 0===r.boxSizing)_=g.top+l+g.bottom,m=g.left+h+g.right,w=l,b=h;else{if("border-box"!==r.boxSizing)throw"Invalid value: "+r.boxSizing;Pl&&r instanceof CSSStyleDeclaration?(_=g.top+g.bottom+l,m=g.left+g.right+h):(_=Math.max(l-d-f,0),m=Math.max(h-c-p,0)),w=Math.max(_-g.top-g.bottom,0),b=Math.max(m-g.left-g.right,0)}return{rect:o=new De(s,a,h,l),clientRect:new De(s+c,a+d,m,_),contentRect:new De(s+c+g.left,a+d+g.top,b,w),textRect:null}},t.prototype._decompositeStyle=function(t){var e;t&&((e=t.borderColor)&&(t.borderLeftColor||(t.borderLeftColor=e),t.borderRightColor||(t.borderRightColor=e),t.borderTopColor||(t.borderTopColor=e),t.borderBottomColor||(t.borderBottomColor=e)),(e=t.borderWidth)&&(t.borderLeftWidth||(t.borderLeftWidth=e),t.borderRightWidth||(t.borderRightWidth=e),t.borderTopWidth||(t.borderTopWidth=e),t.borderBottomWidth||(t.borderBottomWidth=e)),(e=t.borderStyle)&&(t.borderLeftStyle||(t.borderLeftStyle=e),t.borderRightStyle||(t.borderRightStyle=e),t.borderTopStyle||(t.borderTopStyle=e),t.borderBottomStyle||(t.borderBottomStyle=e)),(e=t.padding)&&(t.paddingLeft||(t.paddingLeft=e),t.paddingRight||(t.paddingRight=e),t.paddingTop||(t.paddingTop=e),t.paddingBottom||(t.paddingBottom=e)))},t.prototype._parseBorder=function(t){var e={left:{width:0},top:{width:0},bottom:{width:0},right:{width:0}};return"none"!==t.borderLeftStyle&&(e.left={width:Nl(t.borderLeftWidth),style:t.borderLeftStyle,color:t.borderLeftColor}),"none"!==t.borderTopStyle&&(e.top={width:Nl(t.borderTopWidth),style:t.borderTopStyle,color:t.borderTopColor}),"none"!==t.borderBottomStyle&&(e.bottom={width:Nl(t.borderBottomWidth),style:t.borderBottomStyle,color:t.borderBottomColor}),"none"!==t.borderRightStyle&&(e.right={width:Nl(t.borderRightWidth),style:t.borderRightStyle,color:t.borderRightColor}),e},t.prototype._parsePadding=function(t){return{left:Nl(t.paddingLeft),top:Nl(t.paddingTop),bottom:Nl(t.paddingBottom),right:Nl(t.paddingRight)}},t.prototype._renderEmptyCell=function(t,e,i,n){var r=t.rect.left,o=t.rect.top,s=t.clientRect.width,a=t.clientRect.height,l=t.clientRect.left-t.rect.left,h=t.clientRect.top-t.rect.top,u=t.rect.top+t.rect.height-(t.clientRect.top+t.clientRect.height),c=t.rect.left+t.rect.width-(t.clientRect.left+t.clientRect.width);if(i=i&&e.backgroundColor&&s>0&&a>0,n&&(l||c||u||h)){var d=e.borderLeftColor||e.borderColor,f=e.borderRightColor||e.borderColor,p=e.borderTopColor||e.borderColor,g=e.borderBottomColor||e.borderColor;if(l&&h&&u&&c&&l===c&&l===u&&l===h&&d===f&&d===g&&d===p){var _=l,m=_/2,w=this._area.paths.rect(r+m,o+m,s+_,a+_);if(i)return void w.fillAndStroke(e.backgroundColor,new Sl(d,_));w.stroke(new Sl(d,_))}else l&&this._area.paths.polygon([[r,o],[r+l,o+h],[r+l,o+h+a],[r,o+h+a+u]]).fill(d),h&&this._area.paths.polygon([[r,o],[r+l,o+h],[r+l+s,o+h],[r+l+s+c,o]]).fill(p),c&&this._area.paths.polygon([[r+l+s+c,o],[r+l+s,o+h],[r+l+s,o+h+a],[r+l+s+c,o+h+a+u]]).fill(f),u&&this._area.paths.polygon([[r,o+h+a+u],[r+l,o+h+a],[r+l+s,o+h+a],[r+l+s+c,o+h+a+u]]).fill(g)}i&&this._area.paths.rect(t.clientRect.left,t.clientRect.top,t.clientRect.width,t.clientRect.height).fillAndStroke(e.backgroundColor,this.InvisiblePen)},t.prototype._renderBooleanCell=function(t,e,i){if(!(!e.textRect||e.textRect.height<=0||e.textRect.width<=0)){var n=e.textRect.left,r=e.textRect.top,o=e.textRect.height;if(this._area.paths.rect(n,r,o,o).fillAndStroke(He.fromRgba(255,255,255),new Sl(void 0,.5)),!0===Dt(t,lt.Boolean,"")){var s=o/20,a=o-.5-2*s,l=o/8;this._area.document.saveState(),this._area.translate(n+.25+s,r+.25+s).paths.moveTo(l/2,.6*a).lineTo(a-.6*a,a-l).lineTo(a-l/2,l/2).stroke(new Sl(void 0,l)),this._area.document.restoreState()}}},t.prototype._renderTextCell=function(t,e,i){!t||!e.textRect||e.textRect.height<=0||e.textRect.width<=0||this._area.drawText(t,e.textRect.left,e.textRect.top,{brush:i.color,font:i.font,height:e.textRect.height,width:e.textRect.width,align:"center"===i.textAlign?ul.Center:"right"===i.textAlign?ul.Right:"justify"===i.textAlign?ul.Justify:ul.Left})},t.prototype._calculateTextRect=function(t,e,i,n,r,o){if(null!=t&&!wt(t))return null;var s=r.clone();if(this._isBooleanCellAndValue(t,e,i,n)){var a=this._getTextLineHeight(o.font);switch(o.verticalAlign){case"middle":s.top=r.top+r.height/2-a/2;break;case"bottom":s.top=r.top+r.height-a}switch(o.textAlign){case"justify":case"center":s.left=r.left+r.width/2-a/2;break;case"right":s.left=r.left+r.width-a}s.height=s.width=a}else if(s.height>0&&s.width>0)switch(o.verticalAlign){case"bottom":if((h=this._area.measureText(t,o.font,{height:s.height,width:s.width})).size.height<s.height){var l=(u=this._area.document._document).currentLineHeight(!0)-u.currentLineHeight(!1);s.top+=s.height-h.size.height-l,s.height=h.size.height}break;case"middle":var h,u;if((h=this._area.measureText(t,o.font,{height:s.height,width:s.width})).size.height<s.height)l=(u=this._area.document._document).currentLineHeight(!0)-u.currentLineHeight(!1),s.top+=s.height/2-(h.size.height-l)/2,s.height=h.size.height}return s},t.prototype._getTextLineHeight=function(t){return this._area.lineHeight(t)},t}(),bu=function(){function t(t){this._columns={},this._flex=t}return t.prototype.getMergedRange=function(t,e,i){var n=this._columns[i];if(n&&e>=n.topRow&&e<=n.bottomRow)return n;var r=this._flex.getMergedRange(t,e,i),o=t.columns,s=t.rows;if(r&&!r.isSingleCell&&(!o[r.col].isVisible||!o[r.col2].isVisible||!s[r.row].isVisible||!s[r.row2].isVisible)){for(r=r.clone();r.col<r.col2&&!o[r.col].isVisible;)r.col++;for(;r.col2>r.col&&!o[r.col2].isVisible;)r.col2--;for(;r.row<r.row2&&!s[r.row].isVisible;)r.row++;for(;r.row2>r.row&&!s[r.row2].isVisible;)r.row2--}return r&&r.isSingleCell&&(r=null),this._columns[i]=r?new yu(t,r):null},t}(),vu=function(){function t(t,e,i,n){"number"==typeof t?(this._row=t,this._col=e,this._row2=i,this._col2=n):(this._row=t.row,this._col=t.col,this._row2=t.row2,this._col2=t.col2),(this._row<0||this._row2<0)&&(this._row=this._row2=-1),(this._col<0||this._col2<0)&&(this._col=this._col2=-1)}return Object.defineProperty(t.prototype,"row",{get:function(){return this._row},set:function(t){this._row=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"col",{get:function(){return this._col},set:function(t){this._col=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"row2",{get:function(){return this._row2},set:function(t){this._row2=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"col2",{get:function(){return this._col2},set:function(t){this._col2=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topRow",{get:function(){return Math.min(this._row,this._row2)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomRow",{get:function(){return Math.max(this._row,this._row2)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leftCol",{get:function(){return Math.min(this._col,this._col2)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightCol",{get:function(){return Math.max(this._col,this._col2)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnSpan",{get:function(){return Math.abs(this._col2-this._col)+1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowSpan",{get:function(){return Math.abs(this._row2-this._row)+1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isValid",{get:function(){return this._row>-1&&this._col>-1&&this._row2>-1&&this._col2>-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSingleCell",{get:function(){return this._row===this._row2&&this._col===this._col2},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){this.setRange(t.row,t.col,t.row2,t.col2)},t.prototype.clone=function(){return new t(this._row,this._col,this._row2,this._col2)},t.prototype.getRenderSize=function(t,e){var i=new Oe(0,0);if(this.isValid){for(var n=this.topRow;n<=this.bottomRow;n++){var r=e.rows[n];t.isRenderableRow(r)&&(i.height+=r.renderHeight)}for(var o=this.leftCol;o<=this.rightCol;o++){var s=e.columns[o];t.isRenderableColumn(s)&&(i.width+=s.renderWidth)}}return i},t.prototype.setRange=function(t,e,i,n){void 0===t&&(t=-1),void 0===e&&(e=-1),void 0===i&&(i=t),void 0===n&&(n=e),this._row=Wt(t),this._col=Wt(e),this._row2=Wt(i),this._col2=Wt(n)},t}(),yu=function(t){function e(e,i,n,r,o){var s=t.call(this,i,n,r,o)||this;if(s.firstVisibleRow=-1,s.visibleRowsCount=0,e){var a=s.topRow,l=s.bottomRow,h=e.rows.length;if(h>0)for(var u=a;u<=l&&u<h;u++)e.rows[u].isVisible&&(s.firstVisibleRow<0&&(s.firstVisibleRow=u),s.visibleRowsCount++)}return s}return tu(e,t),e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.firstVisibleRow=e.firstVisibleRow,this.visibleRowsCount=e.visibleRowsCount},e.prototype.clone=function(){return new e(null,this.row,this.col,this.row2,this.col2)},e}(vu),xu=function(){function t(t){this._ranges=t||[]}return t.prototype.length=function(){for(var t=0,e=0;e<this._ranges.length;e++){var i=this._ranges[e];i.isValid&&(t+=i.bottomRow-i.topRow+1)}return t},Object.defineProperty(t.prototype,"isValid",{get:function(){return this._ranges.length&&this._ranges[0].isValid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leftCol",{get:function(){return this._ranges.length?this._ranges[0].leftCol:-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightCol",{get:function(){return this._ranges.length?this._ranges[0].rightCol:-1},enumerable:!0,configurable:!0}),t.prototype.clone=function(e,i){for(var n=[],r=0;r<this._ranges.length;r++){var o=this._ranges[r].clone();arguments.length>0&&(o.col=e),arguments.length>1&&(o.col2=i),n.push(o)}return new t(n)},t.prototype.getRenderSize=function(t,e){for(var i=new Oe(0,0),n=0;n<this._ranges.length;n++){var r=this._ranges[n].getRenderSize(t,e);i.width=Math.max(i.width,r.width),i.height+=r.height}return i},t.prototype.find=function(t,e){var i=null;return this.forEach(t,(function(t){if(!0===e(t))return i=t,!1})),i},t.prototype.forEach=function(t,e){for(var i=0,n=!1,r=0;r<this._ranges.length&&!n;r++){var o=this._ranges[r];if(o.isValid)for(var s=o.topRow;s<=o.bottomRow&&!n;s++)n=!1===e(t.rows[s],o,s,i++)}},t.prototype.subrange=function(e,i,n,r){var o=[];if(e>=0&&i>0)for(var s=0,a=0,l=0;l<this._ranges.length&&i>0;l++,s=a+1){var h=this._ranges[l];if(!(e>(a=s+(h.bottomRow-h.topRow)))){var u=e>s?h.topRow+(e-s):h.topRow,c=Math.min(h.bottomRow,u+i-1),d=arguments.length>2?n:h.leftCol,f=arguments.length>2?r:h.rightCol;o.push(new vu(u,d,c,f)),i-=c-u+1}}return new t(o)},t}(),Cu=function(){function t(t,e,i){this._col=e,this._row=i,this._range=t}return Object.defineProperty(t.prototype,"range",{get:function(){return this._range},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageCol",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageRow",{get:function(){return this._row},enumerable:!0,configurable:!0}),t}(),ju="wj-pdf-fake-cell";function Su(){cu&&(ge(cu),cu=null)}var Eu,ku=function(){function t(){}return t.draw=function(t,e,i,n,r){this.drawToPosition(t,e,null,i,n,r)},t.drawToPosition=function(t,e,i,n,r,o){Ht(!!t,"The flex argument cannot be null."),Ht(!!e,"The doc argument cannot be null.");var s,a=eu()&&t instanceof eu().FlexGrid,l=t;try{o=fu._applyDefaultDrawSettings(o);var h=t;a&&(o&&o.recalculateStarWidths&&(s=l.columns.getTotalSize(),l.columns._updateStarSizes(Ol(e.width))),h=this._getFlexGridAdapter(l,o)),fu.draw(h,e,i,n,r,o)}finally{Su(),a&&o&&o.recalculateStarWidths&&l.columns._updateStarSizes(s)}},t.export=function(t,e,i){Ht(!!t,"The flex argument cannot be null."),Ht(!!e,"The fileName argument cannot be empty.");var n=(i=this._applyDefaultExportSettings(i)).documentOptions.ended;i.documentOptions.ended=function(t,o){i.progress&&i.progress(1),n&&!1===n.apply(r,[t,o])||Rl(o.blob,e),t.dispose()};var r=new Ql(i.documentOptions);this.drawToPosition(t,r,null,null,null,i),r.end()},t._getFlexGridAdapter=function(t,e){return new(nu()&&t instanceof nu().MultiRow&&Au||ru()&&t instanceof ru().FlexSheet&&Pu||ou()&&t instanceof ou().PivotGrid&&Ru||su()&&t instanceof su().TransposedGrid&&Ou||au()&&t instanceof au().TransposedMultiRow&&Du||Tu)(t,e)},t._applyDefaultExportSettings=function(t){return lu(lu({},t),this._DefaultExportSettings)},t._DefaultExportSettings=lu({scaleMode:Dh.PageWidth,documentOptions:{compress:!1,pageSettings:{margins:{left:36,right:36,top:18,bottom:18}}},_progressMax:.9},fu.DefaultDrawSettings),t}(),Tu=function(){function t(t,e){this._defBorderColor=null,this._flex=t,this._settings=e,e.quickCellStyles&&(this._styleCache=new Iu(500))}return Object.defineProperty(t.prototype,"flex",{get:function(){return this._flex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"settings",{get:function(){return this._settings},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this._flex.columns},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return this._flex.rows},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomLeftCells",{get:function(){return this._flex.bottomLeftCells},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cells",{get:function(){return this._flex.cells},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnFooters",{get:function(){return this._flex.columnFooters},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnHeaders",{get:function(){return this._flex.columnHeaders},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowHeaders",{get:function(){return this._flex.rowHeaders},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topLeftCells",{get:function(){return this._flex.topLeftCells},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"treeIndent",{get:function(){return this._flex.treeIndent},enumerable:!0,configurable:!0}),t.prototype.getSelection=function(){var t=[],e=this._flex.selection,i=eu();switch(this._flex.selectionMode){case i.SelectionMode.None:break;case i.SelectionMode.Cell:case i.SelectionMode.CellRange:t.push(new vu(e.row,e.col,e.row2,e.col2));break;case i.SelectionMode.Row:t.push(new vu(e.topRow,0,e.topRow,this._flex.cells.columns.length-1));break;case i.SelectionMode.RowRange:t.push(new vu(e.topRow,0,e.bottomRow,this._flex.cells.columns.length-1));break;case i.SelectionMode.ListBox:for(var n=-1,r=0;r<this._flex.rows.length;r++)this._flex.rows[r].isSelected?(n<0&&(n=r),r===this._flex.rows.length-1&&t.push(new vu(n,0,r,this._flex.cells.columns.length-1))):(n>=0&&t.push(new vu(n,0,r-1,this._flex.cells.columns.length-1)),n=-1)}return t},t.prototype.getCell=function(t,e,i,n){var r=t.getCellElement(e,i);return r||(r=function(t){cu||((cu=document.createElement("div")).setAttribute(ju,"true"),eu()&&cu.setAttribute(eu().FlexGrid._WJS_MEASURE,"true"));var e=cu.style;e.cssText="",e.position="absolute",e.overflow="hidden",e.width="1px",e.height="1px",e.clipPath="inset(100%)",e.clip="rect(0 0 0 0)";var i=t.hostElement,n=i.children.length?i.children[0]:i;return cu.parentNode!==n&&n.appendChild(cu),cu}(t),this._flex.cellFactory.updateCell(t,e,i,r,null,n)),r},t.prototype.getComputedDefBorderColor=function(){if(null==this._defBorderColor){var t=window.getComputedStyle(this._flex.hostElement);this._defBorderColor="none"!=t.borderRightStyle?t.borderRightColor:"none"!=t.borderBottomStyle?t.borderBottomColor:"none"!=t.borderLeftStyle?t.borderLeftColor:"none"!=t.borderTopStyle?t.borderTopColor:"rgba(0,0,0,0.2)"}return this._defBorderColor},t.prototype.getComputedStyle=function(t,e){var i,n=null==e.getAttribute(ju),r=e.className,o=r.indexOf("wj-state-selected")>=0||r.indexOf("wj-state-multi-selected")>=0;if(o&&(e.className=r.replace("wj-state-selected","").replace("wj-state-multi-selected","")),this._styleCache){var s=t.hostElement,a=e.style.cssText.split(/;\s+/).filter((function(t){var e=t.substring(0,t.indexOf(":"));return/^(color|background-color|border-color|border-left-color|border-right-color|border-top-color|border-bottom-color|font|textAlign)/i.test(e)})).join(";"),l=e;do{a=l.className+a}while(l!==s&&(l=l.parentElement));(i=this._styleCache.getValue(a))||(i=window.getComputedStyle(e),i=this._styleCache.add(a,i))}else i=uu(window.getComputedStyle(e));return n&&o&&(e.className=r),i},t.prototype.getMergedRange=function(t,e,i){var n=this._flex.getMergedRange(t,e,i,!1);return n?new vu(n.row,n.col,n.row2,n.col2):null},Object.defineProperty(t.prototype,"showColumnHeader",{get:function(){return!!(this._flex.headersVisibility&eu().HeadersVisibility.Column)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showRowHeader",{get:function(){return!!(this._flex.headersVisibility&eu().HeadersVisibility.Row)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showColumnFooter",{get:function(){return this._flex.columnFooters.rows.length>0},enumerable:!0,configurable:!0}),t.prototype.alignMergedTextToTheTopRow=function(t){return!1},t.prototype.getCellData=function(t,e,i){return t.getCellData(e,i,!0)},t.prototype.getCellContent=function(t,e,i,n){var r,o=eu();if(this.settings.customCellContent){var s=this.getCell(t,e.index,n,!0);!(r=(r=s.innerText.trim()).replace(/\r/gm,"").replace(/\n+/gm,"\n"))&&this.isBooleanCell(t,e,i)&&(r=null==(r=this._extractCheckboxValue(s))?"":r+"")}else{var a=i.isContentHtml;r=this.getCellData(t,e.index,n),this.isGroupRow(e)&&t.cellType===o.CellType.Cell&&i.index===t.columns.firstVisibleIndex&&(a=!0,r||(r=e.getGroupHeader())),a&&(r=oe(r).trim())}return r},t.prototype.isBooleanCell=function(t,e,i){return i.dataType===lt.Boolean&&t.cellType===eu().CellType.Cell&&(!this.isExpandableGroupRow(e)||i.visibleIndex>0)},t.prototype.getColumn=function(t,e,i){return t.columns[i]},t.prototype.isAlternatingRow=function(t){var e=!1,i=this._flex.alternatingRowStep;return i&&(e=t.visibleIndex%(i+1)==0,1==i&&(e=!e)),e},t.prototype.isGroupRow=function(t){return t instanceof eu().GroupRow},t.prototype.isNewRow=function(t){return t instanceof eu()._NewRowTemplate},t.prototype.isDetailRow=function(t){return iu()&&t instanceof iu().DetailRow},t.prototype.isExpandableGroupRow=function(t){return t instanceof eu().GroupRow&&t.hasChildren},t.prototype.isRenderableRow=function(t){return t.isVisible&&t.renderHeight>0&&!this.isNewRow(t)},t.prototype.isRenderableColumn=function(t){return t.isVisible&&t.renderWidth>0},t.prototype.getCellStyle=function(t,e,i){var n=this.settings.styles,r=lu({},n.cellStyle),o=this._flex,s=eu();switch(t.cellType){case s.CellType.Cell:this.isExpandableGroupRow(e)?lu(r,n.groupCellStyle,!0):this.isAlternatingRow(e)&&lu(r,n.altCellStyle,!0);break;case s.CellType.ColumnHeader:case s.CellType.RowHeader:case s.CellType.TopLeft:case s.CellType.BottomLeft:lu(r,n.headerCellStyle,!0);break;case s.CellType.ColumnFooter:lu(r,n.headerCellStyle,!0),lu(r,n.footerCellStyle,!0)}return!this.settings.customCellContent&&o._getShowErrors()&&o._getError(t,e.index,i.index)&&lu(r,n.errorCellStyle,!0),r},t.prototype._extractCheckboxValue=function(t){var e=t.querySelector("input[type=checkbox]");if(e&&"none"!==e.style.display&&"hidden"!==e.style.visibility)return e.checked},t}(),Pu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return tu(e,t),e.prototype.getCellData=function(e,i,n){return e.cellType===eu().CellType.Cell?e.rows[i]instanceof ru().HeaderRow?this.flex.columnHeaders.getCellData(i,n,!0):this.flex.getCellValue(i,n,!0):t.prototype.getCellData.call(this,e,i,n)},e.prototype.getCellStyle=function(e,i,n){var r=t.prototype.getCellStyle.call(this,e,i,n),o=this.flex.selectedSheet.findTable(i.index,n.index);if(o){var s=o.getRange(),a=i.index-s.topRow,l=n.index-s.leftCol,h=o._getTableCellAppliedStyles(a,l);h&&(h.font=new El(h.fontFamily,Nl(h.fontSize,!0,void 0),h.fontStyle,h.fontWeight)),lu(r,h,!0)}return r},Object.defineProperty(e.prototype,"showColumnHeader",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showRowHeader",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showColumnFooter",{get:function(){return!1},enumerable:!0,configurable:!0}),e}(Tu),Au=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return tu(e,t),e.prototype.getColumn=function(e,i,n){return hu(t.prototype.getColumn.call(this,e,i,n),this.flex.getBindingColumn(e,i,n))},e.prototype.isAlternatingRow=function(e){if(e instanceof nu()._MultiRow){var i=!1,n=this.flex.alternatingRowStep;return n&&(i=e.dataIndex%(n+1)==0,1==n&&(i=!i)),i}return t.prototype.isAlternatingRow.call(this,e)},e}(Tu),Ru=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return tu(e,t),e.prototype.alignMergedTextToTheTopRow=function(t){var e=eu();return!this.flex.centerHeadersVertically&&(t.cellType===e.CellType.ColumnHeader||t.cellType===e.CellType.RowHeader)},e}(Tu),Ou=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return tu(e,t),e.prototype.getColumn=function(e,i,n){var r=t.prototype.getColumn.call(this,e,i,n);if(e.cellType!=eu().CellType.Cell)return r;var o=e.grid._getBindingColumn(e,i,r);return o?hu(r,o):r},e}(Tu),Du=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return tu(e,t),e.prototype.getColumn=function(e,i,n){var r=t.prototype.getColumn.call(this,e,i,n);if(e.cellType!=eu().CellType.Cell)return r;var o=this.flex.getBindingColumn(e,i,n);return o?hu(r,o):r},e}(Tu),Iu=function(){function t(t){this._cache={},this._size=0,this._max=t}return t.prototype.add=function(t,e){this._size>=this._max&&this.clear();var i=this._cache[t]=uu(e);return this._size++,i},t.prototype.clear=function(){this._cache={},this._size=0},t.prototype.getValue=function(t){return this._cache[t]||null},t.prototype.hasKey=function(t){return!!this._cache[t]},t}();!function(t){t[t.Done=1]="Done",t[t.Progress=2]="Progress"}(Eu||(Eu={}));var Mu,Fu,Lu=function(t){function e(e){var i=t.call(this)||this;return i._buf=e,i}return tu(e,t),Object.defineProperty(e.prototype,"blob",{get:function(){return this._blob||(this._blob=new Blob([new Uint8Array(this._buf)],{type:"application/pdf"})),this._blob},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"buffer",{get:function(){return this._buf},enumerable:!0,configurable:!0}),e}(nt),Nu=function(){function t(){}return t.exportGrid=function(t,e,i,n,r,o){(n=ku._applyDefaultExportSettings(n)).progress=n.progress||o,this.addGrid(t,e,"",n),this.export(t,n.documentOptions,(function(t){Ct(r)&&!1===r(t)||Rl(t.blob,i)}),o)},t.export=function(t,e,i,n){t.addEventListener("message",(function e(r){var o=r.data;switch(o.status){case Eu.Done:t.removeEventListener("message",e),Ct(i)&&i(new Lu(o.data));break;case Eu.Progress:n&&n(o.data);break;default:throw"Unknown status: "+o.status}}));var r=this._clientDataToArrayBuffer(t);t.postMessage({content:r,settings:e},[r]),this._clearClientData(t)},t.addGrid=function(t,e,i,n){var r=this._gridToJson(e,n);this._addClientData(t,JSON.stringify(r),i,n,!0)},t.addImage=function(t,e,i,n){var r=wt(e)&&e.indexOf("data:image/svg")>=0?e:Gl.getDataUri(e);this._addClientData(t,r,i,n)},t.addString=function(t,e,i){this._addClientData(t,e,i,null)},t.serializeGrid=function(t,e){var i=this._gridToJson(t,e);return Hu(JSON.stringify(i))},t._addClientData=function(t,e,i,n,r){void 0===r&&(r=!1),Zt(t,Worker),Ut(i),Ut(e,!0);var o=t;o.clientData=o.clientData||{},o.clientData[i]={content:e,settings:n?JSON.stringify(n):null};var s=o.clientData[i];r&&(s.isGrid=!0,s.progressMessaging=!!n&&Ct(n.progress))},t._clearClientData=function(t){delete t.clientData},t._clientDataToArrayBuffer=function(t){var e=t;return Hu(JSON.stringify(e.clientData||{}))},t._gridToJson=function(t,e){var i,n;e=ku._applyDefaultExportSettings(e);try{return i=new Ql(e.documentOptions),e&&e.recalculateStarWidths&&(n=t.columns.getTotalSize(),t.columns._updateStarSizes(Ol(i.width))),this._getJsonConverter(t,e).convert()}finally{Su(),e&&e.recalculateStarWidths&&t.columns._updateStarSizes(n),null!=i&&(i.dispose(),i=null)}},t._getJsonConverter=function(t,e){return new(nu()&&t instanceof nu().MultiRow&&Uu||ou()&&t instanceof ou().PivotGrid&&Gu||su()&&t instanceof su().TransposedGrid&&Wu||au()&&t instanceof au().TransposedMultiRow&&Yu||Vu)(t,e,ku._getFlexGridAdapter(t,e))},t}(),zu=function(){function t(){}return t.initExportGrid=function(){var t=this;this.initExport((function(e,i){var n=i[""];n.progressMessaging&&(n.settings._progressMax=ku._DefaultExportSettings._progressMax,n.settings.progress=function(e){t.sendExportProgress(e)},e.ended.addHandler((function(){t.sendExportProgress(1)}))),ku.draw(n.content,e,null,null,n.settings),e.end()}))},t.initExport=function(e){self.addEventListener("message",(function i(n){self.removeEventListener("message",i);var r=n.data,o=JSON.parse(Bu(r.content)),s=r.settings||{};s.ended=function(t,e){!function(t,e){Xt(e);var i=new FileReader;i.onload=function(t){e(t.target.result)},i.readAsArrayBuffer(t)}(e.blob,(function(t){self.postMessage({data:t,status:Eu.Done},[t])}))};var a=new Ql(s);Object.keys(o).forEach((function(e){var i=o[e];i.settings&&(i.settings=JSON.parse(i.settings)),i.isGrid&&(i.settings&&t._disableUnsupportedFeatures(i.settings),i.content=t._deserializeGridFromString(i.content,i.settings))})),e(a,o)}))},t.sendExportProgress=function(t){t=zt(t,0,1),self.postMessage({data:t,status:Eu.Progress})},t.deserializeGrid=function(t,e){return this._deserializeGridFromString(Bu(t),e)},t._deserializeGridFromString=function(t,e){return this._getJsonAdapter(JSON.parse(t),ku._applyDefaultExportSettings(e))},t._disableUnsupportedFeatures=function(t){t.customCellContent=!1},t._getJsonAdapter=function(t,e){switch(t.typeName){case"MultiRow":return new ec(t,e);case"PivotGrid":return new $u(t,e);case"TransposedGrid":return new ic(t,e);case"TransposedMultiRow":return new nc(t,e);default:return new Qu(t,e)}},t}();function Bu(t){for(var e=new Uint16Array(t),i="",n=0,r=e.length;n<r;n++)i+=String.fromCharCode(e[n]);return i}function Hu(t){for(var e=new ArrayBuffer(2*t.length),i=new Uint16Array(e),n=0,r=t.length;n<r;n++)i[n]=t.charCodeAt(n);return e}!function(t){t[t.None=0]="None",t[t.Alternate=1]="Alternate",t[t.Group=2]="Group",t[t.ExpandableGroup=4]="ExpandableGroup",t[t.New=8]="New",t[t.Visible=16]="Visible",t[t.Detail=32]="Detail"}(Mu||(Mu={})),function(t){t[t.None=0]="None",t[t.Visible=1]="Visible"}(Fu||(Fu={}));var Vu=function(){function t(t,e,i){this._flex=t,this._settings=e,this._adapter=i}return t.prototype.convert=function(){var t={};return t.typeName=this._getTypeName(this._flex),t.selection=this._serializeSelection(),t.showColumnFooter=this.adapter.showColumnFooter,t.showColumnHeader=this.adapter.showColumnHeader,t.showRowHeader=this.adapter.showRowHeader,t.treeIndent=this._flex.treeIndent,t.bottomLeftCells=this._serializePanel(this._flex.bottomLeftCells),t.cells=this._serializePanel(this._flex.cells),t.columnFooters=this._serializePanel(this._flex.columnFooters),t.columnHeaders=this._serializePanel(this._flex.columnHeaders),t.rowHeaders=this._serializePanel(this._flex.rowHeaders),t.topLeftCells=this._serializePanel(this._flex.topLeftCells),t},Object.defineProperty(t.prototype,"adapter",{get:function(){return this._adapter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"flex",{get:function(){return this._flex},enumerable:!0,configurable:!0}),t.prototype._getTypeName=function(t){return t.constructor.toString().match(/function\s*(\w+)/)[1]},t.prototype._getRowState=function(t){var e=Mu.None;return this.adapter.isAlternatingRow(t)&&(e|=Mu.Alternate),t instanceof eu().GroupRow&&(e|=Mu.Group),this.adapter.isDetailRow(t)&&(e|=Mu.Detail),this.adapter.isExpandableGroupRow(t)&&(e|=Mu.ExpandableGroup),t instanceof eu()._NewRowTemplate&&(e|=Mu.New),t.isVisible&&(e|=Mu.Visible),e},t.prototype._getColumnState=function(t){var e=Fu.None;return t.isVisible&&(e|=Fu.Visible),e},t.prototype._serializeSelection=function(){for(var t=this.adapter.getSelection(),e=[],i=0;i<t.length;i++){var n=t[i];e.push([n.row,n.col,n.row2,n.col2])}return e},t.prototype._serializeColumns=function(t){for(var e=[],i=0,n=(t||[]).length;i<n;i++){var r=t[i],o=null;if(r){o={aggregate:r.aggregate,renderWidth:r.renderWidth,visibleIndex:r.visibleIndex};var s=r.getAlignment();s&&(o.alignment=s);var a=this._getColumnState(r);a!==Fu.None&&(o.state=a),r.binding&&(o.binding=r.binding),null!=r.dataType&&(o.dataType=r.dataType),null!=r.name&&(o.name=r.name),r.wordWrap&&(o.wordWrap=!0),r.multiLine&&(o.multiLine=!0)}e.push(o)}return e},t.prototype._serializePanel=function(t){var e=this,i={cellType:t.cellType,height:t.height,width:t.width};i.mergedRanges=this._serializeMergedRanges(t),i.columns=this._serializeColumns(t.columns),i.columnsFirstVisibleIndex=t.columns.firstVisibleIndex,i.rows=[],i.rowsMaxGroupLevel=t.rows.maxGroupLevel;for(var n=!this._settings.customCellContent&&this._flex._getShowErrors(),r=function(r,s,a){var l=t.rows[r],h={renderHeight:l.renderHeight};i.rows.push(h);var u=function(t){if(t.align)return t.align;if(!t.dataMap)switch(t.dataType){case lt.Boolean:return"center";case lt.Number:return"right"}return null}(l);u&&(h.alignment=u),l instanceof eu().GroupRow&&(h.level=l.level);var c=o._getRowState(l);c!==Mu.None&&(h.state=c),l.binding&&(h.binding=l.binding),null!=l.dataType&&(h.dataType=l.dataType),l.wordWrap&&(h.wordWrap=!0),l.multiLine&&(h.multiLine=!0),h.cells=[];for(var d=eu(),f=function(i){var s=o._adapter.getCellContent(t,t.rows[r],t.columns[i],i);if(Ct(o._settings.formatItem)){var a=new du(t,new d.CellRange(r,i),null,null,null,null,null,(function(){return e._adapter.getCell(t,r,i,!0)}),null);a.data=s,o._settings.formatItem(a),a.data!==s&&(s=a.data)}h.cells[i]=s,n&&o._flex._getError(t,r,i)&&(h.errors||(h.errors={}),h.errors[i]=1)},p=0;p<a;p++)f(p)},o=this,s=0,a=t.rows.length,l=t.columns.length;s<a;s++)r(s,0,l);return i},t.prototype._serializeMergedRanges=function(t){for(var e=[],i=[],n=0;n<t.columns.length;n++)i[n]=0;for(var r=0;r<t.rows.length;r++)for(var o=0;o<t.columns.length;o++)if(!(r<i[o])){var s=t.grid.getMergedRange(t,r,o);if(null!=s&&!s.isSingleCell){e.push([s.row,s.col,s.row2,s.col2]);for(var a=s.col;a<=s.col2;a++)i[a]=s.row2+1;s.col===s.col2||(o=s.col2)}}return e},t}(),Uu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return tu(e,t),e.prototype.convert=function(){var e=t.prototype.convert.call(this);return e.rowsPerItem=this.flex.rowsPerItem,e},e.prototype._serializePanel=function(e){var i=t.prototype._serializePanel.call(this,e);return i.cellGroups=this._serializeCellGroup(e),i},e.prototype._serializeCellGroup=function(t){var e=[],i=[],n=eu(),r=this.flex.rowsPerItem;t.cellType!==n.CellType.TopLeft&&t.cellType!==n.CellType.ColumnHeader||(r=t.rows.length);for(var o=0;o<r;o++){i[o]=[];for(var s=0;s<t.columns.length;s++){var a=this.flex.getBindingColumn(t,o,s),l=e.indexOf(a);i[o][s]=l<0?e.push(a)-1:l}}return{bindingColumns:this._serializeColumns(e),mappings:i}},e}(Vu),Gu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return tu(e,t),e.prototype.convert=function(){var e=t.prototype.convert.call(this);return e.centerHeadersVertically=this.flex.centerHeadersVertically,e},e}(Vu),Wu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return tu(e,t),e.prototype.convert=function(){for(var e=t.prototype.convert.call(this),i=new Array(this.flex.cells.rows.length),n=this.flex.cells,r=eu(),o=0,s=n.rows.length;o<s;o++){var a=n.rows[o].dataItem,l=a&&a._rowInfo;l instanceof r.Column||(l=hu(l,l)),i[o]=l}return e.rowInfo=this._serializeColumns(i),e},e}(Vu),Yu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return tu(e,t),e.prototype.convert=function(){var e=t.prototype.convert.call(this);return e.cellGroups=this._serializeCellGroup(),e.columnsPerItem=this.flex.columnsPerItem,e},e.prototype._serializeCellGroup=function(){for(var t=[],e=[],i=this.flex.columnsPerItem,n=this.flex.cells,r=0;r<n.rows.length;r++){e[r]=[];for(var o=0;o<i;o++){var s=this.flex.getBindingColumn(n,r,o),a=t.indexOf(s);e[r][o]=a<0?t.push(s)-1:a}}return{bindingColumns:this._serializeColumns(t),mappings:e}},e}(Vu),qu=function(){function t(t,e){this.index=e,this.binding=t.binding,this.dataType=t.dataType,this.alignment=t.alignment,this.level=t.level,this.renderHeight=t.renderHeight,this.cells=t.cells,this.wordWrap=t.wordWrap||!1,this.multiLine=t.multiLine||!1,this.errors=t.errors,this._state=t.state}return Object.defineProperty(t.prototype,"isAlternatingRow",{get:function(){return(this._state&Mu.Alternate)!==Mu.None},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isGroupRow",{get:function(){return(this._state&Mu.Group)!==Mu.None},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDetailRow",{get:function(){return(this._state&Mu.Detail)!==Mu.None},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isExpandableGroupRow",{get:function(){return(this._state&Mu.ExpandableGroup)!==Mu.None},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isNewRow",{get:function(){return(this._state&Mu.New)!==Mu.None},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return(this._state&Mu.Visible)!==Mu.None},enumerable:!0,configurable:!0}),t}(),Xu=function(){function t(t,e){this.index=e,this.binding=t.binding,this.dataType=t.dataType,this.aggregate=t.aggregate,this.name=t.name,this.renderWidth=t.renderWidth,this.visibleIndex=t.visibleIndex,this.wordWrap=t.wordWrap||!1,this.multiLine=t.multiLine||!1,this._alignment=t.alignment,this._state=t.state}return t.prototype.getAlignment=function(t){return this._alignment?this._alignment:t&&t.alignment?t.alignment:""},Object.defineProperty(t.prototype,"isVisible",{get:function(){return(this._state&Fu.Visible)!==Fu.None},enumerable:!0,configurable:!0}),t}(),Ku=function(t,e){void 0===e&&(e=-1),this.maxGroupLevel=e,this.length=t.length;for(var i=0;i<t.length;i++)this[i]=new qu(t[i],i)},Zu=function(t,e){void 0===e&&(e=-1),this.firstVisibleIndex=e,this.length=t.length;for(var i=0;i<t.length;i++){var n=t[i];this[i]=n?new Xu(t[i],i):null}},Ju=function(){function t(t){this.height=t.height,this.width=t.width,this.cellType=t.cellType,this.columns=new Zu(t.columns,t.columnsFirstVisibleIndex),this.rows=new Ku(t.rows,t.rowsMaxGroupLevel),this._mergedRanges=this._deserializeMergedRanges(t.mergedRanges)}return t.prototype.getCellData=function(t,e){return this.rows[t].cells[e]},t.prototype.getMergedRange=function(t,e){var i=this._mergedRanges[t];if(i)for(var n=0,r=i.length;n<r;n++){var o=i[n];if(e>=o.col&&e<=o.col2)return o}return null},t.prototype._deserializeMergedRanges=function(t){var e=[];t=t||[];for(var i=0,n=this.rows.length;i<n;i++)e[i]=[];for(i=0,n=t.length;i<n;i++)for(var r=t[i],o=new vu(r[0],r[1],r[2],r[3]),s=o.row;s<=o.row2;s++)e[s].push(o);return e},t}(),Qu=function(){function t(t,e){this.settings=e,this.bottomLeftCells=this.deserializePanel(t.bottomLeftCells),this.cells=this.deserializePanel(t.cells),this.columnFooters=this.deserializePanel(t.columnFooters),this.columnHeaders=this.deserializePanel(t.columnHeaders),this.rowHeaders=this.deserializePanel(t.rowHeaders),this.topLeftCells=this.deserializePanel(t.topLeftCells),this.treeIndent=t.treeIndent,this.showColumnFooter=t.showColumnFooter,this.showColumnHeader=t.showColumnHeader,this.showRowHeader=t.showRowHeader,this._selection=[];for(var i=0;i<t.selection.length;i++){var n=t.selection[i];this._selection.push(new vu(n[0],n[1],n[2],n[3]))}}return Object.defineProperty(t.prototype,"columns",{get:function(){return this.cells.columns},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return this.cells.rows},enumerable:!0,configurable:!0}),t.prototype.getSelection=function(){return this._selection},t.prototype.getCell=function(t,e,i,n){throw"Not implemented"},t.prototype.getComputedDefBorderColor=function(){throw"Not implemented"},t.prototype.getComputedStyle=function(t,e){throw"Not implemented"},t.prototype.getMergedRange=function(t,e,i){return t.getMergedRange(e,i)},t.prototype.alignMergedTextToTheTopRow=function(t){return!1},t.prototype.getCellData=function(t,e,i){return t.getCellData(e,i)},t.prototype.getCellContent=function(t,e,i,n){return this.getCellData(t,e.index,n)},t.prototype.isBooleanCell=function(t,e,i){return i.dataType===lt.Boolean&&t.cellType===Mh.Cell&&!this.isExpandableGroupRow(e)},t.prototype.getColumn=function(t,e,i){return t.columns[i]},t.prototype.isAlternatingRow=function(t){return t.isAlternatingRow},t.prototype.isGroupRow=function(t){return t.isGroupRow},t.prototype.isNewRow=function(t){return t.isNewRow},t.prototype.isDetailRow=function(t){return t.isDetailRow},t.prototype.isExpandableGroupRow=function(t){return t.isExpandableGroupRow},t.prototype.isRenderableRow=function(t){return t.isVisible&&t.renderHeight>0&&!this.isNewRow(t)},t.prototype.isRenderableColumn=function(t){return t.isVisible&&t.renderWidth>0},t.prototype.getCellStyle=function(t,e,i){var n=this.settings.styles,r=lu({},n.cellStyle);switch(t.cellType){case Mh.Cell:this.isExpandableGroupRow(e)?lu(r,n.groupCellStyle,!0):this.isAlternatingRow(e)&&lu(r,n.altCellStyle,!0);break;case Mh.ColumnHeader:case Mh.RowHeader:case Mh.TopLeft:case Mh.BottomLeft:lu(r,n.headerCellStyle,!0);break;case Mh.ColumnFooter:lu(r,n.headerCellStyle,!0),lu(r,n.footerCellStyle,!0)}return e.errors&&e.errors[i.index]&&lu(r,n.errorCellStyle,!0),r},t.prototype.deserializePanel=function(t){return new Ju(t)},t}(),$u=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n._centerHeadersVertically=e.centerHeadersVertically,n}return tu(e,t),e.prototype.alignMergedTextToTheTopRow=function(t){return!this._centerHeadersVertically&&(t.cellType===Mh.ColumnHeader||t.cellType===Mh.RowHeader)},e}(Qu),tc=function(t){function e(e){var i=t.call(this,e)||this;return e.cellGroups&&(i._cellGroups={bindingColumns:new Zu(e.cellGroups.bindingColumns),mappings:e.cellGroups.mappings}),i}return tu(e,t),e.prototype.getColumn=function(t,e,i){var n=this.columns[e];return this._cellGroups?(this.cellType!==Mh.ColumnHeader&&this.cellType!==Mh.BottomLeft&&(t%=i),hu(n,this._cellGroups.bindingColumns[this._cellGroups.mappings[t][e]])):n},e}(Ju),ec=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n._rowsPerItem=e.rowsPerItem,n}return tu(e,t),e.prototype.deserializePanel=function(t){return new tc(t)},e.prototype.getColumn=function(t,e,i){return t.getColumn(e,i,this._rowsPerItem)},e}(Qu),ic=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n._rowInfo=new Zu(e.rowInfo),n}return tu(e,t),e.prototype.getColumn=function(e,i,n){var r=t.prototype.getColumn.call(this,e,i,n);if(e.cellType!==Mh.Cell)return r;var o=this._rowInfo[i];return o?hu(r,o):r},e}(Qu),nc=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n._columnsPerItem=e.columnsPerItem,e.cellGroups&&(n._cellGroups={bindingColumns:new Zu(e.cellGroups.bindingColumns),mappings:e.cellGroups.mappings}),n}return tu(e,t),e.prototype.getColumn=function(e,i,n){var r=t.prototype.getColumn.call(this,e,i,n);return this._cellGroups&&e.cellType===Mh.Cell?(n%=this._columnsPerItem,hu(r,this._cellGroups.bindingColumns[this._cellGroups.mappings[i][n]])):r},e}(Qu);Le("wijmo.grid.pdf",f);const rc={components:{highcharts:p.Chart},props:["date_final","date_inicio"],data:function(){return{resoluciones:[],totalResoluciones:0}},computed:{seriesresolucionesPeriodo:function(){var t=this,e={data:[{name:"RESOLUCIONES",data:[],color:"rgba(12, 237, 12, 0.4)"}],periodos:[]},i=[];return null!=this.resoluciones[0]&&(i=this.resoluciones.reduce((function(t,e){var i=t.findIndex((function(t){return t.name===e.PERIODO_DESCARGO}));return i>-1?t[i].data+=1*e.CONTADOR:t.push({name:e.PERIODO_DESCARGO,data:1*e.CONTADOR}),t}),[])),this.totalresoluciones=0,e.periodos=[],i.forEach((function(i){e.periodos.push(i.name),e.data[0].data.push(i.data),t.totalresoluciones+=i.data[0]})),e},seriesresolucionesInstancia:function(){var t={data:[{name:"RESOLUCIONES",data:[],color:"rgba(12, 237, 12, 0.4)"}],instancias:[]},e=[];return null!=this.resoluciones[0]&&(e=this.resoluciones.reduce((function(t,e){var i=t.findIndex((function(t){return t.name===e.DEN_INSTANCIA_SIJ}));return i>-1?t[i].data[0]+=1*e.CONTADOR:t.push({name:e.DEN_INSTANCIA_SIJ,data:[1*e.CONTADOR]}),t}),[])),e.sort((function(t,e){return e.data[0]-t.data[0]})),t.instancias=[],e.forEach((function(e){t.instancias.push(e.name),t.data[0].data.push(e.data)})),t},chartDataTime:function(){return{chart:{type:"column"},title:{text:"RESOLUCIONES DESCARGADAS POR PERIODOS"},xAxis:{type:"datetime",dateTimeLabelFormats:{month:"%e. %b",year:"%b"},title:{text:"Estado"},categories:this.seriesresolucionesPeriodo.periodos},yAxis:{min:0,title:{text:"Cantidad de resoluciones"},labels:{overflow:"justify"},stackLabels:{enabled:!0,style:{fontWeight:"bold",color:"gray",textOutline:"none"}}},legend:{align:"right",x:-30,verticalAlign:"top",y:25,floating:!0,backgroundColor:"white",borderColor:"#CCC",borderWidth:1,shadow:!1},tooltip:{headerFormat:"<b>{point.x}</b> <br/>",pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b> ({point.y:.0f} {point.stackTotal}%)<br/>',shared:!0},series:this.seriesresolucionesPeriodo.data,plotOptions:{column:{dataLabels:{enabled:!0}},series:{cursor:"pointer",point:{events:{click:function(){alert("Category: "+this.category+", value: "+this.y)}}}}},colors:["#C62828","#6CF","#39F","#06C","#036","#000","#B38","#4DD0E","#00838F"]}},chartTopResIns:function(){return{chart:{type:"bar",height:700},title:{text:"TOP 15 RESOLUCIONES POR INSTANCIA"},xAxis:{categories:this.seriesresolucionesInstancia.instancias,max:this.seriesresolucionesInstancia.instancias.length<15?this.seriesresolucionsInstancia.instancias-1:15},yAxis:{min:0,title:{text:"Cantidad"},labels:{overflow:"justify"}},series:this.seriesresolucionesInstancia.data,plotOptions:{series:{borderWidth:0,dataLabels:{enabled:!0},dataSorting:{enabled:!0}}},credits:{enabled:!1}}},chartTopEscInsPend:function(){return{chart:{type:"bar",height:700},title:{text:"PRODUCCIN POR INSTANCIA"},xAxis:{categories:this.seriesresolucionsInstancia.instancias,max:this.seriesresolucionsInstancia.instancias.length<15?this.seriesresolucionsInstancia.instancias-1:15},yAxis:{min:0,title:{text:"Cantidad"},labels:{overflow:"justify"}},series:this.seriesresolucionsInstancia.data,plotOptions:{series:{borderWidth:0,dataLabels:{enabled:!0},dataSorting:{enabled:!0}}},credits:{enabled:!1}}},ng:function(){if(null!=this.resoluciones[0])return new js({autoGenerateFields:!1,itemsSource:this.resoluciones,fields:[{binding:"DEN_PROVINCIA",header:"Provincia"},{binding:"DEN_DISTRITO",header:"Distrito"},{binding:"DEN_INSTANCIA_SIJ",header:"Instancia"},{binding:"ACTOBASE",header:"Acto Base",getValue:function(t){return t.DEN_TIPO_ACTO_PROCESAL.substring(0,t.DEN_TIPO_ACTO_PROCESAL.indexOf(" ")>0?t.DEN_TIPO_ACTO_PROCESAL.indexOf(" "):t.DEN_TIPO_ACTO_PROCESAL.length)}},{binding:"DEN_TIPO_ACTO_PROCESAL",header:"Acto Procesal"},{binding:"PERIODO_DESCARGO",header:"Periodo"},{binding:"ANIO",header:"Ao"},{binding:"MES",header:"Mes"},{binding:"CONTADOR",header:"CONTADOR",dataType:"Number",getValue:function(t){return 1*t.CONTADOR}}],valueFields:["CONTADOR"],columnFields:["Ao","Mes","Periodo"],rowFields:["Acto Base"]})}},watch:{resoluciones:function(t){this.resoluciones[0]}},mounted:function(){},created:function(){this.getResoluciones()},methods:{getResoluciones:function(){var t=this,e=this.date_inicio,i=this.date_final,n="../consultasSIJ/reporteResoluciones?f_ini="+e+"&f_fin="+i;this.showLoad("grey darken-2","Realizando consulta"),this.resoluciones=[],axios.get(n).then((function(n){0!=n.data.status?(t.resoluciones=n.data.data,t.nombre_archivo="resolucions__"+e+" - "+i+".xls",t.json_data=t.resoluciones,t.json_fields={Periodo:"PERIODO",Instancia:"DEN_INSTANCIA_SIJ","Estado resolucion":"DEN_ESTADO_resolucion","Das Respuesta":"NUM_DIAS_RESPUESTA"},t.showSnack("success","Consulta de resoluciones obtenida")):(t.resoluciones=[],t.showSnack("warning",n.data.message)),t.showLoad("","",!1)})).catch((function(e){"Network Error"===e.message&&t.showSnack("warning","No se pudo conectar con el servicio de Base de Datos del SIJ"),500===e.response.status&&t.showSnack("warning","No se pudo conectar con el servicio de Base de Datos del SIJ"),401===e.response.status&&"Unauthenticated"==e.response.data.error?window.location="../login":403===e.response.status||419===e.response.status?window.location="../inicio":t.getResoluciones(),t.showLoad("","",!1)}))},initializePivotGrid:function(t){this.pivotGrid=t},exportGrid:function(t){if("csv"===t){var e=this.pivotGrid,i=new Tn(0,0,e.rows.length-1,e.columns.length-1);ve(e.getClipString(i,!0,!0,!0),"Resoluciones.csv")}else if("xlsx"===t){var n=Za.saveAsync(this.pivotGrid,{includeColumnHeaders:!0,includeRowHeaders:!0});n.sheets[0].name="Resoluciones",n.saveAsync("Resoluciones.xlsx")}else if("pdf"===t)ku.export(this.pivotGrid,"Resoluciones.pdf",{maxPages:10,scaleMode:Dh.PageWidth,documentOptions:{compress:!0,header:{declarative:{text:"\t&[Page] of &[Pages]"}},footer:{declarative:{text:"\t&[Page] of &[Pages]"}},info:{author:"Intranet CSJPuno",title:"Resoluciones"}},styles:{cellStyle:{backgroundColor:"#ffffff",borderColor:"#c6c6c6"},altCellStyle:{backgroundColor:"#f9f9f9"},groupCellStyle:{backgroundColor:"#dddddd"},headerCellStyle:{backgroundColor:"#eaeaea"}}});else if("pdfdoc"===t){var r=new Ql({compress:!0,header:{declarative:{text:"\t&[Page]\\&[Pages]"}},ended:function(t,e){Rl(e.blob,"ResolucionesDoc.pdf")}});r.drawText("This is a Resoluciones control:"),ku.draw(this.pivotGrid,r,400),r.end()}},showSnack:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.$emit("showSnack",t,e,i)},showLoad:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.$emit("showLoad",t,e,i)}}};const oc=(0,i(1900).Z)(rc,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-row",{staticClass:"mt-2"},[i("v-col",{attrs:{cols:"12",md:"12"}},[null!=t.resoluciones[0]?[t.totalResoluciones>0?i("v-alert",{staticClass:"pb-2",attrs:{value:!0,color:"success",outlined:""}},[t._v("\n                "+t._s(t.totalResoluciones.toLocaleString("es-PE"))+" resoluciones obtenidos\n            ")]):t._e(),t._v(" "),null!=t.resoluciones[0]&&t.seriesresolucionesPeriodo.periodos.length>0?[i("highcharts",{ref:"spline",attrs:{options:t.chartDataTime}})]:i("v-skeleton-loader",{staticClass:"mx-auto",attrs:{type:"card"}})]:[i("v-alert",{staticClass:"pb-2",attrs:{value:!0,color:"success",outlined:""}},[i("v-progress-linear",{attrs:{color:"light-blue",height:"10",indeterminate:"",striped:""}})],1)]],2),t._v(" "),i("v-col",[null!=t.resoluciones[0]?[i("highcharts",{ref:"spline",attrs:{options:t.chartTopResIns}})]:t._e(),t._v(" "),null!=t.resoluciones[0]?i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-12"},[i("p",[t._v("\n                    Exportar a:\n                    "),i("button",{staticClass:"btn btn-primary",attrs:{id:"xlsx"},on:{click:function(e){return t.exportGrid("csv")}}},[t._v("\n                        CSV\n                    ")]),t._v(" "),i("button",{staticClass:"btn btn-primary",attrs:{id:"xlsx"},on:{click:function(e){return t.exportGrid("xlsx")}}},[t._v("\n                        XLSX\n                    ")]),t._v(" "),i("button",{staticClass:"btn btn-primary",attrs:{id:"pdf"},on:{click:function(e){return t.exportGrid("pdf")}}},[t._v("\n                        PDF\n                    ")]),t._v(" "),i("button",{staticClass:"btn btn-primary",attrs:{id:"pdfdoc"},on:{click:function(e){return t.exportGrid("pdfdoc")}}},[t._v("\n                        PDF Document\n                    ")])])]),t._v(" "),i("div",{staticClass:"col-sm-5"},[i("wj-pivot-panel",{attrs:{"items-source":t.ng}})],1),t._v(" "),i("div",{staticClass:"col-sm-7"},[i("wj-pivot-grid",{attrs:{"items-source":t.ng,initialized:t.initializePivotGrid}})],1)]):t._e()],2)],1)}),[],!1,null,null,null).exports}}]);